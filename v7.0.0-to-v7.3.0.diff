diff --git a/.gitignore b/.gitignore
index 7933906f..07c79c20 100644
--- a/.gitignore
+++ b/.gitignore
@@ -11,7 +11,6 @@ _site*
 *.rej
 *.swo
 *.swp
-*.zip
 *.vi
 *~
 
diff --git a/.scripts/version.sh b/.scripts/version.sh
index fcd84a00..8cc4d35d 100755
--- a/.scripts/version.sh
+++ b/.scripts/version.sh
@@ -8,10 +8,9 @@ const fs = require('fs');
 const vPrev = require('../assets/version.json').version;
 const vNext = require('../package.json').version;
 
-const execFile = promisify(require('child_process').execFile);
-
 const readdir = promisify(fs.readdir);
 const rename = promisify(fs.rename);
+const unlink = promisify(fs.unlink);
 const stat = promisify(fs.stat);
 const readFile = promisify(fs.readFile);
 const writeFile = promisify(fs.writeFile);
@@ -46,7 +45,7 @@ async function getFiles(dir) {
     const prev = vPrev.replace(/\./g, '\\.');
     const prevRegExp = new RegExp(prev, 'g');
 
-    await Promise.all(FILES
+    const pFiles = Promise.all(FILES
       .map(f => [f, readFile(f, ENC)])
       .map(async ([f, p]) => {
         const content = await p;
@@ -57,7 +56,17 @@ async function getFiles(dir) {
         return writeFile(f, content, ENC);
       }));
 
-    await execFile('git', ['add', '.']);
+    const pJSCSS = Promise.all([
+      unlink(
+        resolve(`./assets/js/hydejack-${vPrev}.js`),
+      ),
+      rename(
+        resolve(`./assets/css/hydejack-${vPrev}.css`),
+        resolve(`./assets/css/hydejack-${vNext}.css`),
+      ),
+    ]);
+
+    await Promise.all([pFiles, pJSCSS]);
 
     process.exit(0);
   } catch (e) {
diff --git a/CHANGELOG.md b/CHANGELOG.md
index 24ed4e51..af23fc51 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -3,16 +3,100 @@ layout: page
 title: CHANGELOG
 ---
 
+## v7.3.0
+Nov 17 2017
+{:.heading.post-date}
+
+### Added
+* Allow markdown content on `projects` layout.
+* Renamed `big_project` option on projects to `featured` (`big_project` still works)
+
+### Fixed
+* Fixed default font weights
+* Fixed hard-coded `/projects/` URL in project layout
+* Link to feed.xml is only generated when using the `jekyll-feed` plugin
+
+
+## v7.2.0
+Nov 13 2017
+{:.heading.post-date}
+
+### Added
+* Added `_sass/my-variables.scss` file, which you can use to selectively override SCSS variables.
+* Font weights can now be configured via SCSS variables:
+  * `$font-weight` for normal font.
+  * `$font-weight-bold` for `strong` tags and similar.
+  * `$font-weight-heading` for headings.
+
+### Design
+* Message boxes will no longer span the full width, even with the break layout feature enabled.
+* Increased space between project card rows, so they look less like a brick wall.
+
+### Fixes
+* Reduced the draw range of the drawer on iOS, so that a larger portion of the screen is available for zooming (a11y).
+* Default images are now optimized, so they are no longer flagged by Google PageSpeed Insights and similar tools.
+* Query parameters are no longer used for cache busting.
+  Instead, the version number is no part of the file name for the CSS and JS resources.
+
+
+## v7.1.1
+Nov 3 2017
+{:.heading.post-date}
+
+### Fixes
+* Fix IE11 feature detection
+
+## v7.1.0
+Nov 2 2017
+{:.heading.post-date}
+
+### Changed
+* Renamed `no_description` to `hide_description`.
+  Since this feature isn't yet documented outside of the change log, the old name *will not* continue to work.
+* When providing images to `image`, `image.path`, `image.src`, `image.srcset` and `accent_image `,
+  it is no longer necessary to prepend the url with the `baseurl` of the site,
+  e.g. values like `accent_image: /assets/img/sidebar-bg.jpg` are now valid.
+* Limited scope of `a` and `img` styles to content areas.
+* Upgraded KaTeX to v0.8.3
+* Upgraded `jekyll-relative-links` to v5.0.1
+
+### Fixes
+* `font` and `font_heading` are now properly set when using the `no_inline_css` option [#47](https://github.com/qwtel/hydejack/issues/47).
+* Fixed default values for `image` and `logo` that were referring to non-existing images.
+* Added missing JS dev dependencies.
+
+### Content
+* Updated documentation
+* Updated index, download, about and README pages.
+
+## v7.0.1
+Oct 27 2017
+{:.heading.post-date}
+
+### Fixes
+* Removed readme files from `assets` that would show up as pages when building on GitHub Pages [#42](https://github.com/qwtel/hydejack/issues/42).
+* Disabled push state on Firefox for iOS
+* Changed some default settings in `_config.yml`
+
+### Content
+* Updated documentation
+
+## Removed
+* Removed outdated example script in `my-scripts.html`
+
 ## v7.0.0
 Oct 24 2017
 {:.heading.post-date}
 
 ### License Change
 The *free version* of Hydejack is now [GPL-3.0] licensed, which is a more restrictive license than MIT (but still *Open Source*).
-This was necessary because the two major components that make up Hydejack, [hy-push-state](https://qwtel.com/hy-push-state/) and
-[hy-drawer](https://qwtel.com/hy-drawer/), are now GPL licensed in turn.
+This was necessary because the two major components that make up Hydejack,
+[hy-push-state](https://qwtel.com/hy-push-state/){:.external} and
+[hy-drawer](https://qwtel.com/hy-drawer/){:.external},
+are now GPL licensed in turn.
 
 How will this affect you?
+* If you bought the *PRO version* you are not affected at all.
 * You can continue to use previous versions of Hydejack according to their license (MIT).
 * If you upgrade, keep the source code in a public repository and make sure you include the new `LICENSE.md` file.
   DO NOT publish the *new code* with an *old license*.
@@ -32,8 +116,7 @@ Some names have changed and are no longer mentioned in the docs, but they are st
 
 That being said, you should be aware of these (small) breaking changes:
 
-* (Fav-)icons are now located in `/assets/img/icons/`. To change the (fav-)icon of the page, edit the images in the folder.
-  Buyers of the PRO version get a .psd file to assist the creation.
+* The favicon is now located in `assets/icons`. To change the favicon of the page, edit `favicon.ico` (png) in the folder.
 
 * Changed the way tables work, so that they do the right thing more often.
   Tables are now scrollable by default, but small tables are no longer stretched to span the full width.
@@ -44,7 +127,7 @@ That being said, you should be aware of these (small) breaking changes:
 * Event names described in the scripting chapter have changed from `y-push-state-*` to `hy-push-state-*`,
   except `y-push-state-animationend`, which has been removed. See the [docs][pstate] for more.
 
-[pstate]: docs/7.0.0/scripts.md#registering-push-state-event-listeners
+[pstate]: docs/7.3.0/scripts.md#registering-push-state-event-listeners
 
 ### Changes
 * `image` has been renamed to `accent_image`, but `image` continues to work unless you add the `jekyll-seo-tag` plugin.
@@ -197,7 +280,7 @@ That being said, you should be aware of these (small) breaking changes:
 * Added an error page that is shown when client-side network errors occur. It contains a link to retry loading the page.
   Previously, the browser's default error page would have been shown.
 
-* Added `no_description` option to pages to prevent the content of `description` fields to show up in the output.
+* Added `hide_description` option to pages to prevent the content of `description` fields to show up in the output.
   This allows you to use the `description` field in the front matter to set descriptions for search engines and sharing on social media,
   without having to worry about the output.
 
@@ -208,7 +291,7 @@ That being said, you should be aware of these (small) breaking changes:
     - scope:
         path: ''
       values:
-        no_description: true
+        hide_description: true
   ```
 
 * Added a new option called `no_inline_css`.
@@ -243,7 +326,7 @@ That being said, you should be aware of these (small) breaking changes:
 * Reduced building time during development.
   Roughly 50% of the time was spent rebuilding the inline CSS, which is now built once and included via `link` tag.
   Production builds still inlines CSS, so the building speed remains unchanged.
-  For more on how to improve building speeds, [see here](docs/7.0.0/writing.md#a-word-on-building-speeds).
+  For more on how to improve building speeds, [see here](docs/7.3.0/writing.md#a-word-on-building-speeds).
 
 ### Design
 * The default background image is no longer anti-selling the theme...
@@ -681,9 +764,9 @@ Oct 15 2013
 {:.heading.post-date}
 
 [tag]: http://www.minddust.com/post/tags-and-categories-on-github-pages/
-[migration]: docs/7.0.0/migration.md
-[writing]: docs/7.0.0/writing.md
-[scripts]: docs/7.0.0/scripts.md
+[migration]: docs/7.3.0/migration.md
+[writing]: docs/7.3.0/writing.md
+[scripts]: docs/7.3.0/scripts.md
 
 [buy]: https://app.simplegoods.co/i/AQTTVBOE
 [PRO-license]: licenses/PRO.md
diff --git a/Gemfile b/Gemfile
index 76086da2..323d95a5 100644
--- a/Gemfile
+++ b/Gemfile
@@ -24,7 +24,7 @@ group :jekyll_plugins do
   gem "jekyll-paginate", "~> 1.1"
   # gem "jekyll-readme-index", "~> 0.1"
   # gem "jekyll-redirect-from", "~> 0.12"
-  gem "jekyll-relative-links", git: "git@github.com:qwtel/jekyll-relative-links.git", branch: "fix"
+  gem "jekyll-relative-links", "~> 0.5"
   gem "jekyll-seo-tag", "~> 2.3"
   gem "jekyll-sitemap", "~> 1.1"
   # gem "jekyll-titles-from-headings", "~> 0.4"
diff --git a/Gemfile.lock b/Gemfile.lock
index 920e2811..5c6b74f0 100644
--- a/Gemfile.lock
+++ b/Gemfile.lock
@@ -1,11 +1,3 @@
-GIT
-  remote: git@github.com:qwtel/jekyll-relative-links.git
-  revision: 38acc327092f0a77885550aca9b539da014cfbf0
-  branch: fix
-  specs:
-    jekyll-relative-links (0.5.0)
-      jekyll (~> 3.3)
-
 GEM
   remote: https://rubygems.org/
   specs:
@@ -28,6 +20,8 @@ GEM
     jekyll-feed (0.9.2)
       jekyll (~> 3.3)
     jekyll-paginate (1.1.0)
+    jekyll-relative-links (0.5.1)
+      jekyll (~> 3.3)
     jekyll-sass-converter (1.5.0)
       sass (~> 3.4)
     jekyll-seo-tag (2.3.0)
@@ -50,7 +44,7 @@ GEM
       ffi (>= 0.5.0, < 2)
     rouge (2.2.1)
     safe_yaml (1.0.4)
-    sass (3.5.2)
+    sass (3.5.3)
       sass-listen (~> 4.0.0)
     sass-listen (4.0.0)
       rb-fsevent (~> 0.9, >= 0.9.4)
@@ -63,7 +57,7 @@ DEPENDENCIES
   jekyll (~> 3.6)
   jekyll-feed (~> 0.9)
   jekyll-paginate (~> 1.1)
-  jekyll-relative-links!
+  jekyll-relative-links (~> 0.5)
   jekyll-seo-tag (~> 2.3)
   jekyll-sitemap (~> 1.1)
   tzinfo-data
diff --git a/NOTICE.md b/NOTICE.md
index ae08a6dd..13a68852 100644
--- a/NOTICE.md
+++ b/NOTICE.md
@@ -21,14 +21,12 @@ along with this program.  If not, see <http://www.gnu.org/licenses/>.
 ## Attributions
 Appropriate credit as per Creative Commons licenses.
 
-* [IcoMoon Icons Free Version](https://icomoon.io/#icons-icomoon)
-  by [Keyamoon](http://keyamoon.com/).
-  License: [CC-BY-SA-4.0]. Changes: None;
-
-Credit for works that do not require it as per license:
-
-* [Photo](https://unsplash.com/photos/AtvuPUenaeI?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)
-  by [Caleb George](http://www.caleb-morris.com/)
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [Photo][ph] by [Caleb George][cg]                      | [Unsplash]     | Rearranged objects, Filled in content, blurred
+| [IcoMoon Icons Free Version][11] by [Keyamoon][12]     | [CC-BY-SA-4.0] | None
+| [Napolean Crossing the Alps][21]                       | Public Domain  | Filled in content, blurred on the sides
+| [Section of a Mandelbrot set][31]                      | [CC-BY-SA-3.0] | Blurred on the sides
 
 ## Licenses
 Parts of this software are provided under separate licenses.
@@ -234,7 +232,16 @@ which is MIT licensed with the following copyright
 
 A copy of the [MIT] license is provided as part of this distribution.
 
+[11]: https://icomoon.io/#icons-icomoon
+[12]: http://keyamoon.com/
+[21]: https://en.wikipedia.org/wiki/Napoleon_Crossing_the_Alps#/media/File:Jacques_Louis_David_-_Bonaparte_franchissant_le_Grand_Saint-Bernard,_20_mai_1800_-_Google_Art_Project.jpg
+[31]: https://en.wikipedia.org/wiki/Benoit_Mandelbrot#/media/File:Mandel_zoom_08_satellite_antenna.jpg
+[ph]: https://unsplash.com/photos/AtvuPUenaeI?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText
+[cg]: http://www.caleb-morris.com/
+
 [MIT]: licenses/MIT.md
 [GPL-3.0]: licenses/GPL-3.0.md
 [Apache-2.0]: licenses/Apache-2.0.md
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
+[CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
+[Unsplash]: https://unsplash.com/license
diff --git a/README.md b/README.md
index fac4cb94..c44c2602 100644
--- a/README.md
+++ b/README.md
@@ -1,58 +1,52 @@
-~~~
- __  __                __                                     __
-/\ \/\ \              /\ \             __                    /\ \
-\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
- \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
-  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
-   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
-    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
-                /\___/                \ \____/
-                \/__/                  \/___/
-~~~
-
 # Hydejack
-Hydejack is a cutting-edge Jekyll theme that combines the best of static sites and modern web apps.
+[![Gem Version](https://badge.fury.io/rb/jekyll-theme-hydejack.svg)](https://badge.fury.io/rb/jekyll-theme-hydejack)
+
+**Hydejack** is a Jekyll theme with JavaScript powers, combining the best of static sites and modern web apps.
 It features a suite of JavaScript that makes the page feel like an app, without sacrificing backwards-compatibility,
 page-load speed or SEO.
 
 > Your presence on the web — A [blog], a [portfolio] and a [resume].
 
-It aims to be the complete package for professionals on the web.
+**Hydejack** aims to be the complete package for professionals on the web.
 It features a blog suitable for both prose and technical documentation,
-a showcase for projects and a resume that fits with the rest of the design.
+a showcase for your projects, and a resume that fits with the rest of the design.
+
+![Screenshot](https://qwtel.com/assets/img/projects/default.jpg)
 
-## [Demo](https://qwtel.com/hydejack/)
+## Demo
 It's best to just [see it in action](https://qwtel.com/hydejack/).
 
 ## Features
-Both the PRO *and* free version includes all of the features listed below:
-
-* Full in-app page loading — no Flash of White, no Flash of Unstyled Content[^1]
-* Advanced animations, inspired by Material Design
-* A customizable sidebar that turns into a touch-enabled app drawer on mobile
-* Near-perfect [Google PageSpeed Score][gpss][^2]
-* Even higher *perceived speed* thanks to pre-fetching and latency-hiding
-* Support for categories and tags — even when hosting on GitHub Pages
-* Built-in collection of social media icons
-* Author section below each article and multiple authors
+Both versions include *all* of these features:
+
+* Full in-app page loading, powered by [hy-push-state]
+* A customizable sidebar that turns into a drawer menu on mobile, powered by [hy-drawer]
+* Advanced FLIP animations, inspired by Material Design
+* Good [Google PageSpeed Score][gpss][^1]
+* Higher *perceived speed* thanks to content pre-fetching
+* [Syntax highlighting][syntax], powered by [Rouge]
+* [LaTeX math blocks][latex], powered by [KaTeX]
+* Change the wording of built-in strings and possibly translate in other languages
+* Support for categories and tags
+* Built-in icons for many social networks
 * Simple and semantic HTML — can be viewed even with text-based browsers
+* Author section below each article and support for multiple authors
 * Progressive enhancement — sacrifice features, not content
 * Google Analytics and Google Fonts support
-* Blog layout with pagination
-* Syntax highlighting
-* Math formulas via LaTeX
 * Disqus comments
-* RSS feed
-* Print layout
+* Print layout — Used to render Hydejack's [PDF documentation][pdf]
+* Blog layout via `jekyll-paginate` (optional)
+* SEO meta tags via `jekyll-seo-tag` (optional)
+* Github avatars via `jekyll-avatar` (optional)
+* Gist support via `jekyll-gist` (optional)
 
-## [Documentation][docs]
-Hydejack is documented extensively.
-You can read it [on this site][docs], in the [repository's wiki][wiki], or [download the PDF][download].
+## Documentation
+Hydejack is well documented. You can read the docs [on the Jekyll site][docs], or [on GitHub][wiki], or [download the PDF][pdf].
 
 ## Download
-There are two versions of Hydejack: The Free Version includes basic blogging functionality,
+There are two versions of **Hydejack**: The *free version* includes basic blogging functionality,
 as did previous versions of the theme.
-The new PRO Version includes additional features for professionals:
+The *PRO version* includes additional features for professionals:
 A [portfolio], a [resume] layout and a [welcome] page to feature your favorite projects and posts.
 
 This table details what is and isn't included in each respective version.
@@ -60,34 +54,59 @@ This table details what is and isn't included in each respective version.
 |                                     | Free               | PRO                |
 |:------------------------------------|:------------------:|:------------------:|
 | Blog                                | &#x2714;           | &#x2714;           |
-| Features (see below)                | &#x2714;           | &#x2714;           |
+| [Features][feat]                    | &#x2714;           | &#x2714;           |
 | [Portfolio] Layout                  |                    | &#x2714;           |
 | [Resume] Layout                     |                    | &#x2714;           |
 | [Welcome] Layout                    |                    | &#x2714;           |
-| Newsletter Subscription Box         |                    | &#x2714;           |
-| Form Element Styles                 |                    | &#x2714;           |
+| [Newsletter Box][news]              |                    | &#x2714;           |
+| [Custom Forms][forms]               |                    | &#x2714;           |
 | License                             | [GPL-3.0][license] | [PRO]              |
-| Price                               | Free               | $39                |
-|| [Download on GitHub][github]<br/> – or – <br/>[Use the RubyGem][gem] | [Buy Now – $39][buy] [^3] |
+| Price                               | Free               | $29                |
+|| [Download on GitHub][github]<br/> – or – <br/>[Use the RubyGem][gem] | [Buy Now][buy] [^2] |
 
 
-[^1]: Applies after the initial page load.  
-[^2]: Actual page load speed depends on your hosting provider as well as discipline regarding resolution of images and
-usage of 3rd party plugins.  
-[^3]: Transactions secured by [Stripe](https://stripe.com). Downloads handled by [Simple Goods](https://simplegoods.co/).  
+[^1]: Actual page load speed depends on your hosting provider, resolution of embedded images and usage of 3rd party plugins.  
+[^2]: Transactions secured by [Stripe](https://stripe.com). Downloads handled by [Simple Goods](https://simplegoods.co/).  
+
+~~~
+ __  __                __                                     __
+/\ \/\ \              /\ \             __                    /\ \
+\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
+ \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
+  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
+   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
+    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
+                /\___/                \ \____/
+                \/__/                  \/___/
+~~~
 
 [blog]: https://qwtel.com/hydejack/blog/
-[portfolio]: https://qwtel.com/hydejack/projects/
+[portfolio]: https://qwtel.com/hydejack/variations/
 [resume]: https://qwtel.com/hydejack/resume/
 [download]: https://qwtel.com/download/
 [welcome]: https://qwtel.com/hydejack/
+[forms]: https://qwtel.com/hydejack/docs/7.3.0/forms-by-example/
+
+[feat]: https://qwtel.com/hydejack/#features
+[news]: https://qwtel.com/hydejack/#newsletter-subscription-box
+[syntax]: https://qwtel.com/hydejack/#syntax-highlighting
+[latex]: https://qwtel.com/hydejack/#latex-math-blocks
+
 [license]: LICENSE.md
 [pro]: licenses/PRO.md
-[docs]: docs/7.0.0/index.md
+[docs]: docs/7.3.0/index.md
 
 [github]: https://github.com/qwtel/hydejack/releases
 [gem]: https://rubygems.org/gems/jekyll-theme-hydejack
 [buy]: https://app.simplegoods.co/i/AQTTVBOE
 
 [gpss]: https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fqwtel.com%2Fhydejack%2F
-[wiki]: https://github.com/qwtel/hydejack/wiki
+[wiki]: https://github.com/qwtel/hydejack/blob/master/docs/7.3.0/index.md
+[pdf]: https://github.com/qwtel/hydejack/releases/download/v7.3.0/Documentation._.Hydejack.pdf
+[hy-push-state]: https://qwtel.com/hy-push-state/
+[hy-drawer]: https://qwtel.com/hy-drawer/
+[rouge]: http://rouge.jneen.net
+[katex]: https://khan.github.io/KaTeX/
+[tinyletter]: https://tinyletter.com/
+
+*[FLIP]: First-Last-Invert-Play. A coding technique to achieve performant page transition animations.
diff --git a/_config.yml b/_config.yml
index 4dbe9733..9bb90410 100644
--- a/_config.yml
+++ b/_config.yml
@@ -13,28 +13,33 @@ url:                   https://domain.tld
 
 # Set to '' when hosting on GitHub Pages, like `//<username>.github.io`.
 # Set to '/<reponame>' when using the `gh-pages` branch of a repository.
-baseurl:               /hydejack
+baseurl:               ''
 
 # A short description of the page used for the meta description tag.
 description:           >
-  A Jekyll theme with JavaScript Powers. Open `_config.yml` to edit this text.
+  A Jekyll theme with JavaScript powers. "Best Theme by a Mile".
+  Combines the best of static sites and modern web apps.
+  Open `_config.yml` to edit this text.
 
-# A shorter description for the sidebar (will use `description` above when empty).
-tagline:               A Jekyll theme with JavaScript Powers. Open `_config.yml` to edit this text.
+# A shorter description for the sidebar.
+tagline:               >
+  A Jekyll theme with JavaScript powers.
+  Open `_config.yml` to edit this text.
 
 # A list of keywords for your blog, will be used as fallback
 # for pages that don't have `keywords` in their front matter.
 keywords:              []
 
-# A (optional) logo for the page. Used by jekyll-seo-tag.
-logo:                  /hydejack/assets/icons/icon.png
+# Used by jekyll-seo-tag...
+logo:                  /assets/icons/icon.png
 
 # This should be the same author as first entry in `_data/authors.yml`.
-# Duplication is necessary due to the jekyll-feed plugin.
+# Duplication is necessary due to the `jekyll-feed`, `jekyll-seo-tag` plugin.
 author:
   name:                <firstname> <lastname>
   email:               <mail@domain.tld>
-  # The remainder of the author configuration is located in `_data/authors.yml`...
+  # Used by `jekyll-seo-tag`:
+  # twitter:             <username>
 
 # This text will appear in a `<small>` tag in the footer of every page.
 copyright:             © 20XX. Open _config.yml to edit this text.
@@ -44,7 +49,7 @@ permalink:             pretty
 
 # Pagination configuration (used by the `blog` layout)
 paginate:              5
-paginate_path:         '/blog/page-:num/'
+paginate_path:         /blog/page-:num/
 
 # Customizaton
 # ========================================================================================
@@ -60,7 +65,7 @@ font:                  "'Noto Sans', Helvetica, Arial, sans-serif"
 font_heading:          "'Roboto Slab', Helvetica, Arial, sans-serif"
 
 # Fallback image and color
-accent_image:          /hydejack/assets/img/sidebar-bg.jpg
+accent_image:          /assets/img/sidebar-bg.jpg
 accent_color:          '#4fb1ba'
 
 # 3rd Party Integrations
@@ -68,14 +73,14 @@ accent_color:          '#4fb1ba'
 
 # Setting a disqus shortname will enable the comment section on
 # pages with `comments: true` in the front matter.
-disqus:                <disqus_shortname>
+# disqus:                <disqus_shortname>
 
 # Setting a tinyletter username will enable the newsletter subscription box.
-tinyletter:            <tinyletter_username>
+# tinyletter:            <tinyletter_username>
 
 # Set your Google Analytics id to receive `pageview` events.
 # To remove Google Anaylics from your page, remove the line below.
-google_analytics:      UA-XXXXXXXX-X
+# google_analytics:      UA-XXXXXXXX-X
 
 
 # Hydejack Flags
@@ -114,7 +119,7 @@ hydejack:
 
   # You can set this to `true` if you don't want to set the `theme-color` meta tag,
   # This only affects the meta tag, not the color specified in the app manifest.
-  no_theme_color:      true
+  no_theme_color:      false
 
   # Set to `true` when building with the `--lsi` option
   use_lsi:             false
@@ -207,7 +212,7 @@ optional_front_matter:
   remove_originals:    true
 
 readme_index:
-  collections:         true
+  remove_originals:    true
 
 relative_links:
   collections:         true
diff --git a/_data/authors.yml b/_data/authors.yml
index 41cd305a..7ea2cfd0 100644
--- a/_data/authors.yml
+++ b/_data/authors.yml
@@ -1,7 +1,7 @@
 # The primary author of this blog.
 # Must be the same as `author` in `_config.yml`.
 # Change `qwtel` to your shortname (used in the front matter to set a page's author, e.g. `author: qwtel`).
-qwtel:
+author1:
   name:              <firstname> <lastname>
   email:             <mail@domain.tld>
 
@@ -29,7 +29,7 @@ qwtel:
     twitter:         <username>
     github:          <username>
     email:           mailto:<mail@domain.tld>
-    rss:             https://<url>/feed.xml
+    # rss:             https://<url>/feed.xml
     # facebook:        <username>
     # google:          <number>
     # vk:              <username>
@@ -65,11 +65,8 @@ qwtel:
     # paypal:          <username>
     # download:        https://github.com/qwtel/hydejack/archive/v6.6.1.zip
 
-  # Used by `jekyll-seo-tag`:
-  twitter:           <username>
-
 # Another author
-mdo:
+author2:
   name:              <firtname> <lastname>
   email:             <mail@domain.tld>
   about:             |
diff --git a/_data/resume.json b/_data/resume.json
index 1c02a4e4..a79f4b6a 100644
--- a/_data/resume.json
+++ b/_data/resume.json
@@ -5,8 +5,8 @@
     "picture": "https://placehold.it/126x126",
     "email": "",
     "phone": "(912) 555-4321",
-    "website": "https://richardhendricks.com",
-    "summary": "Richard hails from Tulsa. He has earned degrees from the University of Oklahoma and Stanford. (Go Sooners and Cardinals!) Before starting Pied Piper, he worked for Hooli as a part time software developer. While his work focuses on applied information theory, mostly optimizing lossless compression schema of both the length-limited and adaptive variants, his non-work interests range widely, everything from quantum computing to chaos theory. He could tell you about it, but THAT would NOT be a “length-limited” conversation! Open `_data/resume.json` to edit this text.",
+    "website": "https://piedpiper.com",
+    "summary": "**THIS IS AN EXAMPLE RESUME**. Richard hails from Tulsa. He has earned degrees from the University of Oklahoma and Stanford. (Go Sooners and Cardinals!) Before starting Pied Piper, he worked for Hooli as a part time software developer. While his work focuses on applied information theory, mostly optimizing lossless compression schema of both the length-limited and adaptive variants, his non-work interests range widely, everything from quantum computing to chaos theory. He could tell you about it, but THAT would NOT be a “length-limited” conversation!",
     "location": {
       "address": "2712 Broadway St",
       "postalCode": "CA 94115",
@@ -17,13 +17,13 @@
     "profiles": [
       {
         "network": "Twitter",
-        "username": "neutralthoughts",
+        "username": "RHendricksCEO",
         "url": ""
       },
       {
-        "network": "SoundCloud",
-        "username": "dandymusicnl",
-        "url": "https://soundcloud.com/dandymusicnl"
+        "network": "LinkedIn",
+        "username": "Richard Hendricks",
+        "url": ""
       }
     ]
   },
diff --git a/_includes/about.html b/_includes/about.html
index 604dc50a..e65ea8dc 100644
--- a/_includes/about.html
+++ b/_includes/about.html
@@ -1,7 +1,7 @@
 {% assign author = site.data.authors[page.author] | default:site.data.authors.first[1] | default:site.author %}
 
 {% if author.about %}
-  <aside class="author related mb4" role="complementary">
+  <aside class="about related mt4 mb4" role="complementary">
     {% assign about_heading = site.data.strings.about | default:"About" %}
     {% include author.html author=author heading=about_heading heading_tag='h2' %}
   </aside>
diff --git a/_includes/author.html b/_includes/author.html
index 486434a3..fdde38e6 100644
--- a/_includes/author.html
+++ b/_includes/author.html
@@ -1,6 +1,6 @@
 {% assign plugins = site.plugins | default:site.gems %}
 
-<div class="author">
+<div class="author mt4">
   {% assign author = include.author %}
 
   {% if author.picture %}
diff --git a/_includes/body.html b/_includes/body.html
index ac801362..7815470c 100644
--- a/_includes/body.html
+++ b/_includes/body.html
@@ -7,7 +7,7 @@
     role="main"
     data-color="{{ color | escape }}"
     {% unless image.background %}
-      data-image="{{ image | escape }}"
+      data-image="{% if image == 'none' %}none{% else %}{% capture tmp %}{% include smart-url url=image %}{% endcapture %}{{ tmp | escape }}{% endif %}"
       {% if image != 'none' %}data-overlay{% endif %}
     {% else %}
       data-background="{{ image.background | escape }}"
diff --git a/_includes/body/scripts.html b/_includes/body/scripts.html
index adf41fb0..b5447b22 100644
--- a/_includes/body/scripts.html
+++ b/_includes/body/scripts.html
@@ -9,7 +9,7 @@
   {% endif %}
 
   <!--[if gt IE 9]><!---->
-  {% capture js_url %}{% link assets/js/hydejack.js %}?v=7.0.0{% endcapture %}
+  {% capture js_url %}{% link assets/js/hydejack-7.3.0.js %}{% endcapture %}
   <script>loadJSDeferred('{{ js_url | relative_url }}');</script>
 
   {% include my-scripts.html %}
diff --git a/_includes/footer.html b/_includes/footer.html
index 05442811..4c6cb3bd 100644
--- a/_includes/footer.html
+++ b/_includes/footer.html
@@ -3,6 +3,6 @@
   {% if site.copyright.size > 0 %}
   <p><small class="copyright">{{ site.copyright }}</small></p>
   {% endif %}
-  <p><small>Powered by <a class="external" href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">7.0.0</span></small></p>
+  <p><small>Powered by <a class="external" href="https://qwtel.com/hydejack/">Hydejack</a> v<span id="_version">7.3.0</span></small></p>
   <hr class="sr-only"/>
 </footer>
diff --git a/_includes/head/feed-tag.html b/_includes/head/feed-tag.html
new file mode 100644
index 00000000..aca79677
--- /dev/null
+++ b/_includes/head/feed-tag.html
@@ -0,0 +1 @@
+{% feed_meta %}
diff --git a/_includes/head/links.html b/_includes/head/links.html
index 778a2e04..94e403f9 100644
--- a/_includes/head/links.html
+++ b/_includes/head/links.html
@@ -1,5 +1,4 @@
-{% comment %}<!-- Canonical link will be generated by SEO tag -->{% endcomment %}
-<link rel="alternate" type="application/atom+xml" title="{{ site.title }} Feed" href="{{ site.feed.path | default:'feed.xml' | absolute_url }}">
+{% if plugins contains 'jekyll-feed' %}{% include head/feed-tag.html %}{% endif %}
 
 {% assign lang = page.lang | default:site.lang | default:'en' %}
 <link rel="alternate" href="{{ page.url | absolute_url }}" hreflang="{{ lang | downcase | replace:'_','-' }}">
diff --git a/_includes/head/meta.html b/_includes/head/meta.html
index 6d5e1b17..436ea4d0 100644
--- a/_includes/head/meta.html
+++ b/_includes/head/meta.html
@@ -27,4 +27,4 @@
 <meta name="theme-color" content="{{ color | default:'#4fb1ba' }}">
 {% endunless %}
 
-<meta name="generator" content="Hydejack v7.0.0" />
+<meta name="generator" content="Hydejack v7.3.0" />
diff --git a/_includes/head/styles.html b/_includes/head/styles.html
index 1e515ad8..bd1e023a 100644
--- a/_includes/head/styles.html
+++ b/_includes/head/styles.html
@@ -1,5 +1,5 @@
 <!--[if gt IE 8]><!---->
-{% capture style_url %}{% link assets/css/hydejack.css %}?v=7.0.0{% endcapture %}
+{% capture style_url %}{% link assets/css/hydejack-7.3.0.css %}{% endcapture %}
 
 {% if site.hydejack.no_inline_css or jekyll.environment == 'development' %}
   <link rel="stylesheet" href="{{ style_url | relative_url }}">
diff --git a/_includes/header.txt b/_includes/header.txt
index fc3edcc3..95561e4f 100644
--- a/_includes/header.txt
+++ b/_includes/header.txt
@@ -9,5 +9,5 @@
  *                 /\___/                \ \____/
  *                 \/__/                  \/___/
  *
- * Powered by Hydejack v7.0.0 <https://qwtel.com/hydejack/>
+ * Powered by Hydejack v7.3.0 <https://qwtel.com/hydejack/>
  */
diff --git a/_includes/my-newsletter.html b/_includes/my-newsletter.html
index dfd27b29..73c4b5ef 100644
--- a/_includes/my-newsletter.html
+++ b/_includes/my-newsletter.html
@@ -1,5 +1,5 @@
 {% comment %}
-<!-- This is an exemplary mailchimp subscription form -->
+<!-- This is an exemplary MailChimp subscription form -->
 <div id="mc_embed_signup">
   <form action="{{ site.mailchimp.action }}" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
     <div id="mc_embed_signup_scroll">
diff --git a/_includes/my-scripts.html b/_includes/my-scripts.html
index a9af215a..e69de29b 100644
--- a/_includes/my-scripts.html
+++ b/_includes/my-scripts.html
@@ -1,16 +0,0 @@
-<!-- <script>
-  function detectCFScript() {
-    var cfScript = Array.prototype.find.call(document.scripts, function(s) {
-      return s !== document.currentScript && s.textContent.indexOf('__cf_email__') > -1;
-    });
-
-    if (cfScript)
-      this.addEventListener('hy-push-state-load', new Function(cfScript.textContent));
-
-    this.removeEventListener('hy-push-state-init', detectCFScript);
-  }
-
-  document
-    .getElementsByTagName('hy-push-state')[0]
-    .addEventListener('hy-push-state-init', detectCFScript);
-</script> -->
diff --git a/_includes/post.html b/_includes/post.html
index 8e74fedf..24fb506d 100644
--- a/_includes/post.html
+++ b/_includes/post.html
@@ -20,7 +20,7 @@
       {% include tag-list.html tags=post.tags meta=site.featured_tags start_with=tag_start separator=tag_separator %}
     </p>
 
-    {% include message.html text=post.description hide=page.no_description %}
+    {% include message.html text=post.description hide=page.hide_description %}
   </header>
 
   {% unless include.excerpt %}
diff --git a/_includes/pro/newsletter.html b/_includes/pro/newsletter.html
index 4a2005a0..c341559c 100644
--- a/_includes/pro/newsletter.html
+++ b/_includes/pro/newsletter.html
@@ -17,7 +17,7 @@
       onsubmit="window.open('https://tinyletter.com/{{ site.tinyletter }}', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true"
       >
       <div class="form-row">
-        <div class="col col-sm-5">
+        <div class="col col-sm-6">
           <label class="sr-only" for="tlemail">{{ site.data.strings.tinyletter.label | default:"Email" }}</label>
           <input class="form-control" type="email" name="email" id="tlemail" placeholder="{{ site.data.strings.tinyletter.placeholder | default:'mail@example.com' }}" />
         </div>
diff --git a/_includes/pro/project-card.html b/_includes/pro/project-card.html
index fe1fa527..82c4689e 100644
--- a/_includes/pro/project-card.html
+++ b/_includes/pro/project-card.html
@@ -1,6 +1,6 @@
 {% assign project = include.project %}
 
-{% if include.big_project %}
+{% if include.featured %}
   {% assign sizes = "(min-width: 90em) 46rem, (min-width: 54em) 40rem, (min-width: 42em) 36rem, 100vw" %}
 {% else %}
   {% assign sizes = "(min-width: 90em) 22.5rem, (min-width: 54em) 19.5rem, (min-width: 42em) 17.5rem, 100vw" %}
diff --git a/_includes/sidebar.html b/_includes/sidebar.html
index 6d6835bc..65117c04 100644
--- a/_includes/sidebar.html
+++ b/_includes/sidebar.html
@@ -4,7 +4,7 @@
       {% capture bg_style %}background:{{ image.background }}{% endcapture %}
       {% capture bg_class %}sidebar-bg {% if image.overlay %}sidebar-overlay{% endif %}{% endcapture %}
     {% else %}
-      {% capture bg_style %}background-color:{{ color }};{% if image != 'none' %}background-image:url({{ image }}){% endif %}{% endcapture %}
+      {% capture bg_style %}background-color:{{ color }};{% if image != 'none' %}background-image:url({% include smart-url url=image %}){% endif %}{% endcapture %}
       {% capture bg_class %}sidebar-bg {% if image != 'none' %}sidebar-overlay{% endif %}{% endcapture %}
     {% endif %}
     <div class="{{ bg_class }}" style="{{ bg_style }}"></div>
diff --git a/_includes/smart-url b/_includes/smart-url
new file mode 100644
index 00000000..eaf0bed5
--- /dev/null
+++ b/_includes/smart-url
@@ -0,0 +1 @@
+{% assign url = include.url %}{% if url contains '//' %}{{ url }}{% else %}{% assign url = url | remove_first:site.baseurl %}{{ url | relative_url }}{% endif %}
diff --git a/_includes/srcset-img.html b/_includes/srcset-img.html
index f654ed47..2300e4a4 100644
--- a/_includes/srcset-img.html
+++ b/_includes/srcset-img.html
@@ -2,11 +2,12 @@
   {% assign srcset = null %}
 
   {% if include.img.srcset %}
-    {% capture srcset %}{% for hash in include.img.srcset %}{{ hash[1]}} {{ hash[0] }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
+    {% capture srcset %}{% for hash in include.img.srcset %}{% assign tmp = hash[1] %}{% include smart-url url=tmp %} {{ hash[0] }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
   {% endif %}
 
+  {% assign src = include.img.src | default:include.img.path %}
   <img
-    src="{{ include.img.src | default:include.img.path }}"
+    src="{% include smart-url url=src %}"
     {% if include.class %}class="{{ include.class }}"{% endif %}
     {% if include.alt %}alt="{{ include.alt }}"{% endif %}
     {% if srcset %}srcset="{{ srcset | strip }}"{% endif %}
@@ -15,7 +16,7 @@
   />
 {% else %}
   <img
-    src="{{ include.img }}"
+    src="{% include smart-url url=include.img %}"
     {% if include.class %}class="{{ include.class }}"{% endif %}
     {% if include.alt %}alt="{{ include.alt }}"{% endif %}
     {% if include.property %}property="{{ include.property }}"{% endif %}
diff --git a/_includes/styles/inline.scss b/_includes/styles/inline.scss
index 173827f0..bb4befb0 100644
--- a/_includes/styles/inline.scss
+++ b/_includes/styles/inline.scss
@@ -1,4 +1,8 @@
+{% assign font_heading = site.font_heading | default:"'Roboto Slab', Helvetica, Arial, sans-serif" %}
+{% assign font =         site.font         | default:"'Noto Sans', Helvetica, Arial, sans-serif" %}
+
 @import "variables";
+@import "my-variables";
 @import "mixins";
 
 // @import "reboot-mod";
@@ -42,9 +46,6 @@
 @import "my-inline";
 // @import "my-style";
 
-{% assign font_heading = site.font_heading | default:"'Roboto Slab', Helvetica, Arial, sans-serif" %}
-{% assign font =         site.font         | default:"'Noto Sans', Helvetica, Arial, sans-serif" %}
-
 {% unless site.hydejack.no_google_fonts or site.no_google_fonts %}
   {% assign font = font | split:',' | shift | join:',' %}
   {% assign font_heading = font_heading | split:',' | shift | join:',' %}
diff --git a/_includes/styles/pro/projects.scss b/_includes/styles/pro/projects.scss
index 1359f335..a6ebfa59 100644
--- a/_includes/styles/pro/projects.scss
+++ b/_includes/styles/pro/projects.scss
@@ -1,4 +1,5 @@
 @import "variables";
+@import "my-variables";
 @import "mixins";
 
 @import "pro/projects";
diff --git a/_includes/styles/pro/resume.scss b/_includes/styles/pro/resume.scss
index 437781b6..5ff4daea 100644
--- a/_includes/styles/pro/resume.scss
+++ b/_includes/styles/pro/resume.scss
@@ -1,4 +1,5 @@
 @import "variables";
+@import "my-variables";
 @import "mixins";
 
 @import "pro/resume";
diff --git a/_includes/styles/style.scss b/_includes/styles/style.scss
index fd9fdf69..5b69baa0 100644
--- a/_includes/styles/style.scss
+++ b/_includes/styles/style.scss
@@ -1,4 +1,8 @@
+{% assign font_heading = site.font_heading | default:"'Roboto Slab', Helvetica, Arial, sans-serif" %}
+{% assign font =         site.font         | default:"'Noto Sans', Helvetica, Arial, sans-serif" %}
+
 @import "variables";
+@import "my-variables";
 @import "mixins";
 
 @import "reboot-mod";
@@ -42,6 +46,15 @@
   // @import "my-inline";
   @import "my-style";
 
+  {% unless site.hydejack.no_google_fonts or site.no_google_fonts %}
+    .wf-active {
+      font-family: {{ font | default:"serif" }};
+
+      h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading {
+        font-family: {{ font_heading | default:"serif" }};
+      }
+    }
+  {% endunless %}
 {% else %}
   @import "pooleparty/_base.pre.scss";
   @import "pooleparty/_type.pre.scss";
@@ -80,14 +93,12 @@
 
   @import "my-inline";
   @import "my-style";
-{% endunless %}
 
-{% assign font_heading = site.font_heading | default:"'Roboto Slab', Helvetica, Arial, sans-serif" %}
-{% assign font =         site.font         | default:"'Noto Sans', Helvetica, Arial, sans-serif" %}
-
-{% unless site.hydejack.no_google_fonts or site.no_google_fonts %}
-  .wf-active {
+  html {
     font-family: {{ font | default:"serif" }};
-    h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: {{ font_heading | default:"serif" }}; }
+  }
+
+  h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { 
+    font-family: {{ font_heading | default:"serif" }};
   }
 {% endunless %}
diff --git a/_js/lib/version.js b/_js/lib/version.js
index d8363279..f59b3933 100644
--- a/_js/lib/version.js
+++ b/_js/lib/version.js
@@ -1,2 +1,2 @@
 console.log(' __  __                __                                     __         \r\n\/\\ \\\/\\ \\              \/\\ \\             __                    \/\\ \\        \r\n\\ \\ \\_\\ \\   __  __    \\_\\ \\      __   \/\\_\\      __       ___ \\ \\ \\\/\'\\    \r\n \\ \\  _  \\ \/\\ \\\/\\ \\   \/\'_` \\   \/\'__`\\ \\\/\\ \\   \/\'__`\\    \/\'___\\\\ \\ , <    \r\n  \\ \\ \\ \\ \\\\ \\ \\_\\ \\ \/\\ \\L\\ \\ \/\\  __\/  \\ \\ \\ \/\\ \\L\\.\\_ \/\\ \\__\/ \\ \\ \\\\`\\  \r\n   \\ \\_\\ \\_\\\\\/`____ \\\\ \\___,_\\\\ \\____\\ _\\ \\ \\\\ \\__\/.\\_\\\\ \\____\\ \\ \\_\\ \\_\\\r\n    \\\/_\/\\\/_\/ `\/___\/> \\\\\/__,_ \/ \\\/____\/\/\\ \\_\\ \\\\\/__\/\\\/_\/ \\\/____\/  \\\/_\/\\\/_\/\r\n                \/\\___\/                \\ \\____\/                           \r\n                \\\/__\/                  \\\/___\/                            \n\n');
-console.log('Powered by Hydejack v7.0.0 <https://qwtel.com/hydejack/>');
+console.log('Powered by Hydejack v7.3.0 <https://qwtel.com/hydejack/>');
diff --git a/_js/src/common.js b/_js/src/common.js
index 2b47dfeb..55f3a07f 100644
--- a/_js/src/common.js
+++ b/_js/src/common.js
@@ -23,7 +23,8 @@ import { Observable } from 'rxjs/Observable';
 const ua = navigator.userAgent.toLowerCase();
 export const isSafari = ua.indexOf('safari') > 0 && ua.indexOf('chrome') < 0;
 export const isMobileSafari = isSafari && ua.indexOf('mobile') > 0;
-export const isUCBrowser = ua.indexOf('ucbrowser') > 0 && ua.indexOf('chrome') > 0;
+export const isUCBrowser = ua.indexOf('ucbrowser') > 0;
+export const isFirefoxIOS = ua.indexOf('fxios') > 0 && ua.indexOf('safari') > 0;
 
 // Takes an array of Modernizr feature tests and makes sure they all pass.
 export function hasFeatures(features) {
diff --git a/_js/src/drawer.js b/_js/src/drawer.js
index e2d01abb..0bba12fa 100644
--- a/_js/src/drawer.js
+++ b/_js/src/drawer.js
@@ -24,6 +24,7 @@ import 'core-js/fn/function/bind';
 // We include our main component, hy-drawer,
 // in both the vanilla JS and the WebComponent version (will decide later which one to use).
 // Since they share most of their code, it's not a big deal in terms of file size.
+import { Set } from 'hy-drawer/src/common';
 import { Drawer, VANILLA_FEATURE_TESTS } from 'hy-drawer/src/vanilla';
 import { HTMLDrawerElement } from 'hy-drawer/src/webcomponent';
 
@@ -36,13 +37,13 @@ import { fromEvent } from 'rxjs/observable/fromEvent';
 import { hasFeatures, isSafari, isMobileSafari, isUCBrowser } from './common';
 
 // A list of Modernizr tests that are required for the drawer to work.
-const REQUIREMENTS = [
+const REQUIREMENTS = new Set([
   ...VANILLA_FEATURE_TESTS,
   'cssremunit',
   'classlist',
   'eventlistener',
   'matchmedia',
-];
+]);
 
 // HACK: hard-coded SCSS break-point.
 const MEDIA_QUERY = '(min-width: 64em)';
@@ -71,7 +72,7 @@ function menuClickClallback(e) {
 // so we ignore the first 35 pixels (roughly the range for the native guesture).
 function getRange() {
   if (isMobileSafari && !navigator.standalone) {
-    return [35, 150];
+    return [35, 135];
   }
   return [0, 150];
 }
diff --git a/_js/src/push-state.js b/_js/src/push-state.js
index 6642ddb1..b52de4e2 100644
--- a/_js/src/push-state.js
+++ b/_js/src/push-state.js
@@ -30,6 +30,7 @@ import 'core-js/fn/string/includes';
 // We include our main component, hy-push-state,
 // in both the vanilla JS and the WebComponent version (will decide later which one to use).
 // Since they share most of their code, it's not a big deal in terms of file size.
+import { Set } from 'hy-push-state/src/common';
 import { PushState, VANILLA_FEATURE_TESTS } from 'hy-push-state/src/vanilla';
 import { HTMLPushStateElement } from 'hy-push-state/src/webcomponent';
 
@@ -60,14 +61,15 @@ import { takeUntil } from 'rxjs/operator/takeUntil';
 import { zipProto as zip } from 'rxjs/operator/zip';
 
 // Some of our own helper functions and classes.
-import { animate, empty, getResolvablePromise, hasFeatures, isSafari } from './common';
+import { animate, empty, getResolvablePromise, hasFeatures, isSafari, isFirefoxIOS }
+  from './common';
 import CrossFader from './cross-fader';
 import upgradeMathBlocks from './katex';
 import setupFLIP from './flip';
 
 // ## Constants
 // A list of Modernizr feature tests that are required for the push state feature to work.
-const REQUIREMENTS = [
+const REQUIREMENTS = new Set([
   ...VANILLA_FEATURE_TESTS,
   'classlist',
   'cssanimations',
@@ -80,7 +82,7 @@ const REQUIREMENTS = [
   'queryselector',
   'requestanimationframe',
   'template',
-];
+]);
 
 const REPLACE_IDS = '_main';
 const LINK_SELECTOR = 'a[href]:not(.external):not(.no-push-state)';
@@ -240,7 +242,7 @@ function setupVanilla(pushStateEl) {
 // ## Main
 // First, we determine if push state is enabled,
 // and if the current user agent meets our requirements.
-if (!window._noPushState && hasFeatures(REQUIREMENTS)) {
+if (!window._noPushState && hasFeatures(REQUIREMENTS) && !isFirefoxIOS) {
   // ### Setup
   // We save some variables and setup the DOM:
   const isStandalone =
@@ -410,9 +412,11 @@ if (!window._noPushState && hasFeatures(REQUIREMENTS)) {
     ::tap(upgradeMathBlocks)
 
     // Finally, after some debounce time, send a `pageview` to Google Analytics (if applicable).
+    ::filter(() => !!window.ga)
     ::debounceTime(GA_DELAY)
     ::subscribe(() => {
-      if (window.ga) window.ga('send', 'pageview', window.location.pathname);
+      window.ga('set', 'page', window.location.pathname);
+      window.ga('send', 'pageview');
     });
 
   // ### Show error page
diff --git a/_layouts/about.html b/_layouts/about.html
index d1c804a0..4229f057 100644
--- a/_layouts/about.html
+++ b/_layouts/about.html
@@ -18,7 +18,7 @@ layout: base
 
   {{ author.about | markdownify }}
 
-  {% include message.html text=page.description hide=page.no_description alt="" %}
+  {% include message.html text=page.description hide=page.hide_description alt="" %}
 
   {{ content }}
 </article>
diff --git a/_layouts/base.html b/_layouts/base.html
index 06555c3f..27c04474 100644
--- a/_layouts/base.html
+++ b/_layouts/base.html
@@ -6,8 +6,7 @@ layout: compress
 
 {% assign plugins = site.plugins | default:site.gems %}
 
-{% assign image = site.accent_image | default:site.image %}
-{% unless image %}{% assign image = '/assets/img/sidebar-bg.jpg' | relative_url %}{% endunless %}
+{% assign image = site.accent_image | default:site.image | default:'/assets/img/sidebar-bg.jpg' %}
 {% assign color = site.accent_color | default:site.color | default:'#4fb1ba' %}
 
 {% if page.categories.size > 0 %}
diff --git a/_layouts/compress.html b/_layouts/compress.html
index 78cf2e65..85295536 100644
--- a/_layouts/compress.html
+++ b/_layouts/compress.html
@@ -10,6 +10,6 @@
                 /\___/                \ \____/
                 \/__/                  \/___/
 
-Powered by Hydejack v7.0.0 <https://qwtel.com/hydejack/>
+Powered by Hydejack v7.3.0 <https://qwtel.com/hydejack/>
 -->{% capture _LINE_FEED %}
 {% endcapture %}{% if site.compress_html.ignore.envs contains jekyll.environment %}{{ content }}{% else %}{% capture _content %}{{ content }}{% endcapture %}{% assign _profile = site.compress_html.profile %}{% if site.compress_html.endings == "all" %}{% assign _endings = "html head body li dt dd p rt rp optgroup option colgroup caption thead tbody tfoot tr td th" | split: " " %}{% else %}{% assign _endings = site.compress_html.endings %}{% endif %}{% for _element in _endings %}{% capture _end %}</{{ _element }}>{% endcapture %}{% assign _content = _content | remove: _end %}{% endfor %}{% if _profile and _endings %}{% assign _profile_endings = _content | size | plus: 1 %}{% endif %}{% for _element in site.compress_html.startings %}{% capture _start %}<{{ _element }}>{% endcapture %}{% assign _content = _content | remove: _start %}{% endfor %}{% if _profile and site.compress_html.startings %}{% assign _profile_startings = _content | size | plus: 1 %}{% endif %}{% if site.compress_html.comments == "all" %}{% assign _comments = "<!-- -->" | split: " " %}{% else %}{% assign _comments = site.compress_html.comments %}{% endif %}{% if _comments.size == 2 %}{% capture _comment_befores %}.{{ _content }}{% endcapture %}{% assign _comment_befores = _comment_befores | split: _comments.first %}{% for _comment_before in _comment_befores %}{% if forloop.first %}{% continue %}{% endif %}{% capture _comment_outside %}{% if _carry %}{{ _comments.first }}{% endif %}{{ _comment_before }}{% endcapture %}{% capture _comment %}{% unless _carry %}{{ _comments.first }}{% endunless %}{{ _comment_outside | split: _comments.last | first }}{% if _comment_outside contains _comments.last %}{{ _comments.last }}{% assign _carry = false %}{% else %}{% assign _carry = true %}{% endif %}{% endcapture %}{% assign _content = _content | remove_first: _comment %}{% endfor %}{% if _profile %}{% assign _profile_comments = _content | size | plus: 1 %}{% endif %}{% endif %}{% assign _pre_befores = _content | split: "<pre" %}{% assign _content = "" %}{% for _pre_before in _pre_befores %}{% assign _pres = _pre_before | split: "</pre>" %}{% assign _pres_after = "" %}{% if _pres.size != 0 %}{% if site.compress_html.blanklines %}{% assign _lines = _pres.last | split: _LINE_FEED %}{% capture _pres_after %}{% for _line in _lines %}{% assign _trimmed = _line | split: " " | join: " " %}{% if _trimmed != empty or forloop.last %}{% unless forloop.first %}{{ _LINE_FEED }}{% endunless %}{{ _line }}{% endif %}{% endfor %}{% endcapture %}{% else %}{% assign _pres_after = _pres.last | split: " " | join: " " %}{% endif %}{% endif %}{% capture _content %}{{ _content }}{% if _pre_before contains "</pre>" %}<pre{{ _pres.first }}</pre>{% endif %}{% unless _pre_before contains "</pre>" and _pres.size == 1 %}{{ _pres_after }}{% endunless %}{% endcapture %}{% endfor %}{% if _profile %}{% assign _profile_collapse = _content | size | plus: 1 %}{% endif %}{% if site.compress_html.clippings == "all" %}{% assign _clippings = "html head title base link meta style body article section nav aside h1 h2 h3 h4 h5 h6 hgroup header footer address p hr blockquote ol ul li dl dt dd figure figcaption main div table caption colgroup col tbody thead tfoot tr td th" | split: " " %}{% else %}{% assign _clippings = site.compress_html.clippings %}{% endif %}{% for _element in _clippings %}{% assign _edges = " <e;<e; </e>;</e>;</e> ;</e>" | replace: "e", _element | split: ";" %}{% assign _content = _content | replace: _edges[0], _edges[1] | replace: _edges[2], _edges[3] | replace: _edges[4], _edges[5] %}{% endfor %}{% if _profile and _clippings %}{% assign _profile_clippings = _content | size | plus: 1 %}{% endif %}{{ _content }}{% if _profile %} <table id="compress_html_profile_{{ site.time | date: "%Y%m%d" }}" class="compress_html_profile"> <thead> <tr> <td>Step <td>Bytes <tbody> <tr> <td>raw <td>{{ content | size }}{% if _profile_endings %} <tr> <td>endings <td>{{ _profile_endings }}{% endif %}{% if _profile_startings %} <tr> <td>startings <td>{{ _profile_startings }}{% endif %}{% if _profile_comments %} <tr> <td>comments <td>{{ _profile_comments }}{% endif %}{% if _profile_collapse %} <tr> <td>collapse <td>{{ _profile_collapse }}{% endif %}{% if _profile_clippings %} <tr> <td>clippings <td>{{ _profile_clippings }}{% endif %} </table>{% endif %}{% endif %}</html>
diff --git a/_layouts/default.html b/_layouts/default.html
index af5cc41e..949ddf08 100644
--- a/_layouts/default.html
+++ b/_layouts/default.html
@@ -7,7 +7,7 @@ layout: base
 <article class="page" role="article">
   <header>
     <h1 class="page-title">{{ page.title | default:strings.home | default:"Home" }}</h1>
-    {% include message.html text=page.description hide=page.no_description %}
+    {% include message.html text=page.description hide=page.hide_description %}
   </header>
 
   {{ content }}
diff --git a/_layouts/list.html b/_layouts/list.html
index c8c998e0..79004ea5 100644
--- a/_layouts/list.html
+++ b/_layouts/list.html
@@ -17,7 +17,7 @@ layout: base
 {% if page.title.size > 0 %}
   <header>
     <h1 class="page-title">{{ page.title }}</h1>
-    {% include message.html text=page.description hide=page.no_description %}
+    {% include message.html text=page.description hide=page.hide_description %}
   </header>
   <hr class="sr-only"/>
 {% endif %}
diff --git a/_layouts/page.html b/_layouts/page.html
index b7b5cf2e..57cbd3f8 100644
--- a/_layouts/page.html
+++ b/_layouts/page.html
@@ -5,7 +5,7 @@ layout: base
 <article class="page" role="article">
   <header>
     <h1 class="page-title">{{ page.title }}</h1>
-    {% include message.html text=page.description hide=page.no_description %}
+    {% include message.html text=page.description hide=page.hide_description %}
   </header>
 
   {{ content }}
diff --git a/_layouts/project.html b/_layouts/project.html
index fc569053..14ca806d 100644
--- a/_layouts/project.html
+++ b/_layouts/project.html
@@ -15,7 +15,7 @@ layout: base
     <p class="post-date heading">
       {% assign parent = site.pages | where:"show_collection",project.collection | first %}
       {% if parent %}
-        <a href="{{ '/projects/' | relative_url }}" class="flip-title" property="genre">{{ parent.title }}</a>
+        <a href="{{ parent.url | relative_url }}" class="flip-title" property="genre">{{ parent.title }}</a>
         {{ separator }}
       {% endif %}
       {% assign proj_format = site.data.strings.date_formats.project | default:"%Y" %}
@@ -41,7 +41,7 @@ layout: base
       {% endif %}
     </div>
 
-    {% include message.html text=project.description hide=page.no_description property="description" alt="" %}
+    {% include message.html text=project.description hide=page.hide_description property="description" alt="" %}
     {% if project.caption %}<meta property="disambiguatingDescription" content="{{ project.caption }}"/>{% endif %}
   </header>
 
diff --git a/_layouts/projects.html b/_layouts/projects.html
index 7ab6d66f..fd6070d5 100644
--- a/_layouts/projects.html
+++ b/_layouts/projects.html
@@ -2,6 +2,8 @@
 layout: page
 ---
 
+{{ content }}
+
 {% assign show_collection = page.show_collection | default:"projects" %}
 {% assign ordered_projects = site[show_collection] | sort:"date" | reverse %}
 
@@ -18,9 +20,9 @@ layout: page
     {% assign date = currentdate %}
   {% endif %}
 
-  {% assign big_project = page.big_project | default:project.big_project %}
-  <div class="column {% if big_project %}column-1{% else %}column-1-2{% endif %}">
-    {% include pro/project-card.html project=project big_project=big_project %}
+  {% assign featured = page.featured | default:project.featured | default:page.big_project | default:project.big_project %}
+  <div class="column {% if featured %}column-1{% else %}column-1-2{% endif %}">
+    {% include pro/project-card.html project=project featured=featured %}
   </div>
 
   {% if forloop.last %}</div>{% endif %}
diff --git a/_layouts/resume.html b/_layouts/resume.html
index 826421fa..535e1ccf 100644
--- a/_layouts/resume.html
+++ b/_layouts/resume.html
@@ -34,7 +34,7 @@ layout: base
     </p>
   {% endif %}
 
-  {% include message.html text=page.description hide=page.no_description alt="" %}
+  {% include message.html text=page.description hide=page.hide_description alt="" %}
 
   <div class="columns contact">
     <dl class="column column-3-5">
diff --git a/_layouts/welcome.html b/_layouts/welcome.html
index 1d166bb4..bcbecb85 100644
--- a/_layouts/welcome.html
+++ b/_layouts/welcome.html
@@ -14,11 +14,11 @@ layout: about
   <div class="columns">
   {% for project_path in page.selected_projects %}
     {% assign project = site.projects | where:"path",project_path | first %}
-    {% assign big_project = page.big_project | default:project.big_project %}
+    {% assign featured = page.featured | default:project.featured | default:page.big_project | default:project.big_project %}
 
-    <div class="column {% if big_project %}column-1{% else %}column-1-2{% endif %}">
+    <div class="column {% if featured %}column-1{% else %}column-1-2{% endif %}">
       {% if project %}
-        {% include pro/project-card.html project=project big_project=big_project %}
+        {% include pro/project-card.html project=project featured=featured %}
       {% else %}
         Project with path <code>{{ project_path }}</code> not found.
       {% endif %}
@@ -30,10 +30,10 @@ layout: about
   <div class="columns">
   {% assign ordered_projects = site.projects | sort:"date" | reverse %}
   {% for project in ordered_projects limit:2 %}
-    {% assign big_project = page.big_project | default:project.big_project %}
+    {% assign featured = page.featured | default:project.featured | default:page.big_project | default:project.big_project %}
 
-    <div class="column {% if big_project %}column-1{% else %}column-1-2{% endif %}">
-      {% include pro/project-card.html project=project big_project=big_project %}
+    <div class="column {% if featured %}column-1{% else %}column-1-2{% endif %}">
+      {% include pro/project-card.html project=project featured=featured %}
     </div>
   {% endfor %}
   </div>
diff --git a/_posts/2012-02-06-whats-jekyll.md b/_posts/2012-02-06-whats-jekyll.md
index d9158f8d..7d4f6ca4 100644
--- a/_posts/2012-02-06-whats-jekyll.md
+++ b/_posts/2012-02-06-whats-jekyll.md
@@ -4,7 +4,7 @@ title: What's Jekyll?
 description: >
   Jekyll is a static site generator, an open-source tool for creating simple yet powerful websites of all shapes and sizes.
 tags: [hyde]
-author: mdo
+author: author2
 ---
 
 [Jekyll](https://jekyllrb.com) is a static site generator, an open-source tool for creating simple yet powerful websites of all shapes and sizes. From [the project's readme](https://github.com/mojombo/jekyll/blob/master/README.markdown):
@@ -19,4 +19,4 @@ It's an immensely useful tool and one we encourage you to use here with Hyde.
 
 Find out more by [visiting the project on GitHub](https://github.com/mojombo/jekyll).
 
-[docs]: ../docs/7.0.0/index.md
+[docs]: ../docs/7.3.0/index.md
diff --git a/_posts/2012-02-07-example-content.md b/_posts/2012-02-07-example-content.md
index 1328ddf5..0be62e4b 100644
--- a/_posts/2012-02-07-example-content.md
+++ b/_posts/2012-02-07-example-content.md
@@ -4,7 +4,7 @@ title: Example content
 description: >
   Howdy! This is an example blog post that shows several types of HTML content supported in this theme.
 tags: [hyde]
-author: mdo
+author: author2 
 ---
 
 Cum sociis natoque penatibus et magnis <a href="#">dis parturient montes</a>, nascetur ridiculus mus. *Aenean eu leo quam.* Pellentesque ornare sem lacinia quam venenatis vestibulum. Sed posuere consectetur est at lobortis. Cras mattis consectetur purus sit amet fermentum.
diff --git a/_posts/2013-12-28-introducing-hyde.md b/_posts/2013-12-28-introducing-hyde.md
index 0751d3ae..44fc7311 100644
--- a/_posts/2013-12-28-introducing-hyde.md
+++ b/_posts/2013-12-28-introducing-hyde.md
@@ -4,7 +4,7 @@ title: Introducing Hyde
 description: >
   Hyde is a brazen two-column [Jekyll](http://jekyllrb.com) theme that pairs a prominent sidebar with uncomplicated content.
 tags: [hyde]
-author: mdo
+author: author2
 ---
 
 Hyde is a brazen two-column [Jekyll](http://jekyllrb.com) theme that pairs a prominent sidebar with uncomplicated content. It's based on [Poole](http://getpoole.com), the Jekyll butler.
@@ -44,4 +44,4 @@ Hyde is developed on and hosted with GitHub. Head to the [GitHub repository](htt
 
 Thanks!
 
-[docs]: ../docs/7.0.0/index.md
+[docs]: ../docs/7.3.0/index.md
diff --git a/_posts/2016-03-08-introducing-hydejack.md b/_posts/2016-03-08-introducing-hydejack.md
index 73d5f197..0be23b5a 100644
--- a/_posts/2016-03-08-introducing-hydejack.md
+++ b/_posts/2016-03-08-introducing-hydejack.md
@@ -106,5 +106,5 @@ as each tag requires some setup work. I tend to think of it as categories that c
    ~~~
 
 
-[docs]: ../docs/7.0.0/index.md
+[docs]: ../docs/7.3.0/index.md
 [tag]: http://www.minddust.com/post/tags-and-categories-on-github-pages/
diff --git a/_posts/2016-08-30-social-media-impocalypse.md b/_posts/2016-08-30-social-media-impocalypse.md
index 951fbffe..b69bf791 100644
--- a/_posts/2016-08-30-social-media-impocalypse.md
+++ b/_posts/2016-08-30-social-media-impocalypse.md
@@ -42,4 +42,4 @@ See the [Documentation][docs]{:.heading.flip-title} for up-to-date instructions.
 [Get *Social Media Impocalypse* on GitHub](https://github.com/qwtel/hydejack/releases)
 
 
-[docs]: ../docs/7.0.0/index.md
+[docs]: ../docs/7.3.0/index.md
diff --git a/_posts/2016-09-17-the-fast-one.md b/_posts/2016-09-17-the-fast-one.md
index 83780ce9..c09ef411 100644
--- a/_posts/2016-09-17-the-fast-one.md
+++ b/_posts/2016-09-17-the-fast-one.md
@@ -47,7 +47,7 @@ help with loading speed as well (burred images get compressed by JPG much better
 
 [Get *The Fast One* on GitHub](https://github.com/qwtel/hydejack/releases)
 
-[docs]: ../docs/7.0.0/index.md
+[docs]: ../docs/7.3.0/index.md
 [gpsi]: https://developers.google.com/speed/pagespeed/insights/?url=http%3A%2F%2Fqwtel.com%2Fhydejack%2F
 
 *[FOUC]: Flash Of Unstyled Content
diff --git a/_posts/2017-05-03-javascripten.md b/_posts/2017-05-03-javascripten.md
index 3cc8df26..8f5e8ba0 100644
--- a/_posts/2017-05-03-javascripten.md
+++ b/_posts/2017-05-03-javascripten.md
@@ -58,9 +58,9 @@ See the [the migration guide][upgrade] for instructions on how to upgrade.
 
 ***
 
-[Get *JavaScripten* on GitHub](https://github.com/qwtel/hydejack/releases/tag/v7.0.0)
+[Get *JavaScripten* on GitHub](https://github.com/qwtel/hydejack/releases/tag/v7.3.0)
 
-[upgrade]: ../docs/7.0.0/upgrade.md
-[writing]: ../docs/7.0.0/writing.md
+[upgrade]: ../docs/7.3.0/upgrade.md
+[writing]: ../docs/7.3.0/writing.md
 
 *[FOUC]: Flash of Unstyled Content
diff --git a/_posts/2017-06-06-third-party-scripts.md b/_posts/2017-06-06-third-party-scripts.md
index af96efb0..94411d52 100644
--- a/_posts/2017-06-06-third-party-scripts.md
+++ b/_posts/2017-06-06-third-party-scripts.md
@@ -70,4 +70,4 @@ Maybe you won't even notice the difference.
 ### Fixes
 * Fix default color in gem-based theme
 
-[scripts]: ../docs/7.0.0/scripts.md
+[scripts]: ../docs/7.3.0/scripts.md
diff --git a/_posts/2017-06-21-related-projects-and-data-tables.md b/_posts/2017-06-21-related-projects-and-data-tables.md
index d7a8f094..11373ae8 100644
--- a/_posts/2017-06-21-related-projects-and-data-tables.md
+++ b/_posts/2017-06-21-related-projects-and-data-tables.md
@@ -90,4 +90,4 @@ There's many more minor changes and fixes that you can read below.
 * Fixed bug that caused the project animation to "jump" when using long project titles.
 * No more empty attributes on `img` tags.
 
-[writing]: ../docs/7.0.0/writing.md
+[writing]: ../docs/7.3.0/writing.md
diff --git a/_posts/2017-07-27-better-gem-support.md b/_posts/2017-07-27-better-gem-support.md
index 4c5ab4ff..23e870aa 100644
--- a/_posts/2017-07-27-better-gem-support.md
+++ b/_posts/2017-07-27-better-gem-support.md
@@ -51,7 +51,7 @@ For the full patch notes, read on.
     social:
       github: https://github.com/qwtel/hydejack
       npm: https://www.npmjs.com/package/hydejack
-      download: https://github.com/qwtel/hydejack/archive/v7.0.0.zip
+      download: https://github.com/qwtel/hydejack/archive/v7.3.0.zip
 
   data_social:
     github:
diff --git a/_posts/2017-11-17-whats-new-in-v7.md b/_posts/2017-11-17-whats-new-in-v7.md
new file mode 100644
index 00000000..8e343ae4
--- /dev/null
+++ b/_posts/2017-11-17-whats-new-in-v7.md
@@ -0,0 +1,63 @@
+---
+layout: post
+title: Hydejack's New Design
+description: >
+  This post introduces Hydejack's now background image, color palette and logo. Then there's a few jokes I wrote about it [sic].
+image: /assets/img/caleb-george.jpg
+hide_image: true
+tags: [hydejack]
+---
+
+While v7 brings an [insane amount of new stuff]({{ site.baseurl }}/CHANGELOG/#v700), the most notable change is the new background image.
+It is no longer *anti-selling* the theme.
+The old image was a blurred version of Napoleon Bonaparte, which was just... weird. I could tell the story of how this came to be,
+but I'd rather show you the new and improved background image.
+
+## New background image
+Yes, it's an aerial shot of a beach ([so hot right now](https://duckduckgo.com/?q=ios+11+background&t=ffab&iax=images&ia=images)).
+
+![Hydejack's background image]({{ site.baseurl }}/assets/img/caleb-george.jpg){:.lead}
+
+Q: What has this picture to do with Hydejack?
+Nothing really, I just like how it looks.
+However: Boat → Pirates → Hijacking → Hydejack (illuminati confirmed)
+
+Even though it is a free image from [Unsplash](https://unsplash.com/) (...), it's unique in the sense that
+I've modified it so it looks better inside the sidebar.
+Specifically, I've straightened out the beach and rotated the boat so that it sits at a nice 90 degree angle.
+
+For comparison, here is the non-euclidean mess the [original photo](https://unsplash.com/photos/AtvuPUenaeI) was. Pretty OCD, I know.
+
+![Original photo]({{ site.baseurl }}/assets/img/caleb-george-old.jpg){:.lead}
+
+## New color palette
+I've extracted the major colors from the background image, which now form Hydejack's color palette:
+
+![Hydejacks's color palette]({{ site.baseurl }}/assets/img/COLOURlovers.com-Hydejack.png){:.lead style="border: 1px solid #ddd"}
+
+## New logo
+Hydejack also has a new logo, which is based on the new color palette.
+It also features the best font on Google Fonts, and probably the world: [Roboto Slab](https://fonts.google.com/specimen/Roboto+Slab)
+(which is to say, I like it a lot).
+
+![Hydejack's logo]({{ site.baseurl }}/assets/icons/icon.png)
+
+## Introducing the new default theme...
+
+Hydejack's new default theme is so hip and young, *it's like overpriced apple cider for the web*.
+
+Hydejack's new default theme is so hip and young, *its relationship with flat design is "complicated"*.
+
+Hydejack's new default theme is so hip and young, *every screenshot of it disappears after 24 hours*.
+
+Hydejack's new default theme is so hip and young, *it's embarrassed by its font-family*.
+
+Hydejack's new default theme is so hip and young, *it lets you swipe right without regrets*.
+
+Hydejack's new default theme is so hip and young, *all images of animals have been replaced with images of plants*.
+
+Hydejack's new default theme is so hip and young, *it has been accused of "white-spacing"*.
+
+
+
+[^1]: I should mention that these are only default values. Hydejack let's you choose your own. For inspiration, I've recently added [a gallery]({{ site.baseurl }}/projects/) to the site that shows a few variations of the theme.
diff --git a/_projects/default.md b/_projects/default.md
index 43366017..92a42ab8 100644
--- a/_projects/default.md
+++ b/_projects/default.md
@@ -5,19 +5,19 @@ title:        Default
 caption:      So fresh and young.
 description:  >
   This theme is so fresh and young, it's basically overpriced apple cider for the web.
-image:        /hydejack/assets/img/projects/default.jpg
+image:        /assets/img/projects/default.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/default.jpg
+  src:        /assets/img/projects/default.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/default.jpg
-    960w:     /hydejack/assets/img/projects/default@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/default@0,25x.jpg
+    1920w:    /assets/img/projects/default.jpg
+    960w:     /assets/img/projects/default@0,5x.jpg
+    480w:     /assets/img/projects/default@0,25x.jpg
 links:
   - title:    Demo
     url:      https://qwtel.com/hydejack/
-big_project:  true
+featured:     true
 accent_color: '#4fb1ba'
-accent_image: /hydejack/assets/img/sidebar-bg.jpg
+accent_image: /assets/img/sidebar-bg.jpg
 ---
 
 ![Typeface](../assets/img/default-1.jpg){:.lead}
@@ -33,16 +33,20 @@ It features everything that's hot right now:
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/hyde.md b/_projects/hyde.md
index af17f5f6..c38a8319 100644
--- a/_projects/hyde.md
+++ b/_projects/hyde.md
@@ -5,17 +5,17 @@ title:        Hyde
 caption:      Capturing the magic of the original Hyde theme.
 description:  >
   Capturing the magic of the original Hyde theme, complete with Abril Fatface title font and PT Serif for regular text.
-image:        /hydejack/assets/img/projects/hyde.jpg
+image:        /assets/img/projects/hyde.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/hyde.jpg
+  src:        /assets/img/projects/hyde.jpg
   srcset:   
-    1920w:    /hydejack/assets/img/projects/hyde.jpg
-    960w:     /hydejack/assets/img/projects/hyde@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/hyde@0,25x.jpg
+    1920w:    /assets/img/projects/hyde.jpg
+    960w:     /assets/img/projects/hyde@0,5x.jpg
+    480w:     /assets/img/projects/hyde@0,25x.jpg
 links:
   - title:    Demo
     url:      https://qwtel.com/hydejack-hyde/
-big_project:  true
+featured:     true
 accent_color: '#268bd2'
 accent_image:
   background: '#202020'
@@ -44,6 +44,7 @@ accent_image:
 ~~~css
 .sidebar h2 {
   font-family: 'Abril Fatface', serif!important;
+  font-weight: normal;
   font-size: 3rem;
 }
 ~~~
@@ -51,16 +52,20 @@ accent_image:
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/oldschool.md b/_projects/oldschool.md
index befffeb2..895e4279 100644
--- a/_projects/oldschool.md
+++ b/_projects/oldschool.md
@@ -5,19 +5,19 @@ title:        Oldschool
 caption:      Who needs CSS when you got the power of *HTML*?
 description:  >
   Who needs CSS when you got the power of *HTML*? These were the good ol' days when website were just documents.
-image:        /hydejack/assets/img/projects/oldschool.jpg
+image:        /assets/img/projects/oldschool.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/oldschool.jpg
+  src:        /assets/img/projects/oldschool.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/oldschool.jpg
-    960w:     /hydejack/assets/img/projects/oldschool@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/oldschool@0,25x.jpg
+    1920w:    /assets/img/projects/oldschool.jpg
+    960w:     /assets/img/projects/oldschool@0,5x.jpg
+    480w:     /assets/img/projects/oldschool@0,25x.jpg
 links:
   - title:    Demo
     url:      https://qwtel.com/hydejack-oldschool/
-big_project:  true
+featured:     true
 accent_color: '#00e'
-accent_image: /hydejack/assets/img/oldschool-bg.jpg
+accent_image: /assets/img/oldschool-bg.jpg
 ---
 
 ![Typeface](../assets/img/oldschool-1.jpg){:.lead}
@@ -42,7 +42,7 @@ hydejack:
 ### `_sass/my-inline.scss`
 
 ~~~css
-.project-card, .project-card-image, .pagination-item > * {
+.project-card, .project-card-img, .pagination-item > * {
   border-radius: 0!important;
 }
 
@@ -75,18 +75,21 @@ a {
 ***
 
 ## Attributions
-* [Sun SparcStation 10 with CRT.jpg](https://commons.wikimedia.org/wiki/File:Sun_SparcStation_10_with_CRT.jpg)
-  by Thomas Kaiser.
-  License: [CC-BY-SA-3.0]. Changes: Sun logos removed, perspective distortion;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
-* [Mandel zoom 08 satellite antenna.jpg](https://commons.wikimedia.org/wiki/File:Mandel_zoom_08_satellite_antenna.jpg).
-  License: [CC-BY-SA-3.0]. Changes: None;
+
+| Work                                                    | License        | Changes
+|:------------------------------------------------------- |:---------------|:-
+| [Sun SparcStation 10 with CRT.jpg][11] by Thomas Kaiser | [CC-BY-SA-3.0] | Sun logos removed, perspective distortion
+| [iPhone 6S Rose Gold.png][21]                           | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]                | [CC-BY-SA-4.0] | Desaturated
+| [Mandel zoom 08 satellite antenna.jpg][41]              | [CC-BY-SA-3.0] | None
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:Sun_SparcStation_10_with_CRT.jpg
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+[41]: https://commons.wikimedia.org/wiki/File:Mandel_zoom_08_satellite_antenna.jpg
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/pretentious.md b/_projects/pretentious.md
index 3ede3612..10ed2f9c 100644
--- a/_projects/pretentious.md
+++ b/_projects/pretentious.md
@@ -2,31 +2,34 @@
 layout:       project
 date:         06 Aug 2017
 title:        Pretentious
-caption:      This one puts the "pretentious" in "A pretentious two-column Jekyll theme".
+caption:      A pretentious two-column Jekyll theme.
 description:  >
   A pretentious two-column [Jekyll](http://jekyllrb.com/) theme,
   stolen by [@qwtel](https://twitter.com/qwtel)
   from [Hyde](http://hyde.getpoole.com). You could say it was..
   [hydejacked](http://media3.giphy.com/media/makedRIckZBW8/giphy.gif).
-image:        /hydejack/assets/img/projects/pretentious.jpg
+image:        /assets/img/projects/pretentious.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/pretentious.jpg
+  src:        /assets/img/projects/pretentious.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/pretentious.jpg
-    960w:     /hydejack/assets/img/projects/pretentious@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/pretentious@0,25x.jpg
+    1920w:    /assets/img/projects/pretentious.jpg
+    960w:     /assets/img/projects/pretentious@0,5x.jpg
+    480w:     /assets/img/projects/pretentious@0,25x.jpg
 links:
   - title:    Demo
     url:      https://qwtel.com/hydejack-pretentious/
-big_project:  true
+featured:     true
 accent_color: '#a85641'
-accent_image: /hydejack/assets/img/pretentious-bg.jpg
+accent_image: /assets/img/pretentious-bg.jpg
 ---
 
 ![Typeface](../assets/img/pretentious-1.jpg){:.lead}
 
 ## Usage
-To use this flavor, make the following changes to following files:
+First, [download the modified icon font](https://qwtel.com/hydejack/assets/icomoon-pretentious.zip){:download=''},
+unzip it, and replace the `icomoon` folder in `assets` with the new version.
+
+You also need to make the following changes to following files:
 
 ### `_config.yml`
 
@@ -35,7 +38,7 @@ google_fonts:          Playfair+Display+SC:700|PT+Serif:400,400i,700,700i
 font:                  "'PT Serif', Georgia, serif"
 font_heading:          "'Playfair Display SC', Georgia, serif"
 
-accent_image:          /hydejack-pretentious/assets/img/sidebar-bg.jpg
+accent_image:          /assets/img/sidebar-bg.jpg
 accent_color:          '#a85641'
 ~~~
 
@@ -142,16 +145,20 @@ a.sidebar-nav-item::before, a.sidebar-nav-item::after {
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-blue.md b/_projects/solid-blue.md
index d8fd6cd3..b55add9d 100644
--- a/_projects/solid-blue.md
+++ b/_projects/solid-blue.md
@@ -5,13 +5,13 @@ title:        Solid Blue
 caption:      A solid blue sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same blue as the "0d"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-blue.jpg
+image:        /assets/img/projects/base-blue.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/base-blue.jpg
+  src:        /assets/img/projects/base-blue.jpg
   srcset:   
-    1920w:    /hydejack/assets/img/projects/base-blue.jpg
-    960w:     /hydejack/assets/img/projects/base-blue@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-blue@0,25x.jpg
+    1920w:    /assets/img/projects/base-blue.jpg
+    960w:     /assets/img/projects/base-blue@0,5x.jpg
+    480w:     /assets/img/projects/base-blue@0,25x.jpg
 accent_color: '#6a9fb5'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-brown.md b/_projects/solid-brown.md
index 2d382204..3672c5a2 100644
--- a/_projects/solid-brown.md
+++ b/_projects/solid-brown.md
@@ -5,13 +5,13 @@ title:        Solid Brown
 caption:      A solid brown sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same brown as the "0f"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-brown.jpg
+image:        /assets/img/projects/base-brown.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/base-brown.jpg
+  src:        /assets/img/projects/base-brown.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/base-brown.jpg
-    960w:     /hydejack/assets/img/projects/base-brown@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-brown@0,25x.jpg
+    1920w:    /assets/img/projects/base-brown.jpg
+    960w:     /assets/img/projects/base-brown@0,5x.jpg
+    480w:     /assets/img/projects/base-brown@0,25x.jpg
 accent_color: '#8f5536'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-cyan.md b/_projects/solid-cyan.md
index e99556ce..47899350 100644
--- a/_projects/solid-cyan.md
+++ b/_projects/solid-cyan.md
@@ -5,13 +5,13 @@ title:        Solid Cyan
 caption:      A solid cyan sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same cyan as the "0c"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-cyan.jpg
+image:        /assets/img/projects/base-cyan.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/base-cyan.jpg
+  src:        /assets/img/projects/base-cyan.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/base-cyan.jpg
-    960w:     /hydejack/assets/img/projects/base-cyan@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-cyan@0,25x.jpg
+    1920w:    /assets/img/projects/base-cyan.jpg
+    960w:     /assets/img/projects/base-cyan@0,5x.jpg
+    480w:     /assets/img/projects/base-cyan@0,25x.jpg
 accent_color: '#75b5aa'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-green.md b/_projects/solid-green.md
index 7c6953bd..93db71d9 100644
--- a/_projects/solid-green.md
+++ b/_projects/solid-green.md
@@ -5,13 +5,13 @@ title:        Solid Green
 caption:      A solid green sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same green as the "0b"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-green.jpg
+image:        /assets/img/projects/base-green.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/base-green.jpg
+  src:        /assets/img/projects/base-green.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/base-green.jpg
-    960w:     /hydejack/assets/img/projects/base-green@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-green@0,25x.jpg
+    1920w:    /assets/img/projects/base-green.jpg
+    960w:     /assets/img/projects/base-green@0,5x.jpg
+    480w:     /assets/img/projects/base-green@0,25x.jpg
 accent_color: '#90a959'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-magenta.md b/_projects/solid-magenta.md
index 46d67bc9..5b1f986e 100644
--- a/_projects/solid-magenta.md
+++ b/_projects/solid-magenta.md
@@ -5,13 +5,13 @@ title:        Solid Magenta
 caption:      A solid magenta sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same magenta as the "0e"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-magenta.jpg
+image:        /assets/img/projects/base-magenta.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/base-magenta.jpg
+  src:        /assets/img/projects/base-magenta.jpg
   srcset:   
-    1920w:    /hydejack/assets/img/projects/base-magenta.jpg
-    960w:     /hydejack/assets/img/projects/base-magenta@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-magenta@0,25x.jpg
+    1920w:    /assets/img/projects/base-magenta.jpg
+    960w:     /assets/img/projects/base-magenta@0,5x.jpg
+    480w:     /assets/img/projects/base-magenta@0,25x.jpg
 accent_color: '#aa759f'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-orange.md b/_projects/solid-orange.md
index 854b262a..19dd50f4 100644
--- a/_projects/solid-orange.md
+++ b/_projects/solid-orange.md
@@ -5,13 +5,13 @@ title:        Solid Orange
 caption:      A solid orange sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same orange as the "09"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-orange.jpg
+image:        /assets/img/projects/base-orange.jpg
 screenshot:
-  src:        /hydejack/assets/img/projects/base-orange.jpg
+  src:        /assets/img/projects/base-orange.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/base-orange.jpg
-    960w:     /hydejack/assets/img/projects/base-orange@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-orange@0,25x.jpg
+    1920w:    /assets/img/projects/base-orange.jpg
+    960w:     /assets/img/projects/base-orange@0,5x.jpg
+    480w:     /assets/img/projects/base-orange@0,25x.jpg
 accent_color: '#d28445'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-red.md b/_projects/solid-red.md
index 7fde4c62..2717abce 100644
--- a/_projects/solid-red.md
+++ b/_projects/solid-red.md
@@ -5,13 +5,13 @@ title:        Solid Red
 caption:      A solid red sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same red as the "08"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-red.jpg
+image:        /assets/img/projects/base-red.jpg
 screenshot:
-  path:       /hydejack/assets/img/projects/base-red.jpg
+  path:       /assets/img/projects/base-red.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/base-red.jpg
-    960w:     /hydejack/assets/img/projects/base-red@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-red@0,25x.jpg
+    1920w:    /assets/img/projects/base-red.jpg
+    960w:     /assets/img/projects/base-red@0,5x.jpg
+    480w:     /assets/img/projects/base-red@0,25x.jpg
 accent_color: '#ac4142'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_projects/solid-yellow.md b/_projects/solid-yellow.md
index fb9af135..8dd90fb5 100644
--- a/_projects/solid-yellow.md
+++ b/_projects/solid-yellow.md
@@ -5,13 +5,13 @@ title:        Solid Yellow
 caption:      A solid yellow sidebar
 description:  >
   This flavor of Hydejack changes the accent color and sidebar color to the same yellow as the "0a"-theme of the original Hyde Jekyll theme.
-image:        /hydejack/assets/img/projects/base-yellow.jpg
+image:        /assets/img/projects/base-yellow.jpg
 screenshot:
-  path:       /hydejack/assets/img/projects/base-yellow.jpg
+  path:       /assets/img/projects/base-yellow.jpg
   srcset:
-    1920w:    /hydejack/assets/img/projects/base-yellow.jpg
-    960w:     /hydejack/assets/img/projects/base-yellow@0,5x.jpg
-    480w:     /hydejack/assets/img/projects/base-yellow@0,25x.jpg
+    1920w:    /assets/img/projects/base-yellow.jpg
+    960w:     /assets/img/projects/base-yellow@0,5x.jpg
+    480w:     /assets/img/projects/base-yellow@0,25x.jpg
 accent_color: '#f4bf75'
 accent_image: none
 ---
@@ -26,16 +26,20 @@ accent_image: none
 ***
 
 ## Attributions
-* [IMac vector.svg](https://commons.wikimedia.org/wiki/File:IMac_vector.svg)
-  by [Rafael Fernandez](https://commons.wikimedia.org/wiki/User:TheGoldenBox).
-  License: [CC-BY-SA-3.0]. Changes: Apple logo removed, rasterized;
-* [iPhone 6S Rose Gold.png](https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png).
-  License: [CC-BY-SA-3.0]. Changes: Desaturated;
-* [iPad Air 2.png](https://commons.wikimedia.org/wiki/File:IPad_Air_2.png)
-  by [Justinhu12](https://commons.wikimedia.org/wiki/User:Justinhu12).
-  License: [CC-BY-SA-4.0]. Changes: Desaturated;
+
+| Work                                                   | License        | Changes
+|:-------------------------------------------------------|:---------------|:-
+| [IMac vector.svg][11] by [Rafael Fernandez][12]        | [CC-BY-SA-3.0] | Apple logo removed, rasterized
+| [iPhone 6S Rose Gold.png][21]                          | [CC-BY-SA-3.0] | Desaturated
+| [iPad Air 2.png][31] by [Justinhu12][32]               | [CC-BY-SA-4.0] | Desaturated
 
 Screenshots can be reused under [CC-BY-SA-4.0].
 
+[11]: https://commons.wikimedia.org/wiki/File:IMac_vector.svg
+[12]: https://commons.wikimedia.org/wiki/User:TheGoldenBox
+[21]: https://commons.wikimedia.org/wiki/File:IPhone_6S_Rose_Gold.png
+[31]: https://commons.wikimedia.org/wiki/File:IPad_Air_2.png
+[32]: https://commons.wikimedia.org/wiki/User:Justinhu12
+
 [CC-BY-SA-4.0]: https://creativecommons.org/licenses/by-sa/4.0/
 [CC-BY-SA-3.0]: https://creativecommons.org/licenses/by-sa/3.0/
diff --git a/_sass/_variables.scss b/_sass/_variables.scss
index a2a2671e..4f370d29 100644
--- a/_sass/_variables.scss
+++ b/_sass/_variables.scss
@@ -7,7 +7,11 @@ $root-font-size-medium: 17px;
 $root-font-size-large: 18px;
 $root-line-height: 1.75;
 
-$body-color: #333;
+$font-weight: 400;
+$font-weight-bold: 700;
+$font-weight-heading: 700;
+
+$body-color: #444;
 $body-bg: #fff;
 
 $border-color: #eee;
diff --git a/_sass/hydejack/__inline/_base.scss b/_sass/hydejack/__inline/_base.scss
index f397acc1..16ee2e20 100644
--- a/_sass/hydejack/__inline/_base.scss
+++ b/_sass/hydejack/__inline/_base.scss
@@ -43,7 +43,7 @@ html {
 
 // @media print { html { font-size: $root-font-size; } } 
 // Link styles
-a, .a {
+hy-push-state a, .a {
   position: relative; 
   padding-bottom: .15rem; 
   border-bottom: 1px solid; 
@@ -51,8 +51,7 @@ a, .a {
   
 }
 
-// .author { margin-top: 3rem; } 
-.img {
+.content .img {
   overflow: hidden; 
   background-color: $gray-bg; 
   
@@ -88,6 +87,7 @@ a, .a {
 .mb6 { margin-bottom: 6rem }
 .mt0 { margin-top: 0 }
 .mt3 { margin-top: 3rem }
+.mt4 { margin-top: 4rem }
 .pb0 { padding-bottom: 0 }
 
 
diff --git a/_sass/hydejack/__inline/_sidebar.scss b/_sass/hydejack/__inline/_sidebar.scss
index 99faa640..ff41ada8 100644
--- a/_sass/hydejack/__inline/_sidebar.scss
+++ b/_sass/hydejack/__inline/_sidebar.scss
@@ -116,8 +116,8 @@ hy-drawer {
 }
 
 a.sidebar-nav-item {
-  font-weight: bold;
   display: block;
+  font-weight: $font-weight-heading;
   line-height: 1.75;
   padding: .25rem 0;
   border-bottom: 1px solid rgba(255, 255, 255, 0.2);
diff --git a/_sass/hydejack/__link/_base.scss b/_sass/hydejack/__link/_base.scss
index 230f3802..9ae414a0 100644
--- a/_sass/hydejack/__link/_base.scss
+++ b/_sass/hydejack/__link/_base.scss
@@ -33,7 +33,7 @@ hy-push-state, hy-drawer {
 
 @media print { html { font-size: $root-font-size; } } 
 // Link styles
-a, .a {
+hy-push-state a, .a {
 //   position: relative; 
 //   padding-bottom: .15rem; 
 //   border-bottom: 1px solid; 
@@ -56,8 +56,7 @@ a, .a {
   
 }
 
-.author { margin-top: 3rem; } 
-.img {
+.content .img {
 //   overflow: hidden; 
 //   background-color: $gray-bg; 
   background-position: center;
diff --git a/_sass/hydejack/__link/_break-layout.scss b/_sass/hydejack/__link/_break-layout.scss
index 5ccf57e1..2c36fd29 100644
--- a/_sass/hydejack/__link/_break-layout.scss
+++ b/_sass/hydejack/__link/_break-layout.scss
@@ -10,7 +10,7 @@
  */
 
 
-pre, table:not(.highlight), .katex-display, .break-layout, .message  {
+pre, table:not(.highlight), .katex-display, .break-layout  {
   @media screen {
     position: relative;
     width: calc(100vw - .5rem);
@@ -41,29 +41,3 @@ pre, table:not(.highlight), .katex-display, .break-layout, .message  {
   }
 }
 
-.message  {
-  @media screen and (min-width: 38rem) {
-    padding-right: calc(50vw - (38rem / 2) + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-2) {
-    padding-right: calc(50vw - (42rem / 2) + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-3) {
-    padding-right: 4rem + 1rem;
-  }
-
-  @media screen and (min-width: $break-point-4) {
-    padding-right: calc(100vw - 42rem - 22rem + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-5) {
-    padding-right: calc(100vw - 48rem - 22rem + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-dynamic) {
-    padding-right: calc(50vw - (48rem / 2) + 1rem);
-  }
-}
-
diff --git a/_sass/hydejack/__link/_sidebar.scss b/_sass/hydejack/__link/_sidebar.scss
index dc5d8677..7685421b 100644
--- a/_sass/hydejack/__link/_sidebar.scss
+++ b/_sass/hydejack/__link/_sidebar.scss
@@ -91,8 +91,8 @@ hy-drawer {
 }
 
 a.sidebar-nav-item {
-  font-weight: bold;
   display: block;
+  font-weight: $font-weight-heading;
   line-height: 1.75;
   padding: .25rem 0;
   border-bottom: 1px solid rgba(255, 255, 255, 0.2);
diff --git a/_sass/hydejack/_base.pre.scss b/_sass/hydejack/_base.pre.scss
index 8e71a784..963f772e 100644
--- a/_sass/hydejack/_base.pre.scss
+++ b/_sass/hydejack/_base.pre.scss
@@ -45,7 +45,7 @@ html {
 @media print { html { font-size: $root-font-size; } } // link
 
 // Link styles
-a, .a {
+hy-push-state a, .a {
   position: relative; // inline
   padding-bottom: .15rem; // inline
   border-bottom: 1px solid; // inline
@@ -69,9 +69,7 @@ a, .a {
   // >>>
 }
 
-.author { margin-top: 3rem; } // link
-
-.img {
+.content .img {
   overflow: hidden; // inline
   background-color: $gray-bg; // inline
 
@@ -112,6 +110,7 @@ a, .a {
 .mb6 { margin-bottom: 6rem }
 .mt0 { margin-top: 0 }
 .mt3 { margin-top: 3rem }
+.mt4 { margin-top: 4rem }
 .pb0 { padding-bottom: 0 }
 // >>>>> INLINE
 
diff --git a/_sass/hydejack/_break-layout.pre.scss b/_sass/hydejack/_break-layout.pre.scss
index b4fd4fa0..e61bbac4 100644
--- a/_sass/hydejack/_break-layout.pre.scss
+++ b/_sass/hydejack/_break-layout.pre.scss
@@ -1,5 +1,5 @@
 // <<<<< LINK
-pre, table:not(.highlight), .katex-display, .break-layout, .message  {
+pre, table:not(.highlight), .katex-display, .break-layout  {
   @media screen {
     position: relative;
     width: calc(100vw - .5rem);
@@ -29,30 +29,4 @@ pre, table:not(.highlight), .katex-display, .break-layout, .message  {
     width: calc(100% + 50vw - (48rem / 2) + 2rem);
   }
 }
-
-.message  {
-  @media screen and (min-width: 38rem) {
-    padding-right: calc(50vw - (38rem / 2) + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-2) {
-    padding-right: calc(50vw - (42rem / 2) + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-3) {
-    padding-right: 4rem + 1rem;
-  }
-
-  @media screen and (min-width: $break-point-4) {
-    padding-right: calc(100vw - 42rem - 22rem + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-5) {
-    padding-right: calc(100vw - 48rem - 22rem + 1rem);
-  }
-
-  @media screen and (min-width: $break-point-dynamic) {
-    padding-right: calc(50vw - (48rem / 2) + 1rem);
-  }
-}
 // >>>>>
diff --git a/_sass/hydejack/_sidebar.pre.scss b/_sass/hydejack/_sidebar.pre.scss
index abfa0c15..611d47a1 100644
--- a/_sass/hydejack/_sidebar.pre.scss
+++ b/_sass/hydejack/_sidebar.pre.scss
@@ -123,8 +123,8 @@ hy-drawer {
 }
 
 a.sidebar-nav-item {
-  font-weight: bold;
   display: block;
+  font-weight: $font-weight-heading;
   line-height: 1.75;
   padding: .25rem 0;
   border-bottom: 1px solid rgba(255, 255, 255, 0.2);
diff --git a/_sass/my-variables.scss b/_sass/my-variables.scss
new file mode 100644
index 00000000..8b9ba3af
--- /dev/null
+++ b/_sass/my-variables.scss
@@ -0,0 +1,31 @@
+// Use this file to override the theme-wide default variables.
+
+// $gray: #888;
+// $gray-bg: rgba(0,0,0,.025);
+// $gray-text: #666;
+//
+// $root-font-size: 16px;
+// $root-font-size-medium: 17px;
+// $root-font-size-large: 18px;
+// $root-line-height: 1.75;
+//
+// $font-weight: 400;
+// $font-weight-bold: 700;
+// $font-weight-heading: 700;
+//
+// $body-color: #333;
+// $body-bg: #fff;
+//
+// $border-color: #eee;
+//
+// $code-font-family: Menlo, Monaco, Consolas, monospace;
+// $code-color: inherit;
+// $code-bg: $gray-bg;
+//
+// $break-point-1: 42em;
+// $break-point-2: 54em;
+// $break-point-3: 64em;
+// $break-point-4: 72em;
+// $break-point-5: 90em;
+// $break-point-dynamic: 104.25em;
+// $break-point-font-large: 125em;
diff --git a/_sass/pooleparty/__inline/_base.scss b/_sass/pooleparty/__inline/_base.scss
index b6fe1b4c..9d1ea4e2 100644
--- a/_sass/pooleparty/__inline/_base.scss
+++ b/_sass/pooleparty/__inline/_base.scss
@@ -42,7 +42,7 @@ a {
   margin-right: -1rem;
 }
 
-img, .img {
+.content img, .img {
   display: block;
   max-width: 100%;
   margin-bottom: 1rem;
diff --git a/_sass/pooleparty/__inline/_type.scss b/_sass/pooleparty/__inline/_type.scss
index e4ef3e45..00c5ecec 100644
--- a/_sass/pooleparty/__inline/_type.scss
+++ b/_sass/pooleparty/__inline/_type.scss
@@ -15,12 +15,12 @@
 
 
 h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
-  font-weight: bold;
+  font-weight: $font-weight-heading;
   margin: 4rem 0 1rem;
 }
 
 .heading {
-  font-weight: bold;
+  font-weight: $font-weight-heading;
 }
 
 h1, .h1 {
@@ -63,6 +63,10 @@ hr {
   border-top: 1px solid $border-color;
 }
 
+strong {
+  font-weight: $font-weight-bold;
+}
+
 .hr {
   border-bottom: 1px solid $border-color;
   padding-bottom: .5rem;
diff --git a/_sass/pooleparty/__link/_footnotes.scss b/_sass/pooleparty/__link/_footnotes.scss
index 101aeb9d..04ae7eac 100644
--- a/_sass/pooleparty/__link/_footnotes.scss
+++ b/_sass/pooleparty/__link/_footnotes.scss
@@ -19,7 +19,7 @@ a[href^="#fn:"],
 // Back to footnote link
 a[href^="#fnref:"] {
   margin-left: .1rem;
-  font-weight: bold;
+  font-weight: $font-weight-bold;
 
   @media screen and (max-width: 73.5em) {
     font-weight: normal;
diff --git a/_sass/pooleparty/__link/_type.scss b/_sass/pooleparty/__link/_type.scss
index f4693248..3349113d 100644
--- a/_sass/pooleparty/__link/_type.scss
+++ b/_sass/pooleparty/__link/_type.scss
@@ -29,7 +29,7 @@ h5 + h6, .h5 + .h6, h5 + .h6, .h5 + h6 {
 }
 
 dt {
-  font-weight: bold;
+  font-weight: $font-weight-bold;
 }
 
 dd {
@@ -38,7 +38,7 @@ dd {
 
 abbr {
   font-size: 85%;
-  font-weight: bold;
+  font-weight: $font-weight-bold;
   color: #555;
   text-transform: uppercase;
 
diff --git a/_sass/pooleparty/_base.pre.scss b/_sass/pooleparty/_base.pre.scss
index 35e351f7..793a712c 100644
--- a/_sass/pooleparty/_base.pre.scss
+++ b/_sass/pooleparty/_base.pre.scss
@@ -31,7 +31,7 @@ a {
   margin-right: -1rem;
 }
 
-img, .img {
+.content img, .img {
   display: block;
   max-width: 100%;
   margin-bottom: 1rem;
diff --git a/_sass/pooleparty/_footnotes.pre.scss b/_sass/pooleparty/_footnotes.pre.scss
index 0b8dfbdd..21be4088 100644
--- a/_sass/pooleparty/_footnotes.pre.scss
+++ b/_sass/pooleparty/_footnotes.pre.scss
@@ -8,7 +8,7 @@ a[href^="#fn:"],
 // Back to footnote link
 a[href^="#fnref:"] {
   margin-left: .1rem;
-  font-weight: bold;
+  font-weight: $font-weight-bold;
 
   @media screen and (max-width: 73.5em) {
     font-weight: normal;
diff --git a/_sass/pooleparty/_type.pre.scss b/_sass/pooleparty/_type.pre.scss
index 32a1febe..39611336 100644
--- a/_sass/pooleparty/_type.pre.scss
+++ b/_sass/pooleparty/_type.pre.scss
@@ -4,12 +4,12 @@
 
 // <<<<< INLINE
 h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
-  font-weight: bold;
+  font-weight: $font-weight-heading;
   margin: 4rem 0 1rem;
 }
 
 .heading {
-  font-weight: bold;
+  font-weight: $font-weight-heading;
 }
 
 h1, .h1 {
@@ -52,6 +52,10 @@ hr {
   border-top: 1px solid $border-color;
 }
 
+strong {
+  font-weight: $font-weight-bold;
+}
+
 .hr {
   border-bottom: 1px solid $border-color;
   padding-bottom: .5rem;
@@ -83,7 +87,7 @@ h5 + h6, .h5 + .h6, h5 + .h6, .h5 + h6 {
 }
 
 dt {
-  font-weight: bold;
+  font-weight: $font-weight-bold;
 }
 
 dd {
@@ -92,7 +96,7 @@ dd {
 
 abbr {
   font-size: 85%;
-  font-weight: bold;
+  font-weight: $font-weight-bold;
   color: #555;
   text-transform: uppercase;
 
diff --git a/_sass/pro/_message-newsletter.scss b/_sass/pro/_message-newsletter.scss
index 502f9fb7..fe9fb3f2 100644
--- a/_sass/pro/_message-newsletter.scss
+++ b/_sass/pro/_message-newsletter.scss
@@ -1,6 +1,5 @@
 // <<<<< LINK
 .message-newsletter {
-  // margin: 3rem -1rem;
   > *:first-child { margin-top: 3rem; }
   > *:last-child { margin-bottom: 3rem; }
 
@@ -18,36 +17,4 @@ form {
 }
 
 button[type=submit], input[type=submit] { cursor: pointer; }
-
-// input, button {
-//   border: none;
-//   border-radius: .25rem;
-//   margin: 0;
-//   font-family: Roboto Slab;
-// }
-//
-// input[type=text], input[type=email], input[type=password] {
-//   padding: 1rem;
-//   height: 3rem;
-//   font-size: 1rem;
-//   line-height: 1rem;
-//   width: 20rem;
-//   /* background-color: rgba(0, 0, 0, 0.015); */
-//   box-shadow: inset .125rem .125rem .5rem rgba(0, 0, 0, .1);
-//   color: #333;
-//   margin-bottom: 1rem;
-// }
-//
-// label[for] {
-//   font-size: .83em;
-// }
-//
-// button[type=submit], input[type=submit] {
-//   padding: 1rem;
-//   height: 3rem;
-//   font-size: 1rem;
-//   line-height: 1rem;
-//   background: #4fb1ba;
-//   color: #fff;
-// }
 // >>>>>
diff --git a/_sass/pro/_projects.scss b/_sass/pro/_projects.scss
index 7b4689f9..7489983d 100644
--- a/_sass/pro/_projects.scss
+++ b/_sass/pro/_projects.scss
@@ -42,8 +42,8 @@
     width: 100%;
     background: $body-bg;
     border: 1px solid $border-color;
-    padding-bottom: 0.75rem;
-    margin-bottom: 1rem;
+    padding-bottom: .75rem;
+    margin-bottom: 1.5rem;
     overflow: hidden;
     border-radius: .25rem;
     contain: content;
diff --git a/_sass/pro/_resume.scss b/_sass/pro/_resume.scss
index a0c01b64..1f6e4ae5 100644
--- a/_sass/pro/_resume.scss
+++ b/_sass/pro/_resume.scss
@@ -6,6 +6,7 @@
   .h4 {
     margin-top: 0;
     font-family: unset!important;
+    font-weight: $font-weight-bold;
   }
 
   .bc {
@@ -18,7 +19,7 @@
   }
 
   .bold {
-    font-weight: bold;
+    font-weight: $font-weight-bold;
   }
 
   header > p {
diff --git a/about.md b/about.md
deleted file mode 100644
index 63de19b2..00000000
--- a/about.md
+++ /dev/null
@@ -1,62 +0,0 @@
----
-layout: about
-title: About
-menu: true
-order: 4
----
-
-## Hydejack
-Hydejack is a cutting-edge Jekyll theme that combines the best of static sites and modern web apps. It features a suite of JavaScript that makes the page feel like an app, without sacrificing backwards-compatibility, page-load speed or SEO.
-
-> Your presence on the web --- A [blog], a [portfolio] and a [resume].
-{:.lead}
-
-It aims to be the complete package for professionals on the web. It features a blog suitable for both prose and technical documentation, a showcase for projects and a resume that fits with the rest of the design.
-
-Open `about.md` to edit this text.
-
-### Features
-Both the PRO *and* free version includes all of the features listed below:
-
-* Full in-app page loading --- no Flash of White, no Flash of Unstyled Content[^1]
-* Advanced animations, inspired by Material Design
-* A customizable sidebar that turns into a touch-enabled app drawer on mobile
-* Near-perfect [Google PageSpeed Score][gpss][^2]
-* Even higher *perceived speed* thanks to pre-fetching and latency-hiding
-* Support for categories and tags --- even when hosting on GitHub Pages
-* Built-in collection of social media icons
-* Author section below each article and multiple authors
-* Simple and semantic HTML --- can be viewed even with text-based browsers
-* Progressive enhancement --- sacrifice features, not content
-* Google Analytics and Google Fonts support
-* Blog layout with pagination
-* Syntax highlighting
-* Math formulas via LaTeX
-* Disqus comments
-* RSS feed
-* Print layout
-
-### [Documentation][docs]{:.flip-title}
-Hydejack is documented extensively.
-You can read it [on this site][docs], in the [repository's wiki][wiki], or [download the PDF][github].
-
-Open `about.md` to edit this text.
-
-[^1]: Applies after the initial page load.  
-[^2]: Actual page load speed depends on your hosting provider as well as discipline regarding resolution of images and usage of 3rd party plugins.
-
-[blog]: blog.md
-[portfolio]: projects.md
-[resume]: resume.md
-[download]: download.md
-[welcome]: index.md
-[license]: LICENSE.md
-[pro]: licenses/PRO.md
-[docs]: docs/7.0.0/index.md
-
-[github]: https://github.com/qwtel/hydejack/releases
-[gem]: https://rubygems.org/gems/jekyll-theme-hydejack
-[buy]: https://app.simplegoods.co/i/AQTTVBOE
-
-[gpss]: https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fqwtel.com%2Fhydejack%2F
-[wiki]: https://github.com/qwtel/hydejack/wiki
diff --git a/assets/bower.json b/assets/bower.json
index 719da036..ede642bf 100644
--- a/assets/bower.json
+++ b/assets/bower.json
@@ -7,6 +7,6 @@
   "dependencies": {
     "webfontloader": "^1.6.28",
     "html5shiv": "^3.7.3",
-    "katex": "^0.7.1"
+    "katex": "^0.8.3"
   }
 }
diff --git a/assets/bower_components/html5shiv/readme.md b/assets/bower_components/html5shiv/readme.md
deleted file mode 100644
index 4ae84656..00000000
--- a/assets/bower_components/html5shiv/readme.md
+++ /dev/null
@@ -1,152 +0,0 @@
-# The HTML5 Shiv
-
-The HTML5 Shiv enables use of HTML5 sectioning elements in legacy Internet Explorer and provides basic HTML5 styling for Internet Explorer 6-9, Safari 4.x (and iPhone 3.x), and Firefox 3.x.
-
-### What do these files do?
-
-#### `html5shiv.js`
-*  This includes the basic `createElement()` shiv technique, along with monkeypatches for `document.createElement` and `document.createDocumentFragment` for IE6-8. It also applies [basic styling](https://github.com/aFarkas/html5shiv/blob/51da98dabd3c537891b7fe6114633fb10de52473/src/html5shiv.js#L216-220) for HTML5 elements for IE6-9, Safari 4.x and FF 3.x.
-
-####`html5shiv-printshiv.js` 
-*  This includes all of the above, as well as a mechanism allowing HTML5 elements to be styled and contain children while being printed in IE 6-8.
-
-### Who can I get mad at now?
-
-HTML5 Shiv is maintained by [Alexander Farkas](https://github.com/aFarkas/), [Jonathan Neal](https://twitter.com/jon_neal) and [Paul Irish](https://twitter.com/paul_irish), with many contributions from [John-David Dalton](https://twitter.com/jdalton). It is also distributed with [Modernizr](http://modernizr.com/).
-
-If you have any issues in these implementations, you can report them here! :)
-
-For the full story of HTML5 Shiv and all of the people involved in making it, read [The Story of the HTML5 Shiv](http://paulirish.com/2011/the-history-of-the-html5-shiv/).
-
-## Installation
-
-###Using [Bower](http://bower.io/)
-
-`bower install html5shiv --save-dev`
-
-This will clone the latest version of the HTML5 shiv into the `bower_components` directory at the root of your project and also create or update the file `bower.json` which specifies your projects dependencies.
-
-Include the HTML5 shiv in the `<head>` of your page in a conditional comment and after any stylesheets.
-
-```html
-<!--[if lt IE 9]>
-	<script src="bower_components/html5shiv/dist/html5shiv.js"></script>
-<![endif]-->
-```
-
-###Manual installation
-
-Download and extract the [latest zip package](https://github.com/aFarkas/html5shiv/archive/master.zip) from this repositiory and copy the two files `dist/html5shiv.js` and `dist/html5shiv-printshiv.js` into your project. Then include one of them into your `<head>` as above. 
-
-## HTML5 Shiv API
-
-HTML5 Shiv works as a simple drop-in solution. In most cases there is no need to configure HTML5 Shiv or use methods provided by HTML5 Shiv.
-
-### `html5.elements` option
-
-The `elements` option is a space separated string or array, which describes the **full** list of the elements to shiv. see also `addElements`.
-
-**Configuring `elements` before `html5shiv.js` is included.**
-
-```js
-//create a global html5 options object
-window.html5 = {
-  'elements': 'mark section customelement' 
-};
-```
-**Configuring `elements` after `html5shiv.js` is included.**
-
-```js
-//change the html5shiv options object 
-window.html5.elements = 'mark section customelement';
-//and re-invoke the `shivDocument` method
-html5.shivDocument(document);
-```
-
-### `html5.shivCSS`
-
-If `shivCSS` is set to `true` HTML5 Shiv will add basic styles (mostly display: block) to sectioning elements (like section, article). In most cases a webpage author should include those basic styles in his normal stylesheet to ensure older browser support (i.e. Firefox 3.6) without JavaScript.
-
-The `shivCSS` is true by default and can be set false, only before html5shiv.js is included: 
-
-```js
-//create a global html5 options object
-window.html5 = {
-	'shivCSS': false
-};
-```
-
-### `html5.shivMethods`
-
-If the `shivMethods` option is set to `true` (by default) HTML5 Shiv will override `document.createElement`/`document.createDocumentFragment` in Internet Explorer 6-8 to allow dynamic DOM creation of HTML5 elements. 
-
-Known issue: If an element is created using the overridden `createElement` method this element returns a document fragment as its `parentNode`, but should be normally `null`. If a script relies on this behavior, `shivMethods`should be set to `false`.
-Note: jQuery 1.7+ has implemented his own HTML5 DOM creation fix for Internet Explorer 6-8. If all your scripts (including Third party scripts) are using jQuery's manipulation and DOM creation methods, you might want to set this option to `false`.
-
-**Configuring `shivMethods` before `html5shiv.js` is included.**
-
-```js
-//create a global html5 options object
-window.html5 = {
-	'shivMethods': false
-};
-```
-**Configuring `elements` after `html5shiv.js` is included.**
-
-```js
-//change the html5shiv options object 
-window.html5.shivMethods = false;
-```
-
-### `html5.addElements( newElements [, document] )`
-
-The `html5.addElements` method extends the list of elements to shiv. The newElements argument can be a whitespace separated list or an array.
-
-```js
-//extend list of elements to shiv
-html5.addElements('element content');
-```
-
-### `html5.createElement( nodeName [, document] )`
-
-The `html5.createElement` method creates a shived element, even if `shivMethods` is set to false.
-
-```js
-var container = html5.createElement('div');
-//container is shived so we can add HTML5 elements using `innerHTML`
-container.innerHTML = '<section>This is a section</section>';
-```
-
-### `html5.createDocumentFragment( [document] )`
-
-The `html5.createDocumentFragment` method creates a shived document fragment, even if `shivMethods` is set to false.
-
-```js
-var fragment = html5.createDocumentFragment();
-var container = document.createElement('div');
-fragment.appendChild(container);
-//fragment is shived so we can add HTML5 elements using `innerHTML`
-container.innerHTML = '<section>This is a section</section>';
-```
-
-## HTML5 Shiv Known Issues and Limitations
-
-- The `shivMethods` option (overriding `document.createElement`) and the `html5.createElement` method create elements, which are not disconnected and have a parentNode (see also issue #64)
-- The cloneNode problem is currently not addressed by HTML5 Shiv. HTML5 elements can be dynamically created, but can't be cloned in all cases.
-- The printshiv version of HTML5 Shiv has to alter the print styles and the whole DOM for printing. In case of complex websites and or a lot of print styles this might cause performance and/or styling issues. A possible solution could be the [htc-branch](https://github.com/aFarkas/html5shiv/tree/iepp-htc) of HTML5 Shiv, which uses another technique to implement print styles for Internet Explorer 6-8.
-
-### What about the other HTML5 element projects?
-
-- The original conception and community collaboration story of the project is described at [The History of the HTML5 Shiv](http://paulirish.com/2011/the-history-of-the-html5-shiv/). 
-- [IEPP](https://code.google.com/p/ie-print-protector), by Jon Neal, addressed the printing fault of the original `html5shiv`. It was merged into `html5shiv`.
-- **Shimprove**, in April 2010, patched `cloneNode` and `createElement` was later merged into `html5shiv`
-- **innerShiv**, introduced in August 2010 by JD Barlett, addressed dynamically adding new HTML5 elements into the DOM. [jQuery added support](http://blog.jquery.com/2011/11/03/jquery-1-7-released/) that made innerShiv redundant and `html5shiv` addressed the same issues as well, so the project was completed.
-- The **html5shim** and **html5shiv** sites on Google Code are maintained by Remy Sharp and are identical distribution points of this `html5shiv` project.
-- **Modernizr** is developed by the same people as `html5shiv` and can include the latest version in any custom builds created at modernizr.com
-- This `html5shiv` repo now contains tests for all the edge cases pursued by the above libraries and has been extensively tested, both in development and production. 
-
-A [detailed changelog of html5shiv](https://github.com/aFarkas/html5shiv/wiki) is available.
-
-### Why is it called a *shiv*?
-
-The term **shiv** [originates](http://ejohn.org/blog/html5-shiv/) from [John Resig](https://github.com/jeresig), who was thought to have used the word for its slang meaning, *a sharp object used as a knife-like weapon*, intended for Internet Explorer. Truth be known, John probably intended to use the word [shim](http://en.wikipedia.org/wiki/Shim_(computing)), which in computing means *an application compatibility workaround*. Rather than correct his mispelling, most developers familiar with Internet Explorer appreciated the visual imagery. And that, [kids](http://html5homi.es/), is [etymology](https://en.wikipedia.org/wiki/Etymology).
diff --git a/assets/bower_components/katex/.bower.json b/assets/bower_components/katex/.bower.json
index 25747380..5c2baac1 100644
--- a/assets/bower_components/katex/.bower.json
+++ b/assets/bower_components/katex/.bower.json
@@ -32,15 +32,14 @@
     "/metrics",
     "/static"
   ],
-  "version": "0.7.1",
-  "_release": "0.7.1",
+  "version": "0.8.3",
+  "_release": "0.8.3",
   "_resolution": {
     "type": "version",
-    "tag": "v0.7.1",
-    "commit": "f2c438af4ef2e9037e5922a1c56414614bb5ce44"
+    "tag": "v0.8.3",
+    "commit": "420fc66535b751dd0687466188702ca4c6b04258"
   },
   "_source": "https://github.com/Khan/KaTeX.git",
-  "_target": "^0.7.1",
-  "_originalSource": "katex",
-  "_direct": true
+  "_target": "^0.8.3",
+  "_originalSource": "katex"
 }
\ No newline at end of file
diff --git a/assets/bower_components/katex/dist/README.md b/assets/bower_components/katex/dist/README.md
deleted file mode 100644
index 5f8caa8d..00000000
--- a/assets/bower_components/katex/dist/README.md
+++ /dev/null
@@ -1,68 +0,0 @@
-# [<img src="https://khan.github.io/KaTeX/katex-logo.svg" width="130" alt="KaTeX">](https://khan.github.io/KaTeX/) [![Build Status](https://travis-ci.org/Khan/KaTeX.svg?branch=master)](https://travis-ci.org/Khan/KaTeX)
-
-[![Join the chat at https://gitter.im/Khan/KaTeX](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/Khan/KaTeX?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
-
-KaTeX is a fast, easy-to-use JavaScript library for TeX math rendering on the web.
-
- * **Fast:** KaTeX renders its math synchronously and doesn't need to reflow the page. See how it compares to a competitor in [this speed test](http://jsperf.com/katex-vs-mathjax/).
- * **Print quality:** KaTeX’s layout is based on Donald Knuth’s TeX, the gold standard for math typesetting.
- * **Self contained:** KaTeX has no dependencies and can easily be bundled with your website resources.
- * **Server side rendering:** KaTeX produces the same output regardless of browser or environment, so you can pre-render expressions using Node.js and send them as plain HTML.
-
-KaTeX supports all major browsers, including Chrome, Safari, Firefox, Opera, and IE 8 - IE 11.  A list of supported  commands can be on the [wiki](https://github.com/Khan/KaTeX/wiki/Function-Support-in-KaTeX).
-
-## Usage
-
-You can [download KaTeX](https://github.com/khan/katex/releases) and host it on your server or include the `katex.min.js` and `katex.min.css` files on your page directly from a CDN:
-
-```html
-<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
-<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js"></script>
-```
-
-#### In-browser rendering
-
-Call `katex.render` with a TeX expression and a DOM element to render into:
-
-```js
-katex.render("c = \\pm\\sqrt{a^2 + b^2}", element);
-```
-
-If KaTeX can't parse the expression, it throws a `katex.ParseError` error.
-
-#### Server side rendering or rendering to a string
-
-To generate HTML on the server or to generate an HTML string of the rendered math, you can use `katex.renderToString`:
-
-```js
-var html = katex.renderToString("c = \\pm\\sqrt{a^2 + b^2}");
-// '<span class="katex">...</span>'
-```
-
-Make sure to include the CSS and font files, but there is no need to include the JavaScript. Like `render`, `renderToString` throws if it can't parse the expression.
-
-#### Rendering options
-
-You can provide an object of options as the last argument to `katex.render` and `katex.renderToString`. Available options are:
-
-- `displayMode`: `boolean`. If `true` the math will be rendered in display mode, which will put the math in display style (so `\int` and `\sum` are large, for example), and will center the math on the page on its own line. If `false` the math will be rendered in inline mode. (default: `false`)
-- `throwOnError`: `boolean`. If `true`, KaTeX will throw a `ParseError` when it encounters an unsupported command. If `false`, KaTeX will render the unsupported command as text in the color given by `errorColor`. (default: `true`)
-- `errorColor`: `string`. A color string given in the format `"#XXX"` or `"#XXXXXX"`. This option determines the color which unsupported commands are rendered in. (default: `#cc0000`)
-
-For example:
-
-```js
-katex.render("c = \\pm\\sqrt{a^2 + b^2}", element, { displayMode: true });
-```
-
-#### Automatic rendering of math on a page
-
-Math on the page can be automatically rendered using the auto-render extension. See [the Auto-render README](contrib/auto-render/README.md) for more information.
-
-## Contributing
-
-See [CONTRIBUTING.md](CONTRIBUTING.md)
-
-## License
-
-KaTeX is licensed under the [MIT License](http://opensource.org/licenses/MIT).
diff --git a/assets/bower_components/katex/dist/contrib/auto-render.min.js b/assets/bower_components/katex/dist/contrib/auto-render.min.js
index 30cc3121..96e1ddec 100644
--- a/assets/bower_components/katex/dist/contrib/auto-render.min.js
+++ b/assets/bower_components/katex/dist/contrib/auto-render.min.js
@@ -1 +1 @@
-(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.renderMathInElement=e()}})(function(){var e,t,r;return function n(e,t,r){function a(o,l){if(!t[o]){if(!e[o]){var f=typeof require=="function"&&require;if(!l&&f)return f(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var s=t[o]={exports:{}};e[o][0].call(s.exports,function(t){var r=e[o][1][t];return a(r?r:t)},s,s.exports,n,e,t,r)}return t[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,r){var n=e("./splitAtDelimiters");var a=function(e,t){var r=[{type:"text",data:e}];for(var a=0;a<t.length;a++){var i=t[a];r=n(r,i.left,i.right,i.display||false)}return r};var i=function(e,t){var r=a(e,t);var n=document.createDocumentFragment();for(var i=0;i<r.length;i++){if(r[i].type==="text"){n.appendChild(document.createTextNode(r[i].data))}else{var o=document.createElement("span");var l=r[i].data;try{katex.render(l,o,{displayMode:r[i].display})}catch(f){if(!(f instanceof katex.ParseError)){throw f}console.error("KaTeX auto-render: Failed to parse `"+r[i].data+"` with ",f);n.appendChild(document.createTextNode(r[i].rawData));continue}n.appendChild(o)}}return n};var o=function(e,t,r){for(var n=0;n<e.childNodes.length;n++){var a=e.childNodes[n];if(a.nodeType===3){var l=i(a.textContent,t);n+=l.childNodes.length-1;e.replaceChild(l,a)}else if(a.nodeType===1){var f=r.indexOf(a.nodeName.toLowerCase())===-1;if(f){o(a,t,r)}}}};var l={delimiters:[{left:"$$",right:"$$",display:true},{left:"\\[",right:"\\]",display:true},{left:"\\(",right:"\\)",display:false}],ignoredTags:["script","noscript","style","textarea","pre","code"]};var f=function(e){var t;var r;for(var n=1,a=arguments.length;n<a;n++){t=arguments[n];for(r in t){if(Object.prototype.hasOwnProperty.call(t,r)){e[r]=t[r]}}}return e};var d=function(e,t){if(!e){throw new Error("No element provided to render")}t=f({},l,t);o(e,t.delimiters,t.ignoredTags)};t.exports=d},{"./splitAtDelimiters":2}],2:[function(e,t,r){var n=function(e,t,r){var n=r;var a=0;var i=e.length;while(n<t.length){var o=t[n];if(a<=0&&t.slice(n,n+i)===e){return n}else if(o==="\\"){n++}else if(o==="{"){a++}else if(o==="}"){a--}n++}return-1};var a=function(e,t,r,a){var i=[];for(var o=0;o<e.length;o++){if(e[o].type==="text"){var l=e[o].data;var f=true;var d=0;var s;s=l.indexOf(t);if(s!==-1){d=s;i.push({type:"text",data:l.slice(0,d)});f=false}while(true){if(f){s=l.indexOf(t,d);if(s===-1){break}i.push({type:"text",data:l.slice(d,s)});d=s}else{s=n(r,l,d+t.length);if(s===-1){break}i.push({type:"math",data:l.slice(d+t.length,s),rawData:l.slice(d,s+r.length),display:a});d=s+r.length}f=!f}i.push({type:"text",data:l.slice(d)})}else{i.push(e[o])}}return i};t.exports=a},{}]},{},[1])(1)});
+(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.renderMathInElement=e()}})(function(){var e,t,n;return function e(t,n,r){function o(c,a){if(!n[c]){if(!t[c]){var u=typeof require=="function"&&require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var s=n[c]={exports:{}};t[c][0].call(s.exports,function(e){var n=t[c][1][e];return o(n?n:e)},s,s.exports,e,t,n,r)}return n[c].exports}var i=typeof require=="function"&&require;for(var c=0;c<r.length;c++)o(r[c]);return o}({1:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/assign");var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var c=e("./splitAtDelimiters");var a=function e(t,n){var r=[{type:"text",data:t}];for(var o=0;o<n.length;o++){var i=n[o];r=c(r,i.left,i.right,i.display||false)}return r};var u=function e(t,n){var r=a(t,n.delimiters);var o=document.createDocumentFragment();for(var i=0;i<r.length;i++){if(r[i].type==="text"){o.appendChild(document.createTextNode(r[i].data))}else{var c=document.createElement("span");var u=r[i].data;n.displayMode=r[i].display;try{katex.render(u,c,n)}catch(e){if(!(e instanceof katex.ParseError)){throw e}n.errorCallback("KaTeX auto-render: Failed to parse `"+r[i].data+"` with ",e);o.appendChild(document.createTextNode(r[i].rawData));continue}o.appendChild(c)}}return o};var f=function e(t,n){for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];if(o.nodeType===3){var i=u(o.textContent,n);r+=i.childNodes.length-1;t.replaceChild(i,o)}else if(o.nodeType===1){var c=n.ignoredTags.indexOf(o.nodeName.toLowerCase())===-1;if(c){e(o,n)}}}};var s={delimiters:[{left:"$$",right:"$$",display:true},{left:"\\[",right:"\\]",display:true},{left:"\\(",right:"\\)",display:false}],ignoredTags:["script","noscript","style","textarea","pre","code"],errorCallback:function e(t,n){console.error(t,n)}};var l=function e(t,n){if(!t){throw new Error("No element provided to render")}var r=(0,o.default)({},s,n);f(t,r)};t.exports=l},{"./splitAtDelimiters":2,"babel-runtime/core-js/object/assign":3}],2:[function(e,t,n){"use strict";var r=function e(t,n,r){var o=r;var i=0;var c=t.length;while(o<n.length){var a=n[o];if(i<=0&&n.slice(o,o+c)===t){return o}else if(a==="\\"){o++}else if(a==="{"){i++}else if(a==="}"){i--}o++}return-1};var o=function e(t,n,o,i){var c=[];for(var a=0;a<t.length;a++){if(t[a].type==="text"){var u=t[a].data;var f=true;var s=0;var l=void 0;l=u.indexOf(n);if(l!==-1){s=l;c.push({type:"text",data:u.slice(0,s)});f=false}while(true){if(f){l=u.indexOf(n,s);if(l===-1){break}c.push({type:"text",data:u.slice(s,l)});s=l}else{l=r(o,u,s+n.length);if(l===-1){break}c.push({type:"math",data:u.slice(s+n.length,l),rawData:u.slice(s,l+o.length),display:i});s=l+o.length}f=!f}c.push({type:"text",data:u.slice(s)})}else{c.push(t[a])}}return c};t.exports=o},{}],3:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:true}},{"core-js/library/fn/object/assign":4}],4:[function(e,t,n){e("../../modules/es6.object.assign");t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":9,"../../modules/es6.object.assign":39}],5:[function(e,t,n){t.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},{}],6:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":22}],7:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,n,c){var a=r(t),u=o(a.length),f=i(c,u),s;if(e&&n!=n)while(u>f){s=a[f++];if(s!=s)return true}else for(;u>f;f++)if(e||f in a){if(a[f]===n)return e||f||0}return!e&&-1}}},{"./_to-index":32,"./_to-iobject":34,"./_to-length":35}],8:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],9:[function(e,t,n){var r=t.exports={version:"2.4.0"};if(typeof __e=="number")__e=r},{}],10:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){r(e);if(t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":5}],11:[function(e,t,n){t.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},{}],12:[function(e,t,n){t.exports=!e("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":16}],13:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":17,"./_is-object":22}],14:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],15:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_ctx"),c=e("./_hide"),a="prototype";var u=function(e,t,n){var f=e&u.F,s=e&u.G,l=e&u.S,p=e&u.P,d=e&u.B,_=e&u.W,v=s?o:o[t]||(o[t]={}),h=v[a],b=s?r:l?r[t]:(r[t]||{})[a],y,g,x;if(s)n=t;for(y in n){g=!f&&b&&b[y]!==undefined;if(g&&y in v)continue;x=g?b[y]:n[y];v[y]=s&&typeof b[y]!="function"?n[y]:d&&g?i(x,r):_&&b[y]==x?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};t[a]=e[a];return t}(x):p&&typeof x=="function"?i(Function.call,x):x;if(p){(v.virtual||(v.virtual={}))[y]=x;if(e&u.R&&h&&!h[y])c(h,y,x)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;t.exports=u},{"./_core":9,"./_ctx":10,"./_global":17,"./_hide":19}],16:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return true}}},{}],17:[function(e,t,n){var r=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=r},{}],18:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],19:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){e[t]=n;return e}},{"./_descriptors":12,"./_object-dp":24,"./_property-desc":29}],20:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":12,"./_dom-create":13,"./_fails":16}],21:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return r(e)=="String"?e.split(""):Object(e)}},{"./_cof":8}],22:[function(e,t,n){t.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},{}],23:[function(e,t,n){"use strict";var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),c=e("./_to-object"),a=e("./_iobject"),u=Object.assign;t.exports=!u||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";e[n]=7;r.split("").forEach(function(e){t[e]=e});return u({},e)[n]!=7||Object.keys(u({},t)).join("")!=r})?function e(t,n){var u=c(t),f=arguments.length,s=1,l=o.f,p=i.f;while(f>s){var d=a(arguments[s++]),_=l?r(d).concat(l(d)):r(d),v=_.length,h=0,b;while(v>h)if(p.call(d,b=_[h++]))u[b]=d[b]}return u}:u},{"./_fails":16,"./_iobject":21,"./_object-gops":25,"./_object-keys":27,"./_object-pie":28,"./_to-object":36}],24:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),c=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function e(t,n,a){r(t);n=i(n,true);r(a);if(o)try{return c(t,n,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");if("value"in a)t[n]=a.value;return t}},{"./_an-object":6,"./_descriptors":12,"./_ie8-dom-define":20,"./_to-primitive":37}],25:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],26:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(false),c=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n=o(e),a=0,u=[],f;for(f in n)if(f!=c)r(n,f)&&u.push(f);while(t.length>a)if(r(n,f=t[a++])){~i(u,f)||u.push(f)}return u}},{"./_array-includes":7,"./_has":18,"./_shared-key":30,"./_to-iobject":34}],27:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function e(t){return r(t,o)}},{"./_enum-bug-keys":14,"./_object-keys-internal":26}],28:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],29:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},{}],30:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":31,"./_uid":38}],31:[function(e,t,n){var r=e("./_global"),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":17}],32:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){e=r(e);return e<0?o(e+t,0):i(e,t)}},{"./_to-integer":33}],33:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],34:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":11,"./_iobject":21}],35:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":33}],36:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":11}],37:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&typeof(n=e.toString)=="function"&&!r(o=n.call(e)))return o;if(typeof(n=e.valueOf)=="function"&&!r(o=n.call(e)))return o;if(!t&&typeof(n=e.toString)=="function"&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":22}],38:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++r+o).toString(36))}},{}],39:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":15,"./_object-assign":23}]},{},[1])(1)});
diff --git a/assets/bower_components/katex/dist/katex.css b/assets/bower_components/katex/dist/katex.css
index ef0aa620..ff028dd2 100644
--- a/assets/bower_components/katex/dist/katex.css
+++ b/assets/bower_components/katex/dist/katex.css
@@ -124,6 +124,10 @@
   line-height: 1.2;
   white-space: nowrap;
   text-indent: 0;
+  text-rendering: auto;
+}
+.katex * {
+  -ms-high-contrast-adjust: none !important;
 }
 .katex .katex-html {
   display: inline-block;
@@ -138,6 +142,7 @@
   overflow: hidden;
 }
 .katex .base {
+  position: relative;
   display: inline-block;
 }
 .katex .strut {
@@ -182,6 +187,10 @@
   font-family: KaTeX_Main;
   font-style: italic;
 }
+.katex .mainrm {
+  font-family: KaTeX_Main;
+  font-style: normal;
+}
 .katex .mord + .mop {
   margin-left: 0.16667em;
 }
@@ -323,38 +332,17 @@
 .katex .minner + .mop.mtight {
   margin-left: 0.16667em;
 }
-.katex .reset-textstyle.textstyle {
-  font-size: 1em;
-}
-.katex .reset-textstyle.scriptstyle {
-  font-size: 0.7em;
-}
-.katex .reset-textstyle.scriptscriptstyle {
-  font-size: 0.5em;
-}
-.katex .reset-scriptstyle.textstyle {
-  font-size: 1.42857em;
-}
-.katex .reset-scriptstyle.scriptstyle {
-  font-size: 1em;
-}
-.katex .reset-scriptstyle.scriptscriptstyle {
-  font-size: 0.71429em;
-}
-.katex .reset-scriptscriptstyle.textstyle {
-  font-size: 2em;
-}
-.katex .reset-scriptscriptstyle.scriptstyle {
-  font-size: 1.4em;
-}
-.katex .reset-scriptscriptstyle.scriptscriptstyle {
-  font-size: 1em;
+.katex .vlist-t {
+  display: inline-table;
+  table-layout: fixed;
 }
-.katex .style-wrap {
-  position: relative;
+.katex .vlist-r {
+  display: table-row;
 }
 .katex .vlist {
-  display: inline-block;
+  display: table-cell;
+  vertical-align: bottom;
+  position: relative;
 }
 .katex .vlist > span {
   display: block;
@@ -364,9 +352,18 @@
 .katex .vlist > span > span {
   display: inline-block;
 }
-.katex .vlist .baseline-fix {
-  display: inline-table;
-  table-layout: fixed;
+.katex .vlist > span > .pstrut {
+  overflow: hidden;
+  width: 0;
+}
+.katex .vlist-t2 {
+  margin-right: -2px;
+}
+.katex .vlist-s {
+  display: table-cell;
+  vertical-align: bottom;
+  font-size: 1px;
+  width: 2px;
 }
 .katex .msupsub {
   text-align: left;
@@ -375,20 +372,9 @@
   text-align: center;
 }
 .katex .mfrac .frac-line {
+  display: inline-block;
   width: 100%;
-}
-.katex .mfrac .frac-line:before {
   border-bottom-style: solid;
-  border-bottom-width: 1px;
-  content: "";
-  display: block;
-}
-.katex .mfrac .frac-line:after {
-  border-bottom-style: solid;
-  border-bottom-width: 0.04em;
-  content: "";
-  display: block;
-  margin-top: -1px;
 }
 .katex .mspace {
   display: inline-block;
@@ -469,41 +455,9 @@
 }
 .katex .overline .overline-line,
 .katex .underline .underline-line {
+  display: inline-block;
   width: 100%;
-}
-.katex .overline .overline-line:before,
-.katex .underline .underline-line:before {
-  border-bottom-style: solid;
-  border-bottom-width: 1px;
-  content: "";
-  display: block;
-}
-.katex .overline .overline-line:after,
-.katex .underline .underline-line:after {
-  border-bottom-style: solid;
-  border-bottom-width: 0.04em;
-  content: "";
-  display: block;
-  margin-top: -1px;
-}
-.katex .sqrt > .sqrt-sign {
-  position: relative;
-}
-.katex .sqrt .sqrt-line {
-  width: 100%;
-}
-.katex .sqrt .sqrt-line:before {
   border-bottom-style: solid;
-  border-bottom-width: 1px;
-  content: "";
-  display: block;
-}
-.katex .sqrt .sqrt-line:after {
-  border-bottom-style: solid;
-  border-bottom-width: 0.04em;
-  content: "";
-  display: block;
-  margin-top: -1px;
 }
 .katex .sqrt > .root {
   margin-left: 0.27777778em;
@@ -519,43 +473,47 @@
 }
 .katex .sizing.reset-size1.size2,
 .katex .fontsize-ensurer.reset-size1.size2 {
-  font-size: 1.4em;
+  font-size: 1.2em;
 }
 .katex .sizing.reset-size1.size3,
 .katex .fontsize-ensurer.reset-size1.size3 {
-  font-size: 1.6em;
+  font-size: 1.4em;
 }
 .katex .sizing.reset-size1.size4,
 .katex .fontsize-ensurer.reset-size1.size4 {
-  font-size: 1.8em;
+  font-size: 1.6em;
 }
 .katex .sizing.reset-size1.size5,
 .katex .fontsize-ensurer.reset-size1.size5 {
-  font-size: 2em;
+  font-size: 1.8em;
 }
 .katex .sizing.reset-size1.size6,
 .katex .fontsize-ensurer.reset-size1.size6 {
-  font-size: 2.4em;
+  font-size: 2em;
 }
 .katex .sizing.reset-size1.size7,
 .katex .fontsize-ensurer.reset-size1.size7 {
-  font-size: 2.88em;
+  font-size: 2.4em;
 }
 .katex .sizing.reset-size1.size8,
 .katex .fontsize-ensurer.reset-size1.size8 {
-  font-size: 3.46em;
+  font-size: 2.88em;
 }
 .katex .sizing.reset-size1.size9,
 .katex .fontsize-ensurer.reset-size1.size9 {
-  font-size: 4.14em;
+  font-size: 3.456em;
 }
 .katex .sizing.reset-size1.size10,
 .katex .fontsize-ensurer.reset-size1.size10 {
-  font-size: 4.98em;
+  font-size: 4.148em;
+}
+.katex .sizing.reset-size1.size11,
+.katex .fontsize-ensurer.reset-size1.size11 {
+  font-size: 4.976em;
 }
 .katex .sizing.reset-size2.size1,
 .katex .fontsize-ensurer.reset-size2.size1 {
-  font-size: 0.71428571em;
+  font-size: 0.83333333em;
 }
 .katex .sizing.reset-size2.size2,
 .katex .fontsize-ensurer.reset-size2.size2 {
@@ -563,43 +521,47 @@
 }
 .katex .sizing.reset-size2.size3,
 .katex .fontsize-ensurer.reset-size2.size3 {
-  font-size: 1.14285714em;
+  font-size: 1.16666667em;
 }
 .katex .sizing.reset-size2.size4,
 .katex .fontsize-ensurer.reset-size2.size4 {
-  font-size: 1.28571429em;
+  font-size: 1.33333333em;
 }
 .katex .sizing.reset-size2.size5,
 .katex .fontsize-ensurer.reset-size2.size5 {
-  font-size: 1.42857143em;
+  font-size: 1.5em;
 }
 .katex .sizing.reset-size2.size6,
 .katex .fontsize-ensurer.reset-size2.size6 {
-  font-size: 1.71428571em;
+  font-size: 1.66666667em;
 }
 .katex .sizing.reset-size2.size7,
 .katex .fontsize-ensurer.reset-size2.size7 {
-  font-size: 2.05714286em;
+  font-size: 2em;
 }
 .katex .sizing.reset-size2.size8,
 .katex .fontsize-ensurer.reset-size2.size8 {
-  font-size: 2.47142857em;
+  font-size: 2.4em;
 }
 .katex .sizing.reset-size2.size9,
 .katex .fontsize-ensurer.reset-size2.size9 {
-  font-size: 2.95714286em;
+  font-size: 2.88em;
 }
 .katex .sizing.reset-size2.size10,
 .katex .fontsize-ensurer.reset-size2.size10 {
-  font-size: 3.55714286em;
+  font-size: 3.45666667em;
+}
+.katex .sizing.reset-size2.size11,
+.katex .fontsize-ensurer.reset-size2.size11 {
+  font-size: 4.14666667em;
 }
 .katex .sizing.reset-size3.size1,
 .katex .fontsize-ensurer.reset-size3.size1 {
-  font-size: 0.625em;
+  font-size: 0.71428571em;
 }
 .katex .sizing.reset-size3.size2,
 .katex .fontsize-ensurer.reset-size3.size2 {
-  font-size: 0.875em;
+  font-size: 0.85714286em;
 }
 .katex .sizing.reset-size3.size3,
 .katex .fontsize-ensurer.reset-size3.size3 {
@@ -607,43 +569,47 @@
 }
 .katex .sizing.reset-size3.size4,
 .katex .fontsize-ensurer.reset-size3.size4 {
-  font-size: 1.125em;
+  font-size: 1.14285714em;
 }
 .katex .sizing.reset-size3.size5,
 .katex .fontsize-ensurer.reset-size3.size5 {
-  font-size: 1.25em;
+  font-size: 1.28571429em;
 }
 .katex .sizing.reset-size3.size6,
 .katex .fontsize-ensurer.reset-size3.size6 {
-  font-size: 1.5em;
+  font-size: 1.42857143em;
 }
 .katex .sizing.reset-size3.size7,
 .katex .fontsize-ensurer.reset-size3.size7 {
-  font-size: 1.8em;
+  font-size: 1.71428571em;
 }
 .katex .sizing.reset-size3.size8,
 .katex .fontsize-ensurer.reset-size3.size8 {
-  font-size: 2.1625em;
+  font-size: 2.05714286em;
 }
 .katex .sizing.reset-size3.size9,
 .katex .fontsize-ensurer.reset-size3.size9 {
-  font-size: 2.5875em;
+  font-size: 2.46857143em;
 }
 .katex .sizing.reset-size3.size10,
 .katex .fontsize-ensurer.reset-size3.size10 {
-  font-size: 3.1125em;
+  font-size: 2.96285714em;
+}
+.katex .sizing.reset-size3.size11,
+.katex .fontsize-ensurer.reset-size3.size11 {
+  font-size: 3.55428571em;
 }
 .katex .sizing.reset-size4.size1,
 .katex .fontsize-ensurer.reset-size4.size1 {
-  font-size: 0.55555556em;
+  font-size: 0.625em;
 }
 .katex .sizing.reset-size4.size2,
 .katex .fontsize-ensurer.reset-size4.size2 {
-  font-size: 0.77777778em;
+  font-size: 0.75em;
 }
 .katex .sizing.reset-size4.size3,
 .katex .fontsize-ensurer.reset-size4.size3 {
-  font-size: 0.88888889em;
+  font-size: 0.875em;
 }
 .katex .sizing.reset-size4.size4,
 .katex .fontsize-ensurer.reset-size4.size4 {
@@ -651,43 +617,47 @@
 }
 .katex .sizing.reset-size4.size5,
 .katex .fontsize-ensurer.reset-size4.size5 {
-  font-size: 1.11111111em;
+  font-size: 1.125em;
 }
 .katex .sizing.reset-size4.size6,
 .katex .fontsize-ensurer.reset-size4.size6 {
-  font-size: 1.33333333em;
+  font-size: 1.25em;
 }
 .katex .sizing.reset-size4.size7,
 .katex .fontsize-ensurer.reset-size4.size7 {
-  font-size: 1.6em;
+  font-size: 1.5em;
 }
 .katex .sizing.reset-size4.size8,
 .katex .fontsize-ensurer.reset-size4.size8 {
-  font-size: 1.92222222em;
+  font-size: 1.8em;
 }
 .katex .sizing.reset-size4.size9,
 .katex .fontsize-ensurer.reset-size4.size9 {
-  font-size: 2.3em;
+  font-size: 2.16em;
 }
 .katex .sizing.reset-size4.size10,
 .katex .fontsize-ensurer.reset-size4.size10 {
-  font-size: 2.76666667em;
+  font-size: 2.5925em;
+}
+.katex .sizing.reset-size4.size11,
+.katex .fontsize-ensurer.reset-size4.size11 {
+  font-size: 3.11em;
 }
 .katex .sizing.reset-size5.size1,
 .katex .fontsize-ensurer.reset-size5.size1 {
-  font-size: 0.5em;
+  font-size: 0.55555556em;
 }
 .katex .sizing.reset-size5.size2,
 .katex .fontsize-ensurer.reset-size5.size2 {
-  font-size: 0.7em;
+  font-size: 0.66666667em;
 }
 .katex .sizing.reset-size5.size3,
 .katex .fontsize-ensurer.reset-size5.size3 {
-  font-size: 0.8em;
+  font-size: 0.77777778em;
 }
 .katex .sizing.reset-size5.size4,
 .katex .fontsize-ensurer.reset-size5.size4 {
-  font-size: 0.9em;
+  font-size: 0.88888889em;
 }
 .katex .sizing.reset-size5.size5,
 .katex .fontsize-ensurer.reset-size5.size5 {
@@ -695,43 +665,47 @@
 }
 .katex .sizing.reset-size5.size6,
 .katex .fontsize-ensurer.reset-size5.size6 {
-  font-size: 1.2em;
+  font-size: 1.11111111em;
 }
 .katex .sizing.reset-size5.size7,
 .katex .fontsize-ensurer.reset-size5.size7 {
-  font-size: 1.44em;
+  font-size: 1.33333333em;
 }
 .katex .sizing.reset-size5.size8,
 .katex .fontsize-ensurer.reset-size5.size8 {
-  font-size: 1.73em;
+  font-size: 1.6em;
 }
 .katex .sizing.reset-size5.size9,
 .katex .fontsize-ensurer.reset-size5.size9 {
-  font-size: 2.07em;
+  font-size: 1.92em;
 }
 .katex .sizing.reset-size5.size10,
 .katex .fontsize-ensurer.reset-size5.size10 {
-  font-size: 2.49em;
+  font-size: 2.30444444em;
+}
+.katex .sizing.reset-size5.size11,
+.katex .fontsize-ensurer.reset-size5.size11 {
+  font-size: 2.76444444em;
 }
 .katex .sizing.reset-size6.size1,
 .katex .fontsize-ensurer.reset-size6.size1 {
-  font-size: 0.41666667em;
+  font-size: 0.5em;
 }
 .katex .sizing.reset-size6.size2,
 .katex .fontsize-ensurer.reset-size6.size2 {
-  font-size: 0.58333333em;
+  font-size: 0.6em;
 }
 .katex .sizing.reset-size6.size3,
 .katex .fontsize-ensurer.reset-size6.size3 {
-  font-size: 0.66666667em;
+  font-size: 0.7em;
 }
 .katex .sizing.reset-size6.size4,
 .katex .fontsize-ensurer.reset-size6.size4 {
-  font-size: 0.75em;
+  font-size: 0.8em;
 }
 .katex .sizing.reset-size6.size5,
 .katex .fontsize-ensurer.reset-size6.size5 {
-  font-size: 0.83333333em;
+  font-size: 0.9em;
 }
 .katex .sizing.reset-size6.size6,
 .katex .fontsize-ensurer.reset-size6.size6 {
@@ -743,35 +717,39 @@
 }
 .katex .sizing.reset-size6.size8,
 .katex .fontsize-ensurer.reset-size6.size8 {
-  font-size: 1.44166667em;
+  font-size: 1.44em;
 }
 .katex .sizing.reset-size6.size9,
 .katex .fontsize-ensurer.reset-size6.size9 {
-  font-size: 1.725em;
+  font-size: 1.728em;
 }
 .katex .sizing.reset-size6.size10,
 .katex .fontsize-ensurer.reset-size6.size10 {
-  font-size: 2.075em;
+  font-size: 2.074em;
+}
+.katex .sizing.reset-size6.size11,
+.katex .fontsize-ensurer.reset-size6.size11 {
+  font-size: 2.488em;
 }
 .katex .sizing.reset-size7.size1,
 .katex .fontsize-ensurer.reset-size7.size1 {
-  font-size: 0.34722222em;
+  font-size: 0.41666667em;
 }
 .katex .sizing.reset-size7.size2,
 .katex .fontsize-ensurer.reset-size7.size2 {
-  font-size: 0.48611111em;
+  font-size: 0.5em;
 }
 .katex .sizing.reset-size7.size3,
 .katex .fontsize-ensurer.reset-size7.size3 {
-  font-size: 0.55555556em;
+  font-size: 0.58333333em;
 }
 .katex .sizing.reset-size7.size4,
 .katex .fontsize-ensurer.reset-size7.size4 {
-  font-size: 0.625em;
+  font-size: 0.66666667em;
 }
 .katex .sizing.reset-size7.size5,
 .katex .fontsize-ensurer.reset-size7.size5 {
-  font-size: 0.69444444em;
+  font-size: 0.75em;
 }
 .katex .sizing.reset-size7.size6,
 .katex .fontsize-ensurer.reset-size7.size6 {
@@ -783,43 +761,47 @@
 }
 .katex .sizing.reset-size7.size8,
 .katex .fontsize-ensurer.reset-size7.size8 {
-  font-size: 1.20138889em;
+  font-size: 1.2em;
 }
 .katex .sizing.reset-size7.size9,
 .katex .fontsize-ensurer.reset-size7.size9 {
-  font-size: 1.4375em;
+  font-size: 1.44em;
 }
 .katex .sizing.reset-size7.size10,
 .katex .fontsize-ensurer.reset-size7.size10 {
-  font-size: 1.72916667em;
+  font-size: 1.72833333em;
+}
+.katex .sizing.reset-size7.size11,
+.katex .fontsize-ensurer.reset-size7.size11 {
+  font-size: 2.07333333em;
 }
 .katex .sizing.reset-size8.size1,
 .katex .fontsize-ensurer.reset-size8.size1 {
-  font-size: 0.28901734em;
+  font-size: 0.34722222em;
 }
 .katex .sizing.reset-size8.size2,
 .katex .fontsize-ensurer.reset-size8.size2 {
-  font-size: 0.40462428em;
+  font-size: 0.41666667em;
 }
 .katex .sizing.reset-size8.size3,
 .katex .fontsize-ensurer.reset-size8.size3 {
-  font-size: 0.46242775em;
+  font-size: 0.48611111em;
 }
 .katex .sizing.reset-size8.size4,
 .katex .fontsize-ensurer.reset-size8.size4 {
-  font-size: 0.52023121em;
+  font-size: 0.55555556em;
 }
 .katex .sizing.reset-size8.size5,
 .katex .fontsize-ensurer.reset-size8.size5 {
-  font-size: 0.57803468em;
+  font-size: 0.625em;
 }
 .katex .sizing.reset-size8.size6,
 .katex .fontsize-ensurer.reset-size8.size6 {
-  font-size: 0.69364162em;
+  font-size: 0.69444444em;
 }
 .katex .sizing.reset-size8.size7,
 .katex .fontsize-ensurer.reset-size8.size7 {
-  font-size: 0.83236994em;
+  font-size: 0.83333333em;
 }
 .katex .sizing.reset-size8.size8,
 .katex .fontsize-ensurer.reset-size8.size8 {
@@ -827,43 +809,47 @@
 }
 .katex .sizing.reset-size8.size9,
 .katex .fontsize-ensurer.reset-size8.size9 {
-  font-size: 1.19653179em;
+  font-size: 1.2em;
 }
 .katex .sizing.reset-size8.size10,
 .katex .fontsize-ensurer.reset-size8.size10 {
-  font-size: 1.43930636em;
+  font-size: 1.44027778em;
+}
+.katex .sizing.reset-size8.size11,
+.katex .fontsize-ensurer.reset-size8.size11 {
+  font-size: 1.72777778em;
 }
 .katex .sizing.reset-size9.size1,
 .katex .fontsize-ensurer.reset-size9.size1 {
-  font-size: 0.24154589em;
+  font-size: 0.28935185em;
 }
 .katex .sizing.reset-size9.size2,
 .katex .fontsize-ensurer.reset-size9.size2 {
-  font-size: 0.33816425em;
+  font-size: 0.34722222em;
 }
 .katex .sizing.reset-size9.size3,
 .katex .fontsize-ensurer.reset-size9.size3 {
-  font-size: 0.38647343em;
+  font-size: 0.40509259em;
 }
 .katex .sizing.reset-size9.size4,
 .katex .fontsize-ensurer.reset-size9.size4 {
-  font-size: 0.43478261em;
+  font-size: 0.46296296em;
 }
 .katex .sizing.reset-size9.size5,
 .katex .fontsize-ensurer.reset-size9.size5 {
-  font-size: 0.48309179em;
+  font-size: 0.52083333em;
 }
 .katex .sizing.reset-size9.size6,
 .katex .fontsize-ensurer.reset-size9.size6 {
-  font-size: 0.57971014em;
+  font-size: 0.5787037em;
 }
 .katex .sizing.reset-size9.size7,
 .katex .fontsize-ensurer.reset-size9.size7 {
-  font-size: 0.69565217em;
+  font-size: 0.69444444em;
 }
 .katex .sizing.reset-size9.size8,
 .katex .fontsize-ensurer.reset-size9.size8 {
-  font-size: 0.83574879em;
+  font-size: 0.83333333em;
 }
 .katex .sizing.reset-size9.size9,
 .katex .fontsize-ensurer.reset-size9.size9 {
@@ -871,48 +857,100 @@
 }
 .katex .sizing.reset-size9.size10,
 .katex .fontsize-ensurer.reset-size9.size10 {
-  font-size: 1.20289855em;
+  font-size: 1.20023148em;
+}
+.katex .sizing.reset-size9.size11,
+.katex .fontsize-ensurer.reset-size9.size11 {
+  font-size: 1.43981481em;
 }
 .katex .sizing.reset-size10.size1,
 .katex .fontsize-ensurer.reset-size10.size1 {
-  font-size: 0.20080321em;
+  font-size: 0.24108004em;
 }
 .katex .sizing.reset-size10.size2,
 .katex .fontsize-ensurer.reset-size10.size2 {
-  font-size: 0.2811245em;
+  font-size: 0.28929605em;
 }
 .katex .sizing.reset-size10.size3,
 .katex .fontsize-ensurer.reset-size10.size3 {
-  font-size: 0.32128514em;
+  font-size: 0.33751205em;
 }
 .katex .sizing.reset-size10.size4,
 .katex .fontsize-ensurer.reset-size10.size4 {
-  font-size: 0.36144578em;
+  font-size: 0.38572806em;
 }
 .katex .sizing.reset-size10.size5,
 .katex .fontsize-ensurer.reset-size10.size5 {
-  font-size: 0.40160643em;
+  font-size: 0.43394407em;
 }
 .katex .sizing.reset-size10.size6,
 .katex .fontsize-ensurer.reset-size10.size6 {
-  font-size: 0.48192771em;
+  font-size: 0.48216008em;
 }
 .katex .sizing.reset-size10.size7,
 .katex .fontsize-ensurer.reset-size10.size7 {
-  font-size: 0.57831325em;
+  font-size: 0.57859209em;
 }
 .katex .sizing.reset-size10.size8,
 .katex .fontsize-ensurer.reset-size10.size8 {
-  font-size: 0.69477912em;
+  font-size: 0.69431051em;
 }
 .katex .sizing.reset-size10.size9,
 .katex .fontsize-ensurer.reset-size10.size9 {
-  font-size: 0.8313253em;
+  font-size: 0.83317261em;
 }
 .katex .sizing.reset-size10.size10,
 .katex .fontsize-ensurer.reset-size10.size10 {
   font-size: 1em;
 }
+.katex .sizing.reset-size10.size11,
+.katex .fontsize-ensurer.reset-size10.size11 {
+  font-size: 1.19961427em;
+}
+.katex .sizing.reset-size11.size1,
+.katex .fontsize-ensurer.reset-size11.size1 {
+  font-size: 0.20096463em;
+}
+.katex .sizing.reset-size11.size2,
+.katex .fontsize-ensurer.reset-size11.size2 {
+  font-size: 0.24115756em;
+}
+.katex .sizing.reset-size11.size3,
+.katex .fontsize-ensurer.reset-size11.size3 {
+  font-size: 0.28135048em;
+}
+.katex .sizing.reset-size11.size4,
+.katex .fontsize-ensurer.reset-size11.size4 {
+  font-size: 0.32154341em;
+}
+.katex .sizing.reset-size11.size5,
+.katex .fontsize-ensurer.reset-size11.size5 {
+  font-size: 0.36173633em;
+}
+.katex .sizing.reset-size11.size6,
+.katex .fontsize-ensurer.reset-size11.size6 {
+  font-size: 0.40192926em;
+}
+.katex .sizing.reset-size11.size7,
+.katex .fontsize-ensurer.reset-size11.size7 {
+  font-size: 0.48231511em;
+}
+.katex .sizing.reset-size11.size8,
+.katex .fontsize-ensurer.reset-size11.size8 {
+  font-size: 0.57877814em;
+}
+.katex .sizing.reset-size11.size9,
+.katex .fontsize-ensurer.reset-size11.size9 {
+  font-size: 0.69453376em;
+}
+.katex .sizing.reset-size11.size10,
+.katex .fontsize-ensurer.reset-size11.size10 {
+  font-size: 0.83360129em;
+}
+.katex .sizing.reset-size11.size11,
+.katex .fontsize-ensurer.reset-size11.size11 {
+  font-size: 1em;
+}
 .katex .delimsizing.size1 {
   font-family: KaTeX_Size1;
 }
@@ -935,6 +973,9 @@
   display: inline-block;
   width: 0.12em;
 }
+.katex .delimcenter {
+  position: relative;
+}
 .katex .op-symbol {
   position: relative;
 }
@@ -944,10 +985,10 @@
 .katex .op-symbol.large-op {
   font-family: KaTeX_Size2;
 }
-.katex .op-limits > .vlist > span {
+.katex .op-limits > .vlist-t {
   text-align: center;
 }
-.katex .accent > .vlist > span {
+.katex .accent > .vlist-t {
   text-align: center;
 }
 .katex .accent .accent-body > span {
@@ -957,6 +998,10 @@
   position: relative;
   left: 0.326em;
 }
+.katex .accent .accent-body.accent-hungarian > span {
+  position: relative;
+  left: 0.250em;
+}
 .katex .mtable .vertical-separator {
   display: inline-block;
   margin: 0 -0.025em;
@@ -965,12 +1010,65 @@
 .katex .mtable .arraycolsep {
   display: inline-block;
 }
-.katex .mtable .col-align-c > .vlist {
+.katex .mtable .col-align-c > .vlist-t {
   text-align: center;
 }
-.katex .mtable .col-align-l > .vlist {
+.katex .mtable .col-align-l > .vlist-t {
   text-align: left;
 }
-.katex .mtable .col-align-r > .vlist {
+.katex .mtable .col-align-r > .vlist-t {
   text-align: right;
 }
+.katex .svg-align {
+  text-align: left;
+}
+.katex svg {
+  display: block;
+  position: absolute;
+  width: 100%;
+}
+.katex svg path {
+  fill: currentColor;
+}
+.katex svg line {
+  stroke: currentColor;
+}
+.katex .stretchy {
+  width: 100%;
+  display: block;
+}
+.katex .stretchy:before,
+.katex .stretchy:after {
+  content: "";
+}
+.katex .x-arrow-pad {
+  padding: 0 0.5em;
+}
+.katex .x-arrow,
+.katex .mover,
+.katex .munder {
+  text-align: center;
+}
+.katex .boxpad {
+  padding: 0 0.3em 0 0.3em;
+}
+.katex .fbox {
+  box-sizing: border-box;
+  border: 0.04em solid black;
+}
+.katex .cancel-pad {
+  padding: 0 0.2em 0 0.2em;
+}
+.katex .mord + .cancel-lap,
+.katex .mbin + .cancel-lap {
+  margin-left: -0.2em;
+}
+.katex .cancel-lap + .mord,
+.katex .cancel-lap + .mbin,
+.katex .cancel-lap + .msupsub {
+  margin-left: -0.2em;
+}
+.katex .sout {
+  border-bottom-style: solid;
+  border-bottom-width: 0.08em;
+}
diff --git a/assets/bower_components/katex/dist/katex.js b/assets/bower_components/katex/dist/katex.js
index e104be9b..7e018746 100644
--- a/assets/bower_components/katex/dist/katex.js
+++ b/assets/bower_components/katex/dist/katex.js
@@ -1,45 +1,60 @@
 (function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.katex = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
-/* eslint no-console:0 */
-/**
- * This is the main entry point for KaTeX. Here, we expose functions for
- * rendering expressions either to DOM nodes or to markup strings.
- *
- * We also expose the ParseError class to check if errors thrown from KaTeX are
- * errors in the expression, or errors in javascript handling.
- */
+"use strict";
+
+var _ParseError = require("./src/ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+var _Settings = require("./src/Settings");
+
+var _Settings2 = _interopRequireDefault(_Settings);
+
+var _buildTree = require("./src/buildTree");
+
+var _buildTree2 = _interopRequireDefault(_buildTree);
+
+var _parseTree = require("./src/parseTree");
 
-var ParseError = require("./src/ParseError");
-var Settings = require("./src/Settings");
+var _parseTree2 = _interopRequireDefault(_parseTree);
 
-var buildTree = require("./src/buildTree");
-var parseTree = require("./src/parseTree");
-var utils = require("./src/utils");
+var _utils = require("./src/utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * Parse and build an expression, and place that expression in the DOM node
  * given.
  */
-var render = function(expression, baseNode, options) {
-    utils.clearNode(baseNode);
+var render = function render(expression, baseNode, options) {
+    _utils2.default.clearNode(baseNode);
 
-    var settings = new Settings(options);
+    var settings = new _Settings2.default(options);
 
-    var tree = parseTree(expression, settings);
-    var node = buildTree(tree, expression, settings).toNode();
+    var tree = (0, _parseTree2.default)(expression, settings);
+    var node = (0, _buildTree2.default)(tree, expression, settings).toNode();
 
     baseNode.appendChild(node);
 };
 
 // KaTeX's styles don't work properly in quirks mode. Print out an error, and
 // disable rendering.
+/* eslint no-console:0 */
+/**
+ * This is the main entry point for KaTeX. Here, we expose functions for
+ * rendering expressions either to DOM nodes or to markup strings.
+ *
+ * We also expose the ParseError class to check if errors thrown from KaTeX are
+ * errors in the expression, or errors in javascript handling.
+ */
+
 if (typeof document !== "undefined") {
     if (document.compatMode !== "CSS1Compat") {
-        typeof console !== "undefined" && console.warn(
-            "Warning: KaTeX doesn't work in quirks mode. Make sure your " +
-                "website has a suitable doctype.");
+        typeof console !== "undefined" && console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your " + "website has a suitable doctype.");
 
-        render = function() {
-            throw new ParseError("KaTeX doesn't work in quirks mode.");
+        render = function render() {
+            throw new _ParseError2.default("KaTeX doesn't work in quirks mode.");
         };
     }
 }
@@ -47,19 +62,19 @@ if (typeof document !== "undefined") {
 /**
  * Parse and build an expression, and return the markup for that.
  */
-var renderToString = function(expression, options) {
-    var settings = new Settings(options);
+var renderToString = function renderToString(expression, options) {
+    var settings = new _Settings2.default(options);
 
-    var tree = parseTree(expression, settings);
-    return buildTree(tree, expression, settings).toMarkup();
+    var tree = (0, _parseTree2.default)(expression, settings);
+    return (0, _buildTree2.default)(tree, expression, settings).toMarkup();
 };
 
 /**
  * Parse an expression and return the parse tree.
  */
-var generateParseTree = function(expression, options) {
-    var settings = new Settings(options);
-    return parseTree(expression, settings);
+var generateParseTree = function generateParseTree(expression, options) {
+    var settings = new _Settings2.default(options);
+    return (0, _parseTree2.default)(expression, settings);
 };
 
 module.exports = {
@@ -71,10 +86,247 @@ module.exports = {
      * to change. Use at your own risk.
      */
     __parse: generateParseTree,
-    ParseError: ParseError
+    ParseError: _ParseError2.default
+};
+
+},{"./src/ParseError":29,"./src/Settings":32,"./src/buildTree":37,"./src/parseTree":46,"./src/utils":51}],2:[function(require,module,exports){
+module.exports = { "default": require("core-js/library/fn/json/stringify"), __esModule: true };
+},{"core-js/library/fn/json/stringify":6}],3:[function(require,module,exports){
+module.exports = { "default": require("core-js/library/fn/object/define-property"), __esModule: true };
+},{"core-js/library/fn/object/define-property":7}],4:[function(require,module,exports){
+"use strict";
+
+exports.__esModule = true;
+
+exports.default = function (instance, Constructor) {
+  if (!(instance instanceof Constructor)) {
+    throw new TypeError("Cannot call a class as a function");
+  }
 };
+},{}],5:[function(require,module,exports){
+"use strict";
+
+exports.__esModule = true;
+
+var _defineProperty = require("../core-js/object/define-property");
+
+var _defineProperty2 = _interopRequireDefault(_defineProperty);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+exports.default = function () {
+  function defineProperties(target, props) {
+    for (var i = 0; i < props.length; i++) {
+      var descriptor = props[i];
+      descriptor.enumerable = descriptor.enumerable || false;
+      descriptor.configurable = true;
+      if ("value" in descriptor) descriptor.writable = true;
+      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
+    }
+  }
 
-},{"./src/ParseError":6,"./src/Settings":8,"./src/buildTree":13,"./src/parseTree":22,"./src/utils":25}],2:[function(require,module,exports){
+  return function (Constructor, protoProps, staticProps) {
+    if (protoProps) defineProperties(Constructor.prototype, protoProps);
+    if (staticProps) defineProperties(Constructor, staticProps);
+    return Constructor;
+  };
+}();
+},{"../core-js/object/define-property":3}],6:[function(require,module,exports){
+var core  = require('../../modules/_core')
+  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});
+module.exports = function stringify(it){ // eslint-disable-line no-unused-vars
+  return $JSON.stringify.apply($JSON, arguments);
+};
+},{"../../modules/_core":10}],7:[function(require,module,exports){
+require('../../modules/es6.object.define-property');
+var $Object = require('../../modules/_core').Object;
+module.exports = function defineProperty(it, key, desc){
+  return $Object.defineProperty(it, key, desc);
+};
+},{"../../modules/_core":10,"../../modules/es6.object.define-property":23}],8:[function(require,module,exports){
+module.exports = function(it){
+  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
+  return it;
+};
+},{}],9:[function(require,module,exports){
+var isObject = require('./_is-object');
+module.exports = function(it){
+  if(!isObject(it))throw TypeError(it + ' is not an object!');
+  return it;
+};
+},{"./_is-object":19}],10:[function(require,module,exports){
+var core = module.exports = {version: '2.4.0'};
+if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef
+},{}],11:[function(require,module,exports){
+// optional / simple context binding
+var aFunction = require('./_a-function');
+module.exports = function(fn, that, length){
+  aFunction(fn);
+  if(that === undefined)return fn;
+  switch(length){
+    case 1: return function(a){
+      return fn.call(that, a);
+    };
+    case 2: return function(a, b){
+      return fn.call(that, a, b);
+    };
+    case 3: return function(a, b, c){
+      return fn.call(that, a, b, c);
+    };
+  }
+  return function(/* ...args */){
+    return fn.apply(that, arguments);
+  };
+};
+},{"./_a-function":8}],12:[function(require,module,exports){
+// Thank's IE8 for his funny defineProperty
+module.exports = !require('./_fails')(function(){
+  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
+});
+},{"./_fails":15}],13:[function(require,module,exports){
+var isObject = require('./_is-object')
+  , document = require('./_global').document
+  // in old IE typeof document.createElement is 'object'
+  , is = isObject(document) && isObject(document.createElement);
+module.exports = function(it){
+  return is ? document.createElement(it) : {};
+};
+},{"./_global":16,"./_is-object":19}],14:[function(require,module,exports){
+var global    = require('./_global')
+  , core      = require('./_core')
+  , ctx       = require('./_ctx')
+  , hide      = require('./_hide')
+  , PROTOTYPE = 'prototype';
+
+var $export = function(type, name, source){
+  var IS_FORCED = type & $export.F
+    , IS_GLOBAL = type & $export.G
+    , IS_STATIC = type & $export.S
+    , IS_PROTO  = type & $export.P
+    , IS_BIND   = type & $export.B
+    , IS_WRAP   = type & $export.W
+    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
+    , expProto  = exports[PROTOTYPE]
+    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
+    , key, own, out;
+  if(IS_GLOBAL)source = name;
+  for(key in source){
+    // contains in native
+    own = !IS_FORCED && target && target[key] !== undefined;
+    if(own && key in exports)continue;
+    // export native or passed
+    out = own ? target[key] : source[key];
+    // prevent global pollution for namespaces
+    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
+    // bind timers to global for call from export context
+    : IS_BIND && own ? ctx(out, global)
+    // wrap global constructors for prevent change them in library
+    : IS_WRAP && target[key] == out ? (function(C){
+      var F = function(a, b, c){
+        if(this instanceof C){
+          switch(arguments.length){
+            case 0: return new C;
+            case 1: return new C(a);
+            case 2: return new C(a, b);
+          } return new C(a, b, c);
+        } return C.apply(this, arguments);
+      };
+      F[PROTOTYPE] = C[PROTOTYPE];
+      return F;
+    // make static versions for prototype methods
+    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
+    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
+    if(IS_PROTO){
+      (exports.virtual || (exports.virtual = {}))[key] = out;
+      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
+      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);
+    }
+  }
+};
+// type bitmap
+$export.F = 1;   // forced
+$export.G = 2;   // global
+$export.S = 4;   // static
+$export.P = 8;   // proto
+$export.B = 16;  // bind
+$export.W = 32;  // wrap
+$export.U = 64;  // safe
+$export.R = 128; // real proto method for `library` 
+module.exports = $export;
+},{"./_core":10,"./_ctx":11,"./_global":16,"./_hide":17}],15:[function(require,module,exports){
+module.exports = function(exec){
+  try {
+    return !!exec();
+  } catch(e){
+    return true;
+  }
+};
+},{}],16:[function(require,module,exports){
+// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
+var global = module.exports = typeof window != 'undefined' && window.Math == Math
+  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
+if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef
+},{}],17:[function(require,module,exports){
+var dP         = require('./_object-dp')
+  , createDesc = require('./_property-desc');
+module.exports = require('./_descriptors') ? function(object, key, value){
+  return dP.f(object, key, createDesc(1, value));
+} : function(object, key, value){
+  object[key] = value;
+  return object;
+};
+},{"./_descriptors":12,"./_object-dp":20,"./_property-desc":21}],18:[function(require,module,exports){
+module.exports = !require('./_descriptors') && !require('./_fails')(function(){
+  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;
+});
+},{"./_descriptors":12,"./_dom-create":13,"./_fails":15}],19:[function(require,module,exports){
+module.exports = function(it){
+  return typeof it === 'object' ? it !== null : typeof it === 'function';
+};
+},{}],20:[function(require,module,exports){
+var anObject       = require('./_an-object')
+  , IE8_DOM_DEFINE = require('./_ie8-dom-define')
+  , toPrimitive    = require('./_to-primitive')
+  , dP             = Object.defineProperty;
+
+exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){
+  anObject(O);
+  P = toPrimitive(P, true);
+  anObject(Attributes);
+  if(IE8_DOM_DEFINE)try {
+    return dP(O, P, Attributes);
+  } catch(e){ /* empty */ }
+  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');
+  if('value' in Attributes)O[P] = Attributes.value;
+  return O;
+};
+},{"./_an-object":9,"./_descriptors":12,"./_ie8-dom-define":18,"./_to-primitive":22}],21:[function(require,module,exports){
+module.exports = function(bitmap, value){
+  return {
+    enumerable  : !(bitmap & 1),
+    configurable: !(bitmap & 2),
+    writable    : !(bitmap & 4),
+    value       : value
+  };
+};
+},{}],22:[function(require,module,exports){
+// 7.1.1 ToPrimitive(input [, PreferredType])
+var isObject = require('./_is-object');
+// instead of the ES6 spec version, we didn't implement @@toPrimitive case
+// and the second argument - flag - preferred type is a string
+module.exports = function(it, S){
+  if(!isObject(it))return it;
+  var fn, val;
+  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
+  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;
+  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
+  throw TypeError("Can't convert object to primitive value");
+};
+},{"./_is-object":19}],23:[function(require,module,exports){
+var $export = require('./_export');
+// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
+$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});
+},{"./_descriptors":12,"./_export":14,"./_object-dp":20}],24:[function(require,module,exports){
 /** @flow */
 
 "use strict";
@@ -117,30 +369,112 @@ function matchAt(re, str, pos) {
 }
 
 module.exports = matchAt;
-},{}],3:[function(require,module,exports){
-/**
- * The Lexer class handles tokenizing the input in various ways. Since our
- * parser expects us to be able to backtrack, the lexer allows lexing from any
- * given starting point.
- *
- * Its main exposed function is the `lex` function, which takes a position to
- * lex from and a type of token to lex. It defers to the appropriate `_innerLex`
- * function.
- *
- * The various `_innerLex` functions perform the actual lexing of different
- * kinds.
- */
+},{}],25:[function(require,module,exports){
+'use strict';
+/* eslint-disable no-unused-vars */
+var hasOwnProperty = Object.prototype.hasOwnProperty;
+var propIsEnumerable = Object.prototype.propertyIsEnumerable;
 
-var matchAt = require("match-at");
+function toObject(val) {
+	if (val === null || val === undefined) {
+		throw new TypeError('Object.assign cannot be called with null or undefined');
+	}
 
-var ParseError = require("./ParseError");
+	return Object(val);
+}
 
-// The main lexer class
-function Lexer(input) {
-    this.input = input;
-    this.pos = 0;
+function shouldUseNative() {
+	try {
+		if (!Object.assign) {
+			return false;
+		}
+
+		// Detect buggy property enumeration order in older V8 versions.
+
+		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
+		var test1 = new String('abc');  // eslint-disable-line
+		test1[5] = 'de';
+		if (Object.getOwnPropertyNames(test1)[0] === '5') {
+			return false;
+		}
+
+		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
+		var test2 = {};
+		for (var i = 0; i < 10; i++) {
+			test2['_' + String.fromCharCode(i)] = i;
+		}
+		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
+			return test2[n];
+		});
+		if (order2.join('') !== '0123456789') {
+			return false;
+		}
+
+		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
+		var test3 = {};
+		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
+			test3[letter] = letter;
+		});
+		if (Object.keys(Object.assign({}, test3)).join('') !==
+				'abcdefghijklmnopqrst') {
+			return false;
+		}
+
+		return true;
+	} catch (e) {
+		// We don't expect any of the above to throw, but better to be safe.
+		return false;
+	}
 }
 
+module.exports = shouldUseNative() ? Object.assign : function (target, source) {
+	var from;
+	var to = toObject(target);
+	var symbols;
+
+	for (var s = 1; s < arguments.length; s++) {
+		from = Object(arguments[s]);
+
+		for (var key in from) {
+			if (hasOwnProperty.call(from, key)) {
+				to[key] = from[key];
+			}
+		}
+
+		if (Object.getOwnPropertySymbols) {
+			symbols = Object.getOwnPropertySymbols(from);
+			for (var i = 0; i < symbols.length; i++) {
+				if (propIsEnumerable.call(from, symbols[i])) {
+					to[symbols[i]] = from[symbols[i]];
+				}
+			}
+		}
+	}
+
+	return to;
+};
+
+},{}],26:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+var _matchAt = require("match-at");
+
+var _matchAt2 = _interopRequireDefault(_matchAt);
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
 /**
  * The resulting token returned from `lex`.
  *
@@ -160,26 +494,49 @@ function Lexer(input) {
  * @param {number=} end    the end offset, zero-based exclusive
  * @param {Lexer=}  lexer  the lexer which in turn holds the input string
  */
-function Token(text, start, end, lexer) {
-    this.text = text;
-    this.start = start;
-    this.end = end;
-    this.lexer = lexer;
-}
-
 /**
- * Given a pair of tokens (this and endToken), compute a “Token” encompassing
- * the whole input range enclosed by these two.
+ * The Lexer class handles tokenizing the input in various ways. Since our
+ * parser expects us to be able to backtrack, the lexer allows lexing from any
+ * given starting point.
  *
- * @param {Token}  endToken  last token of the range, inclusive
- * @param {string} text      the text of the newly constructed token
+ * Its main exposed function is the `lex` function, which takes a position to
+ * lex from and a type of token to lex. It defers to the appropriate `_innerLex`
+ * function.
+ *
+ * The various `_innerLex` functions perform the actual lexing of different
+ * kinds.
  */
-Token.prototype.range = function(endToken, text) {
-    if (endToken.lexer !== this.lexer) {
-        return new Token(text); // sorry, no position information available
+
+var Token = function () {
+    function Token(text, start, end, lexer) {
+        (0, _classCallCheck3.default)(this, Token);
+
+        this.text = text;
+        this.start = start;
+        this.end = end;
+        this.lexer = lexer;
     }
-    return new Token(text, this.start, endToken.end, this.lexer);
-};
+
+    /**
+     * Given a pair of tokens (this and endToken), compute a “Token” encompassing
+     * the whole input range enclosed by these two.
+     *
+     * @param {Token}  endToken  last token of the range, inclusive
+     * @param {string} text      the text of the newly constructed token
+     */
+
+
+    (0, _createClass3.default)(Token, [{
+        key: "range",
+        value: function range(endToken, text) {
+            if (endToken.lexer !== this.lexer) {
+                return new Token(text); // sorry, no position information available
+            }
+            return new Token(text, this.start, endToken.end, this.lexer);
+        }
+    }]);
+    return Token;
+}();
 
 /* The following tokenRegex
  * - matches typical whitespace (but not NBSP etc.) using its first group
@@ -196,229 +553,507 @@ Token.prototype.range = function(endToken, text) {
  * If there is no matching function or symbol definition, the Parser will
  * still reject the input.
  */
-var tokenRegex = new RegExp(
-    "([ \r\n\t]+)|" +                                 // whitespace
-    "([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]" +  // single codepoint
-    "|[\uD800-\uDBFF][\uDC00-\uDFFF]" +               // surrogate pair
-    "|\\\\(?:[a-zA-Z]+|[^\uD800-\uDFFF])" +           // function name
-    ")"
-);
 
-/**
- * This function lexes a single token.
+
+var tokenRegex = new RegExp("([ \r\n\t]+)|" + // whitespace
+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]" + // single codepoint
+"|[\uD800-\uDBFF][\uDC00-\uDFFF]" + // surrogate pair
+"|\\\\(?:[a-zA-Z]+|[^\uD800-\uDFFF])" + // function name
+")");
+
+/*
+ * Main Lexer class
  */
-Lexer.prototype.lex = function() {
-    var input = this.input;
-    var pos = this.pos;
-    if (pos === input.length) {
-        return new Token("EOF", pos, pos, this);
-    }
-    var match = matchAt(tokenRegex, input, pos);
-    if (match === null) {
-        throw new ParseError(
-            "Unexpected character: '" + input[pos] + "'",
-            new Token(input[pos], pos, pos + 1, this));
+
+var Lexer = function () {
+    function Lexer(input) {
+        (0, _classCallCheck3.default)(this, Lexer);
+
+        this.input = input;
+        this.pos = 0;
     }
-    var text = match[2] || " ";
-    var start = this.pos;
-    this.pos += match[0].length;
-    var end = this.pos;
-    return new Token(text, start, end, this);
-};
+
+    /**
+     * This function lexes a single token.
+     */
+
+
+    (0, _createClass3.default)(Lexer, [{
+        key: "lex",
+        value: function lex() {
+            var input = this.input;
+            var pos = this.pos;
+            if (pos === input.length) {
+                return new Token("EOF", pos, pos, this);
+            }
+            var match = (0, _matchAt2.default)(tokenRegex, input, pos);
+            if (match === null) {
+                throw new _ParseError2.default("Unexpected character: '" + input[pos] + "'", new Token(input[pos], pos, pos + 1, this));
+            }
+            var text = match[2] || " ";
+            var start = this.pos;
+            this.pos += match[0].length;
+            var end = this.pos;
+            return new Token(text, start, end, this);
+        }
+    }]);
+    return Lexer;
+}();
 
 module.exports = Lexer;
 
-},{"./ParseError":6,"match-at":2}],4:[function(require,module,exports){
+},{"./ParseError":29,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5,"match-at":24}],27:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+var _Lexer = require("./Lexer");
+
+var _Lexer2 = _interopRequireDefault(_Lexer);
+
+var _macros = require("./macros");
+
+var _macros2 = _interopRequireDefault(_macros);
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+var _objectAssign = require("object-assign");
+
+var _objectAssign2 = _interopRequireDefault(_objectAssign);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
 /**
  * This file contains the “gullet” where macros are expanded
  * until only non-macro tokens remain.
  */
 
-var Lexer = require("./Lexer");
+var MacroExpander = function () {
+    function MacroExpander(input, macros) {
+        (0, _classCallCheck3.default)(this, MacroExpander);
 
-function MacroExpander(input, macros) {
-    this.lexer = new Lexer(input);
-    this.macros = macros;
-    this.stack = []; // contains tokens in REVERSE order
-    this.discardedWhiteSpace = [];
-}
+        this.lexer = new _Lexer2.default(input);
+        this.macros = (0, _objectAssign2.default)({}, _macros2.default, macros);
+        this.stack = []; // contains tokens in REVERSE order
+        this.discardedWhiteSpace = [];
+    }
 
-/**
- * Recursively expand first token, then return first non-expandable token.
- */
-MacroExpander.prototype.nextToken = function() {
-    for (;;) {
-        if (this.stack.length === 0) {
-            this.stack.push(this.lexer.lex());
-        }
-        var topToken = this.stack.pop();
-        var name = topToken.text;
-        if (!(name.charAt(0) === "\\" && this.macros.hasOwnProperty(name))) {
-            return topToken;
-        }
-        var expansion = this.macros[name];
-        if (typeof expansion === "string") {
-            var bodyLexer = new Lexer(expansion);
-            expansion = [];
-            var tok = bodyLexer.lex();
-            while (tok.text !== "EOF") {
-                expansion.push(tok);
-                tok = bodyLexer.lex();
+    /**
+     * Recursively expand first token, then return first non-expandable token.
+     *
+     * At the moment, macro expansion doesn't handle delimited macros,
+     * i.e. things like those defined by \def\foo#1\end{…}.
+     * See the TeX book page 202ff. for details on how those should behave.
+     */
+
+
+    (0, _createClass3.default)(MacroExpander, [{
+        key: "nextToken",
+        value: function nextToken() {
+            for (;;) {
+                if (this.stack.length === 0) {
+                    this.stack.push(this.lexer.lex());
+                }
+                var topToken = this.stack.pop();
+                var name = topToken.text;
+                if (!(name.charAt(0) === "\\" && this.macros.hasOwnProperty(name))) {
+                    return topToken;
+                }
+                var tok = void 0;
+                var expansion = this.macros[name];
+                if (typeof expansion === "string") {
+                    var numArgs = 0;
+                    if (expansion.indexOf("#") !== -1) {
+                        var stripped = expansion.replace(/##/g, "");
+                        while (stripped.indexOf("#" + (numArgs + 1)) !== -1) {
+                            ++numArgs;
+                        }
+                    }
+                    var bodyLexer = new _Lexer2.default(expansion);
+                    expansion = [];
+                    tok = bodyLexer.lex();
+                    while (tok.text !== "EOF") {
+                        expansion.push(tok);
+                        tok = bodyLexer.lex();
+                    }
+                    expansion.reverse(); // to fit in with stack using push and pop
+                    expansion.numArgs = numArgs;
+                    this.macros[name] = expansion;
+                }
+                if (expansion.numArgs) {
+                    var args = [];
+                    var i = void 0;
+                    // obtain arguments, either single token or balanced {…} group
+                    for (i = 0; i < expansion.numArgs; ++i) {
+                        var startOfArg = this.get(true);
+                        if (startOfArg.text === "{") {
+                            var arg = [];
+                            var depth = 1;
+                            while (depth !== 0) {
+                                tok = this.get(false);
+                                arg.push(tok);
+                                if (tok.text === "{") {
+                                    ++depth;
+                                } else if (tok.text === "}") {
+                                    --depth;
+                                } else if (tok.text === "EOF") {
+                                    throw new _ParseError2.default("End of input in macro argument", startOfArg);
+                                }
+                            }
+                            arg.pop(); // remove last }
+                            arg.reverse(); // like above, to fit in with stack order
+                            args[i] = arg;
+                        } else if (startOfArg.text === "EOF") {
+                            throw new _ParseError2.default("End of input expecting macro argument", topToken);
+                        } else {
+                            args[i] = [startOfArg];
+                        }
+                    }
+                    // paste arguments in place of the placeholders
+                    expansion = expansion.slice(); // make a shallow copy
+                    for (i = expansion.length - 1; i >= 0; --i) {
+                        tok = expansion[i];
+                        if (tok.text === "#") {
+                            if (i === 0) {
+                                throw new _ParseError2.default("Incomplete placeholder at end of macro body", tok);
+                            }
+                            tok = expansion[--i]; // next token on stack
+                            if (tok.text === "#") {
+                                // ## → #
+                                expansion.splice(i + 1, 1); // drop first #
+                            } else if (/^[1-9]$/.test(tok.text)) {
+                                // expansion.splice(i, 2, arg[0], arg[1], …)
+                                // to replace placeholder with the indicated argument.
+                                // TODO: use spread once we move to ES2015
+                                expansion.splice.apply(expansion, [i, 2].concat(args[tok.text - 1]));
+                            } else {
+                                throw new _ParseError2.default("Not a valid argument number", tok);
+                            }
+                        }
+                    }
+                }
+                this.stack = this.stack.concat(expansion);
             }
-            expansion.reverse(); // to fit in with stack using push and pop
-            this.macros[name] = expansion;
         }
-        this.stack = this.stack.concat(expansion);
-    }
-};
-
-MacroExpander.prototype.get = function(ignoreSpace) {
-    this.discardedWhiteSpace = [];
-    var token = this.nextToken();
-    if (ignoreSpace) {
-        while (token.text === " ") {
-            this.discardedWhiteSpace.push(token);
-            token = this.nextToken();
+    }, {
+        key: "get",
+        value: function get(ignoreSpace) {
+            this.discardedWhiteSpace = [];
+            var token = this.nextToken();
+            if (ignoreSpace) {
+                while (token.text === " ") {
+                    this.discardedWhiteSpace.push(token);
+                    token = this.nextToken();
+                }
+            }
+            return token;
         }
-    }
-    return token;
-};
 
-/**
- * Undo the effect of the preceding call to the get method.
- * A call to this method MUST be immediately preceded and immediately followed
- * by a call to get.  Only used during mode switching, i.e. after one token
- * was got in the old mode but should get got again in a new mode
- * with possibly different whitespace handling.
- */
-MacroExpander.prototype.unget = function(token) {
-    this.stack.push(token);
-    while (this.discardedWhiteSpace.length !== 0) {
-        this.stack.push(this.discardedWhiteSpace.pop());
-    }
-};
+        /**
+         * Undo the effect of the preceding call to the get method.
+         * A call to this method MUST be immediately preceded and immediately followed
+         * by a call to get.  Only used during mode switching, i.e. after one token
+         * was got in the old mode but should get got again in a new mode
+         * with possibly different whitespace handling.
+         */
+
+    }, {
+        key: "unget",
+        value: function unget(token) {
+            this.stack.push(token);
+            while (this.discardedWhiteSpace.length !== 0) {
+                this.stack.push(this.discardedWhiteSpace.pop());
+            }
+        }
+    }]);
+    return MacroExpander;
+}();
 
 module.exports = MacroExpander;
 
-},{"./Lexer":3}],5:[function(require,module,exports){
-/**
- * This file contains information about the options that the Parser carries
- * around with it while parsing. Data is held in an `Options` object, and when
- * recursing, a new `Options` object can be created with the `.with*` and
- * `.reset` functions.
- */
+},{"./Lexer":26,"./ParseError":29,"./macros":44,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5,"object-assign":25}],28:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+var _fontMetrics2 = require("./fontMetrics");
+
+var _fontMetrics3 = _interopRequireDefault(_fontMetrics2);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+var BASESIZE = 6; /**
+                   * This file contains information about the options that the Parser carries
+                   * around with it while parsing. Data is held in an `Options` object, and when
+                   * recursing, a new `Options` object can be created with the `.with*` and
+                   * `.reset` functions.
+                   */
+
+var sizeStyleMap = [
+// Each element contains [textsize, scriptsize, scriptscriptsize].
+// The size mappings are taken from TeX with \normalsize=10pt.
+[1, 1, 1], // size1: [5, 5, 5]              \tiny
+[2, 1, 1], // size2: [6, 5, 5]
+[3, 1, 1], // size3: [7, 5, 5]              \scriptsize
+[4, 2, 1], // size4: [8, 6, 5]              \footnotesize
+[5, 2, 1], // size5: [9, 6, 5]              \small
+[6, 3, 1], // size6: [10, 7, 5]             \normalsize
+[7, 4, 2], // size7: [12, 8, 6]             \large
+[8, 6, 3], // size8: [14.4, 10, 7]          \Large
+[9, 7, 6], // size9: [17.28, 12, 10]        \LARGE
+[10, 8, 7], // size10: [20.74, 14.4, 12]     \huge
+[11, 10, 9]];
+
+var sizeMultipliers = [
+// fontMetrics.js:getFontMetrics also uses size indexes, so if
+// you change size indexes, change that function.
+0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.2, 1.44, 1.728, 2.074, 2.488];
+
+var sizeAtStyle = function sizeAtStyle(size, style) {
+    return style.size < 2 ? size : sizeStyleMap[size - 1][style.size - 1];
+};
 
 /**
- * This is the main options class. It contains the style, size, color, and font
- * of the current parse level. It also contains the style and size of the parent
- * parse level, so size changes can be handled efficiently.
+ * This is the main options class. It contains the current style, size, color,
+ * and font.
  *
- * Each of the `.with*` and `.reset` functions passes its current style and size
- * as the parentStyle and parentSize of the new options class, so parent
- * handling is taken care of automatically.
+ * Options objects should not be modified. To create a new Options with
+ * different properties, call a `.having*` method.
  */
-function Options(data) {
-    this.style = data.style;
-    this.color = data.color;
-    this.size = data.size;
-    this.phantom = data.phantom;
-    this.font = data.font;
-
-    if (data.parentStyle === undefined) {
-        this.parentStyle = data.style;
-    } else {
-        this.parentStyle = data.parentStyle;
-    }
 
-    if (data.parentSize === undefined) {
-        this.parentSize = data.size;
-    } else {
-        this.parentSize = data.parentSize;
+var Options = function () {
+    function Options(data) {
+        (0, _classCallCheck3.default)(this, Options);
+
+        this.style = data.style;
+        this.color = data.color;
+        this.size = data.size || BASESIZE;
+        this.textSize = data.textSize || this.size;
+        this.phantom = data.phantom;
+        this.font = data.font;
+        this.sizeMultiplier = sizeMultipliers[this.size - 1];
+        this._fontMetrics = null;
     }
-}
 
-/**
- * Returns a new options object with the same properties as "this".  Properties
- * from "extension" will be copied to the new options object.
- */
-Options.prototype.extend = function(extension) {
-    var data = {
-        style: this.style,
-        size: this.size,
-        color: this.color,
-        parentStyle: this.style,
-        parentSize: this.size,
-        phantom: this.phantom,
-        font: this.font
-    };
+    /**
+     * Returns a new options object with the same properties as "this".  Properties
+     * from "extension" will be copied to the new options object.
+     */
+
+
+    (0, _createClass3.default)(Options, [{
+        key: "extend",
+        value: function extend(extension) {
+            var data = {
+                style: this.style,
+                size: this.size,
+                textSize: this.textSize,
+                color: this.color,
+                phantom: this.phantom,
+                font: this.font
+            };
+
+            for (var key in extension) {
+                if (extension.hasOwnProperty(key)) {
+                    data[key] = extension[key];
+                }
+            }
 
-    for (var key in extension) {
-        if (extension.hasOwnProperty(key)) {
-            data[key] = extension[key];
+            return new Options(data);
         }
-    }
 
-    return new Options(data);
-};
+        /**
+         * Return an options object with the given style. If `this.style === style`,
+         * returns `this`.
+         */
 
-/**
- * Create a new options object with the given style.
- */
-Options.prototype.withStyle = function(style) {
-    return this.extend({
-        style: style
-    });
-};
+    }, {
+        key: "havingStyle",
+        value: function havingStyle(style) {
+            if (this.style === style) {
+                return this;
+            } else {
+                return this.extend({
+                    style: style,
+                    size: sizeAtStyle(this.textSize, style)
+                });
+            }
+        }
 
-/**
- * Create a new options object with the given size.
- */
-Options.prototype.withSize = function(size) {
-    return this.extend({
-        size: size
-    });
-};
+        /**
+         * Return an options object with a cramped version of the current style. If
+         * the current style is cramped, returns `this`.
+         */
 
-/**
- * Create a new options object with the given color.
- */
-Options.prototype.withColor = function(color) {
-    return this.extend({
-        color: color
-    });
-};
+    }, {
+        key: "havingCrampedStyle",
+        value: function havingCrampedStyle() {
+            return this.havingStyle(this.style.cramp());
+        }
 
-/**
- * Create a new options object with "phantom" set to true.
- */
-Options.prototype.withPhantom = function() {
-    return this.extend({
-        phantom: true
-    });
-};
+        /**
+         * Return an options object with the given size and in at least `\textstyle`.
+         * Returns `this` if appropriate.
+         */
 
-/**
- * Create a new options objects with the give font.
- */
-Options.prototype.withFont = function(font) {
-    return this.extend({
-        font: font || this.font
-    });
-};
+    }, {
+        key: "havingSize",
+        value: function havingSize(size) {
+            if (this.size === size && this.textSize === size) {
+                return this;
+            } else {
+                return this.extend({
+                    style: this.style.text(),
+                    size: size,
+                    textSize: size
+                });
+            }
+        }
 
-/**
- * Create a new options object with the same style, size, and color. This is
- * used so that parent style and size changes are handled correctly.
- */
-Options.prototype.reset = function() {
-    return this.extend({});
-};
+        /**
+         * Like `this.havingSize(BASESIZE).havingStyle(style)`. If `style` is omitted,
+         * changes to at least `\textstyle`.
+         */
+
+    }, {
+        key: "havingBaseStyle",
+        value: function havingBaseStyle(style) {
+            style = style || this.style.text();
+            var wantSize = sizeAtStyle(BASESIZE, style);
+            if (this.size === wantSize && this.textSize === BASESIZE && this.style === style) {
+                return this;
+            } else {
+                return this.extend({
+                    style: style,
+                    size: wantSize,
+                    baseSize: BASESIZE
+                });
+            }
+        }
+
+        /**
+         * Create a new options object with the given color.
+         */
+
+    }, {
+        key: "withColor",
+        value: function withColor(color) {
+            return this.extend({
+                color: color
+            });
+        }
+
+        /**
+         * Create a new options object with "phantom" set to true.
+         */
+
+    }, {
+        key: "withPhantom",
+        value: function withPhantom() {
+            return this.extend({
+                phantom: true
+            });
+        }
+
+        /**
+         * Create a new options objects with the give font.
+         */
+
+    }, {
+        key: "withFont",
+        value: function withFont(font) {
+            return this.extend({
+                font: font || this.font
+            });
+        }
+
+        /**
+         * Return the CSS sizing classes required to switch from enclosing options
+         * `oldOptions` to `this`. Returns an array of classes.
+         */
+
+    }, {
+        key: "sizingClasses",
+        value: function sizingClasses(oldOptions) {
+            if (oldOptions.size !== this.size) {
+                return ["sizing", "reset-size" + oldOptions.size, "size" + this.size];
+            } else {
+                return [];
+            }
+        }
+
+        /**
+         * Return the CSS sizing classes required to switch to the base size. Like
+         * `this.havingSize(BASESIZE).sizingClasses(this)`.
+         */
+
+    }, {
+        key: "baseSizingClasses",
+        value: function baseSizingClasses() {
+            if (this.size !== BASESIZE) {
+                return ["sizing", "reset-size" + this.size, "size" + BASESIZE];
+            } else {
+                return [];
+            }
+        }
+
+        /**
+         * Return the font metrics for this size.
+         */
+
+    }, {
+        key: "fontMetrics",
+        value: function fontMetrics() {
+            if (!this._fontMetrics) {
+                this._fontMetrics = _fontMetrics3.default.getFontMetrics(this.size);
+            }
+            return this._fontMetrics;
+        }
+
+        /**
+         * A map of color names to CSS colors.
+         * TODO(emily): Remove this when we have real macros
+         */
+
+    }, {
+        key: "getColor",
+
+
+        /**
+         * Gets the CSS color of the current options object, accounting for the
+         * `colorMap`.
+         */
+        value: function getColor() {
+            if (this.phantom) {
+                return "transparent";
+            } else {
+                return Options.colorMap[this.color] || this.color;
+            }
+        }
+    }]);
+    return Options;
+}();
 
 /**
- * A map of color names to CSS colors.
- * TODO(emily): Remove this when we have real macros
+ * The base size index.
  */
-var colorMap = {
+
+
+Options.colorMap = {
     "katex-blue": "#6495ed",
     "katex-orange": "#ffa500",
     "katex-pink": "#ff00af",
@@ -476,22 +1111,19 @@ var colorMap = {
     "katex-kaBlue": "#314453",
     "katex-kaGreen": "#71B307"
 };
-
-/**
- * Gets the CSS color of the current options object, accounting for the
- * `colorMap`.
- */
-Options.prototype.getColor = function() {
-    if (this.phantom) {
-        return "transparent";
-    } else {
-        return colorMap[this.color] || this.color;
-    }
-};
+Options.BASESIZE = BASESIZE;
 
 module.exports = Options;
 
-},{}],6:[function(require,module,exports){
+},{"./fontMetrics":41,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],29:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
 /**
  * This is the ParseError class, which is the main error thrown by KaTeX
  * functions when something has gone wrong. This is used to distinguish internal
@@ -503,10 +1135,12 @@ module.exports = Options;
  * @param {string} message  The error message
  * @param {(Token|ParseNode)=} token  An object providing position information
  */
-function ParseError(message, token) {
+var ParseError = function ParseError(message, token) {
+    (0, _classCallCheck3.default)(this, ParseError);
+
     var error = "KaTeX parse error: " + message;
-    var start;
-    var end;
+    var start = void 0;
+    var end = void 0;
 
     if (token && token.lexer && token.start <= token.end) {
         // If we have the input and a position, make the error a bit fancier
@@ -527,13 +1161,13 @@ function ParseError(message, token) {
         var underlined = input.slice(start, end).replace(/[^]/g, "$&\u0332");
 
         // Extract some context from the input and add it to the error
-        var left;
+        var left = void 0;
         if (start > 15) {
             left = "…" + input.slice(start - 15, start);
         } else {
             left = input.slice(0, start);
         }
-        var right;
+        var right = void 0;
         if (end + 15 < input.length) {
             right = input.slice(end, end + 15) + "…";
         } else {
@@ -550,24 +1184,106 @@ function ParseError(message, token) {
 
     self.position = start;
     return self;
-}
+};
 
 // More hackery
+
+
 ParseError.prototype.__proto__ = Error.prototype;
 
 module.exports = ParseError;
 
-},{}],7:[function(require,module,exports){
-/* eslint no-constant-condition:0 */
-var functions = require("./functions");
-var environments = require("./environments");
-var MacroExpander = require("./MacroExpander");
-var symbols = require("./symbols");
-var utils = require("./utils");
-var cjkRegex = require("./unicodeRegexes").cjkRegex;
+},{"babel-runtime/helpers/classCallCheck":4}],30:[function(require,module,exports){
+"use strict";
+
+Object.defineProperty(exports, "__esModule", {
+    value: true
+});
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
 
-var parseData = require("./parseData");
-var ParseError = require("./ParseError");
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+/**
+ * The resulting parse tree nodes of the parse tree.
+ *
+ * It is possible to provide position information, so that a ParseNode can
+ * fulfil a role similar to a Token in error reporting.
+ * For details on the corresponding properties see Token constructor.
+ * Providing such information can lead to better error reporting.
+ *
+ * @param {string}  type       type of node, like e.g. "ordgroup"
+ * @param {?object} value      type-specific representation of the node
+ * @param {string}  mode       parse mode in action for this node,
+ *                             "math" or "text"
+ * @param {Token=} firstToken  first token of the input for this node,
+ *                             will omit position information if unset
+ * @param {Token=} lastToken   last token of the input for this node,
+ *                             will default to firstToken if unset
+ */
+var ParseNode = function ParseNode(type, value, mode, firstToken, lastToken) {
+    (0, _classCallCheck3.default)(this, ParseNode);
+
+    this.type = type;
+    this.value = value;
+    this.mode = mode;
+    if (firstToken && (!lastToken || lastToken.lexer === firstToken.lexer)) {
+        this.lexer = firstToken.lexer;
+        this.start = firstToken.start;
+        this.end = (lastToken || firstToken).end;
+    }
+};
+
+exports.default = ParseNode;
+
+},{"babel-runtime/helpers/classCallCheck":4}],31:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+var _functions = require("./functions");
+
+var _functions2 = _interopRequireDefault(_functions);
+
+var _environments = require("./environments");
+
+var _environments2 = _interopRequireDefault(_environments);
+
+var _MacroExpander = require("./MacroExpander");
+
+var _MacroExpander2 = _interopRequireDefault(_MacroExpander);
+
+var _symbols = require("./symbols");
+
+var _symbols2 = _interopRequireDefault(_symbols);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+var _units = require("./units");
+
+var _units2 = _interopRequireDefault(_units);
+
+var _unicodeRegexes = require("./unicodeRegexes");
+
+var _ParseNode = require("./ParseNode");
+
+var _ParseNode2 = _interopRequireDefault(_ParseNode);
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * This file contains the parser used to parse out a TeX expression from the
@@ -603,21 +1319,6 @@ var ParseError = require("./ParseError");
  * standalone object which can be used as an argument to another function.
  */
 
-/**
- * Main Parser class
- */
-function Parser(input, settings) {
-    // Create a new macro expander (gullet) and (indirectly via that) also a
-    // new lexer (mouth) for this parser (stomach, in the language of TeX)
-    this.gullet = new MacroExpander(input, settings.macros);
-    // Store the settings for use in parsing
-    this.settings = settings;
-    // Count leftright depth (for \middle errors)
-    this.leftrightDepth = 0;
-}
-
-var ParseNode = parseData.ParseNode;
-
 /**
  * An initial function (without its arguments), or an argument to a function.
  * The `result` argument should be a ParseNode.
@@ -627,819 +1328,938 @@ function ParseFuncOrArgument(result, isFunction, token) {
     // Is this a function (i.e. is it something defined in functions.js)?
     this.isFunction = isFunction;
     this.token = token;
-}
-
-/**
- * Checks a result to make sure it has the right type, and throws an
- * appropriate error otherwise.
- *
- * @param {boolean=} consume whether to consume the expected token,
- *                           defaults to true
- */
-Parser.prototype.expect = function(text, consume) {
-    if (this.nextToken.text !== text) {
-        throw new ParseError(
-            "Expected '" + text + "', got '" + this.nextToken.text + "'",
-            this.nextToken
-        );
-    }
-    if (consume !== false) {
-        this.consume();
+} /* eslint no-constant-condition:0 */
+
+var Parser = function () {
+    function Parser(input, settings) {
+        (0, _classCallCheck3.default)(this, Parser);
+
+        // Create a new macro expander (gullet) and (indirectly via that) also a
+        // new lexer (mouth) for this parser (stomach, in the language of TeX)
+        this.gullet = new _MacroExpander2.default(input, settings.macros);
+        // Use old \color behavior (same as LaTeX's \textcolor) if requested.
+        // We do this after the macros object has been copied by MacroExpander.
+        if (settings.colorIsTextColor) {
+            this.gullet.macros["\\color"] = "\\textcolor";
+        }
+        // Store the settings for use in parsing
+        this.settings = settings;
+        // Count leftright depth (for \middle errors)
+        this.leftrightDepth = 0;
     }
-};
 
-/**
- * Considers the current look ahead token as consumed,
- * and fetches the one after that as the new look ahead.
- */
-Parser.prototype.consume = function() {
-    this.nextToken = this.gullet.get(this.mode === "math");
-};
+    /**
+     * Checks a result to make sure it has the right type, and throws an
+     * appropriate error otherwise.
+     *
+     * @param {boolean=} consume whether to consume the expected token,
+     *                           defaults to true
+     */
 
-Parser.prototype.switchMode = function(newMode) {
-    this.gullet.unget(this.nextToken);
-    this.mode = newMode;
-    this.consume();
-};
 
-/**
- * Main parsing function, which parses an entire input.
- *
- * @return {?Array.<ParseNode>}
- */
-Parser.prototype.parse = function() {
-    // Try to parse the input
-    this.mode = "math";
-    this.consume();
-    var parse = this.parseInput();
-    return parse;
-};
-
-/**
- * Parses an entire input tree.
- */
-Parser.prototype.parseInput = function() {
-    // Parse an expression
-    var expression = this.parseExpression(false);
-    // If we succeeded, make sure there's an EOF at the end
-    this.expect("EOF", false);
-    return expression;
-};
+    (0, _createClass3.default)(Parser, [{
+        key: "expect",
+        value: function expect(text, consume) {
+            if (this.nextToken.text !== text) {
+                throw new _ParseError2.default("Expected '" + text + "', got '" + this.nextToken.text + "'", this.nextToken);
+            }
+            if (consume !== false) {
+                this.consume();
+            }
+        }
 
-var endOfExpression = ["}", "\\end", "\\right", "&", "\\\\", "\\cr"];
+        /**
+         * Considers the current look ahead token as consumed,
+         * and fetches the one after that as the new look ahead.
+         */
 
-/**
- * Parses an "expression", which is a list of atoms.
- *
- * @param {boolean} breakOnInfix  Should the parsing stop when we hit infix
- *                  nodes? This happens when functions have higher precendence
- *                  than infix nodes in implicit parses.
- *
- * @param {?string} breakOnTokenText  The text of the token that the expression
- *                  should end with, or `null` if something else should end the
- *                  expression.
- *
- * @return {ParseNode}
- */
-Parser.prototype.parseExpression = function(breakOnInfix, breakOnTokenText) {
-    var body = [];
-    // Keep adding atoms to the body until we can't parse any more atoms (either
-    // we reached the end, a }, or a \right)
-    while (true) {
-        var lex = this.nextToken;
-        if (endOfExpression.indexOf(lex.text) !== -1) {
-            break;
+    }, {
+        key: "consume",
+        value: function consume() {
+            this.nextToken = this.gullet.get(this.mode === "math");
         }
-        if (breakOnTokenText && lex.text === breakOnTokenText) {
-            break;
+    }, {
+        key: "switchMode",
+        value: function switchMode(newMode) {
+            this.gullet.unget(this.nextToken);
+            this.mode = newMode;
+            this.consume();
         }
-        if (breakOnInfix && functions[lex.text] && functions[lex.text].infix) {
-            break;
+
+        /**
+         * Main parsing function, which parses an entire input.
+         *
+         * @return {?Array.<ParseNode>}
+         */
+
+    }, {
+        key: "parse",
+        value: function parse() {
+            // Try to parse the input
+            this.mode = "math";
+            this.consume();
+            var parse = this.parseInput();
+            return parse;
         }
-        var atom = this.parseAtom();
-        if (!atom) {
-            if (!this.settings.throwOnError && lex.text[0] === "\\") {
-                var errorNode = this.handleUnsupportedCmd();
-                body.push(errorNode);
-                continue;
-            }
 
-            break;
+        /**
+         * Parses an entire input tree.
+         */
+
+    }, {
+        key: "parseInput",
+        value: function parseInput() {
+            // Parse an expression
+            var expression = this.parseExpression(false);
+            // If we succeeded, make sure there's an EOF at the end
+            this.expect("EOF", false);
+            return expression;
+        }
+    }, {
+        key: "parseExpression",
+
+
+        /**
+         * Parses an "expression", which is a list of atoms.
+         *
+         * @param {boolean} breakOnInfix  Should the parsing stop when we hit infix
+         *                  nodes? This happens when functions have higher precendence
+         *                  than infix nodes in implicit parses.
+         *
+         * @param {?string} breakOnTokenText  The text of the token that the expression
+         *                  should end with, or `null` if something else should end the
+         *                  expression.
+         *
+         * @return {ParseNode}
+         */
+        value: function parseExpression(breakOnInfix, breakOnTokenText) {
+            var body = [];
+            // Keep adding atoms to the body until we can't parse any more atoms (either
+            // we reached the end, a }, or a \right)
+            while (true) {
+                var lex = this.nextToken;
+                if (Parser.endOfExpression.indexOf(lex.text) !== -1) {
+                    break;
+                }
+                if (breakOnTokenText && lex.text === breakOnTokenText) {
+                    break;
+                }
+                if (breakOnInfix && _functions2.default[lex.text] && _functions2.default[lex.text].infix) {
+                    break;
+                }
+                var atom = this.parseAtom();
+                if (!atom) {
+                    if (!this.settings.throwOnError && lex.text[0] === "\\") {
+                        var errorNode = this.handleUnsupportedCmd();
+                        body.push(errorNode);
+                        continue;
+                    }
+
+                    break;
+                }
+                body.push(atom);
+            }
+            return this.handleInfixNodes(body);
         }
-        body.push(atom);
-    }
-    return this.handleInfixNodes(body);
-};
 
-/**
- * Rewrites infix operators such as \over with corresponding commands such
- * as \frac.
- *
- * There can only be one infix operator per group.  If there's more than one
- * then the expression is ambiguous.  This can be resolved by adding {}.
- *
- * @returns {Array}
- */
-Parser.prototype.handleInfixNodes = function(body) {
-    var overIndex = -1;
-    var funcName;
+        /**
+         * Rewrites infix operators such as \over with corresponding commands such
+         * as \frac.
+         *
+         * There can only be one infix operator per group.  If there's more than one
+         * then the expression is ambiguous.  This can be resolved by adding {}.
+         *
+         * @returns {Array}
+         */
+
+    }, {
+        key: "handleInfixNodes",
+        value: function handleInfixNodes(body) {
+            var overIndex = -1;
+            var funcName = void 0;
+
+            for (var i = 0; i < body.length; i++) {
+                var node = body[i];
+                if (node.type === "infix") {
+                    if (overIndex !== -1) {
+                        throw new _ParseError2.default("only one infix operator per group", node.value.token);
+                    }
+                    overIndex = i;
+                    funcName = node.value.replaceWith;
+                }
+            }
 
-    for (var i = 0; i < body.length; i++) {
-        var node = body[i];
-        if (node.type === "infix") {
             if (overIndex !== -1) {
-                throw new ParseError(
-                    "only one infix operator per group",
-                    node.value.token);
+                var numerNode = void 0;
+                var denomNode = void 0;
+
+                var numerBody = body.slice(0, overIndex);
+                var denomBody = body.slice(overIndex + 1);
+
+                if (numerBody.length === 1 && numerBody[0].type === "ordgroup") {
+                    numerNode = numerBody[0];
+                } else {
+                    numerNode = new _ParseNode2.default("ordgroup", numerBody, this.mode);
+                }
+
+                if (denomBody.length === 1 && denomBody[0].type === "ordgroup") {
+                    denomNode = denomBody[0];
+                } else {
+                    denomNode = new _ParseNode2.default("ordgroup", denomBody, this.mode);
+                }
+
+                var value = this.callFunction(funcName, [numerNode, denomNode], null);
+                return [new _ParseNode2.default(value.type, value, this.mode)];
+            } else {
+                return body;
             }
-            overIndex = i;
-            funcName = node.value.replaceWith;
         }
-    }
 
-    if (overIndex !== -1) {
-        var numerNode;
-        var denomNode;
+        // The greediness of a superscript or subscript
 
-        var numerBody = body.slice(0, overIndex);
-        var denomBody = body.slice(overIndex + 1);
+    }, {
+        key: "handleSupSubscript",
 
-        if (numerBody.length === 1 && numerBody[0].type === "ordgroup") {
-            numerNode = numerBody[0];
-        } else {
-            numerNode = new ParseNode("ordgroup", numerBody, this.mode);
-        }
 
-        if (denomBody.length === 1 && denomBody[0].type === "ordgroup") {
-            denomNode = denomBody[0];
-        } else {
-            denomNode = new ParseNode("ordgroup", denomBody, this.mode);
+        /**
+         * Handle a subscript or superscript with nice errors.
+         */
+        value: function handleSupSubscript(name) {
+            var symbolToken = this.nextToken;
+            var symbol = symbolToken.text;
+            this.consume();
+            var group = this.parseGroup();
+
+            if (!group) {
+                if (!this.settings.throwOnError && this.nextToken.text[0] === "\\") {
+                    return this.handleUnsupportedCmd();
+                } else {
+                    throw new _ParseError2.default("Expected group after '" + symbol + "'", symbolToken);
+                }
+            } else if (group.isFunction) {
+                // ^ and _ have a greediness, so handle interactions with functions'
+                // greediness
+                var funcGreediness = _functions2.default[group.result].greediness;
+                if (funcGreediness > Parser.SUPSUB_GREEDINESS) {
+                    return this.parseFunction(group);
+                } else {
+                    throw new _ParseError2.default("Got function '" + group.result + "' with no arguments " + "as " + name, symbolToken);
+                }
+            } else {
+                return group.result;
+            }
         }
 
-        var value = this.callFunction(
-            funcName, [numerNode, denomNode], null);
-        return [new ParseNode(value.type, value, this.mode)];
-    } else {
-        return body;
-    }
-};
+        /**
+         * Converts the textual input of an unsupported command into a text node
+         * contained within a color node whose color is determined by errorColor
+         */
 
-// The greediness of a superscript or subscript
-var SUPSUB_GREEDINESS = 1;
+    }, {
+        key: "handleUnsupportedCmd",
+        value: function handleUnsupportedCmd() {
+            var text = this.nextToken.text;
+            var textordArray = [];
 
-/**
- * Handle a subscript or superscript with nice errors.
- */
-Parser.prototype.handleSupSubscript = function(name) {
-    var symbolToken = this.nextToken;
-    var symbol = symbolToken.text;
-    this.consume();
-    var group = this.parseGroup();
+            for (var i = 0; i < text.length; i++) {
+                textordArray.push(new _ParseNode2.default("textord", text[i], "text"));
+            }
 
-    if (!group) {
-        if (!this.settings.throwOnError && this.nextToken.text[0] === "\\") {
-            return this.handleUnsupportedCmd();
-        } else {
-            throw new ParseError(
-                "Expected group after '" + symbol + "'",
-                symbolToken
-            );
-        }
-    } else if (group.isFunction) {
-        // ^ and _ have a greediness, so handle interactions with functions'
-        // greediness
-        var funcGreediness = functions[group.result].greediness;
-        if (funcGreediness > SUPSUB_GREEDINESS) {
-            return this.parseFunction(group);
-        } else {
-            throw new ParseError(
-                "Got function '" + group.result + "' with no arguments " +
-                    "as " + name, symbolToken);
+            var textNode = new _ParseNode2.default("text", {
+                body: textordArray,
+                type: "text"
+            }, this.mode);
+
+            var colorNode = new _ParseNode2.default("color", {
+                color: this.settings.errorColor,
+                value: [textNode],
+                type: "color"
+            }, this.mode);
+
+            this.consume();
+            return colorNode;
         }
-    } else {
-        return group.result;
-    }
-};
 
-/**
- * Converts the textual input of an unsupported command into a text node
- * contained within a color node whose color is determined by errorColor
- */
-Parser.prototype.handleUnsupportedCmd = function() {
-    var text = this.nextToken.text;
-    var textordArray = [];
+        /**
+         * Parses a group with optional super/subscripts.
+         *
+         * @return {?ParseNode}
+         */
+
+    }, {
+        key: "parseAtom",
+        value: function parseAtom() {
+            // The body of an atom is an implicit group, so that things like
+            // \left(x\right)^2 work correctly.
+            var base = this.parseImplicitGroup();
+
+            // In text mode, we don't have superscripts or subscripts
+            if (this.mode === "text") {
+                return base;
+            }
 
-    for (var i = 0; i < text.length; i++) {
-        textordArray.push(new ParseNode("textord", text[i], "text"));
-    }
+            // Note that base may be empty (i.e. null) at this point.
+
+            var superscript = void 0;
+            var subscript = void 0;
+            while (true) {
+                // Lex the first token
+                var lex = this.nextToken;
+
+                if (lex.text === "\\limits" || lex.text === "\\nolimits") {
+                    // We got a limit control
+                    if (!base || base.type !== "op") {
+                        throw new _ParseError2.default("Limit controls must follow a math operator", lex);
+                    } else {
+                        var limits = lex.text === "\\limits";
+                        base.value.limits = limits;
+                        base.value.alwaysHandleSupSub = true;
+                    }
+                    this.consume();
+                } else if (lex.text === "^") {
+                    // We got a superscript start
+                    if (superscript) {
+                        throw new _ParseError2.default("Double superscript", lex);
+                    }
+                    superscript = this.handleSupSubscript("superscript");
+                } else if (lex.text === "_") {
+                    // We got a subscript start
+                    if (subscript) {
+                        throw new _ParseError2.default("Double subscript", lex);
+                    }
+                    subscript = this.handleSupSubscript("subscript");
+                } else if (lex.text === "'") {
+                    // We got a prime
+                    if (superscript) {
+                        throw new _ParseError2.default("Double superscript", lex);
+                    }
+                    var prime = new _ParseNode2.default("textord", "\\prime", this.mode);
+
+                    // Many primes can be grouped together, so we handle this here
+                    var primes = [prime];
+                    this.consume();
+                    // Keep lexing tokens until we get something that's not a prime
+                    while (this.nextToken.text === "'") {
+                        // For each one, add another prime to the list
+                        primes.push(prime);
+                        this.consume();
+                    }
+                    // If there's a superscript following the primes, combine that
+                    // superscript in with the primes.
+                    if (this.nextToken.text === "^") {
+                        primes.push(this.handleSupSubscript("superscript"));
+                    }
+                    // Put everything into an ordgroup as the superscript
+                    superscript = new _ParseNode2.default("ordgroup", primes, this.mode);
+                } else {
+                    // If it wasn't ^, _, or ', stop parsing super/subscripts
+                    break;
+                }
+            }
 
-    var textNode = new ParseNode(
-        "text",
-        {
-            body: textordArray,
-            type: "text"
-        },
-        this.mode);
+            if (superscript || subscript) {
+                // If we got either a superscript or subscript, create a supsub
+                return new _ParseNode2.default("supsub", {
+                    base: base,
+                    sup: superscript,
+                    sub: subscript
+                }, this.mode);
+            } else {
+                // Otherwise return the original body
+                return base;
+            }
+        }
 
-    var colorNode = new ParseNode(
-        "color",
-        {
-            color: this.settings.errorColor,
-            value: [textNode],
-            type: "color"
-        },
-        this.mode);
+        // A list of the size-changing functions, for use in parseImplicitGroup
 
-    this.consume();
-    return colorNode;
-};
 
-/**
- * Parses a group with optional super/subscripts.
- *
- * @return {?ParseNode}
- */
-Parser.prototype.parseAtom = function() {
-    // The body of an atom is an implicit group, so that things like
-    // \left(x\right)^2 work correctly.
-    var base = this.parseImplicitGroup();
+        // A list of the style-changing functions, for use in parseImplicitGroup
 
-    // In text mode, we don't have superscripts or subscripts
-    if (this.mode === "text") {
-        return base;
-    }
 
-    // Note that base may be empty (i.e. null) at this point.
+        // Old font functions
 
-    var superscript;
-    var subscript;
-    while (true) {
-        // Lex the first token
-        var lex = this.nextToken;
-
-        if (lex.text === "\\limits" || lex.text === "\\nolimits") {
-            // We got a limit control
-            if (!base || base.type !== "op") {
-                throw new ParseError(
-                    "Limit controls must follow a math operator",
-                    lex);
+    }, {
+        key: "parseImplicitGroup",
+
+
+        /**
+         * Parses an implicit group, which is a group that starts at the end of a
+         * specified, and ends right before a higher explicit group ends, or at EOL. It
+         * is used for functions that appear to affect the current style, like \Large or
+         * \textrm, where instead of keeping a style we just pretend that there is an
+         * implicit grouping after it until the end of the group. E.g.
+         *   small text {\Large large text} small text again
+         * It is also used for \left and \right to get the correct grouping.
+         *
+         * @return {?ParseNode}
+         */
+        value: function parseImplicitGroup() {
+            var start = this.parseSymbol();
+
+            if (start == null) {
+                // If we didn't get anything we handle, fall back to parseFunction
+                return this.parseFunction();
+            }
+
+            var func = start.result;
+
+            if (func === "\\left") {
+                // If we see a left:
+                // Parse the entire left function (including the delimiter)
+                var left = this.parseFunction(start);
+                // Parse out the implicit body
+                ++this.leftrightDepth;
+                var body = this.parseExpression(false);
+                --this.leftrightDepth;
+                // Check the next token
+                this.expect("\\right", false);
+                var right = this.parseFunction();
+                return new _ParseNode2.default("leftright", {
+                    body: body,
+                    left: left.value.value,
+                    right: right.value.value
+                }, this.mode);
+            } else if (func === "\\begin") {
+                // begin...end is similar to left...right
+                var begin = this.parseFunction(start);
+                var envName = begin.value.name;
+                if (!_environments2.default.hasOwnProperty(envName)) {
+                    throw new _ParseError2.default("No such environment: " + envName, begin.value.nameGroup);
+                }
+                // Build the environment object. Arguments and other information will
+                // be made available to the begin and end methods using properties.
+                var env = _environments2.default[envName];
+                var args = this.parseArguments("\\begin{" + envName + "}", env);
+                var context = {
+                    mode: this.mode,
+                    envName: envName,
+                    parser: this,
+                    positions: args.pop()
+                };
+                var result = env.handler(context, args);
+                this.expect("\\end", false);
+                var endNameToken = this.nextToken;
+                var end = this.parseFunction();
+                if (end.value.name !== envName) {
+                    throw new _ParseError2.default("Mismatch: \\begin{" + envName + "} matched " + "by \\end{" + end.value.name + "}", endNameToken);
+                }
+                result.position = end.position;
+                return result;
+            } else if (_utils2.default.contains(Parser.sizeFuncs, func)) {
+                // If we see a sizing function, parse out the implicit body
+                this.consumeSpaces();
+                var _body = this.parseExpression(false);
+                return new _ParseNode2.default("sizing", {
+                    // Figure out what size to use based on the list of functions above
+                    size: _utils2.default.indexOf(Parser.sizeFuncs, func) + 1,
+                    value: _body
+                }, this.mode);
+            } else if (_utils2.default.contains(Parser.styleFuncs, func)) {
+                // If we see a styling function, parse out the implicit body
+                this.consumeSpaces();
+                var _body2 = this.parseExpression(true);
+                return new _ParseNode2.default("styling", {
+                    // Figure out what style to use by pulling out the style from
+                    // the function name
+                    style: func.slice(1, func.length - 5),
+                    value: _body2
+                }, this.mode);
+            } else if (func in Parser.oldFontFuncs) {
+                var style = Parser.oldFontFuncs[func];
+                // If we see an old font function, parse out the implicit body
+                this.consumeSpaces();
+                var _body3 = this.parseExpression(true);
+                if (style.slice(0, 4) === 'text') {
+                    return new _ParseNode2.default("text", {
+                        style: style,
+                        body: new _ParseNode2.default("ordgroup", _body3, this.mode)
+                    }, this.mode);
+                } else {
+                    return new _ParseNode2.default("font", {
+                        font: style,
+                        body: new _ParseNode2.default("ordgroup", _body3, this.mode)
+                    }, this.mode);
+                }
+            } else if (func === "\\color") {
+                // If we see a styling function, parse out the implicit body
+                var color = this.parseColorGroup(false);
+                if (!color) {
+                    throw new _ParseError2.default("\\color not followed by color");
+                }
+                var _body4 = this.parseExpression(true);
+                return new _ParseNode2.default("color", {
+                    type: "color",
+                    color: color.result.value,
+                    value: _body4
+                }, this.mode);
+            } else if (func === "$") {
+                if (this.mode === "math") {
+                    throw new _ParseError2.default("$ within math mode");
+                }
+                this.consume();
+                var outerMode = this.mode;
+                this.switchMode("math");
+                var _body5 = this.parseExpression(false, "$");
+                this.expect("$", true);
+                this.switchMode(outerMode);
+                return new _ParseNode2.default("styling", {
+                    style: "text",
+                    value: _body5
+                }, "math");
             } else {
-                var limits = lex.text === "\\limits";
-                base.value.limits = limits;
-                base.value.alwaysHandleSupSub = true;
+                // Defer to parseFunction if it's not a function we handle
+                return this.parseFunction(start);
+            }
+        }
+
+        /**
+         * Parses an entire function, including its base and all of its arguments.
+         * The base might either have been parsed already, in which case
+         * it is provided as an argument, or it's the next group in the input.
+         *
+         * @param {ParseFuncOrArgument=} baseGroup optional as described above
+         * @return {?ParseNode}
+         */
+
+    }, {
+        key: "parseFunction",
+        value: function parseFunction(baseGroup) {
+            if (!baseGroup) {
+                baseGroup = this.parseGroup();
+            }
+
+            if (baseGroup) {
+                if (baseGroup.isFunction) {
+                    var func = baseGroup.result;
+                    var funcData = _functions2.default[func];
+                    if (this.mode === "text" && !funcData.allowedInText) {
+                        throw new _ParseError2.default("Can't use function '" + func + "' in text mode", baseGroup.token);
+                    } else if (this.mode === "math" && funcData.allowedInMath === false) {
+                        throw new _ParseError2.default("Can't use function '" + func + "' in math mode", baseGroup.token);
+                    }
+
+                    var args = this.parseArguments(func, funcData);
+                    var token = baseGroup.token;
+                    var result = this.callFunction(func, args, args.pop(), token);
+                    return new _ParseNode2.default(result.type, result, this.mode);
+                } else {
+                    return baseGroup.result;
+                }
+            } else {
+                return null;
+            }
+        }
+
+        /**
+         * Call a function handler with a suitable context and arguments.
+         */
+
+    }, {
+        key: "callFunction",
+        value: function callFunction(name, args, positions, token) {
+            var context = {
+                funcName: name,
+                parser: this,
+                positions: positions,
+                token: token
+            };
+            return _functions2.default[name].handler(context, args);
+        }
+
+        /**
+         * Parses the arguments of a function or environment
+         *
+         * @param {string} func  "\name" or "\begin{name}"
+         * @param {{numArgs:number,numOptionalArgs:number|undefined}} funcData
+         * @return the array of arguments, with the list of positions as last element
+         */
+
+    }, {
+        key: "parseArguments",
+        value: function parseArguments(func, funcData) {
+            var totalArgs = funcData.numArgs + funcData.numOptionalArgs;
+            if (totalArgs === 0) {
+                return [[this.pos]];
+            }
+
+            var baseGreediness = funcData.greediness;
+            var positions = [this.pos];
+            var args = [];
+
+            for (var i = 0; i < totalArgs; i++) {
+                var nextToken = this.nextToken;
+                var argType = funcData.argTypes && funcData.argTypes[i];
+                var arg = void 0;
+                if (i < funcData.numOptionalArgs) {
+                    if (argType) {
+                        arg = this.parseGroupOfType(argType, true);
+                    } else {
+                        arg = this.parseGroup(true);
+                    }
+                    if (!arg) {
+                        args.push(null);
+                        positions.push(this.pos);
+                        continue;
+                    }
+                } else {
+                    if (argType) {
+                        arg = this.parseGroupOfType(argType);
+                    } else {
+                        arg = this.parseGroup();
+                    }
+                    if (!arg) {
+                        if (!this.settings.throwOnError && this.nextToken.text[0] === "\\") {
+                            arg = new ParseFuncOrArgument(this.handleUnsupportedCmd(this.nextToken.text), false);
+                        } else {
+                            throw new _ParseError2.default("Expected group after '" + func + "'", nextToken);
+                        }
+                    }
+                }
+                var argNode = void 0;
+                if (arg.isFunction) {
+                    var argGreediness = _functions2.default[arg.result].greediness;
+                    if (argGreediness > baseGreediness) {
+                        argNode = this.parseFunction(arg);
+                    } else {
+                        throw new _ParseError2.default("Got function '" + arg.result + "' as " + "argument to '" + func + "'", nextToken);
+                    }
+                } else {
+                    argNode = arg.result;
+                }
+                args.push(argNode);
+                positions.push(this.pos);
+            }
+
+            args.push(positions);
+
+            return args;
+        }
+
+        /**
+         * Parses a group when the mode is changing.
+         *
+         * @return {?ParseFuncOrArgument}
+         */
+
+    }, {
+        key: "parseGroupOfType",
+        value: function parseGroupOfType(innerMode, optional) {
+            var outerMode = this.mode;
+            // Handle `original` argTypes
+            if (innerMode === "original") {
+                innerMode = outerMode;
             }
-            this.consume();
-        } else if (lex.text === "^") {
-            // We got a superscript start
-            if (superscript) {
-                throw new ParseError("Double superscript", lex);
+
+            if (innerMode === "color") {
+                return this.parseColorGroup(optional);
             }
-            superscript = this.handleSupSubscript("superscript");
-        } else if (lex.text === "_") {
-            // We got a subscript start
-            if (subscript) {
-                throw new ParseError("Double subscript", lex);
+            if (innerMode === "size") {
+                return this.parseSizeGroup(optional);
             }
-            subscript = this.handleSupSubscript("subscript");
-        } else if (lex.text === "'") {
-            // We got a prime
-            var prime = new ParseNode("textord", "\\prime", this.mode);
 
-            // Many primes can be grouped together, so we handle this here
-            var primes = [prime];
-            this.consume();
-            // Keep lexing tokens until we get something that's not a prime
-            while (this.nextToken.text === "'") {
-                // For each one, add another prime to the list
-                primes.push(prime);
+            this.switchMode(innerMode);
+            if (innerMode === "text") {
+                // text mode is special because it should ignore the whitespace before
+                // it
+                this.consumeSpaces();
+            }
+            // By the time we get here, innerMode is one of "text" or "math".
+            // We switch the mode of the parser, recurse, then restore the old mode.
+            var res = this.parseGroup(optional);
+            this.switchMode(outerMode);
+            return res;
+        }
+    }, {
+        key: "consumeSpaces",
+        value: function consumeSpaces() {
+            while (this.nextToken.text === " ") {
                 this.consume();
             }
-            // Put them into an ordgroup as the superscript
-            superscript = new ParseNode("ordgroup", primes, this.mode);
-        } else {
-            // If it wasn't ^, _, or ', stop parsing super/subscripts
-            break;
         }
-    }
-
-    if (superscript || subscript) {
-        // If we got either a superscript or subscript, create a supsub
-        return new ParseNode("supsub", {
-            base: base,
-            sup: superscript,
-            sub: subscript
-        }, this.mode);
-    } else {
-        // Otherwise return the original body
-        return base;
-    }
-};
 
-// A list of the size-changing functions, for use in parseImplicitGroup
-var sizeFuncs = [
-    "\\tiny", "\\scriptsize", "\\footnotesize", "\\small", "\\normalsize",
-    "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"
-];
+        /**
+         * Parses a group, essentially returning the string formed by the
+         * brace-enclosed tokens plus some position information.
+         *
+         * @param {string} modeName  Used to describe the mode in error messages
+         * @param {boolean=} optional  Whether the group is optional or required
+         */
+
+    }, {
+        key: "parseStringGroup",
+        value: function parseStringGroup(modeName, optional) {
+            if (optional && this.nextToken.text !== "[") {
+                return null;
+            }
+            var outerMode = this.mode;
+            this.mode = "text";
+            this.expect(optional ? "[" : "{");
+            var str = "";
+            var firstToken = this.nextToken;
+            var lastToken = firstToken;
+            while (this.nextToken.text !== (optional ? "]" : "}")) {
+                if (this.nextToken.text === "EOF") {
+                    throw new _ParseError2.default("Unexpected end of input in " + modeName, firstToken.range(this.nextToken, str));
+                }
+                lastToken = this.nextToken;
+                str += lastToken.text;
+                this.consume();
+            }
+            this.mode = outerMode;
+            this.expect(optional ? "]" : "}");
+            return firstToken.range(lastToken, str);
+        }
 
-// A list of the style-changing functions, for use in parseImplicitGroup
-var styleFuncs = [
-    "\\displaystyle", "\\textstyle", "\\scriptstyle", "\\scriptscriptstyle"
-];
+        /**
+         * Parses a regex-delimited group: the largest sequence of tokens
+         * whose concatenated strings match `regex`. Returns the string
+         * formed by the tokens plus some position information.
+         *
+         * @param {RegExp} regex
+         * @param {string} modeName  Used to describe the mode in error messages
+         */
+
+    }, {
+        key: "parseRegexGroup",
+        value: function parseRegexGroup(regex, modeName) {
+            var outerMode = this.mode;
+            this.mode = "text";
+            var firstToken = this.nextToken;
+            var lastToken = firstToken;
+            var str = "";
+            while (this.nextToken.text !== "EOF" && regex.test(str + this.nextToken.text)) {
+                lastToken = this.nextToken;
+                str += lastToken.text;
+                this.consume();
+            }
+            if (str === "") {
+                throw new _ParseError2.default("Invalid " + modeName + ": '" + firstToken.text + "'", firstToken);
+            }
+            this.mode = outerMode;
+            return firstToken.range(lastToken, str);
+        }
 
-/**
- * Parses an implicit group, which is a group that starts at the end of a
- * specified, and ends right before a higher explicit group ends, or at EOL. It
- * is used for functions that appear to affect the current style, like \Large or
- * \textrm, where instead of keeping a style we just pretend that there is an
- * implicit grouping after it until the end of the group. E.g.
- *   small text {\Large large text} small text again
- * It is also used for \left and \right to get the correct grouping.
- *
- * @return {?ParseNode}
- */
-Parser.prototype.parseImplicitGroup = function() {
-    var start = this.parseSymbol();
-
-    if (start == null) {
-        // If we didn't get anything we handle, fall back to parseFunction
-        return this.parseFunction();
-    }
-
-    var func = start.result;
-    var body;
-
-    if (func === "\\left") {
-        // If we see a left:
-        // Parse the entire left function (including the delimiter)
-        var left = this.parseFunction(start);
-        // Parse out the implicit body
-        ++this.leftrightDepth;
-        body = this.parseExpression(false);
-        --this.leftrightDepth;
-        // Check the next token
-        this.expect("\\right", false);
-        var right = this.parseFunction();
-        return new ParseNode("leftright", {
-            body: body,
-            left: left.value.value,
-            right: right.value.value
-        }, this.mode);
-    } else if (func === "\\begin") {
-        // begin...end is similar to left...right
-        var begin = this.parseFunction(start);
-        var envName = begin.value.name;
-        if (!environments.hasOwnProperty(envName)) {
-            throw new ParseError(
-                "No such environment: " + envName, begin.value.nameGroup);
-        }
-        // Build the environment object. Arguments and other information will
-        // be made available to the begin and end methods using properties.
-        var env = environments[envName];
-        var args = this.parseArguments("\\begin{" + envName + "}", env);
-        var context = {
-            mode: this.mode,
-            envName: envName,
-            parser: this,
-            positions: args.pop()
-        };
-        var result = env.handler(context, args);
-        this.expect("\\end", false);
-        var endNameToken = this.nextToken;
-        var end = this.parseFunction();
-        if (end.value.name !== envName) {
-            throw new ParseError(
-                "Mismatch: \\begin{" + envName + "} matched " +
-                "by \\end{" + end.value.name + "}",
-                endNameToken);
-        }
-        result.position = end.position;
-        return result;
-    } else if (utils.contains(sizeFuncs, func)) {
-        // If we see a sizing function, parse out the implict body
-        body = this.parseExpression(false);
-        return new ParseNode("sizing", {
-            // Figure out what size to use based on the list of functions above
-            size: "size" + (utils.indexOf(sizeFuncs, func) + 1),
-            value: body
-        }, this.mode);
-    } else if (utils.contains(styleFuncs, func)) {
-        // If we see a styling function, parse out the implict body
-        body = this.parseExpression(true);
-        return new ParseNode("styling", {
-            // Figure out what style to use by pulling out the style from
-            // the function name
-            style: func.slice(1, func.length - 5),
-            value: body
-        }, this.mode);
-    } else {
-        // Defer to parseFunction if it's not a function we handle
-        return this.parseFunction(start);
-    }
-};
+        /**
+         * Parses a color description.
+         */
 
-/**
- * Parses an entire function, including its base and all of its arguments.
- * The base might either have been parsed already, in which case
- * it is provided as an argument, or it's the next group in the input.
- *
- * @param {ParseFuncOrArgument=} baseGroup optional as described above
- * @return {?ParseNode}
- */
-Parser.prototype.parseFunction = function(baseGroup) {
-    if (!baseGroup) {
-        baseGroup = this.parseGroup();
-    }
-
-    if (baseGroup) {
-        if (baseGroup.isFunction) {
-            var func = baseGroup.result;
-            var funcData = functions[func];
-            if (this.mode === "text" && !funcData.allowedInText) {
-                throw new ParseError(
-                    "Can't use function '" + func + "' in text mode",
-                    baseGroup.token);
+    }, {
+        key: "parseColorGroup",
+        value: function parseColorGroup(optional) {
+            var res = this.parseStringGroup("color", optional);
+            if (!res) {
+                return null;
             }
-
-            var args = this.parseArguments(func, funcData);
-            var token = baseGroup.token;
-            var result = this.callFunction(func, args, args.pop(), token);
-            return new ParseNode(result.type, result, this.mode);
-        } else {
-            return baseGroup.result;
+            var match = /^(#[a-z0-9]+|[a-z]+)$/i.exec(res.text);
+            if (!match) {
+                throw new _ParseError2.default("Invalid color: '" + res.text + "'", res);
+            }
+            return new ParseFuncOrArgument(new _ParseNode2.default("color", match[0], this.mode), false);
         }
-    } else {
-        return null;
-    }
-};
 
-/**
- * Call a function handler with a suitable context and arguments.
- */
-Parser.prototype.callFunction = function(name, args, positions, token) {
-    var context = {
-        funcName: name,
-        parser: this,
-        positions: positions,
-        token: token
-    };
-    return functions[name].handler(context, args);
-};
+        /**
+         * Parses a size specification, consisting of magnitude and unit.
+         */
 
-/**
- * Parses the arguments of a function or environment
- *
- * @param {string} func  "\name" or "\begin{name}"
- * @param {{numArgs:number,numOptionalArgs:number|undefined}} funcData
- * @return the array of arguments, with the list of positions as last element
- */
-Parser.prototype.parseArguments = function(func, funcData) {
-    var totalArgs = funcData.numArgs + funcData.numOptionalArgs;
-    if (totalArgs === 0) {
-        return [[this.pos]];
-    }
-
-    var baseGreediness = funcData.greediness;
-    var positions = [this.pos];
-    var args = [];
-
-    for (var i = 0; i < totalArgs; i++) {
-        var nextToken = this.nextToken;
-        var argType = funcData.argTypes && funcData.argTypes[i];
-        var arg;
-        if (i < funcData.numOptionalArgs) {
-            if (argType) {
-                arg = this.parseGroupOfType(argType, true);
+    }, {
+        key: "parseSizeGroup",
+        value: function parseSizeGroup(optional) {
+            var res = void 0;
+            if (!optional && this.nextToken.text !== "{") {
+                res = this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/, "size");
             } else {
-                arg = this.parseGroup(true);
+                res = this.parseStringGroup("size", optional);
             }
-            if (!arg) {
-                args.push(null);
-                positions.push(this.pos);
-                continue;
+            if (!res) {
+                return null;
             }
-        } else {
-            if (argType) {
-                arg = this.parseGroupOfType(argType);
-            } else {
-                arg = this.parseGroup();
+            var match = /([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(res.text);
+            if (!match) {
+                throw new _ParseError2.default("Invalid size: '" + res.text + "'", res);
             }
-            if (!arg) {
-                if (!this.settings.throwOnError &&
-                    this.nextToken.text[0] === "\\") {
-                    arg = new ParseFuncOrArgument(
-                        this.handleUnsupportedCmd(this.nextToken.text),
-                        false);
-                } else {
-                    throw new ParseError(
-                        "Expected group after '" + func + "'", nextToken);
-                }
+            var data = {
+                number: +(match[1] + match[2]), // sign + magnitude, cast to number
+                unit: match[3]
+            };
+            if (!_units2.default.validUnit(data)) {
+                throw new _ParseError2.default("Invalid unit: '" + data.unit + "'", res);
             }
+            return new ParseFuncOrArgument(new _ParseNode2.default("size", data, this.mode), false);
         }
-        var argNode;
-        if (arg.isFunction) {
-            var argGreediness =
-                functions[arg.result].greediness;
-            if (argGreediness > baseGreediness) {
-                argNode = this.parseFunction(arg);
+
+        /**
+         * If the argument is false or absent, this parses an ordinary group,
+         * which is either a single nucleus (like "x") or an expression
+         * in braces (like "{x+y}").
+         * If the argument is true, it parses either a bracket-delimited expression
+         * (like "[x+y]") or returns null to indicate the absence of a
+         * bracket-enclosed group.
+         *
+         * @param {boolean=} optional  Whether the group is optional or required
+         * @return {?ParseFuncOrArgument}
+         */
+
+    }, {
+        key: "parseGroup",
+        value: function parseGroup(optional) {
+            var firstToken = this.nextToken;
+            // Try to parse an open brace
+            if (this.nextToken.text === (optional ? "[" : "{")) {
+                // If we get a brace, parse an expression
+                this.consume();
+                var expression = this.parseExpression(false, optional ? "]" : null);
+                var lastToken = this.nextToken;
+                // Make sure we get a close brace
+                this.expect(optional ? "]" : "}");
+                if (this.mode === "text") {
+                    this.formLigatures(expression);
+                }
+                return new ParseFuncOrArgument(new _ParseNode2.default("ordgroup", expression, this.mode, firstToken, lastToken), false);
             } else {
-                throw new ParseError(
-                    "Got function '" + arg.result + "' as " +
-                    "argument to '" + func + "'", nextToken);
+                // Otherwise, just return a nucleus, or nothing for an optional group
+                return optional ? null : this.parseSymbol();
             }
-        } else {
-            argNode = arg.result;
         }
-        args.push(argNode);
-        positions.push(this.pos);
-    }
-
-    args.push(positions);
-
-    return args;
-};
-
 
-/**
- * Parses a group when the mode is changing.
- *
- * @return {?ParseFuncOrArgument}
- */
-Parser.prototype.parseGroupOfType = function(innerMode, optional) {
-    var outerMode = this.mode;
-    // Handle `original` argTypes
-    if (innerMode === "original") {
-        innerMode = outerMode;
-    }
+        /**
+         * Form ligature-like combinations of characters for text mode.
+         * This includes inputs like "--", "---", "``" and "''".
+         * The result will simply replace multiple textord nodes with a single
+         * character in each value by a single textord node having multiple
+         * characters in its value.  The representation is still ASCII source.
+         *
+         * @param {Array.<ParseNode>} group  the nodes of this group,
+         *                                   list will be moified in place
+         */
+
+    }, {
+        key: "formLigatures",
+        value: function formLigatures(group) {
+            var n = group.length - 1;
+            for (var i = 0; i < n; ++i) {
+                var a = group[i];
+                var v = a.value;
+                if (v === "-" && group[i + 1].value === "-") {
+                    if (i + 1 < n && group[i + 2].value === "-") {
+                        group.splice(i, 3, new _ParseNode2.default("textord", "---", "text", a, group[i + 2]));
+                        n -= 2;
+                    } else {
+                        group.splice(i, 2, new _ParseNode2.default("textord", "--", "text", a, group[i + 1]));
+                        n -= 1;
+                    }
+                }
+                if ((v === "'" || v === "`") && group[i + 1].value === v) {
+                    group.splice(i, 2, new _ParseNode2.default("textord", v + v, "text", a, group[i + 1]));
+                    n -= 1;
+                }
+            }
+        }
 
-    if (innerMode === "color") {
-        return this.parseColorGroup(optional);
-    }
-    if (innerMode === "size") {
-        return this.parseSizeGroup(optional);
-    }
+        /**
+         * Parse a single symbol out of the string. Here, we handle both the functions
+         * we have defined, as well as the single character symbols
+         *
+         * @return {?ParseFuncOrArgument}
+         */
 
-    this.switchMode(innerMode);
-    if (innerMode === "text") {
-        // text mode is special because it should ignore the whitespace before
-        // it
-        while (this.nextToken.text === " ") {
-            this.consume();
-        }
-    }
-    // By the time we get here, innerMode is one of "text" or "math".
-    // We switch the mode of the parser, recurse, then restore the old mode.
-    var res = this.parseGroup(optional);
-    this.switchMode(outerMode);
-    return res;
-};
+    }, {
+        key: "parseSymbol",
+        value: function parseSymbol() {
+            var nucleus = this.nextToken;
 
-/**
- * Parses a group, essentially returning the string formed by the
- * brace-enclosed tokens plus some position information.
- *
- * @param {string} modeName  Used to describe the mode in error messages
- * @param {boolean=} optional  Whether the group is optional or required
- */
-Parser.prototype.parseStringGroup = function(modeName, optional) {
-    if (optional && this.nextToken.text !== "[") {
-        return null;
-    }
-    var outerMode = this.mode;
-    this.mode = "text";
-    this.expect(optional ? "[" : "{");
-    var str = "";
-    var firstToken = this.nextToken;
-    var lastToken = firstToken;
-    while (this.nextToken.text !== (optional ? "]" : "}")) {
-        if (this.nextToken.text === "EOF") {
-            throw new ParseError(
-                "Unexpected end of input in " + modeName,
-                firstToken.range(this.nextToken, str));
+            if (_functions2.default[nucleus.text]) {
+                this.consume();
+                // If there exists a function with this name, we return the function and
+                // say that it is a function.
+                return new ParseFuncOrArgument(nucleus.text, true, nucleus);
+            } else if (_symbols2.default[this.mode][nucleus.text]) {
+                this.consume();
+                // Otherwise if this is a no-argument function, find the type it
+                // corresponds to in the symbols map
+                return new ParseFuncOrArgument(new _ParseNode2.default(_symbols2.default[this.mode][nucleus.text].group, nucleus.text, this.mode, nucleus), false, nucleus);
+            } else if (this.mode === "text" && _unicodeRegexes.cjkRegex.test(nucleus.text)) {
+                this.consume();
+                return new ParseFuncOrArgument(new _ParseNode2.default("textord", nucleus.text, this.mode, nucleus), false, nucleus);
+            } else if (nucleus.text === "$") {
+                return new ParseFuncOrArgument(nucleus.text, false, nucleus);
+            } else {
+                return null;
+            }
         }
-        lastToken = this.nextToken;
-        str += lastToken.text;
-        this.consume();
-    }
-    this.mode = outerMode;
-    this.expect(optional ? "]" : "}");
-    return firstToken.range(lastToken, str);
-};
+    }]);
+    return Parser;
+}();
 
-/**
- * Parses a regex-delimited group: the largest sequence of tokens
- * whose concatenated strings match `regex`. Returns the string
- * formed by the tokens plus some position information.
- *
- * @param {RegExp} regex
- * @param {string} modeName  Used to describe the mode in error messages
- */
-Parser.prototype.parseRegexGroup = function(regex, modeName) {
-    var outerMode = this.mode;
-    this.mode = "text";
-    var firstToken = this.nextToken;
-    var lastToken = firstToken;
-    var str = "";
-    while (this.nextToken.text !== "EOF"
-           && regex.test(str + this.nextToken.text)) {
-        lastToken = this.nextToken;
-        str += lastToken.text;
-        this.consume();
-    }
-    if (str === "") {
-        throw new ParseError(
-            "Invalid " + modeName + ": '" + firstToken.text + "'",
-            firstToken);
-    }
-    this.mode = outerMode;
-    return firstToken.range(lastToken, str);
+Parser.endOfExpression = ["}", "\\end", "\\right", "&", "\\\\", "\\cr"];
+Parser.SUPSUB_GREEDINESS = 1;
+Parser.sizeFuncs = ["\\tiny", "\\sixptsize", "\\scriptsize", "\\footnotesize", "\\small", "\\normalsize", "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"];
+Parser.styleFuncs = ["\\displaystyle", "\\textstyle", "\\scriptstyle", "\\scriptscriptstyle"];
+Parser.oldFontFuncs = {
+    "\\rm": "mathrm",
+    "\\sf": "mathsf",
+    "\\tt": "mathtt",
+    "\\bf": "mathbf",
+    "\\it": "mathit"
 };
 
-/**
- * Parses a color description.
- */
-Parser.prototype.parseColorGroup = function(optional) {
-    var res = this.parseStringGroup("color", optional);
-    if (!res) {
-        return null;
-    }
-    var match = (/^(#[a-z0-9]+|[a-z]+)$/i).exec(res.text);
-    if (!match) {
-        throw new ParseError("Invalid color: '" + res.text + "'", res);
-    }
-    return new ParseFuncOrArgument(
-        new ParseNode("color", match[0], this.mode),
-        false);
-};
 
-/**
- * Parses a size specification, consisting of magnitude and unit.
- */
-Parser.prototype.parseSizeGroup = function(optional) {
-    var res;
-    if (!optional && this.nextToken.text !== "{") {
-        res = this.parseRegexGroup(
-            /^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2}$/, "size");
-    } else {
-        res = this.parseStringGroup("size", optional);
-    }
-    if (!res) {
-        return null;
-    }
-    var match = (/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/).exec(res.text);
-    if (!match) {
-        throw new ParseError("Invalid size: '" + res.text + "'", res);
-    }
-    var data = {
-        number: +(match[1] + match[2]), // sign + magnitude, cast to number
-        unit: match[3]
-    };
-    if (data.unit !== "em" && data.unit !== "ex" && data.unit !== "mu") {
-        throw new ParseError("Invalid unit: '" + data.unit + "'", res);
-    }
-    return new ParseFuncOrArgument(
-        new ParseNode("color", data, this.mode),
-        false);
-};
+Parser.prototype.ParseNode = _ParseNode2.default;
 
-/**
- * If the argument is false or absent, this parses an ordinary group,
- * which is either a single nucleus (like "x") or an expression
- * in braces (like "{x+y}").
- * If the argument is true, it parses either a bracket-delimited expression
- * (like "[x+y]") or returns null to indicate the absence of a
- * bracket-enclosed group.
- *
- * @param {boolean=} optional  Whether the group is optional or required
- * @return {?ParseFuncOrArgument}
- */
-Parser.prototype.parseGroup = function(optional) {
-    var firstToken = this.nextToken;
-    // Try to parse an open brace
-    if (this.nextToken.text === (optional ? "[" : "{")) {
-        // If we get a brace, parse an expression
-        this.consume();
-        var expression = this.parseExpression(false, optional ? "]" : null);
-        var lastToken = this.nextToken;
-        // Make sure we get a close brace
-        this.expect(optional ? "]" : "}");
-        if (this.mode === "text") {
-            this.formLigatures(expression);
-        }
-        return new ParseFuncOrArgument(
-            new ParseNode("ordgroup", expression, this.mode,
-                          firstToken, lastToken),
-            false);
-    } else {
-        // Otherwise, just return a nucleus, or nothing for an optional group
-        return optional ? null : this.parseSymbol();
-    }
-};
+module.exports = Parser;
 
-/**
- * Form ligature-like combinations of characters for text mode.
- * This includes inputs like "--", "---", "``" and "''".
- * The result will simply replace multiple textord nodes with a single
- * character in each value by a single textord node having multiple
- * characters in its value.  The representation is still ASCII source.
- *
- * @param {Array.<ParseNode>} group  the nodes of this group,
- *                                   list will be moified in place
- */
-Parser.prototype.formLigatures = function(group) {
-    var i;
-    var n = group.length - 1;
-    for (i = 0; i < n; ++i) {
-        var a = group[i];
-        var v = a.value;
-        if (v === "-" && group[i + 1].value === "-") {
-            if (i + 1 < n && group[i + 2].value === "-") {
-                group.splice(i, 3, new ParseNode(
-                    "textord", "---", "text", a, group[i + 2]));
-                n -= 2;
-            } else {
-                group.splice(i, 2, new ParseNode(
-                    "textord", "--", "text", a, group[i + 1]));
-                n -= 1;
-            }
-        }
-        if ((v === "'" || v === "`") && group[i + 1].value === v) {
-            group.splice(i, 2, new ParseNode(
-                "textord", v + v, "text", a, group[i + 1]));
-            n -= 1;
-        }
-    }
-};
+},{"./MacroExpander":27,"./ParseError":29,"./ParseNode":30,"./environments":40,"./functions":43,"./symbols":48,"./unicodeRegexes":49,"./units":50,"./utils":51,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],32:[function(require,module,exports){
+"use strict";
 
-/**
- * Parse a single symbol out of the string. Here, we handle both the functions
- * we have defined, as well as the single character symbols
- *
- * @return {?ParseFuncOrArgument}
- */
-Parser.prototype.parseSymbol = function() {
-    var nucleus = this.nextToken;
-
-    if (functions[nucleus.text]) {
-        this.consume();
-        // If there exists a function with this name, we return the function and
-        // say that it is a function.
-        return new ParseFuncOrArgument(
-            nucleus.text,
-            true, nucleus);
-    } else if (symbols[this.mode][nucleus.text]) {
-        this.consume();
-        // Otherwise if this is a no-argument function, find the type it
-        // corresponds to in the symbols map
-        return new ParseFuncOrArgument(
-            new ParseNode(symbols[this.mode][nucleus.text].group,
-                          nucleus.text, this.mode, nucleus),
-            false, nucleus);
-    } else if (this.mode === "text" && cjkRegex.test(nucleus.text)) {
-        this.consume();
-        return new ParseFuncOrArgument(
-            new ParseNode("textord", nucleus.text, this.mode, nucleus),
-            false, nucleus);
-    } else {
-        return null;
-    }
-};
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
 
-Parser.prototype.ParseNode = ParseNode;
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
 
-module.exports = Parser;
+var _utils = require("./utils");
 
-},{"./MacroExpander":4,"./ParseError":6,"./environments":16,"./functions":19,"./parseData":21,"./symbols":23,"./unicodeRegexes":24,"./utils":25}],8:[function(require,module,exports){
-/**
- * This is a module for storing settings passed into KaTeX. It correctly handles
- * default settings.
- */
+var _utils2 = _interopRequireDefault(_utils);
 
-/**
- * Helper function for getting a default value if the value is undefined
- */
-function get(option, defaultValue) {
-    return option === undefined ? defaultValue : option;
-}
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * The main Settings object
  *
  * The current options stored are:
- *  - displayMode: Whether the expression should be typeset by default in
- *                 textstyle or displaystyle (default false)
- */
-function Settings(options) {
-    // allow null options
-    options = options || {};
-    this.displayMode = get(options.displayMode, false);
-    this.throwOnError = get(options.throwOnError, true);
-    this.errorColor = get(options.errorColor, "#cc0000");
-    this.macros = options.macros || {};
-}
+ *  - displayMode: Whether the expression should be typeset as inline math
+ *                 (false, the default), meaning that the math starts in
+ *                 \textstyle and is placed in an inline-block); or as display
+ *                 math (true), meaning that the math starts in \displaystyle
+ *                 and is placed in a block with vertical margin.
+ */
+var Settings = function Settings(options) {
+  (0, _classCallCheck3.default)(this, Settings);
+
+  // allow null options
+  options = options || {};
+  this.displayMode = _utils2.default.deflt(options.displayMode, false);
+  this.throwOnError = _utils2.default.deflt(options.throwOnError, true);
+  this.errorColor = _utils2.default.deflt(options.errorColor, "#cc0000");
+  this.macros = options.macros || {};
+  this.colorIsTextColor = _utils2.default.deflt(options.colorIsTextColor, false);
+}; /**
+    * This is a module for storing settings passed into KaTeX. It correctly handles
+    * default settings.
+    */
 
 module.exports = Settings;
 
-},{}],9:[function(require,module,exports){
+},{"./utils":51,"babel-runtime/helpers/classCallCheck":4}],33:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
 /**
  * This file contains information and classes for the various kinds of styles
  * used in TeX. It provides a generic `Style` class, which holds information
@@ -1448,95 +2268,99 @@ module.exports = Settings;
  * information about them.
  */
 
-var sigmas = require("./fontMetrics.js").sigmas;
-
-var metrics = [{}, {}, {}];
-var i;
-for (var key in sigmas) {
-    if (sigmas.hasOwnProperty(key)) {
-        for (i = 0; i < 3; i++) {
-            metrics[i][key] = sigmas[key][i];
-        }
-    }
-}
-for (i = 0; i < 3; i++) {
-    metrics[i].emPerEx = sigmas.xHeight[i] / sigmas.quad[i];
-}
-
 /**
  * The main style class. Contains a unique id for the style, a size (which is
- * the same for cramped and uncramped version of a style), a cramped flag, and a
- * size multiplier, which gives the size difference between a style and
- * textstyle.
+ * the same for cramped and uncramped version of a style), and a cramped flag.
  */
-function Style(id, size, multiplier, cramped) {
-    this.id = id;
-    this.size = size;
-    this.cramped = cramped;
-    this.sizeMultiplier = multiplier;
-    this.metrics = metrics[size > 0 ? size - 1 : 0];
-}
+var Style = function () {
+    function Style(id, size, cramped) {
+        (0, _classCallCheck3.default)(this, Style);
 
-/**
- * Get the style of a superscript given a base in the current style.
- */
-Style.prototype.sup = function() {
-    return styles[sup[this.id]];
-};
+        this.id = id;
+        this.size = size;
+        this.cramped = cramped;
+    }
 
-/**
- * Get the style of a subscript given a base in the current style.
- */
-Style.prototype.sub = function() {
-    return styles[sub[this.id]];
-};
+    /**
+     * Get the style of a superscript given a base in the current style.
+     */
 
-/**
- * Get the style of a fraction numerator given the fraction in the current
- * style.
- */
-Style.prototype.fracNum = function() {
-    return styles[fracNum[this.id]];
-};
 
-/**
- * Get the style of a fraction denominator given the fraction in the current
- * style.
- */
-Style.prototype.fracDen = function() {
-    return styles[fracDen[this.id]];
-};
+    (0, _createClass3.default)(Style, [{
+        key: "sup",
+        value: function sup() {
+            return styles[_sup[this.id]];
+        }
 
-/**
- * Get the cramped version of a style (in particular, cramping a cramped style
- * doesn't change the style).
- */
-Style.prototype.cramp = function() {
-    return styles[cramp[this.id]];
-};
+        /**
+         * Get the style of a subscript given a base in the current style.
+         */
 
-/**
- * HTML class name, like "displaystyle cramped"
- */
-Style.prototype.cls = function() {
-    return sizeNames[this.size] + (this.cramped ? " cramped" : " uncramped");
-};
+    }, {
+        key: "sub",
+        value: function sub() {
+            return styles[_sub[this.id]];
+        }
 
-/**
- * HTML Reset class name, like "reset-textstyle"
- */
-Style.prototype.reset = function() {
-    return resetNames[this.size];
-};
+        /**
+         * Get the style of a fraction numerator given the fraction in the current
+         * style.
+         */
 
-/**
- * Return if this style is tightly spaced (scriptstyle/scriptscriptstyle)
- */
-Style.prototype.isTight = function() {
-    return this.size >= 2;
-};
+    }, {
+        key: "fracNum",
+        value: function fracNum() {
+            return styles[_fracNum[this.id]];
+        }
+
+        /**
+         * Get the style of a fraction denominator given the fraction in the current
+         * style.
+         */
+
+    }, {
+        key: "fracDen",
+        value: function fracDen() {
+            return styles[_fracDen[this.id]];
+        }
+
+        /**
+         * Get the cramped version of a style (in particular, cramping a cramped style
+         * doesn't change the style).
+         */
+
+    }, {
+        key: "cramp",
+        value: function cramp() {
+            return styles[_cramp[this.id]];
+        }
+
+        /**
+         * Get a text or display version of this style.
+         */
+
+    }, {
+        key: "text",
+        value: function text() {
+            return styles[_text[this.id]];
+        }
+
+        /**
+         * Return if this style is tightly spaced (scriptstyle/scriptscriptstyle)
+         */
+
+    }, {
+        key: "isTight",
+        value: function isTight() {
+            return this.size >= 2;
+        }
+    }]);
+    return Style;
+}();
 
 // IDs of the different styles
+
+
 var D = 0;
 var Dc = 1;
 var T = 2;
@@ -1546,40 +2370,16 @@ var Sc = 5;
 var SS = 6;
 var SSc = 7;
 
-// String names for the different sizes
-var sizeNames = [
-    "displaystyle textstyle",
-    "textstyle",
-    "scriptstyle",
-    "scriptscriptstyle"
-];
-
-// Reset names for the different sizes
-var resetNames = [
-    "reset-textstyle",
-    "reset-textstyle",
-    "reset-scriptstyle",
-    "reset-scriptscriptstyle"
-];
-
 // Instances of the different styles
-var styles = [
-    new Style(D, 0, 1.0, false),
-    new Style(Dc, 0, 1.0, true),
-    new Style(T, 1, 1.0, false),
-    new Style(Tc, 1, 1.0, true),
-    new Style(S, 2, 0.7, false),
-    new Style(Sc, 2, 0.7, true),
-    new Style(SS, 3, 0.5, false),
-    new Style(SSc, 3, 0.5, true)
-];
+var styles = [new Style(D, 0, false), new Style(Dc, 0, true), new Style(T, 1, false), new Style(Tc, 1, true), new Style(S, 2, false), new Style(Sc, 2, true), new Style(SS, 3, false), new Style(SSc, 3, true)];
 
 // Lookup tables for switching from one style to another
-var sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];
-var sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];
-var fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];
-var fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];
-var cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];
+var _sup = [S, Sc, S, Sc, SS, SSc, SS, SSc];
+var _sub = [Sc, Sc, Sc, Sc, SSc, SSc, SSc, SSc];
+var _fracNum = [T, Tc, S, Sc, SS, SSc, SS, SSc];
+var _fracDen = [Tc, Tc, Sc, Sc, SSc, SSc, SSc, SSc];
+var _cramp = [Dc, Dc, Tc, Tc, Sc, Sc, SSc, SSc];
+var _text = [D, Dc, T, Tc, T, Tc, T, Tc];
 
 // We only export some of the styles. Also, we don't export the `Style` class so
 // no more styles can be generated.
@@ -1590,38 +2390,52 @@ module.exports = {
     SCRIPTSCRIPT: styles[SS]
 };
 
-},{"./fontMetrics.js":17}],10:[function(require,module,exports){
+},{"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],34:[function(require,module,exports){
+"use strict";
+
+var _domTree = require("./domTree");
+
+var _domTree2 = _interopRequireDefault(_domTree);
+
+var _fontMetrics = require("./fontMetrics");
+
+var _fontMetrics2 = _interopRequireDefault(_fontMetrics);
+
+var _symbols = require("./symbols");
+
+var _symbols2 = _interopRequireDefault(_symbols);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+// The following have to be loaded from Main-Italic font, using class mainit
 /* eslint no-console:0 */
 /**
  * This module contains general functions that can be used for building
  * different kinds of domTree nodes in a consistent manner.
  */
 
-var domTree = require("./domTree");
-var fontMetrics = require("./fontMetrics");
-var symbols = require("./symbols");
-var utils = require("./utils");
-
-var greekCapitals = [
-    "\\Gamma",
-    "\\Delta",
-    "\\Theta",
-    "\\Lambda",
-    "\\Xi",
-    "\\Pi",
-    "\\Sigma",
-    "\\Upsilon",
-    "\\Phi",
-    "\\Psi",
-    "\\Omega"
-];
+var mainitLetters = ["\\imath", // dotless i
+"\\jmath", // dotless j
+"\\pounds"];
 
-// The following have to be loaded from Main-Italic font, using class mainit
-var mainitLetters = [
-    "\u0131",   // dotless i, \imath
-    "\u0237",   // dotless j, \jmath
-    "\u00a3"   // \pounds
-];
+/**
+ * Looks up the given symbol in fontMetrics, after applying any symbol
+ * replacements defined in symbol.js
+ */
+var lookupSymbol = function lookupSymbol(value, fontFamily, mode) {
+    // Replace the value with its replaced value from symbol.js
+    if (_symbols2.default[mode][value] && _symbols2.default[mode][value].replace) {
+        value = _symbols2.default[mode][value].replace;
+    }
+    return {
+        value: value,
+        metrics: _fontMetrics2.default.getCharacterMetrics(value, fontFamily)
+    };
+};
 
 /**
  * Makes a symbolNode after translation via the list of symbols in symbols.js.
@@ -1632,32 +2446,26 @@ var mainitLetters = [
  * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which
  * should if present come first in `classes`.
  */
-var makeSymbol = function(value, fontFamily, mode, options, classes) {
-    // Replace the value with its replaced value from symbol.js
-    if (symbols[mode][value] && symbols[mode][value].replace) {
-        value = symbols[mode][value].replace;
-    }
-
-    var metrics = fontMetrics.getCharacterMetrics(value, fontFamily);
+var makeSymbol = function makeSymbol(value, fontFamily, mode, options, classes) {
+    var lookup = lookupSymbol(value, fontFamily, mode);
+    var metrics = lookup.metrics;
+    value = lookup.value;
 
-    var symbolNode;
+    var symbolNode = void 0;
     if (metrics) {
         var italic = metrics.italic;
         if (mode === "text") {
             italic = 0;
         }
-        symbolNode = new domTree.symbolNode(
-            value, metrics.height, metrics.depth, italic, metrics.skew,
-            classes);
+        symbolNode = new _domTree2.default.symbolNode(value, metrics.height, metrics.depth, italic, metrics.skew, classes);
     } else {
         // TODO(emily): Figure out a good way to only print this in development
-        typeof console !== "undefined" && console.warn(
-            "No character metrics for '" + value + "' in style '" +
-                fontFamily + "'");
-        symbolNode = new domTree.symbolNode(value, 0, 0, 0, 0, classes);
+        typeof console !== "undefined" && console.warn("No character metrics for '" + value + "' in style '" + fontFamily + "'");
+        symbolNode = new _domTree2.default.symbolNode(value, 0, 0, 0, 0, classes);
     }
 
     if (options) {
+        symbolNode.maxFontSize = options.sizeMultiplier;
         if (options.style.isTight()) {
             symbolNode.classes.push("mtight");
         }
@@ -1673,76 +2481,84 @@ var makeSymbol = function(value, fontFamily, mode, options, classes) {
  * Makes a symbol in Main-Regular or AMS-Regular.
  * Used for rel, bin, open, close, inner, and punct.
  */
-var mathsym = function(value, mode, options, classes) {
+var mathsym = function mathsym(value, mode, options, classes) {
     // Decide what font to render the symbol in by its entry in the symbols
     // table.
     // Have a special case for when the value = \ because the \ is used as a
     // textord in unsupported command errors but cannot be parsed as a regular
     // text ordinal and is therefore not present as a symbol in the symbols
     // table for text
-    if (value === "\\" || symbols[mode][value].font === "main") {
+    if (value === "\\" || _symbols2.default[mode][value].font === "main") {
         return makeSymbol(value, "Main-Regular", mode, options, classes);
     } else {
-        return makeSymbol(
-            value, "AMS-Regular", mode, options, classes.concat(["amsrm"]));
+        return makeSymbol(value, "AMS-Regular", mode, options, classes.concat(["amsrm"]));
     }
 };
 
 /**
  * Makes a symbol in the default font for mathords and textords.
  */
-var mathDefault = function(value, mode, options, classes, type) {
+var mathDefault = function mathDefault(value, mode, options, classes, type) {
     if (type === "mathord") {
-        return mathit(value, mode, options, classes);
+        var fontLookup = mathit(value, mode, options, classes);
+        return makeSymbol(value, fontLookup.fontName, mode, options, classes.concat([fontLookup.fontClass]));
     } else if (type === "textord") {
-        return makeSymbol(
-            value, "Main-Regular", mode, options, classes.concat(["mathrm"]));
+        var font = _symbols2.default[mode][value] && _symbols2.default[mode][value].font;
+        if (font === "ams") {
+            return makeSymbol(value, "AMS-Regular", mode, options, classes.concat(["amsrm"]));
+        } else {
+            // if (font === "main") {
+            return makeSymbol(value, "Main-Regular", mode, options, classes.concat(["mathrm"]));
+        }
     } else {
         throw new Error("unexpected type: " + type + " in mathDefault");
     }
 };
 
 /**
- * Makes a symbol in the italic math font.
+ * Determines which of the two font names (Main-Italic and Math-Italic) and
+ * corresponding style tags (mainit or mathit) to use for font "mathit",
+ * depending on the symbol.  Use this function instead of fontMap for font
+ * "mathit".
  */
-var mathit = function(value, mode, options, classes) {
+var mathit = function mathit(value, mode, options, classes) {
     if (/[0-9]/.test(value.charAt(0)) ||
-            // glyphs for \imath and \jmath do not exist in Math-Italic so we
-            // need to use Main-Italic instead
-            utils.contains(mainitLetters, value) ||
-            utils.contains(greekCapitals, value)) {
-        return makeSymbol(
-            value, "Main-Italic", mode, options, classes.concat(["mainit"]));
+    // glyphs for \imath and \jmath do not exist in Math-Italic so we
+    // need to use Main-Italic instead
+    _utils2.default.contains(mainitLetters, value)) {
+        return {
+            fontName: "Main-Italic",
+            fontClass: "mainit"
+        };
     } else {
-        return makeSymbol(
-            value, "Math-Italic", mode, options, classes.concat(["mathit"]));
+        return {
+            fontName: "Math-Italic",
+            fontClass: "mathit"
+        };
     }
 };
 
 /**
  * Makes either a mathord or textord in the correct font and color.
  */
-var makeOrd = function(group, options, type) {
+var makeOrd = function makeOrd(group, options, type) {
     var mode = group.mode;
     var value = group.value;
-    if (symbols[mode][value] && symbols[mode][value].replace) {
-        value = symbols[mode][value].replace;
-    }
 
     var classes = ["mord"];
 
     var font = options.font;
     if (font) {
-        if (font === "mathit" || utils.contains(mainitLetters, value)) {
-            return mathit(value, mode, options, classes);
+        var fontLookup = void 0;
+        if (font === "mathit" || _utils2.default.contains(mainitLetters, value)) {
+            fontLookup = mathit(value, mode, options, classes);
         } else {
-            var fontName = fontMap[font].fontName;
-            if (fontMetrics.getCharacterMetrics(value, fontName)) {
-                return makeSymbol(
-                    value, fontName, mode, options, classes.concat([font]));
-            } else {
-                return mathDefault(value, mode, options, classes, type);
-            }
+            fontLookup = fontMap[font];
+        }
+        if (lookupSymbol(value, fontLookup.fontName, mode).metrics) {
+            return makeSymbol(value, fontLookup.fontName, mode, options, classes.concat([fontLookup.fontClass || font]));
+        } else {
+            return mathDefault(value, mode, options, classes, type);
         }
     } else {
         return mathDefault(value, mode, options, classes, type);
@@ -1753,7 +2569,7 @@ var makeOrd = function(group, options, type) {
  * Calculate the height, depth, and maxFontSize of an element based on its
  * children.
  */
-var sizeElementFromChildren = function(elem) {
+var sizeElementFromChildren = function sizeElementFromChildren(elem) {
     var height = 0;
     var depth = 0;
     var maxFontSize = 0;
@@ -1785,8 +2601,8 @@ var sizeElementFromChildren = function(elem) {
  * TODO: add a separate argument for math class (e.g. `mop`, `mbin`), which
  * should if present come first in `classes`.
  */
-var makeSpan = function(classes, children, options) {
-    var span = new domTree.span(classes, children, options);
+var makeSpan = function makeSpan(classes, children, options) {
+    var span = new _domTree2.default.span(classes, children, options);
 
     sizeElementFromChildren(span);
 
@@ -1797,7 +2613,7 @@ var makeSpan = function(classes, children, options) {
  * Prepends the given children to the given span, updating height, depth, and
  * maxFontSize.
  */
-var prependChildren = function(span, children) {
+var prependChildren = function prependChildren(span, children) {
     span.children = children.concat(span.children);
 
     sizeElementFromChildren(span);
@@ -1806,31 +2622,14 @@ var prependChildren = function(span, children) {
 /**
  * Makes a document fragment with the given list of children.
  */
-var makeFragment = function(children) {
-    var fragment = new domTree.documentFragment(children);
+var makeFragment = function makeFragment(children) {
+    var fragment = new _domTree2.default.documentFragment(children);
 
     sizeElementFromChildren(fragment);
 
     return fragment;
 };
 
-/**
- * Makes an element placed in each of the vlist elements to ensure that each
- * element has the same max font size. To do this, we create a zero-width space
- * with the correct font size.
- */
-var makeFontSizer = function(options, fontSize) {
-    var fontSizeInner = makeSpan([], [new domTree.symbolNode("\u200b")]);
-    fontSizeInner.style.fontSize =
-        (fontSize / options.style.sizeMultiplier) + "em";
-
-    var fontSizer = makeSpan(
-        ["fontsize-ensurer", "reset-" + options.size, "size5"],
-        [fontSizeInner]);
-
-    return fontSizer;
-};
-
 /**
  * Makes a vertical list by stacking elements and kerns on top of each other.
  * Allows for many different ways of specifying the positioning method.
@@ -1870,10 +2669,10 @@ var makeFontSizer = function(options, fontSize) {
  *  - options: An Options object
  *
  */
-var makeVList = function(children, positionType, positionData, options) {
-    var depth;
-    var currPos;
-    var i;
+var makeVList = function makeVList(children, positionType, positionData, options) {
+    var depth = void 0;
+    var currPos = void 0;
+    var i = void 0;
     if (positionType === "individualShift") {
         var oldChildren = children;
         children = [oldChildren[0]];
@@ -1883,15 +2682,12 @@ var makeVList = function(children, positionType, positionData, options) {
         depth = -oldChildren[0].shift - oldChildren[0].elem.depth;
         currPos = depth;
         for (i = 1; i < oldChildren.length; i++) {
-            var diff = -oldChildren[i].shift - currPos -
-                oldChildren[i].elem.depth;
-            var size = diff -
-                (oldChildren[i - 1].elem.height +
-                 oldChildren[i - 1].elem.depth);
+            var diff = -oldChildren[i].shift - currPos - oldChildren[i].elem.depth;
+            var size = diff - (oldChildren[i - 1].elem.height + oldChildren[i - 1].elem.depth);
 
             currPos = currPos + diff;
 
-            children.push({type: "kern", size: size});
+            children.push({ type: "kern", size: size });
             children.push(oldChildren[i]);
         }
     } else if (positionType === "top") {
@@ -1916,62 +2712,79 @@ var makeVList = function(children, positionType, positionData, options) {
         depth = 0;
     }
 
-    // Make the fontSizer
-    var maxFontSize = 0;
+    // Create a strut that is taller than any list item. The strut is added to
+    // each item, where it will determine the item's baseline. Since it has
+    // `overflow:hidden`, the strut's top edge will sit on the item's line box's
+    // top edge and the strut's bottom edge will sit on the item's baseline,
+    // with no additional line-height spacing. This allows the item baseline to
+    // be positioned precisely without worrying about font ascent and
+    // line-height.
+    var pstrutSize = 0;
     for (i = 0; i < children.length; i++) {
         if (children[i].type === "elem") {
-            maxFontSize = Math.max(maxFontSize, children[i].elem.maxFontSize);
+            var child = children[i].elem;
+            pstrutSize = Math.max(pstrutSize, child.maxFontSize, child.height);
         }
     }
-    var fontSizer = makeFontSizer(options, maxFontSize);
+    pstrutSize += 2;
+    var pstrut = makeSpan(["pstrut"], []);
+    pstrut.style.height = pstrutSize + "em";
 
     // Create a new list of actual children at the correct offsets
     var realChildren = [];
+    var minPos = depth;
+    var maxPos = depth;
     currPos = depth;
     for (i = 0; i < children.length; i++) {
         if (children[i].type === "kern") {
             currPos += children[i].size;
         } else {
-            var child = children[i].elem;
+            var _child = children[i].elem;
+
+            var childWrap = makeSpan([], [pstrut, _child]);
+            childWrap.style.top = -pstrutSize - currPos - _child.depth + "em";
+            if (children[i].marginLeft) {
+                childWrap.style.marginLeft = children[i].marginLeft;
+            }
+            if (children[i].marginRight) {
+                childWrap.style.marginRight = children[i].marginRight;
+            }
+
+            realChildren.push(childWrap);
+            currPos += _child.height + _child.depth;
+        }
+        minPos = Math.min(minPos, currPos);
+        maxPos = Math.max(maxPos, currPos);
+    }
+
+    // The vlist contents go in a table-cell with `vertical-align:bottom`.
+    // This cell's bottom edge will determine the containing table's baseline
+    // without overly expanding the containing line-box.
+    var vlist = makeSpan(["vlist"], realChildren);
+    vlist.style.height = maxPos + "em";
 
-            var shift = -child.depth - currPos;
-            currPos += child.height + child.depth;
+    // A second row is used if necessary to represent the vlist's depth.
+    var rows = void 0;
+    if (minPos < 0) {
+        var depthStrut = makeSpan(["vlist"], []);
+        depthStrut.style.height = -minPos + "em";
 
-            var childWrap = makeSpan([], [fontSizer, child]);
-            childWrap.height -= shift;
-            childWrap.depth += shift;
-            childWrap.style.top = shift + "em";
+        // Safari wants the first row to have inline content; otherwise it
+        // puts the bottom of the *second* row on the baseline.
+        var topStrut = makeSpan(["vlist-s"], [new _domTree2.default.symbolNode("\u200B")]);
 
-            realChildren.push(childWrap);
-        }
+        rows = [makeSpan(["vlist-r"], [vlist, topStrut]), makeSpan(["vlist-r"], [depthStrut])];
+    } else {
+        rows = [makeSpan(["vlist-r"], [vlist])];
     }
 
-    // Add in an element at the end with no offset to fix the calculation of
-    // baselines in some browsers (namely IE, sometimes safari)
-    var baselineFix = makeSpan(
-        ["baseline-fix"], [fontSizer, new domTree.symbolNode("\u200b")]);
-    realChildren.push(baselineFix);
-
-    var vlist = makeSpan(["vlist"], realChildren);
-    // Fix the final height and depth, in case there were kerns at the ends
-    // since the makeSpan calculation won't take that in to account.
-    vlist.height = Math.max(currPos, vlist.height);
-    vlist.depth = Math.max(-depth, vlist.depth);
-    return vlist;
-};
-
-// A table of size -> font size for the different sizing functions
-var sizingMultiplier = {
-    size1: 0.5,
-    size2: 0.7,
-    size3: 0.8,
-    size4: 0.9,
-    size5: 1.0,
-    size6: 1.2,
-    size7: 1.44,
-    size8: 1.73,
-    size9: 2.07,
-    size10: 2.49
+    var vtable = makeSpan(["vlist-t"], rows);
+    if (rows.length === 2) {
+        vtable.classes.push("vlist-t2");
+    }
+    vtable.height = maxPos;
+    vtable.depth = -minPos;
+    return vtable;
 };
 
 // A map of spacing functions to their attributes, like size and corresponding
@@ -2068,11 +2881,50 @@ module.exports = {
     makeVList: makeVList,
     makeOrd: makeOrd,
     prependChildren: prependChildren,
-    sizingMultiplier: sizingMultiplier,
     spacingFunctions: spacingFunctions
 };
 
-},{"./domTree":15,"./fontMetrics":17,"./symbols":23,"./utils":25}],11:[function(require,module,exports){
+},{"./domTree":39,"./fontMetrics":41,"./symbols":48,"./utils":51}],35:[function(require,module,exports){
+"use strict";
+
+var _stringify = require("babel-runtime/core-js/json/stringify");
+
+var _stringify2 = _interopRequireDefault(_stringify);
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+var _Style = require("./Style");
+
+var _Style2 = _interopRequireDefault(_Style);
+
+var _buildCommon = require("./buildCommon");
+
+var _buildCommon2 = _interopRequireDefault(_buildCommon);
+
+var _delimiter = require("./delimiter");
+
+var _delimiter2 = _interopRequireDefault(_delimiter);
+
+var _domTree = require("./domTree");
+
+var _domTree2 = _interopRequireDefault(_domTree);
+
+var _units = require("./units");
+
+var _units2 = _interopRequireDefault(_units);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+var _stretchy = require("./stretchy");
+
+var _stretchy2 = _interopRequireDefault(_stretchy);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
 /* eslint no-console:0 */
 /**
  * This file does the main work of building a domTree structure from a parse
@@ -2081,49 +2933,53 @@ module.exports = {
  * called, to produce a final HTML tree.
  */
 
-var ParseError = require("./ParseError");
-var Style = require("./Style");
-
-var buildCommon = require("./buildCommon");
-var delimiter = require("./delimiter");
-var domTree = require("./domTree");
-var fontMetrics = require("./fontMetrics");
-var utils = require("./utils");
-
-var makeSpan = buildCommon.makeSpan;
-
-var isSpace = function(node) {
-    return node instanceof domTree.span && node.classes[0] === "mspace";
+var isSpace = function isSpace(node) {
+    return node instanceof _domTree2.default.span && node.classes[0] === "mspace";
 };
 
 // Binary atoms (first class `mbin`) change into ordinary atoms (`mord`)
 // depending on their surroundings. See TeXbook pg. 442-446, Rules 5 and 6,
 // and the text before Rule 19.
-
-var isBin = function(node) {
+var isBin = function isBin(node) {
     return node && node.classes[0] === "mbin";
 };
 
-var isBinLeftCanceller = function(node, isRealGroup) {
+var isBinLeftCanceller = function isBinLeftCanceller(node, isRealGroup) {
     // TODO: This code assumes that a node's math class is the first element
     // of its `classes` array. A later cleanup should ensure this, for
     // instance by changing the signature of `makeSpan`.
     if (node) {
-        return utils.contains(["mbin", "mopen", "mrel", "mop", "mpunct"],
-                              node.classes[0]);
+        return _utils2.default.contains(["mbin", "mopen", "mrel", "mop", "mpunct"], node.classes[0]);
     } else {
         return isRealGroup;
     }
 };
 
-var isBinRightCanceller = function(node, isRealGroup) {
+var isBinRightCanceller = function isBinRightCanceller(node, isRealGroup) {
     if (node) {
-        return utils.contains(["mrel", "mclose", "mpunct"], node.classes[0]);
+        return _utils2.default.contains(["mrel", "mclose", "mpunct"], node.classes[0]);
     } else {
         return isRealGroup;
     }
 };
 
+/**
+ * Splice out any spaces from `children` starting at position `i`, and return
+ * the spliced-out array. Returns null if `children[i]` does not exist or is not
+ * a space.
+ */
+var spliceSpaces = function spliceSpaces(children, i) {
+    var j = i;
+    while (j < children.length && isSpace(children[j])) {
+        j++;
+    }
+    if (j === i) {
+        return null;
+    } else {
+        return children.splice(i, j - i);
+    }
+};
+
 /**
  * Take a list of nodes, build them in order, and return a list of the built
  * nodes. documentFragments are flattened into their contents, so the
@@ -2131,13 +2987,13 @@ var isBinRightCanceller = function(node, isRealGroup) {
  * is a real group (no atoms will be added on either side), as opposed to
  * a partial group (e.g. one created by \color).
  */
-var buildExpression = function(expression, options, isRealGroup) {
+var buildExpression = function buildExpression(expression, options, isRealGroup) {
     // Parse expressions into `groups`.
     var groups = [];
     for (var i = 0; i < expression.length; i++) {
         var group = expression[i];
         var output = buildGroup(group, options);
-        if (output instanceof domTree.documentFragment) {
+        if (output instanceof _domTree2.default.documentFragment) {
             Array.prototype.push.apply(groups, output.children);
         } else {
             groups.push(output);
@@ -2149,31 +3005,62 @@ var buildExpression = function(expression, options, isRealGroup) {
     // spacing (e.g., "add thick space between mord and mrel"). Since CSS
     // adjacency rules implement atom spacing, spaces should be invisible to
     // CSS. So we splice them out of `groups` and into the atoms themselves.
-    var spaces = null;
-    for (i = 0; i < groups.length; i++) {
-        if (isSpace(groups[i])) {
-            spaces = spaces || [];
-            spaces.push(groups[i]);
-            groups.splice(i, 1);
-            i--;
-        } else if (spaces) {
-            if (groups[i] instanceof domTree.symbolNode) {
-                groups[i] = makeSpan([].concat(groups[i].classes), [groups[i]]);
+    for (var _i = 0; _i < groups.length; _i++) {
+        var spaces = spliceSpaces(groups, _i);
+        if (spaces) {
+            // Splicing of spaces may have removed all remaining groups.
+            if (_i < groups.length) {
+                // If there is a following group, move space within it.
+                if (groups[_i] instanceof _domTree2.default.symbolNode) {
+                    groups[_i] = (0, _buildCommon.makeSpan)([].concat(groups[_i].classes), [groups[_i]]);
+                }
+                _buildCommon2.default.prependChildren(groups[_i], spaces);
+            } else {
+                // Otherwise, put any spaces back at the end of the groups.
+                Array.prototype.push.apply(groups, spaces);
+                break;
             }
-            buildCommon.prependChildren(groups[i], spaces);
-            spaces = null;
         }
     }
-    if (spaces) {
-        Array.prototype.push.apply(groups, spaces);
-    }
 
     // Binary operators change to ordinary symbols in some contexts.
-    for (i = 0; i < groups.length; i++) {
-        if (isBin(groups[i])
-            && (isBinLeftCanceller(groups[i - 1], isRealGroup)
-                || isBinRightCanceller(groups[i + 1], isRealGroup))) {
-            groups[i].classes[0] = "mord";
+    for (var _i2 = 0; _i2 < groups.length; _i2++) {
+        if (isBin(groups[_i2]) && (isBinLeftCanceller(groups[_i2 - 1], isRealGroup) || isBinRightCanceller(groups[_i2 + 1], isRealGroup))) {
+            groups[_i2].classes[0] = "mord";
+        }
+    }
+
+    // Process \\not commands within the group.
+    // TODO(kevinb): Handle multiple \\not commands in a row.
+    // TODO(kevinb): Handle \\not{abc} correctly.  The \\not should appear over
+    // the 'a' instead of the 'c'.
+    for (var _i3 = 0; _i3 < groups.length; _i3++) {
+        if (groups[_i3].value === "\u0338" && _i3 + 1 < groups.length) {
+            var children = groups.slice(_i3, _i3 + 2);
+
+            children[0].classes = ["mainrm"];
+            // \u0338 is a combining glyph so we could reorder the children so
+            // that it comes after the other glyph.  This works correctly on
+            // most browsers except for Safari.  Instead we absolutely position
+            // the glyph and set its right side to match that of the other
+            // glyph which is visually equivalent.
+            children[0].style.position = "absolute";
+            children[0].style.right = "0";
+
+            // Copy the classes from the second glyph to the new container.
+            // This is so it behaves the same as though there was no \\not.
+            var classes = groups[_i3 + 1].classes;
+            var container = (0, _buildCommon.makeSpan)(classes, children);
+
+            // LaTeX adds a space between ords separated by a \\not.
+            if (classes.indexOf("mord") !== -1) {
+                // \glue(\thickmuskip) 2.77771 plus 2.77771
+                container.style.paddingLeft = "0.277771em";
+            }
+
+            // Ensure that the \u0338 is positioned relative to the container.
+            container.style.position = "relative";
+            groups.splice(_i3, 2, container);
         }
     }
 
@@ -2181,15 +3068,13 @@ var buildExpression = function(expression, options, isRealGroup) {
 };
 
 // Return math atom class (mclass) of a domTree.
-var getTypeOfDomTree = function(node) {
-    if (node instanceof domTree.documentFragment) {
+var getTypeOfDomTree = function getTypeOfDomTree(node) {
+    if (node instanceof _domTree2.default.documentFragment) {
         if (node.children.length) {
-            return getTypeOfDomTree(
-                node.children[node.children.length - 1]);
+            return getTypeOfDomTree(node.children[node.children.length - 1]);
         }
     } else {
-        if (utils.contains(["mord", "mop", "mbin", "mrel", "mopen", "mclose",
-            "mpunct", "minner"], node.classes[0])) {
+        if (_utils2.default.contains(["mord", "mop", "mbin", "mrel", "mopen", "mclose", "mpunct", "minner"], node.classes[0])) {
             return node.classes[0];
         }
     }
@@ -2202,19 +3087,23 @@ var getTypeOfDomTree = function(node) {
  * its inner element should handle the superscripts and subscripts instead of
  * handling them itself.
  */
-var shouldHandleSupSub = function(group, options) {
-    if (!group) {
+var shouldHandleSupSub = function shouldHandleSupSub(group, options) {
+    if (!group.value.base) {
         return false;
-    } else if (group.type === "op") {
-        // Operators handle supsubs differently when they have limits
-        // (e.g. `\displaystyle\sum_2^3`)
-        return group.value.limits &&
-            (options.style.size === Style.DISPLAY.size ||
-            group.value.alwaysHandleSupSub);
-    } else if (group.type === "accent") {
-        return isCharacterBox(group.value.base);
     } else {
-        return null;
+        var base = group.value.base;
+        if (base.type === "op") {
+            // Operators handle supsubs differently when they have limits
+            // (e.g. `\displaystyle\sum_2^3`)
+            return base.value.limits && (options.style.size === _Style2.default.DISPLAY.size || base.value.alwaysHandleSupSub);
+        } else if (base.type === "accent") {
+            return isCharacterBox(base.value.base);
+        } else if (base.type === "horizBrace") {
+            var isSup = group.value.sub ? false : true;
+            return isSup === base.value.isOver;
+        } else {
+            return null;
+        }
     }
 };
 
@@ -2223,7 +3112,7 @@ var shouldHandleSupSub = function(group, options) {
  * cases, this will just be the group itself, but when ordgroups and colors have
  * a single element, we want to pull that out.
  */
-var getBaseElem = function(group) {
+var getBaseElem = function getBaseElem(group) {
     if (!group) {
         return false;
     } else if (group.type === "ordgroup") {
@@ -2250,25 +3139,16 @@ var getBaseElem = function(group) {
  * with a single character in them. To decide if something is a character box,
  * we find its innermost group, and see if it is a single character.
  */
-var isCharacterBox = function(group) {
+var isCharacterBox = function isCharacterBox(group) {
     var baseElem = getBaseElem(group);
 
     // These are all they types of groups which hold single characters
-    return baseElem.type === "mathord" ||
-        baseElem.type === "textord" ||
-        baseElem.type === "bin" ||
-        baseElem.type === "rel" ||
-        baseElem.type === "inner" ||
-        baseElem.type === "open" ||
-        baseElem.type === "close" ||
-        baseElem.type === "punct";
+    return baseElem.type === "mathord" || baseElem.type === "textord" || baseElem.type === "bin" || baseElem.type === "rel" || baseElem.type === "inner" || baseElem.type === "open" || baseElem.type === "close" || baseElem.type === "punct";
 };
 
-var makeNullDelimiter = function(options, classes) {
-    return makeSpan(classes.concat([
-        "sizing", "reset-" + options.size, "size5",
-        options.style.reset(), Style.TEXT.cls(),
-        "nulldelimiter"]));
+var makeNullDelimiter = function makeNullDelimiter(options, classes) {
+    var moreClasses = ["nulldelimiter"].concat(options.baseSizingClasses());
+    return (0, _buildCommon.makeSpan)(classes.concat(moreClasses));
 };
 
 /**
@@ -2277,53 +3157,43 @@ var makeNullDelimiter = function(options, classes) {
  */
 var groupTypes = {};
 
-groupTypes.mathord = function(group, options) {
-    return buildCommon.makeOrd(group, options, "mathord");
+groupTypes.mathord = function (group, options) {
+    return _buildCommon2.default.makeOrd(group, options, "mathord");
 };
 
-groupTypes.textord = function(group, options) {
-    return buildCommon.makeOrd(group, options, "textord");
+groupTypes.textord = function (group, options) {
+    return _buildCommon2.default.makeOrd(group, options, "textord");
 };
 
-groupTypes.bin = function(group, options) {
-    return buildCommon.mathsym(
-        group.value, group.mode, options, ["mbin"]);
+groupTypes.bin = function (group, options) {
+    return _buildCommon2.default.mathsym(group.value, group.mode, options, ["mbin"]);
 };
 
-groupTypes.rel = function(group, options) {
-    return buildCommon.mathsym(
-        group.value, group.mode, options, ["mrel"]);
+groupTypes.rel = function (group, options) {
+    return _buildCommon2.default.mathsym(group.value, group.mode, options, ["mrel"]);
 };
 
-groupTypes.open = function(group, options) {
-    return buildCommon.mathsym(
-        group.value, group.mode, options, ["mopen"]);
+groupTypes.open = function (group, options) {
+    return _buildCommon2.default.mathsym(group.value, group.mode, options, ["mopen"]);
 };
 
-groupTypes.close = function(group, options) {
-    return buildCommon.mathsym(
-        group.value, group.mode, options, ["mclose"]);
+groupTypes.close = function (group, options) {
+    return _buildCommon2.default.mathsym(group.value, group.mode, options, ["mclose"]);
 };
 
-groupTypes.inner = function(group, options) {
-    return buildCommon.mathsym(
-        group.value, group.mode, options, ["minner"]);
+groupTypes.inner = function (group, options) {
+    return _buildCommon2.default.mathsym(group.value, group.mode, options, ["minner"]);
 };
 
-groupTypes.punct = function(group, options) {
-    return buildCommon.mathsym(
-        group.value, group.mode, options, ["mpunct"]);
+groupTypes.punct = function (group, options) {
+    return _buildCommon2.default.mathsym(group.value, group.mode, options, ["mpunct"]);
 };
 
-groupTypes.ordgroup = function(group, options) {
-    return makeSpan(
-        ["mord", options.style.cls()],
-        buildExpression(group.value, options.reset(), true),
-        options
-    );
+groupTypes.ordgroup = function (group, options) {
+    return (0, _buildCommon.makeSpan)(["mord"], buildExpression(group.value, options, true), options);
 };
 
-groupTypes.text = function(group, options) {
+groupTypes.text = function (group, options) {
     var newOptions = options.withFont(group.value.style);
     var inner = buildExpression(group.value.body, newOptions, true);
     for (var i = 0; i < inner.length - 1; i++) {
@@ -2332,329 +3202,262 @@ groupTypes.text = function(group, options) {
             i--;
         }
     }
-    return makeSpan(["mord", "text", newOptions.style.cls()],
-        inner, newOptions);
+    return (0, _buildCommon.makeSpan)(["mord", "text"], inner, newOptions);
 };
 
-groupTypes.color = function(group, options) {
-    var elements = buildExpression(
-        group.value.value,
-        options.withColor(group.value.color),
-        false
-    );
+groupTypes.color = function (group, options) {
+    var elements = buildExpression(group.value.value, options.withColor(group.value.color), false);
 
     // \color isn't supposed to affect the type of the elements it contains.
     // To accomplish this, we wrap the results in a fragment, so the inner
     // elements will be able to directly interact with their neighbors. For
     // example, `\color{red}{2 +} 3` has the same spacing as `2 + 3`
-    return new buildCommon.makeFragment(elements);
+    return new _buildCommon2.default.makeFragment(elements);
 };
 
-groupTypes.supsub = function(group, options) {
+groupTypes.supsub = function (group, options) {
     // Superscript and subscripts are handled in the TeXbook on page
     // 445-446, rules 18(a-f).
 
     // Here is where we defer to the inner group if it should handle
     // superscripts and subscripts itself.
-    if (shouldHandleSupSub(group.value.base, options)) {
+    if (shouldHandleSupSub(group, options)) {
         return groupTypes[group.value.base.type](group, options);
     }
 
-    var base = buildGroup(group.value.base, options.reset());
-    var supmid;
-    var submid;
-    var sup;
-    var sub;
+    var base = buildGroup(group.value.base, options);
+    var supm = void 0;
+    var subm = void 0;
 
-    var style = options.style;
-    var newOptions;
+    var metrics = options.fontMetrics();
+    var newOptions = void 0;
+
+    // Rule 18a
+    var supShift = 0;
+    var subShift = 0;
 
     if (group.value.sup) {
-        newOptions = options.withStyle(style.sup());
-        sup = buildGroup(group.value.sup, newOptions);
-        supmid = makeSpan([style.reset(), style.sup().cls()],
-            [sup], newOptions);
+        newOptions = options.havingStyle(options.style.sup());
+        supm = buildGroup(group.value.sup, newOptions, options);
+        if (!isCharacterBox(group.value.base)) {
+            supShift = base.height - newOptions.fontMetrics().supDrop * newOptions.sizeMultiplier / options.sizeMultiplier;
+        }
     }
 
     if (group.value.sub) {
-        newOptions = options.withStyle(style.sub());
-        sub = buildGroup(group.value.sub, newOptions);
-        submid = makeSpan([style.reset(), style.sub().cls()],
-            [sub], newOptions);
-    }
-
-    // Rule 18a
-    var supShift;
-    var subShift;
-    if (isCharacterBox(group.value.base)) {
-        supShift = 0;
-        subShift = 0;
-    } else {
-        supShift = base.height - style.metrics.supDrop;
-        subShift = base.depth + style.metrics.subDrop;
+        newOptions = options.havingStyle(options.style.sub());
+        subm = buildGroup(group.value.sub, newOptions, options);
+        if (!isCharacterBox(group.value.base)) {
+            subShift = base.depth + newOptions.fontMetrics().subDrop * newOptions.sizeMultiplier / options.sizeMultiplier;
+        }
     }
 
     // Rule 18c
-    var minSupShift;
-    if (style === Style.DISPLAY) {
-        minSupShift = style.metrics.sup1;
-    } else if (style.cramped) {
-        minSupShift = style.metrics.sup3;
+    var minSupShift = void 0;
+    if (options.style === _Style2.default.DISPLAY) {
+        minSupShift = metrics.sup1;
+    } else if (options.style.cramped) {
+        minSupShift = metrics.sup3;
     } else {
-        minSupShift = style.metrics.sup2;
+        minSupShift = metrics.sup2;
     }
 
     // scriptspace is a font-size-independent size, so scale it
     // appropriately
-    var multiplier = Style.TEXT.sizeMultiplier *
-            style.sizeMultiplier;
-    var scriptspace =
-        (0.5 / fontMetrics.metrics.ptPerEm) / multiplier + "em";
+    var multiplier = options.sizeMultiplier;
+    var scriptspace = 0.5 / metrics.ptPerEm / multiplier + "em";
 
-    var supsub;
+    var supsub = void 0;
     if (!group.value.sup) {
         // Rule 18b
-        subShift = Math.max(
-            subShift, style.metrics.sub1,
-            sub.height - 0.8 * style.metrics.xHeight);
-
-        supsub = buildCommon.makeVList([
-            {type: "elem", elem: submid}
-        ], "shift", subShift, options);
-
-        supsub.children[0].style.marginRight = scriptspace;
+        subShift = Math.max(subShift, metrics.sub1, subm.height - 0.8 * metrics.xHeight);
 
+        var vlistElem = [{ type: "elem", elem: subm, marginRight: scriptspace }];
         // Subscripts shouldn't be shifted by the base's italic correction.
         // Account for that by shifting the subscript back the appropriate
         // amount. Note we only do this when the base is a single symbol.
-        if (base instanceof domTree.symbolNode) {
-            supsub.children[0].style.marginLeft = -base.italic + "em";
+        if (base instanceof _domTree2.default.symbolNode) {
+            vlistElem[0].marginLeft = -base.italic + "em";
         }
+
+        supsub = _buildCommon2.default.makeVList(vlistElem, "shift", subShift, options);
     } else if (!group.value.sub) {
         // Rule 18c, d
-        supShift = Math.max(supShift, minSupShift,
-            sup.depth + 0.25 * style.metrics.xHeight);
-
-        supsub = buildCommon.makeVList([
-            {type: "elem", elem: supmid}
-        ], "shift", -supShift, options);
+        supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);
 
-        supsub.children[0].style.marginRight = scriptspace;
+        supsub = _buildCommon2.default.makeVList([{ type: "elem", elem: supm, marginRight: scriptspace }], "shift", -supShift, options);
     } else {
-        supShift = Math.max(
-            supShift, minSupShift, sup.depth + 0.25 * style.metrics.xHeight);
-        subShift = Math.max(subShift, style.metrics.sub2);
+        supShift = Math.max(supShift, minSupShift, supm.depth + 0.25 * metrics.xHeight);
+        subShift = Math.max(subShift, metrics.sub2);
 
-        var ruleWidth = fontMetrics.metrics.defaultRuleThickness;
+        var ruleWidth = metrics.defaultRuleThickness;
 
         // Rule 18e
-        if ((supShift - sup.depth) - (sub.height - subShift) <
-                4 * ruleWidth) {
-            subShift = 4 * ruleWidth - (supShift - sup.depth) + sub.height;
-            var psi = 0.8 * style.metrics.xHeight - (supShift - sup.depth);
+        if (supShift - supm.depth - (subm.height - subShift) < 4 * ruleWidth) {
+            subShift = 4 * ruleWidth - (supShift - supm.depth) + subm.height;
+            var psi = 0.8 * metrics.xHeight - (supShift - supm.depth);
             if (psi > 0) {
                 supShift += psi;
                 subShift -= psi;
             }
         }
 
-        supsub = buildCommon.makeVList([
-            {type: "elem", elem: submid, shift: subShift},
-            {type: "elem", elem: supmid, shift: -supShift}
-        ], "individualShift", null, options);
-
+        var _vlistElem = [{ type: "elem", elem: subm, shift: subShift, marginRight: scriptspace }, { type: "elem", elem: supm, shift: -supShift, marginRight: scriptspace }];
         // See comment above about subscripts not being shifted
-        if (base instanceof domTree.symbolNode) {
-            supsub.children[0].style.marginLeft = -base.italic + "em";
+        if (base instanceof _domTree2.default.symbolNode) {
+            _vlistElem[0].marginLeft = -base.italic + "em";
         }
 
-        supsub.children[0].style.marginRight = scriptspace;
-        supsub.children[1].style.marginRight = scriptspace;
+        supsub = _buildCommon2.default.makeVList(_vlistElem, "individualShift", null, options);
     }
 
     // We ensure to wrap the supsub vlist in a span.msupsub to reset text-align
     var mclass = getTypeOfDomTree(base) || "mord";
-    return makeSpan([mclass],
-        [base, makeSpan(["msupsub"], [supsub])],
-        options);
+    return (0, _buildCommon.makeSpan)([mclass], [base, (0, _buildCommon.makeSpan)(["msupsub"], [supsub])], options);
 };
 
-groupTypes.genfrac = function(group, options) {
+groupTypes.genfrac = function (group, options) {
     // Fractions are handled in the TeXbook on pages 444-445, rules 15(a-e).
     // Figure out what style this fraction should be in based on the
     // function used
     var style = options.style;
     if (group.value.size === "display") {
-        style = Style.DISPLAY;
+        style = _Style2.default.DISPLAY;
     } else if (group.value.size === "text") {
-        style = Style.TEXT;
+        style = _Style2.default.TEXT;
     }
 
     var nstyle = style.fracNum();
     var dstyle = style.fracDen();
-    var newOptions;
+    var newOptions = void 0;
 
-    newOptions = options.withStyle(nstyle);
-    var numer = buildGroup(group.value.numer, newOptions);
-    var numerreset = makeSpan([style.reset(), nstyle.cls()],
-        [numer], newOptions);
+    newOptions = options.havingStyle(nstyle);
+    var numerm = buildGroup(group.value.numer, newOptions, options);
 
-    newOptions = options.withStyle(dstyle);
-    var denom = buildGroup(group.value.denom, newOptions);
-    var denomreset = makeSpan([style.reset(), dstyle.cls()],
-        [denom], newOptions);
+    newOptions = options.havingStyle(dstyle);
+    var denomm = buildGroup(group.value.denom, newOptions, options);
 
-    var ruleWidth;
+    var rule = void 0;
+    var ruleWidth = void 0;
+    var ruleSpacing = void 0;
     if (group.value.hasBarLine) {
-        ruleWidth = fontMetrics.metrics.defaultRuleThickness /
-            options.style.sizeMultiplier;
+        rule = makeLineSpan("frac-line", options);
+        ruleWidth = rule.height;
+        ruleSpacing = rule.height;
     } else {
+        rule = null;
         ruleWidth = 0;
+        ruleSpacing = options.fontMetrics().defaultRuleThickness;
     }
 
     // Rule 15b
-    var numShift;
-    var clearance;
-    var denomShift;
-    if (style.size === Style.DISPLAY.size) {
-        numShift = style.metrics.num1;
+    var numShift = void 0;
+    var clearance = void 0;
+    var denomShift = void 0;
+    if (style.size === _Style2.default.DISPLAY.size) {
+        numShift = options.fontMetrics().num1;
         if (ruleWidth > 0) {
-            clearance = 3 * ruleWidth;
+            clearance = 3 * ruleSpacing;
         } else {
-            clearance = 7 * fontMetrics.metrics.defaultRuleThickness;
+            clearance = 7 * ruleSpacing;
         }
-        denomShift = style.metrics.denom1;
+        denomShift = options.fontMetrics().denom1;
     } else {
         if (ruleWidth > 0) {
-            numShift = style.metrics.num2;
-            clearance = ruleWidth;
+            numShift = options.fontMetrics().num2;
+            clearance = ruleSpacing;
         } else {
-            numShift = style.metrics.num3;
-            clearance = 3 * fontMetrics.metrics.defaultRuleThickness;
+            numShift = options.fontMetrics().num3;
+            clearance = 3 * ruleSpacing;
         }
-        denomShift = style.metrics.denom2;
+        denomShift = options.fontMetrics().denom2;
     }
 
-    var frac;
+    var frac = void 0;
     if (ruleWidth === 0) {
         // Rule 15c
-        var candidateClearance =
-            (numShift - numer.depth) - (denom.height - denomShift);
+        var candidateClearance = numShift - numerm.depth - (denomm.height - denomShift);
         if (candidateClearance < clearance) {
             numShift += 0.5 * (clearance - candidateClearance);
             denomShift += 0.5 * (clearance - candidateClearance);
         }
 
-        frac = buildCommon.makeVList([
-            {type: "elem", elem: denomreset, shift: denomShift},
-            {type: "elem", elem: numerreset, shift: -numShift}
-        ], "individualShift", null, options);
+        frac = _buildCommon2.default.makeVList([{ type: "elem", elem: denomm, shift: denomShift }, { type: "elem", elem: numerm, shift: -numShift }], "individualShift", null, options);
     } else {
         // Rule 15d
-        var axisHeight = style.metrics.axisHeight;
+        var axisHeight = options.fontMetrics().axisHeight;
 
-        if ((numShift - numer.depth) - (axisHeight + 0.5 * ruleWidth) <
-                clearance) {
-            numShift +=
-                clearance - ((numShift - numer.depth) -
-                             (axisHeight + 0.5 * ruleWidth));
+        if (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth) < clearance) {
+            numShift += clearance - (numShift - numerm.depth - (axisHeight + 0.5 * ruleWidth));
         }
 
-        if ((axisHeight - 0.5 * ruleWidth) - (denom.height - denomShift) <
-                clearance) {
-            denomShift +=
-                clearance - ((axisHeight - 0.5 * ruleWidth) -
-                             (denom.height - denomShift));
+        if (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift) < clearance) {
+            denomShift += clearance - (axisHeight - 0.5 * ruleWidth - (denomm.height - denomShift));
         }
 
-        var mid = makeSpan(
-            [options.style.reset(), Style.TEXT.cls(), "frac-line"]);
-        // Manually set the height of the line because its height is
-        // created in CSS
-        mid.height = ruleWidth;
-
         var midShift = -(axisHeight - 0.5 * ruleWidth);
 
-        frac = buildCommon.makeVList([
-            {type: "elem", elem: denomreset, shift: denomShift},
-            {type: "elem", elem: mid,        shift: midShift},
-            {type: "elem", elem: numerreset, shift: -numShift}
-        ], "individualShift", null, options);
+        frac = _buildCommon2.default.makeVList([{ type: "elem", elem: denomm, shift: denomShift }, { type: "elem", elem: rule, shift: midShift }, { type: "elem", elem: numerm, shift: -numShift }], "individualShift", null, options);
     }
 
     // Since we manually change the style sometimes (with \dfrac or \tfrac),
     // account for the possible size change here.
-    frac.height *= style.sizeMultiplier / options.style.sizeMultiplier;
-    frac.depth *= style.sizeMultiplier / options.style.sizeMultiplier;
+    newOptions = options.havingStyle(style);
+    frac.height *= newOptions.sizeMultiplier / options.sizeMultiplier;
+    frac.depth *= newOptions.sizeMultiplier / options.sizeMultiplier;
 
     // Rule 15e
-    var delimSize;
-    if (style.size === Style.DISPLAY.size) {
-        delimSize = style.metrics.delim1;
+    var delimSize = void 0;
+    if (style.size === _Style2.default.DISPLAY.size) {
+        delimSize = options.fontMetrics().delim1;
     } else {
-        delimSize = style.metrics.delim2;
+        delimSize = options.fontMetrics().delim2;
     }
 
-    var leftDelim;
-    var rightDelim;
+    var leftDelim = void 0;
+    var rightDelim = void 0;
     if (group.value.leftDelim == null) {
         leftDelim = makeNullDelimiter(options, ["mopen"]);
     } else {
-        leftDelim = delimiter.customSizedDelim(
-            group.value.leftDelim, delimSize, true,
-            options.withStyle(style), group.mode, ["mopen"]);
+        leftDelim = _delimiter2.default.customSizedDelim(group.value.leftDelim, delimSize, true, options.havingStyle(style), group.mode, ["mopen"]);
     }
     if (group.value.rightDelim == null) {
         rightDelim = makeNullDelimiter(options, ["mclose"]);
     } else {
-        rightDelim = delimiter.customSizedDelim(
-            group.value.rightDelim, delimSize, true,
-            options.withStyle(style), group.mode, ["mclose"]);
+        rightDelim = _delimiter2.default.customSizedDelim(group.value.rightDelim, delimSize, true, options.havingStyle(style), group.mode, ["mclose"]);
     }
 
-    return makeSpan(
-        ["mord", options.style.reset(), style.cls()],
-        [leftDelim, makeSpan(["mfrac"], [frac]), rightDelim],
-        options);
-};
-
-var calculateSize = function(sizeValue, style) {
-    var x = sizeValue.number;
-    if (sizeValue.unit === "ex") {
-        x *= style.metrics.emPerEx;
-    } else if (sizeValue.unit === "mu") {
-        x /= 18;
-    }
-    return x;
+    return (0, _buildCommon.makeSpan)(["mord"].concat(newOptions.sizingClasses(options)), [leftDelim, (0, _buildCommon.makeSpan)(["mfrac"], [frac]), rightDelim], options);
 };
 
-groupTypes.array = function(group, options) {
-    var r;
-    var c;
+groupTypes.array = function (group, options) {
+    var r = void 0;
+    var c = void 0;
     var nr = group.value.body.length;
     var nc = 0;
     var body = new Array(nr);
 
-    var style = options.style;
-
     // Horizontal spacing
-    var pt = 1 / fontMetrics.metrics.ptPerEm;
+    var pt = 1 / options.fontMetrics().ptPerEm;
     var arraycolsep = 5 * pt; // \arraycolsep in article.cls
 
     // Vertical spacing
     var baselineskip = 12 * pt; // see size10.clo
+    // Default \jot from ltmath.dtx
+    // TODO(edemaine): allow overriding \jot via \setlength (#687)
+    var jot = 3 * pt;
     // Default \arraystretch from lttab.dtx
     // TODO(gagern): may get redefined once we have user-defined macros
-    var arraystretch = utils.deflt(group.value.arraystretch, 1);
+    var arraystretch = _utils2.default.deflt(group.value.arraystretch, 1);
     var arrayskip = arraystretch * baselineskip;
     var arstrutHeight = 0.7 * arrayskip; // \strutbox in ltfsstrc.dtx and
-    var arstrutDepth = 0.3 * arrayskip;  // \@arstrutbox in lttab.dtx
+    var arstrutDepth = 0.3 * arrayskip; // \@arstrutbox in lttab.dtx
 
     var totalHeight = 0;
     for (r = 0; r < group.value.body.length; ++r) {
         var inrow = group.value.body[r];
         var height = arstrutHeight; // \@array adds an \@arstrut
-        var depth = arstrutDepth;   // to each tow (via the template)
+        var depth = arstrutDepth; // to each tow (via the template)
 
         if (nc < inrow.length) {
             nc = inrow.length;
@@ -2674,8 +3477,9 @@ groupTypes.array = function(group, options) {
 
         var gap = 0;
         if (group.value.rowGaps[r]) {
-            gap = calculateSize(group.value.rowGaps[r].value, style);
-            if (gap > 0) { // \@argarraycr
+            gap = _units2.default.calculateSize(group.value.rowGaps[r].value, options);
+            if (gap > 0) {
+                // \@argarraycr
                 gap += arstrutDepth;
                 if (depth < gap) {
                     depth = gap; // \@xargarraycr
@@ -2683,6 +3487,12 @@ groupTypes.array = function(group, options) {
                 gap = 0;
             }
         }
+        // In AMS multiline environments such as aligned and gathered, rows
+        // correspond to lines that have additional \jot added to the
+        // \baselineskip via \openup.
+        if (group.value.addJot) {
+            depth += jot;
+        }
 
         outrow.height = height;
         outrow.depth = depth;
@@ -2692,16 +3502,15 @@ groupTypes.array = function(group, options) {
         body[r] = outrow;
     }
 
-    var offset = totalHeight / 2 + style.metrics.axisHeight;
+    var offset = totalHeight / 2 + options.fontMetrics().axisHeight;
     var colDescriptions = group.value.cols || [];
     var cols = [];
-    var colSep;
-    var colDescrNum;
+    var colSep = void 0;
+    var colDescrNum = void 0;
     for (c = 0, colDescrNum = 0;
-         // Continue while either there are more columns or more column
-         // descriptions, so trailing separators don't get lost.
-         c < nc || colDescrNum < colDescriptions.length;
-         ++c, ++colDescrNum) {
+    // Continue while either there are more columns or more column
+    // descriptions, so trailing separators don't get lost.
+    c < nc || colDescrNum < colDescriptions.length; ++c, ++colDescrNum) {
 
         var colDescr = colDescriptions[colDescrNum] || {};
 
@@ -2710,24 +3519,19 @@ groupTypes.array = function(group, options) {
             // If there is more than one separator in a row, add a space
             // between them.
             if (!firstSeparator) {
-                colSep = makeSpan(["arraycolsep"], []);
-                colSep.style.width =
-                    fontMetrics.metrics.doubleRuleSep + "em";
+                colSep = (0, _buildCommon.makeSpan)(["arraycolsep"], []);
+                colSep.style.width = options.fontMetrics().doubleRuleSep + "em";
                 cols.push(colSep);
             }
 
             if (colDescr.separator === "|") {
-                var separator = makeSpan(
-                    ["vertical-separator"],
-                    []);
+                var separator = (0, _buildCommon.makeSpan)(["vertical-separator"], []);
                 separator.style.height = totalHeight + "em";
-                separator.style.verticalAlign =
-                    -(totalHeight - offset) + "em";
+                separator.style.verticalAlign = -(totalHeight - offset) + "em";
 
                 cols.push(separator);
             } else {
-                throw new ParseError(
-                    "Invalid separator type: " + colDescr.separator);
+                throw new _ParseError2.default("Invalid separator type: " + colDescr.separator);
             }
 
             colDescrNum++;
@@ -2739,11 +3543,11 @@ groupTypes.array = function(group, options) {
             continue;
         }
 
-        var sepwidth;
+        var sepwidth = void 0;
         if (c > 0 || group.value.hskipBeforeAndAfter) {
-            sepwidth = utils.deflt(colDescr.pregap, arraycolsep);
+            sepwidth = _utils2.default.deflt(colDescr.pregap, arraycolsep);
             if (sepwidth !== 0) {
-                colSep = makeSpan(["arraycolsep"], []);
+                colSep = (0, _buildCommon.makeSpan)(["arraycolsep"], []);
                 colSep.style.width = sepwidth + "em";
                 cols.push(colSep);
             }
@@ -2759,71 +3563,59 @@ groupTypes.array = function(group, options) {
             var shift = row.pos - offset;
             elem.depth = row.depth;
             elem.height = row.height;
-            col.push({type: "elem", elem: elem, shift: shift});
+            col.push({ type: "elem", elem: elem, shift: shift });
         }
 
-        col = buildCommon.makeVList(col, "individualShift", null, options);
-        col = makeSpan(
-            ["col-align-" + (colDescr.align || "c")],
-            [col]);
+        col = _buildCommon2.default.makeVList(col, "individualShift", null, options);
+        col = (0, _buildCommon.makeSpan)(["col-align-" + (colDescr.align || "c")], [col]);
         cols.push(col);
 
         if (c < nc - 1 || group.value.hskipBeforeAndAfter) {
-            sepwidth = utils.deflt(colDescr.postgap, arraycolsep);
+            sepwidth = _utils2.default.deflt(colDescr.postgap, arraycolsep);
             if (sepwidth !== 0) {
-                colSep = makeSpan(["arraycolsep"], []);
+                colSep = (0, _buildCommon.makeSpan)(["arraycolsep"], []);
                 colSep.style.width = sepwidth + "em";
                 cols.push(colSep);
             }
         }
     }
-    body = makeSpan(["mtable"], cols);
-    return makeSpan(["mord"], [body], options);
+    body = (0, _buildCommon.makeSpan)(["mtable"], cols);
+    return (0, _buildCommon.makeSpan)(["mord"], [body], options);
 };
 
-groupTypes.spacing = function(group, options) {
-    if (group.value === "\\ " || group.value === "\\space" ||
-        group.value === " " || group.value === "~") {
+groupTypes.spacing = function (group, options) {
+    if (group.value === "\\ " || group.value === "\\space" || group.value === " " || group.value === "~") {
         // Spaces are generated by adding an actual space. Each of these
         // things has an entry in the symbols table, so these will be turned
         // into appropriate outputs.
         if (group.mode === "text") {
-            return buildCommon.makeOrd(group, options, "textord");
+            return _buildCommon2.default.makeOrd(group, options, "textord");
         } else {
-            return makeSpan(["mspace"],
-                [buildCommon.mathsym(group.value, group.mode, options)],
-                options);
+            return (0, _buildCommon.makeSpan)(["mspace"], [_buildCommon2.default.mathsym(group.value, group.mode, options)], options);
         }
     } else {
         // Other kinds of spaces are of arbitrary width. We use CSS to
         // generate these.
-        return makeSpan(
-            ["mspace",
-                buildCommon.spacingFunctions[group.value].className],
-            [], options);
+        return (0, _buildCommon.makeSpan)(["mspace", _buildCommon2.default.spacingFunctions[group.value].className], [], options);
     }
 };
 
-groupTypes.llap = function(group, options) {
-    var inner = makeSpan(
-        ["inner"], [buildGroup(group.value.body, options.reset())]);
-    var fix = makeSpan(["fix"], []);
-    return makeSpan(
-        ["mord", "llap", options.style.cls()], [inner, fix], options);
+groupTypes.llap = function (group, options) {
+    var inner = (0, _buildCommon.makeSpan)(["inner"], [buildGroup(group.value.body, options)]);
+    var fix = (0, _buildCommon.makeSpan)(["fix"], []);
+    return (0, _buildCommon.makeSpan)(["mord", "llap"], [inner, fix], options);
 };
 
-groupTypes.rlap = function(group, options) {
-    var inner = makeSpan(
-        ["inner"], [buildGroup(group.value.body, options.reset())]);
-    var fix = makeSpan(["fix"], []);
-    return makeSpan(
-        ["mord", "rlap", options.style.cls()], [inner, fix], options);
+groupTypes.rlap = function (group, options) {
+    var inner = (0, _buildCommon.makeSpan)(["inner"], [buildGroup(group.value.body, options)]);
+    var fix = (0, _buildCommon.makeSpan)(["fix"], []);
+    return (0, _buildCommon.makeSpan)(["mord", "rlap"], [inner, fix], options);
 };
 
-groupTypes.op = function(group, options) {
+groupTypes.op = function (group, options) {
     // Operators are handled in the TeXbook pg. 443-444, rule 13(a).
-    var supGroup;
-    var subGroup;
+    var supGroup = void 0;
+    var subGroup = void 0;
     var hasLimits = false;
     if (group.type === "supsub") {
         // If we have limits, supsub will pass us its group to handle. Pull
@@ -2838,44 +3630,29 @@ groupTypes.op = function(group, options) {
     var style = options.style;
 
     // Most operators have a large successor symbol, but these don't.
-    var noSuccessor = [
-        "\\smallint"
-    ];
+    var noSuccessor = ["\\smallint"];
 
     var large = false;
-    if (style.size === Style.DISPLAY.size &&
-        group.value.symbol &&
-        !utils.contains(noSuccessor, group.value.body)) {
+    if (style.size === _Style2.default.DISPLAY.size && group.value.symbol && !_utils2.default.contains(noSuccessor, group.value.body)) {
 
         // Most symbol operators get larger in displaystyle (rule 13)
         large = true;
     }
 
-    var base;
-    var baseShift = 0;
-    var slant = 0;
+    var base = void 0;
     if (group.value.symbol) {
         // If this is a symbol, create the symbol.
         var fontName = large ? "Size2-Regular" : "Size1-Regular";
-        base = buildCommon.makeSymbol(
-            group.value.body, fontName, "math", options,
-            ["mop", "op-symbol", large ? "large-op" : "small-op"]);
-
-        // Shift the symbol so its center lies on the axis (rule 13). It
-        // appears that our fonts have the centers of the symbols already
-        // almost on the axis, so these numbers are very small. Note we
-        // don't actually apply this here, but instead it is used either in
-        // the vlist creation or separately when there are no limits.
-        baseShift = (base.height - base.depth) / 2 -
-            style.metrics.axisHeight * style.sizeMultiplier;
-
-        // The slant of the symbol is just its italic correction.
-        slant = base.italic;
+        base = _buildCommon2.default.makeSymbol(group.value.body, fontName, "math", options, ["mop", "op-symbol", large ? "large-op" : "small-op"]);
     } else if (group.value.value) {
         // If this is a list, compose that list.
         var inner = buildExpression(group.value.value, options, true);
-
-        base = makeSpan(["mop"], inner, options);
+        if (inner.length === 1 && inner[0] instanceof _domTree2.default.symbolNode) {
+            base = inner[0];
+            base.classes[0] = "mop"; // replace old mclass
+        } else {
+            base = (0, _buildCommon.makeSpan)(["mop"], inner, options);
+        }
     } else {
         // Otherwise, this is a text operator. Build the text from the
         // operator's name.
@@ -2883,106 +3660,84 @@ groupTypes.op = function(group, options) {
         // operators, like \limsup
         var output = [];
         for (var i = 1; i < group.value.body.length; i++) {
-            output.push(buildCommon.mathsym(group.value.body[i], group.mode));
+            output.push(_buildCommon2.default.mathsym(group.value.body[i], group.mode));
         }
-        base = makeSpan(["mop"], output, options);
+        base = (0, _buildCommon.makeSpan)(["mop"], output, options);
+    }
+
+    // If content of op is a single symbol, shift it vertically.
+    var baseShift = 0;
+    var slant = 0;
+    if (base instanceof _domTree2.default.symbolNode) {
+        // Shift the symbol so its center lies on the axis (rule 13). It
+        // appears that our fonts have the centers of the symbols already
+        // almost on the axis, so these numbers are very small. Note we
+        // don't actually apply this here, but instead it is used either in
+        // the vlist creation or separately when there are no limits.
+        baseShift = (base.height - base.depth) / 2 - options.fontMetrics().axisHeight;
+
+        // The slant of the symbol is just its italic correction.
+        slant = base.italic;
     }
 
     if (hasLimits) {
         // IE 8 clips \int if it is in a display: inline-block. We wrap it
         // in a new span so it is an inline, and works.
-        base = makeSpan([], [base]);
+        base = (0, _buildCommon.makeSpan)([], [base]);
 
-        var supmid;
-        var supKern;
-        var submid;
-        var subKern;
-        var newOptions;
+        var supm = void 0;
+        var supKern = void 0;
+        var subm = void 0;
+        var subKern = void 0;
+        var newOptions = void 0;
         // We manually have to handle the superscripts and subscripts. This,
         // aside from the kern calculations, is copied from supsub.
         if (supGroup) {
-            newOptions = options.withStyle(style.sup());
-            var sup = buildGroup(supGroup, newOptions);
-            supmid = makeSpan([style.reset(), style.sup().cls()],
-                [sup], newOptions);
+            newOptions = options.havingStyle(style.sup());
+            supm = buildGroup(supGroup, newOptions, options);
 
-            supKern = Math.max(
-                fontMetrics.metrics.bigOpSpacing1,
-                fontMetrics.metrics.bigOpSpacing3 - sup.depth);
+            supKern = Math.max(options.fontMetrics().bigOpSpacing1, options.fontMetrics().bigOpSpacing3 - supm.depth);
         }
 
         if (subGroup) {
-            newOptions = options.withStyle(style.sub());
-            var sub = buildGroup(subGroup, newOptions);
-            submid = makeSpan([style.reset(), style.sub().cls()],
-                [sub], newOptions);
+            newOptions = options.havingStyle(style.sub());
+            subm = buildGroup(subGroup, newOptions, options);
 
-            subKern = Math.max(
-                fontMetrics.metrics.bigOpSpacing2,
-                fontMetrics.metrics.bigOpSpacing4 - sub.height);
+            subKern = Math.max(options.fontMetrics().bigOpSpacing2, options.fontMetrics().bigOpSpacing4 - subm.height);
         }
 
         // Build the final group as a vlist of the possible subscript, base,
         // and possible superscript.
-        var finalGroup;
-        var top;
-        var bottom;
+        var finalGroup = void 0;
+        var top = void 0;
+        var bottom = void 0;
         if (!supGroup) {
             top = base.height - baseShift;
 
-            finalGroup = buildCommon.makeVList([
-                {type: "kern", size: fontMetrics.metrics.bigOpSpacing5},
-                {type: "elem", elem: submid},
-                {type: "kern", size: subKern},
-                {type: "elem", elem: base}
-            ], "top", top, options);
-
-            // Here, we shift the limits by the slant of the symbol. Note
+            // Shift the limits by the slant of the symbol. Note
             // that we are supposed to shift the limits by 1/2 of the slant,
             // but since we are centering the limits adding a full slant of
             // margin will shift by 1/2 that.
-            finalGroup.children[0].style.marginLeft = -slant + "em";
+            finalGroup = _buildCommon2.default.makeVList([{ type: "kern", size: options.fontMetrics().bigOpSpacing5 }, { type: "elem", elem: subm, marginLeft: -slant + "em" }, { type: "kern", size: subKern }, { type: "elem", elem: base }], "top", top, options);
         } else if (!subGroup) {
             bottom = base.depth + baseShift;
 
-            finalGroup = buildCommon.makeVList([
-                {type: "elem", elem: base},
-                {type: "kern", size: supKern},
-                {type: "elem", elem: supmid},
-                {type: "kern", size: fontMetrics.metrics.bigOpSpacing5}
-            ], "bottom", bottom, options);
-
-            // See comment above about slants
-            finalGroup.children[1].style.marginLeft = slant + "em";
+            finalGroup = _buildCommon2.default.makeVList([{ type: "elem", elem: base }, { type: "kern", size: supKern }, { type: "elem", elem: supm, marginLeft: slant + "em" }, { type: "kern", size: options.fontMetrics().bigOpSpacing5 }], "bottom", bottom, options);
         } else if (!supGroup && !subGroup) {
             // This case probably shouldn't occur (this would mean the
             // supsub was sending us a group with no superscript or
             // subscript) but be safe.
             return base;
         } else {
-            bottom = fontMetrics.metrics.bigOpSpacing5 +
-                submid.height + submid.depth +
-                subKern +
-                base.depth + baseShift;
-
-            finalGroup = buildCommon.makeVList([
-                {type: "kern", size: fontMetrics.metrics.bigOpSpacing5},
-                {type: "elem", elem: submid},
-                {type: "kern", size: subKern},
-                {type: "elem", elem: base},
-                {type: "kern", size: supKern},
-                {type: "elem", elem: supmid},
-                {type: "kern", size: fontMetrics.metrics.bigOpSpacing5}
-            ], "bottom", bottom, options);
-
-            // See comment above about slants
-            finalGroup.children[0].style.marginLeft = -slant + "em";
-            finalGroup.children[2].style.marginLeft = slant + "em";
-        }
-
-        return makeSpan(["mop", "op-limits"], [finalGroup], options);
+            bottom = options.fontMetrics().bigOpSpacing5 + subm.height + subm.depth + subKern + base.depth + baseShift;
+
+            finalGroup = _buildCommon2.default.makeVList([{ type: "kern", size: options.fontMetrics().bigOpSpacing5 }, { type: "elem", elem: subm, marginLeft: -slant + "em" }, { type: "kern", size: subKern }, { type: "elem", elem: base }, { type: "kern", size: supKern }, { type: "elem", elem: supm, marginLeft: slant + "em" }, { type: "kern", size: options.fontMetrics().bigOpSpacing5 }], "bottom", bottom, options);
+        }
+
+        return (0, _buildCommon.makeSpan)(["mop", "op-limits"], [finalGroup], options);
     } else {
-        if (group.value.symbol) {
+        if (baseShift) {
+            base.style.position = "relative";
             base.style.top = baseShift + "em";
         }
 
@@ -2990,326 +3745,265 @@ groupTypes.op = function(group, options) {
     }
 };
 
-groupTypes.mod = function(group, options) {
+groupTypes.mod = function (group, options) {
     var inner = [];
 
     if (group.value.modType === "bmod") {
         // “\nonscript\mskip-\medmuskip\mkern5mu”
         if (!options.style.isTight()) {
-            inner.push(makeSpan(
-                ["mspace", "negativemediumspace"], [], options));
+            inner.push((0, _buildCommon.makeSpan)(["mspace", "negativemediumspace"], [], options));
         }
-        inner.push(makeSpan(["mspace", "thickspace"], [], options));
-    } else if (options.style.size === Style.DISPLAY.size) {
-        inner.push(makeSpan(["mspace", "quad"], [], options));
+        inner.push((0, _buildCommon.makeSpan)(["mspace", "thickspace"], [], options));
+    } else if (options.style.size === _Style2.default.DISPLAY.size) {
+        inner.push((0, _buildCommon.makeSpan)(["mspace", "quad"], [], options));
     } else if (group.value.modType === "mod") {
-        inner.push(makeSpan(["mspace", "twelvemuspace"], [], options));
+        inner.push((0, _buildCommon.makeSpan)(["mspace", "twelvemuspace"], [], options));
     } else {
-        inner.push(makeSpan(["mspace", "eightmuspace"], [], options));
+        inner.push((0, _buildCommon.makeSpan)(["mspace", "eightmuspace"], [], options));
     }
 
     if (group.value.modType === "pod" || group.value.modType === "pmod") {
-        inner.push(buildCommon.mathsym("(", group.mode));
+        inner.push(_buildCommon2.default.mathsym("(", group.mode));
     }
 
     if (group.value.modType !== "pod") {
-        var modInner = [
-            buildCommon.mathsym("m", group.mode),
-            buildCommon.mathsym("o", group.mode),
-            buildCommon.mathsym("d", group.mode)];
+        var modInner = [_buildCommon2.default.mathsym("m", group.mode), _buildCommon2.default.mathsym("o", group.mode), _buildCommon2.default.mathsym("d", group.mode)];
         if (group.value.modType === "bmod") {
-            inner.push(makeSpan(["mbin"], modInner, options));
+            inner.push((0, _buildCommon.makeSpan)(["mbin"], modInner, options));
             // “\mkern5mu\nonscript\mskip-\medmuskip”
-            inner.push(makeSpan(["mspace", "thickspace"], [], options));
+            inner.push((0, _buildCommon.makeSpan)(["mspace", "thickspace"], [], options));
             if (!options.style.isTight()) {
-                inner.push(makeSpan(
-                    ["mspace", "negativemediumspace"], [], options));
+                inner.push((0, _buildCommon.makeSpan)(["mspace", "negativemediumspace"], [], options));
             }
         } else {
             Array.prototype.push.apply(inner, modInner);
-            inner.push(makeSpan(["mspace", "sixmuspace"], [], options));
+            inner.push((0, _buildCommon.makeSpan)(["mspace", "sixmuspace"], [], options));
         }
     }
 
     if (group.value.value) {
-        Array.prototype.push.apply(inner,
-            buildExpression(group.value.value, options, false));
+        Array.prototype.push.apply(inner, buildExpression(group.value.value, options, false));
     }
 
     if (group.value.modType === "pod" || group.value.modType === "pmod") {
-        inner.push(buildCommon.mathsym(")", group.mode));
+        inner.push(_buildCommon2.default.mathsym(")", group.mode));
     }
 
-    return buildCommon.makeFragment(inner);
+    return _buildCommon2.default.makeFragment(inner);
 };
 
-groupTypes.katex = function(group, options) {
+groupTypes.katex = function (group, options) {
     // The KaTeX logo. The offsets for the K and a were chosen to look
     // good, but the offsets for the T, E, and X were taken from the
     // definition of \TeX in TeX (see TeXbook pg. 356)
-    var k = makeSpan(
-        ["k"], [buildCommon.mathsym("K", group.mode)], options);
-    var a = makeSpan(
-        ["a"], [buildCommon.mathsym("A", group.mode)], options);
+    var k = (0, _buildCommon.makeSpan)(["k"], [_buildCommon2.default.mathsym("K", group.mode)], options);
+    var a = (0, _buildCommon.makeSpan)(["a"], [_buildCommon2.default.mathsym("A", group.mode)], options);
 
     a.height = (a.height + 0.2) * 0.75;
     a.depth = (a.height - 0.2) * 0.75;
 
-    var t = makeSpan(
-        ["t"], [buildCommon.mathsym("T", group.mode)], options);
-    var e = makeSpan(
-        ["e"], [buildCommon.mathsym("E", group.mode)], options);
+    var t = (0, _buildCommon.makeSpan)(["t"], [_buildCommon2.default.mathsym("T", group.mode)], options);
+    var e = (0, _buildCommon.makeSpan)(["e"], [_buildCommon2.default.mathsym("E", group.mode)], options);
 
-    e.height = (e.height - 0.2155);
-    e.depth = (e.depth + 0.2155);
+    e.height = e.height - 0.2155;
+    e.depth = e.depth + 0.2155;
 
-    var x = makeSpan(
-        ["x"], [buildCommon.mathsym("X", group.mode)], options);
+    var x = (0, _buildCommon.makeSpan)(["x"], [_buildCommon2.default.mathsym("X", group.mode)], options);
 
-    return makeSpan(
-        ["mord", "katex-logo"], [k, a, t, e, x], options);
+    return (0, _buildCommon.makeSpan)(["mord", "katex-logo"], [k, a, t, e, x], options);
 };
 
-groupTypes.overline = function(group, options) {
+var makeLineSpan = function makeLineSpan(className, options, thickness) {
+    var line = (0, _buildCommon.makeSpan)([className], [], options);
+    line.height = thickness || options.fontMetrics().defaultRuleThickness;
+    line.style.borderBottomWidth = line.height + "em";
+    line.maxFontSize = 1.0;
+    return line;
+};
+
+groupTypes.overline = function (group, options) {
     // Overlines are handled in the TeXbook pg 443, Rule 9.
-    var style = options.style;
 
     // Build the inner group in the cramped style.
-    var innerGroup = buildGroup(group.value.body,
-            options.withStyle(style.cramp()));
-
-    var ruleWidth = fontMetrics.metrics.defaultRuleThickness /
-        style.sizeMultiplier;
+    var innerGroup = buildGroup(group.value.body, options.havingCrampedStyle());
 
     // Create the line above the body
-    var line = makeSpan(
-        [style.reset(), Style.TEXT.cls(), "overline-line"]);
-    line.height = ruleWidth;
-    line.maxFontSize = 1.0;
+    var line = makeLineSpan("overline-line", options);
 
     // Generate the vlist, with the appropriate kerns
-    var vlist = buildCommon.makeVList([
-        {type: "elem", elem: innerGroup},
-        {type: "kern", size: 3 * ruleWidth},
-        {type: "elem", elem: line},
-        {type: "kern", size: ruleWidth}
-    ], "firstBaseline", null, options);
+    var vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: innerGroup }, { type: "kern", size: 3 * line.height }, { type: "elem", elem: line }, { type: "kern", size: line.height }], "firstBaseline", null, options);
 
-    return makeSpan(["mord", "overline"], [vlist], options);
+    return (0, _buildCommon.makeSpan)(["mord", "overline"], [vlist], options);
 };
 
-groupTypes.underline = function(group, options) {
+groupTypes.underline = function (group, options) {
     // Underlines are handled in the TeXbook pg 443, Rule 10.
-    var style = options.style;
-
     // Build the inner group.
     var innerGroup = buildGroup(group.value.body, options);
 
-    var ruleWidth = fontMetrics.metrics.defaultRuleThickness /
-        style.sizeMultiplier;
-
     // Create the line above the body
-    var line = makeSpan([style.reset(), Style.TEXT.cls(), "underline-line"]);
-    line.height = ruleWidth;
-    line.maxFontSize = 1.0;
+    var line = makeLineSpan("underline-line", options);
 
     // Generate the vlist, with the appropriate kerns
-    var vlist = buildCommon.makeVList([
-        {type: "kern", size: ruleWidth},
-        {type: "elem", elem: line},
-        {type: "kern", size: 3 * ruleWidth},
-        {type: "elem", elem: innerGroup}
-    ], "top", innerGroup.height, options);
+    var vlist = _buildCommon2.default.makeVList([{ type: "kern", size: line.height }, { type: "elem", elem: line }, { type: "kern", size: 3 * line.height }, { type: "elem", elem: innerGroup }], "top", innerGroup.height, options);
 
-    return makeSpan(["mord", "underline"], [vlist], options);
+    return (0, _buildCommon.makeSpan)(["mord", "underline"], [vlist], options);
 };
 
-groupTypes.sqrt = function(group, options) {
+groupTypes.sqrt = function (group, options) {
     // Square roots are handled in the TeXbook pg. 443, Rule 11.
-    var style = options.style;
 
     // First, we do the same steps as in overline to build the inner group
     // and line
-    var inner = buildGroup(group.value.body, options.withStyle(style.cramp()));
+    var inner = buildGroup(group.value.body, options.havingCrampedStyle());
 
-    var ruleWidth = fontMetrics.metrics.defaultRuleThickness /
-        style.sizeMultiplier;
+    // Some groups can return document fragments.  Handle those by wrapping
+    // them in a span.
+    if (inner instanceof _domTree2.default.documentFragment) {
+        inner = (0, _buildCommon.makeSpan)([], [inner], options);
+    }
 
-    var line = makeSpan(
-        [style.reset(), Style.TEXT.cls(), "sqrt-line"], [],
-        options);
-    line.height = ruleWidth;
-    line.maxFontSize = 1.0;
+    // Calculate the minimum size for the \surd delimiter
+    var metrics = options.fontMetrics();
+    var theta = metrics.defaultRuleThickness;
 
-    var phi = ruleWidth;
-    if (style.id < Style.TEXT.id) {
-        phi = style.metrics.xHeight;
+    var phi = theta;
+    if (options.style.id < _Style2.default.TEXT.id) {
+        phi = options.fontMetrics().xHeight;
     }
 
     // Calculate the clearance between the body and line
-    var lineClearance = ruleWidth + phi / 4;
+    var lineClearance = theta + phi / 4;
+
+    var minDelimiterHeight = (inner.height + inner.depth + lineClearance + theta) * options.sizeMultiplier;
 
-    var innerHeight = (inner.height + inner.depth) * style.sizeMultiplier;
-    var minDelimiterHeight = innerHeight + lineClearance + ruleWidth;
+    // Create a sqrt SVG of the required minimum size
+    var img = _delimiter2.default.customSizedDelim("\\surd", minDelimiterHeight, false, options, group.mode);
 
-    // Create a \surd delimiter of the required minimum size
-    var delim = makeSpan(["sqrt-sign"], [
-        delimiter.customSizedDelim("\\surd", minDelimiterHeight,
-                                   false, options, group.mode)],
-                         options);
+    // Calculate the actual line width.
+    // This actually should depend on the chosen font -- e.g. \boldmath
+    // should use the thicker surd symbols from e.g. KaTeX_Main-Bold, and
+    // have thicker rules.
+    var ruleWidth = options.fontMetrics().sqrtRuleThickness * img.sizeMultiplier;
 
-    var delimDepth = (delim.height + delim.depth) - ruleWidth;
+    var delimDepth = img.height - ruleWidth;
 
     // Adjust the clearance based on the delimiter size
     if (delimDepth > inner.height + inner.depth + lineClearance) {
-        lineClearance =
-            (lineClearance + delimDepth - inner.height - inner.depth) / 2;
+        lineClearance = (lineClearance + delimDepth - inner.height - inner.depth) / 2;
     }
 
-    // Shift the delimiter so that its top lines up with the top of the line
-    var delimShift = -(inner.height + lineClearance + ruleWidth) + delim.height;
-    delim.style.top = delimShift + "em";
-    delim.height -= delimShift;
-    delim.depth += delimShift;
+    // Shift the sqrt image
+    var imgShift = img.height - inner.height - lineClearance - ruleWidth;
 
     // We add a special case here, because even when `inner` is empty, we
     // still get a line. So, we use a simple heuristic to decide if we
     // should omit the body entirely. (note this doesn't work for something
     // like `\sqrt{\rlap{x}}`, but if someone is doing that they deserve for
     // it not to work.
-    var body;
+    var body = void 0;
     if (inner.height === 0 && inner.depth === 0) {
-        body = makeSpan();
+        body = (0, _buildCommon.makeSpan)();
     } else {
-        body = buildCommon.makeVList([
-            {type: "elem", elem: inner},
-            {type: "kern", size: lineClearance},
-            {type: "elem", elem: line},
-            {type: "kern", size: ruleWidth}
-        ], "firstBaseline", null, options);
+        inner.style.paddingLeft = img.surdWidth + "em";
+
+        // Overlay the image and the argument.
+        body = _buildCommon2.default.makeVList([{ type: "elem", elem: inner }, { type: "kern", size: -(inner.height + imgShift) }, { type: "elem", elem: img }, { type: "kern", size: ruleWidth }], "firstBaseline", null, options);
+        body.children[0].children[0].classes.push("svg-align");
     }
 
     if (!group.value.index) {
-        return makeSpan(["mord", "sqrt"], [delim, body], options);
+        return (0, _buildCommon.makeSpan)(["mord", "sqrt"], [body], options);
     } else {
         // Handle the optional root index
 
         // The index is always in scriptscript style
-        var newOptions = options.withStyle(Style.SCRIPTSCRIPT);
-        var root = buildGroup(group.value.index, newOptions);
-        var rootWrap = makeSpan(
-            [style.reset(), Style.SCRIPTSCRIPT.cls()],
-            [root],
-            newOptions);
-
-        // Figure out the height and depth of the inner part
-        var innerRootHeight = Math.max(delim.height, body.height);
-        var innerRootDepth = Math.max(delim.depth, body.depth);
+        var newOptions = options.havingStyle(_Style2.default.SCRIPTSCRIPT);
+        var rootm = buildGroup(group.value.index, newOptions, options);
 
         // The amount the index is shifted by. This is taken from the TeX
         // source, in the definition of `\r@@t`.
-        var toShift = 0.6 * (innerRootHeight - innerRootDepth);
+        var toShift = 0.6 * (body.height - body.depth);
 
         // Build a VList with the superscript shifted up correctly
-        var rootVList = buildCommon.makeVList(
-            [{type: "elem", elem: rootWrap}],
-            "shift", -toShift, options);
+        var rootVList = _buildCommon2.default.makeVList([{ type: "elem", elem: rootm }], "shift", -toShift, options);
         // Add a class surrounding it so we can add on the appropriate
         // kerning
-        var rootVListWrap = makeSpan(["root"], [rootVList]);
+        var rootVListWrap = (0, _buildCommon.makeSpan)(["root"], [rootVList]);
 
-        return makeSpan(["mord", "sqrt"],
-            [rootVListWrap, delim, body], options);
+        return (0, _buildCommon.makeSpan)(["mord", "sqrt"], [rootVListWrap, body], options);
     }
 };
 
-groupTypes.sizing = function(group, options) {
-    // Handle sizing operators like \Huge. Real TeX doesn't actually allow
-    // these functions inside of math expressions, so we do some special
-    // handling.
-    var inner = buildExpression(group.value.value,
-            options.withSize(group.value.size), false);
-
-    // Compute the correct maxFontSize.
-    var style = options.style;
-    var fontSize = buildCommon.sizingMultiplier[group.value.size];
-    fontSize = fontSize * style.sizeMultiplier;
+function sizingGroup(value, options, baseOptions) {
+    var inner = buildExpression(value, options, false);
+    var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier;
 
     // Add size-resetting classes to the inner list and set maxFontSize
     // manually. Handle nested size changes.
     for (var i = 0; i < inner.length; i++) {
-        var pos = utils.indexOf(inner[i].classes, "sizing");
+        var pos = _utils2.default.indexOf(inner[i].classes, "sizing");
         if (pos < 0) {
-            inner[i].classes.push("sizing", "reset-" + options.size,
-                                  group.value.size, style.cls());
-            inner[i].maxFontSize = fontSize;
-        } else if (inner[i].classes[pos + 1] === "reset-" + group.value.size) {
+            Array.prototype.push.apply(inner[i].classes, options.sizingClasses(baseOptions));
+        } else if (inner[i].classes[pos + 1] === "reset-size" + options.size) {
             // This is a nested size change: e.g., inner[i] is the "b" in
             // `\Huge a \small b`. Override the old size (the `reset-` class)
             // but not the new size.
-            inner[i].classes[pos + 1] = "reset-" + options.size;
+            inner[i].classes[pos + 1] = "reset-size" + baseOptions.size;
         }
+
+        inner[i].height *= multiplier;
+        inner[i].depth *= multiplier;
     }
 
-    return buildCommon.makeFragment(inner);
+    return _buildCommon2.default.makeFragment(inner);
+}
+
+groupTypes.sizing = function (group, options) {
+    // Handle sizing operators like \Huge. Real TeX doesn't actually allow
+    // these functions inside of math expressions, so we do some special
+    // handling.
+    var newOptions = options.havingSize(group.value.size);
+    return sizingGroup(group.value.value, newOptions, options);
 };
 
-groupTypes.styling = function(group, options) {
+groupTypes.styling = function (group, options) {
     // Style changes are handled in the TeXbook on pg. 442, Rule 3.
 
     // Figure out what style we're changing to.
     var styleMap = {
-        "display": Style.DISPLAY,
-        "text": Style.TEXT,
-        "script": Style.SCRIPT,
-        "scriptscript": Style.SCRIPTSCRIPT
+        "display": _Style2.default.DISPLAY,
+        "text": _Style2.default.TEXT,
+        "script": _Style2.default.SCRIPT,
+        "scriptscript": _Style2.default.SCRIPTSCRIPT
     };
 
     var newStyle = styleMap[group.value.style];
-    var newOptions = options.withStyle(newStyle);
-
-    // Build the inner expression in the new style.
-    var inner = buildExpression(
-        group.value.value, newOptions, false);
-
-    // Add style-resetting classes to the inner list. Handle nested changes.
-    for (var i = 0; i < inner.length; i++) {
-        var pos = utils.indexOf(inner[i].classes, newStyle.reset());
-        if (pos < 0) {
-            inner[i].classes.push(options.style.reset(), newStyle.cls());
-        } else {
-            // This is a nested style change, as `\textstyle a\scriptstyle b`.
-            // Only override the old style (the reset class).
-            inner[i].classes[pos] = options.style.reset();
-        }
-    }
-
-    return new buildCommon.makeFragment(inner);
+    var newOptions = options.havingStyle(newStyle);
+    return sizingGroup(group.value.value, newOptions, options);
 };
 
-groupTypes.font = function(group, options) {
+groupTypes.font = function (group, options) {
     var font = group.value.font;
     return buildGroup(group.value.body, options.withFont(font));
 };
 
-groupTypes.delimsizing = function(group, options) {
+groupTypes.delimsizing = function (group, options) {
     var delim = group.value.value;
 
     if (delim === ".") {
         // Empty delimiters still count as elements, even though they don't
         // show anything.
-        return makeSpan([group.value.mclass]);
+        return (0, _buildCommon.makeSpan)([group.value.mclass]);
     }
 
     // Use delimiter.sizedDelim to generate the delimiter.
-    return delimiter.sizedDelim(
-            delim, group.value.size, options, group.mode,
-            [group.value.mclass]);
+    return _delimiter2.default.sizedDelim(delim, group.value.size, options, group.mode, [group.value.mclass]);
 };
 
-groupTypes.leftright = function(group, options) {
+groupTypes.leftright = function (group, options) {
     // Build the inner expression
-    var inner = buildExpression(group.value.body, options.reset(), true);
+    var inner = buildExpression(group.value.body, options, true);
 
     var innerHeight = 0;
     var innerDepth = 0;
@@ -3325,88 +4019,76 @@ groupTypes.leftright = function(group, options) {
         }
     }
 
-    var style = options.style;
-
     // The size of delimiters is the same, regardless of what style we are
     // in. Thus, to correctly calculate the size of delimiter we need around
     // a group, we scale down the inner size based on the size.
-    innerHeight *= style.sizeMultiplier;
-    innerDepth *= style.sizeMultiplier;
+    innerHeight *= options.sizeMultiplier;
+    innerDepth *= options.sizeMultiplier;
 
-    var leftDelim;
+    var leftDelim = void 0;
     if (group.value.left === ".") {
         // Empty delimiters in \left and \right make null delimiter spaces.
         leftDelim = makeNullDelimiter(options, ["mopen"]);
     } else {
         // Otherwise, use leftRightDelim to generate the correct sized
         // delimiter.
-        leftDelim = delimiter.leftRightDelim(
-            group.value.left, innerHeight, innerDepth, options,
-            group.mode, ["mopen"]);
+        leftDelim = _delimiter2.default.leftRightDelim(group.value.left, innerHeight, innerDepth, options, group.mode, ["mopen"]);
     }
     // Add it to the beginning of the expression
     inner.unshift(leftDelim);
 
     // Handle middle delimiters
     if (hadMiddle) {
-        for (i = 1; i < inner.length; i++) {
-            if (inner[i].isMiddle) {
+        for (var _i4 = 1; _i4 < inner.length; _i4++) {
+            var middleDelim = inner[_i4];
+            if (middleDelim.isMiddle) {
                 // Apply the options that were active when \middle was called
-                inner[i] = delimiter.leftRightDelim(
-                    inner[i].isMiddle.value, innerHeight, innerDepth,
-                    inner[i].isMiddle.options, group.mode, []);
+                inner[_i4] = _delimiter2.default.leftRightDelim(middleDelim.isMiddle.value, innerHeight, innerDepth, middleDelim.isMiddle.options, group.mode, []);
+                // Add back spaces shifted into the delimiter
+                var spaces = spliceSpaces(middleDelim.children, 0);
+                if (spaces) {
+                    _buildCommon2.default.prependChildren(inner[_i4], spaces);
+                }
             }
         }
     }
 
-    var rightDelim;
+    var rightDelim = void 0;
     // Same for the right delimiter
     if (group.value.right === ".") {
         rightDelim = makeNullDelimiter(options, ["mclose"]);
     } else {
-        rightDelim = delimiter.leftRightDelim(
-            group.value.right, innerHeight, innerDepth, options,
-            group.mode, ["mclose"]);
+        rightDelim = _delimiter2.default.leftRightDelim(group.value.right, innerHeight, innerDepth, options, group.mode, ["mclose"]);
     }
     // Add it to the end of the expression.
     inner.push(rightDelim);
 
-    return makeSpan(
-        ["minner", style.cls()], inner, options);
+    return (0, _buildCommon.makeSpan)(["minner"], inner, options);
 };
 
-groupTypes.middle = function(group, options) {
-    var middleDelim;
+groupTypes.middle = function (group, options) {
+    var middleDelim = void 0;
     if (group.value.value === ".") {
         middleDelim = makeNullDelimiter(options, []);
     } else {
-        middleDelim = delimiter.sizedDelim(
-            group.value.value, 1, options,
-            group.mode, []);
-        middleDelim.isMiddle = {value: group.value.value, options: options};
+        middleDelim = _delimiter2.default.sizedDelim(group.value.value, 1, options, group.mode, []);
+        middleDelim.isMiddle = { value: group.value.value, options: options };
     }
     return middleDelim;
 };
 
-groupTypes.rule = function(group, options) {
+groupTypes.rule = function (group, options) {
     // Make an empty span for the rule
-    var rule = makeSpan(["mord", "rule"], [], options);
-    var style = options.style;
+    var rule = (0, _buildCommon.makeSpan)(["mord", "rule"], [], options);
 
     // Calculate the shift, width, and height of the rule, and account for units
     var shift = 0;
     if (group.value.shift) {
-        shift = calculateSize(group.value.shift, style);
+        shift = _units2.default.calculateSize(group.value.shift, options);
     }
 
-    var width = calculateSize(group.value.width, style);
-    var height = calculateSize(group.value.height, style);
-
-    // The sizes of rules are absolute, so make it larger if we are in a
-    // smaller style.
-    shift /= style.sizeMultiplier;
-    width /= style.sizeMultiplier;
-    height /= style.sizeMultiplier;
+    var width = _units2.default.calculateSize(group.value.width, options);
+    var height = _units2.default.calculateSize(group.value.height, options);
 
     // Style the rule to the right size
     rule.style.borderRightWidth = width + "em";
@@ -3417,152 +4099,312 @@ groupTypes.rule = function(group, options) {
     rule.width = width;
     rule.height = height + shift;
     rule.depth = -shift;
+    // Font size is the number large enough that the browser will
+    // reserve at least `absHeight` space above the baseline.
+    // The 1.125 factor was empirically determined
+    rule.maxFontSize = height * 1.125 * options.sizeMultiplier;
+
+    return rule;
+};
+
+groupTypes.kern = function (group, options) {
+    // Make an empty span for the rule
+    var rule = (0, _buildCommon.makeSpan)(["mord", "rule"], [], options);
+
+    if (group.value.dimension) {
+        var dimension = _units2.default.calculateSize(group.value.dimension, options);
+        rule.style.marginLeft = dimension + "em";
+    }
+
+    return rule;
+};
+
+groupTypes.accent = function (group, options) {
+    // Accents are handled in the TeXbook pg. 443, rule 12.
+    var base = group.value.base;
+
+    var supsubGroup = void 0;
+    if (group.type === "supsub") {
+        // If our base is a character box, and we have superscripts and
+        // subscripts, the supsub will defer to us. In particular, we want
+        // to attach the superscripts and subscripts to the inner body (so
+        // that the position of the superscripts and subscripts won't be
+        // affected by the height of the accent). We accomplish this by
+        // sticking the base of the accent into the base of the supsub, and
+        // rendering that, while keeping track of where the accent is.
+
+        // The supsub group is the group that was passed in
+        var supsub = group;
+        // The real accent group is the base of the supsub group
+        group = supsub.value.base;
+        // The character box is the base of the accent group
+        base = group.value.base;
+        // Stick the character box into the base of the supsub group
+        supsub.value.base = base;
+
+        // Rerender the supsub group with its new base, and store that
+        // result.
+        supsubGroup = buildGroup(supsub, options);
+    }
+
+    // Build the base group
+    var body = buildGroup(base, options.havingCrampedStyle());
+
+    // Does the accent need to shift for the skew of a character?
+    var mustShift = group.value.isShifty && isCharacterBox(base);
+
+    // Calculate the skew of the accent. This is based on the line "If the
+    // nucleus is not a single character, let s = 0; otherwise set s to the
+    // kern amount for the nucleus followed by the \skewchar of its font."
+    // Note that our skew metrics are just the kern between each character
+    // and the skewchar.
+    var skew = 0;
+    if (mustShift) {
+        // If the base is a character box, then we want the skew of the
+        // innermost character. To do that, we find the innermost character:
+        var baseChar = getBaseElem(base);
+        // Then, we render its group to get the symbol inside it
+        var baseGroup = buildGroup(baseChar, options.havingCrampedStyle());
+        // Finally, we pull the skew off of the symbol.
+        skew = baseGroup.skew;
+        // Note that we now throw away baseGroup, because the layers we
+        // removed with getBaseElem might contain things like \color which
+        // we can't get rid of.
+        // TODO(emily): Find a better way to get the skew
+    }
+
+    // calculate the amount of space between the body and the accent
+    var clearance = Math.min(body.height, options.fontMetrics().xHeight);
+
+    // Build the accent
+    var accentBody = void 0;
+    if (!group.value.isStretchy) {
+        var accent = _buildCommon2.default.makeSymbol(group.value.label, "Main-Regular", group.mode, options);
+        // Remove the italic correction of the accent, because it only serves to
+        // shift the accent over to a place we don't want.
+        accent.italic = 0;
+
+        // The \vec character that the fonts use is a combining character, and
+        // thus shows up much too far to the left. To account for this, we add a
+        // specific class which shifts the accent over to where we want it.
+        // TODO(emily): Fix this in a better way, like by changing the font
+        // Similarly, text accent \H is a combining character and
+        // requires a different adjustment.
+        var accentClass = null;
+        if (group.value.label === "\\vec") {
+            accentClass = "accent-vec";
+        } else if (group.value.label === '\\H') {
+            accentClass = "accent-hungarian";
+        }
+
+        accentBody = (0, _buildCommon.makeSpan)([], [accent]);
+        accentBody = (0, _buildCommon.makeSpan)(["accent-body", accentClass], [accentBody]);
+
+        // Shift the accent over by the skew. Note we shift by twice the skew
+        // because we are centering the accent, so by adding 2*skew to the left,
+        // we shift it to the right by 1*skew.
+        accentBody.style.marginLeft = 2 * skew + "em";
+
+        accentBody = _buildCommon2.default.makeVList([{ type: "elem", elem: body }, { type: "kern", size: -clearance }, { type: "elem", elem: accentBody }], "firstBaseline", null, options);
+    } else {
+        accentBody = _stretchy2.default.svgSpan(group, options);
+
+        accentBody = _buildCommon2.default.makeVList([{ type: "elem", elem: body }, { type: "elem", elem: accentBody }], "firstBaseline", null, options);
+
+        var styleSpan = accentBody.children[0].children[0].children[1];
+        styleSpan.classes.push("svg-align"); // text-align: left;
+        if (skew > 0) {
+            // Shorten the accent and nudge it to the right.
+            styleSpan.style.width = "calc(100% - " + 2 * skew + "em)";
+            styleSpan.style.marginLeft = 2 * skew + "em";
+        }
+    }
+
+    var accentWrap = (0, _buildCommon.makeSpan)(["mord", "accent"], [accentBody], options);
+
+    if (supsubGroup) {
+        // Here, we replace the "base" child of the supsub with our newly
+        // generated accent.
+        supsubGroup.children[0] = accentWrap;
+
+        // Since we don't rerun the height calculation after replacing the
+        // accent, we manually recalculate height.
+        supsubGroup.height = Math.max(accentWrap.height, supsubGroup.height);
+
+        // Accents should always be ords, even when their innards are not.
+        supsubGroup.classes[0] = "mord";
+
+        return supsubGroup;
+    } else {
+        return accentWrap;
+    }
+};
+
+groupTypes.horizBrace = function (group, options) {
+    var style = options.style;
+
+    var hasSupSub = group.type === "supsub";
+    var supSubGroup = void 0;
+    var newOptions = void 0;
+    if (hasSupSub) {
+        // Ref: LaTeX source2e: }}}}\limits}
+        // i.e. LaTeX treats the brace similar to an op and passes it
+        // with \limits, so we need to assign supsub style.
+        if (group.value.sup) {
+            newOptions = options.havingStyle(style.sup());
+            supSubGroup = buildGroup(group.value.sup, newOptions, options);
+        } else {
+            newOptions = options.havingStyle(style.sub());
+            supSubGroup = buildGroup(group.value.sub, newOptions, options);
+        }
+        group = group.value.base;
+    }
+
+    // Build the base group
+    var body = buildGroup(group.value.base, options.havingBaseStyle(_Style2.default.DISPLAY));
+
+    // Create the stretchy element
+    var braceBody = _stretchy2.default.svgSpan(group, options);
+
+    // Generate the vlist, with the appropriate kerns               ┏━━━━━━━━┓
+    // This first vlist contains the subject matter and the brace:   equation
+    var vlist = void 0;
+    if (group.value.isOver) {
+        vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: body }, { type: "kern", size: 0.1 }, { type: "elem", elem: braceBody }], "firstBaseline", null, options);
+        vlist.children[0].children[0].children[1].classes.push("svg-align");
+    } else {
+        vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: braceBody }, { type: "kern", size: 0.1 }, { type: "elem", elem: body }], "bottom", body.depth + 0.1 + braceBody.height, options);
+        vlist.children[0].children[0].children[0].classes.push("svg-align");
+    }
+
+    if (hasSupSub) {
+        // In order to write the supsub, wrap the first vlist in another vlist:
+        // They can't all go in the same vlist, because the note might be wider
+        // than the equation. We want the equation to control the brace width.
+
+        //      note          long note           long note
+        //   ┏━━━━━━━━┓   or    ┏━━━┓     not    ┏━━━━━━━━━┓
+        //    equation           eqn                 eqn
+
+        var vSpan = (0, _buildCommon.makeSpan)(["mord", group.value.isOver ? "mover" : "munder"], [vlist], options);
+
+        if (group.value.isOver) {
+            vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: vSpan }, { type: "kern", size: 0.2 }, { type: "elem", elem: supSubGroup }], "firstBaseline", null, options);
+        } else {
+            vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: supSubGroup }, { type: "kern", size: 0.2 }, { type: "elem", elem: vSpan }], "bottom", vSpan.depth + 0.2 + supSubGroup.height, options);
+        }
+    }
 
-    return rule;
+    return (0, _buildCommon.makeSpan)(["mord", group.value.isOver ? "mover" : "munder"], [vlist], options);
 };
 
-groupTypes.kern = function(group, options) {
-    // Make an empty span for the rule
-    var rule = makeSpan(["mord", "rule"], [], options);
-    var style = options.style;
+groupTypes.accentUnder = function (group, options) {
+    // Treat under accents much like underlines.
+    var innerGroup = buildGroup(group.value.body, options);
 
-    var dimension = 0;
-    if (group.value.dimension) {
-        dimension = calculateSize(group.value.dimension, style);
-    }
+    var accentBody = _stretchy2.default.svgSpan(group, options);
+    var kern = /tilde/.test(group.value.label) ? 0.12 : 0;
 
-    dimension /= style.sizeMultiplier;
+    // Generate the vlist, with the appropriate kerns
+    var vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: accentBody }, { type: "kern", size: kern }, { type: "elem", elem: innerGroup }], "bottom", accentBody.height + kern, options);
 
-    rule.style.marginLeft = dimension + "em";
+    vlist.children[0].children[0].children[0].classes.push("svg-align");
 
-    return rule;
+    return (0, _buildCommon.makeSpan)(["mord", "accentunder"], [vlist], options);
 };
 
-groupTypes.accent = function(group, options) {
-    // Accents are handled in the TeXbook pg. 443, rule 12.
-    var base = group.value.base;
-    var style = options.style;
+groupTypes.enclose = function (group, options) {
+    // \cancel, \bcancel, \xcancel, \sout, \fbox
+    var inner = buildGroup(group.value.body, options);
 
-    var supsubGroup;
-    if (group.type === "supsub") {
-        // If our base is a character box, and we have superscripts and
-        // subscripts, the supsub will defer to us. In particular, we want
-        // to attach the superscripts and subscripts to the inner body (so
-        // that the position of the superscripts and subscripts won't be
-        // affected by the height of the accent). We accomplish this by
-        // sticking the base of the accent into the base of the supsub, and
-        // rendering that, while keeping track of where the accent is.
+    var label = group.value.label.substr(1);
+    var scale = options.sizeMultiplier;
+    var img = void 0;
+    var pad = 0;
+    var imgShift = 0;
 
-        // The supsub group is the group that was passed in
-        var supsub = group;
-        // The real accent group is the base of the supsub group
-        group = supsub.value.base;
-        // The character box is the base of the accent group
-        base = group.value.base;
-        // Stick the character box into the base of the supsub group
-        supsub.value.base = base;
+    if (label === "sout") {
+        img = (0, _buildCommon.makeSpan)(["stretchy", "sout"]);
+        img.height = options.fontMetrics().defaultRuleThickness / scale;
+        imgShift = -0.5 * options.fontMetrics().xHeight;
+    } else {
+        // Add horizontal padding
+        inner.classes.push(label === "fbox" ? "boxpad" : "cancel-pad");
 
-        // Rerender the supsub group with its new base, and store that
-        // result.
-        supsubGroup = buildGroup(
-            supsub, options.reset());
+        // Add vertical padding
+        var isCharBox = isCharacterBox(group.value.body);
+        // ref: LaTeX source2e: \fboxsep = 3pt;  \fboxrule = .4pt
+        // ref: cancel package: \advance\totalheight2\p@ % "+2"
+        pad = label === "fbox" ? 0.34 : isCharBox ? 0.2 : 0;
+        imgShift = inner.depth + pad;
+
+        img = _stretchy2.default.encloseSpan(inner, label, pad, options);
     }
 
-    // Build the base group
-    var body = buildGroup(
-        base, options.withStyle(style.cramp()));
+    var vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: inner, shift: 0 }, { type: "elem", elem: img, shift: imgShift }], "individualShift", null, options);
 
-    // Calculate the skew of the accent. This is based on the line "If the
-    // nucleus is not a single character, let s = 0; otherwise set s to the
-    // kern amount for the nucleus followed by the \skewchar of its font."
-    // Note that our skew metrics are just the kern between each character
-    // and the skewchar.
-    var skew;
-    if (isCharacterBox(base)) {
-        // If the base is a character box, then we want the skew of the
-        // innermost character. To do that, we find the innermost character:
-        var baseChar = getBaseElem(base);
-        // Then, we render its group to get the symbol inside it
-        var baseGroup = buildGroup(
-            baseChar, options.withStyle(style.cramp()));
-        // Finally, we pull the skew off of the symbol.
-        skew = baseGroup.skew;
-        // Note that we now throw away baseGroup, because the layers we
-        // removed with getBaseElem might contain things like \color which
-        // we can't get rid of.
-        // TODO(emily): Find a better way to get the skew
+    if (label !== "fbox") {
+        vlist.children[0].children[0].children[1].classes.push("svg-align");
+    }
+
+    if (/cancel/.test(label)) {
+        // cancel does not create horiz space for its line extension.
+        // That is, not when adjacent to a mord.
+        return (0, _buildCommon.makeSpan)(["mord", "cancel-lap"], [vlist], options);
     } else {
-        skew = 0;
+        return (0, _buildCommon.makeSpan)(["mord"], [vlist], options);
     }
+};
 
-    // calculate the amount of space between the body and the accent
-    var clearance = Math.min(
-        body.height,
-        style.metrics.xHeight);
+groupTypes.xArrow = function (group, options) {
+    var style = options.style;
 
-    // Build the accent
-    var accent = buildCommon.makeSymbol(
-        group.value.accent, "Main-Regular", "math", options);
-    // Remove the italic correction of the accent, because it only serves to
-    // shift the accent over to a place we don't want.
-    accent.italic = 0;
-
-    // The \vec character that the fonts use is a combining character, and
-    // thus shows up much too far to the left. To account for this, we add a
-    // specific class which shifts the accent over to where we want it.
-    // TODO(emily): Fix this in a better way, like by changing the font
-    var vecClass = group.value.accent === "\\vec" ? "accent-vec" : null;
-
-    var accentBody = makeSpan(["accent-body", vecClass], [
-        makeSpan([], [accent])]);
-
-    accentBody = buildCommon.makeVList([
-        {type: "elem", elem: body},
-        {type: "kern", size: -clearance},
-        {type: "elem", elem: accentBody}
-    ], "firstBaseline", null, options);
-
-    // Shift the accent over by the skew. Note we shift by twice the skew
-    // because we are centering the accent, so by adding 2*skew to the left,
-    // we shift it to the right by 1*skew.
-    accentBody.children[1].style.marginLeft = 2 * skew + "em";
-
-    var accentWrap = makeSpan(["mord", "accent"], [accentBody], options);
+    // Build the argument groups in the appropriate style.
+    // Ref: amsmath.dtx:   \hbox{$\scriptstyle\mkern#3mu{#6}\mkern#4mu$}%
 
-    if (supsubGroup) {
-        // Here, we replace the "base" child of the supsub with our newly
-        // generated accent.
-        supsubGroup.children[0] = accentWrap;
+    var newOptions = options.havingStyle(style.sup());
+    var upperGroup = buildGroup(group.value.body, newOptions, options);
+    upperGroup.classes.push("x-arrow-pad");
 
-        // Since we don't rerun the height calculation after replacing the
-        // accent, we manually recalculate height.
-        supsubGroup.height = Math.max(accentWrap.height, supsubGroup.height);
+    var lowerGroup = void 0;
+    if (group.value.below) {
+        // Build the lower group
+        newOptions = options.havingStyle(style.sub());
+        lowerGroup = buildGroup(group.value.below, newOptions, options);
+        lowerGroup.classes.push("x-arrow-pad");
+    }
 
-        // Accents should always be ords, even when their innards are not.
-        supsubGroup.classes[0] = "mord";
+    var arrowBody = _stretchy2.default.svgSpan(group, options);
 
-        return supsubGroup;
+    var arrowShift = -options.fontMetrics().axisHeight + arrowBody.depth;
+    var upperShift = -options.fontMetrics().axisHeight - arrowBody.height - 0.111; // 2 mu. Ref: amsmath.dtx: #7\if0#2\else\mkern#2mu\fi
+
+    // Generate the vlist
+    var vlist = void 0;
+    if (group.value.below) {
+        var lowerShift = -options.fontMetrics().axisHeight + lowerGroup.height + arrowBody.height + 0.111;
+        vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: upperGroup, shift: upperShift }, { type: "elem", elem: arrowBody, shift: arrowShift }, { type: "elem", elem: lowerGroup, shift: lowerShift }], "individualShift", null, options);
     } else {
-        return accentWrap;
+        vlist = _buildCommon2.default.makeVList([{ type: "elem", elem: upperGroup, shift: upperShift }, { type: "elem", elem: arrowBody, shift: arrowShift }], "individualShift", null, options);
     }
+
+    vlist.children[0].children[0].children[1].classes.push("svg-align");
+
+    return (0, _buildCommon.makeSpan)(["mrel", "x-arrow"], [vlist], options);
 };
 
-groupTypes.phantom = function(group, options) {
-    var elements = buildExpression(
-        group.value.value,
-        options.withPhantom(),
-        false
-    );
+groupTypes.phantom = function (group, options) {
+    var elements = buildExpression(group.value.value, options.withPhantom(), false);
 
     // \phantom isn't supposed to affect the elements it contains.
     // See "color" for more details.
-    return new buildCommon.makeFragment(elements);
+    return new _buildCommon2.default.makeFragment(elements);
 };
 
-groupTypes.mclass = function(group, options) {
+groupTypes.mclass = function (group, options) {
     var elements = buildExpression(group.value.value, options, true);
 
-    return makeSpan([group.value.mclass], elements, options);
+    return (0, _buildCommon.makeSpan)([group.value.mclass], elements, options);
 };
 
 /**
@@ -3570,31 +4412,21 @@ groupTypes.mclass = function(group, options) {
  * function for it. It also handles the interaction of size and style changes
  * between parents and children.
  */
-var buildGroup = function(group, options) {
+var buildGroup = function buildGroup(group, options, baseOptions) {
     if (!group) {
-        return makeSpan();
+        return (0, _buildCommon.makeSpan)();
     }
 
     if (groupTypes[group.type]) {
         // Call the groupTypes function
         var groupNode = groupTypes[group.type](group, options);
-        var multiplier;
-
-        // If the style changed between the parent and the current group,
-        // account for the size difference
-        if (options.style !== options.parentStyle) {
-            multiplier = options.style.sizeMultiplier /
-                    options.parentStyle.sizeMultiplier;
-
-            groupNode.height *= multiplier;
-            groupNode.depth *= multiplier;
-        }
 
         // If the size changed between the parent and the current group, account
         // for that size difference.
-        if (options.size !== options.parentSize) {
-            multiplier = buildCommon.sizingMultiplier[options.size] /
-                    buildCommon.sizingMultiplier[options.parentSize];
+        if (baseOptions && options.size !== baseOptions.size) {
+            groupNode = (0, _buildCommon.makeSpan)(options.sizingClasses(baseOptions), [groupNode], options);
+
+            var multiplier = options.sizeMultiplier / baseOptions.sizeMultiplier;
 
             groupNode.height *= multiplier;
             groupNode.depth *= multiplier;
@@ -3602,8 +4434,7 @@ var buildGroup = function(group, options) {
 
         return groupNode;
     } else {
-        throw new ParseError(
-            "Got group of unknown type: '" + group.type + "'");
+        throw new _ParseError2.default("Got group of unknown type: '" + group.type + "'");
     }
 };
 
@@ -3611,30 +4442,30 @@ var buildGroup = function(group, options) {
  * Take an entire parse tree, and build it into an appropriate set of HTML
  * nodes.
  */
-var buildHTML = function(tree, options) {
+var buildHTML = function buildHTML(tree, options) {
     // buildExpression is destructive, so we need to make a clone
     // of the incoming tree so that it isn't accidentally changed
-    tree = JSON.parse(JSON.stringify(tree));
+    tree = JSON.parse((0, _stringify2.default)(tree));
 
     // Build the expression contained in the tree
     var expression = buildExpression(tree, options, true);
-    var body = makeSpan(["base", options.style.cls()], expression, options);
+    var body = (0, _buildCommon.makeSpan)(["base"], expression, options);
 
     // Add struts, which ensure that the top of the HTML element falls at the
     // height of the expression, and the bottom of the HTML element falls at the
     // depth of the expression.
-    var topStrut = makeSpan(["strut"]);
-    var bottomStrut = makeSpan(["strut", "bottom"]);
+    var topStrut = (0, _buildCommon.makeSpan)(["strut"]);
+    var bottomStrut = (0, _buildCommon.makeSpan)(["strut", "bottom"]);
 
     topStrut.style.height = body.height + "em";
-    bottomStrut.style.height = (body.height + body.depth) + "em";
+    bottomStrut.style.height = body.height + body.depth + "em";
     // We'd like to use `vertical-align: top` but in IE 9 this lowers the
     // baseline of the box to the bottom of this strut (instead staying in the
     // normal place) so we use an absolute value for vertical-align instead
     bottomStrut.style.verticalAlign = -body.depth + "em";
 
     // Wrap the struts and body together
-    var htmlNode = makeSpan(["katex-html"], [topStrut, bottomStrut, body]);
+    var htmlNode = (0, _buildCommon.makeSpan)(["katex-html"], [topStrut, bottomStrut, body]);
 
     htmlNode.setAttribute("aria-hidden", "true");
 
@@ -3643,39 +4474,65 @@ var buildHTML = function(tree, options) {
 
 module.exports = buildHTML;
 
-},{"./ParseError":6,"./Style":9,"./buildCommon":10,"./delimiter":14,"./domTree":15,"./fontMetrics":17,"./utils":25}],12:[function(require,module,exports){
-/**
- * This file converts a parse tree into a cooresponding MathML tree. The main
- * entry point is the `buildMathML` function, which takes a parse tree from the
- * parser.
- */
+},{"./ParseError":29,"./Style":33,"./buildCommon":34,"./delimiter":38,"./domTree":39,"./stretchy":47,"./units":50,"./utils":51,"babel-runtime/core-js/json/stringify":2}],36:[function(require,module,exports){
+"use strict";
 
-var buildCommon = require("./buildCommon");
-var fontMetrics = require("./fontMetrics");
-var mathMLTree = require("./mathMLTree");
-var ParseError = require("./ParseError");
-var symbols = require("./symbols");
-var utils = require("./utils");
+var _buildCommon = require("./buildCommon");
+
+var _buildCommon2 = _interopRequireDefault(_buildCommon);
+
+var _fontMetrics = require("./fontMetrics");
+
+var _fontMetrics2 = _interopRequireDefault(_fontMetrics);
+
+var _mathMLTree = require("./mathMLTree");
+
+var _mathMLTree2 = _interopRequireDefault(_mathMLTree);
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+var _Style = require("./Style");
+
+var _Style2 = _interopRequireDefault(_Style);
+
+var _symbols = require("./symbols");
+
+var _symbols2 = _interopRequireDefault(_symbols);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
 
-var makeSpan = buildCommon.makeSpan;
-var fontMap = buildCommon.fontMap;
+var _stretchy = require("./stretchy");
+
+var _stretchy2 = _interopRequireDefault(_stretchy);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * Takes a symbol and converts it into a MathML text node after performing
  * optional replacement from symbols.js.
  */
-var makeText = function(text, mode) {
-    if (symbols[mode][text] && symbols[mode][text].replace) {
-        text = symbols[mode][text].replace;
+/**
+ * This file converts a parse tree into a cooresponding MathML tree. The main
+ * entry point is the `buildMathML` function, which takes a parse tree from the
+ * parser.
+ */
+
+var makeText = function makeText(text, mode) {
+    if (_symbols2.default[mode][text] && _symbols2.default[mode][text].replace) {
+        text = _symbols2.default[mode][text].replace;
     }
 
-    return new mathMLTree.TextNode(text);
+    return new _mathMLTree2.default.TextNode(text);
 };
 
 /**
  * Returns the math variant as a string or null if none is required.
  */
-var getVariant = function(group, options) {
+var getVariant = function getVariant(group, options) {
     var font = options.font;
     if (!font) {
         return null;
@@ -3687,17 +4544,17 @@ var getVariant = function(group, options) {
     }
 
     var value = group.value;
-    if (utils.contains(["\\imath", "\\jmath"], value)) {
+    if (_utils2.default.contains(["\\imath", "\\jmath"], value)) {
         return null;
     }
 
-    if (symbols[mode][value] && symbols[mode][value].replace) {
-        value = symbols[mode][value].replace;
+    if (_symbols2.default[mode][value] && _symbols2.default[mode][value].replace) {
+        value = _symbols2.default[mode][value].replace;
     }
 
-    var fontName = fontMap[font].fontName;
-    if (fontMetrics.getCharacterMetrics(value, fontName)) {
-        return fontMap[options.font].variant;
+    var fontName = _buildCommon.fontMap[font].fontName;
+    if (_fontMetrics2.default.getCharacterMetrics(value, fontName)) {
+        return _buildCommon.fontMap[options.font].variant;
     }
 
     return null;
@@ -3709,139 +4566,180 @@ var getVariant = function(group, options) {
  */
 var groupTypes = {};
 
-groupTypes.mathord = function(group, options) {
-    var node = new mathMLTree.MathNode(
-        "mi",
-        [makeText(group.value, group.mode)]);
+var defaultVariant = {
+    "mi": "italic",
+    "mn": "normal",
+    "mtext": "normal"
+};
+
+groupTypes.mathord = function (group, options) {
+    var node = new _mathMLTree2.default.MathNode("mi", [makeText(group.value, group.mode)]);
 
-    var variant = getVariant(group, options);
-    if (variant) {
+    var variant = getVariant(group, options) || "italic";
+    if (variant !== defaultVariant[node.type]) {
         node.setAttribute("mathvariant", variant);
     }
     return node;
 };
 
-groupTypes.textord = function(group, options) {
+groupTypes.textord = function (group, options) {
     var text = makeText(group.value, group.mode);
 
     var variant = getVariant(group, options) || "normal";
 
-    var node;
-    if (/[0-9]/.test(group.value)) {
+    var node = void 0;
+    if (group.mode === 'text') {
+        node = new _mathMLTree2.default.MathNode("mtext", [text]);
+    } else if (/[0-9]/.test(group.value)) {
         // TODO(kevinb) merge adjacent <mn> nodes
         // do it as a post processing step
-        node = new mathMLTree.MathNode("mn", [text]);
-        if (options.font) {
-            node.setAttribute("mathvariant", variant);
-        }
+        node = new _mathMLTree2.default.MathNode("mn", [text]);
+    } else if (group.value === "\\prime") {
+        node = new _mathMLTree2.default.MathNode("mo", [text]);
     } else {
-        node = new mathMLTree.MathNode("mi", [text]);
+        node = new _mathMLTree2.default.MathNode("mi", [text]);
+    }
+    if (variant !== defaultVariant[node.type]) {
         node.setAttribute("mathvariant", variant);
     }
 
     return node;
 };
 
-groupTypes.bin = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mo", [makeText(group.value, group.mode)]);
+groupTypes.bin = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value, group.mode)]);
 
     return node;
 };
 
-groupTypes.rel = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mo", [makeText(group.value, group.mode)]);
+groupTypes.rel = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value, group.mode)]);
 
     return node;
 };
 
-groupTypes.open = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mo", [makeText(group.value, group.mode)]);
+groupTypes.open = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value, group.mode)]);
 
     return node;
 };
 
-groupTypes.close = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mo", [makeText(group.value, group.mode)]);
+groupTypes.close = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value, group.mode)]);
 
     return node;
 };
 
-groupTypes.inner = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mo", [makeText(group.value, group.mode)]);
+groupTypes.inner = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value, group.mode)]);
 
     return node;
 };
 
-groupTypes.punct = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mo", [makeText(group.value, group.mode)]);
+groupTypes.punct = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value, group.mode)]);
 
     node.setAttribute("separator", "true");
 
     return node;
 };
 
-groupTypes.ordgroup = function(group, options) {
+groupTypes.ordgroup = function (group, options) {
     var inner = buildExpression(group.value, options);
 
-    var node = new mathMLTree.MathNode("mrow", inner);
+    var node = new _mathMLTree2.default.MathNode("mrow", inner);
 
     return node;
 };
 
-groupTypes.text = function(group, options) {
-    var inner = buildExpression(group.value.body, options);
+groupTypes.text = function (group, options) {
+    var body = group.value.body;
 
-    var node = new mathMLTree.MathNode("mtext", inner);
+    // Convert each element of the body into MathML, and combine consecutive
+    // <mtext> outputs into a single <mtext> tag.  In this way, we don't
+    // nest non-text items (e.g., $nested-math$) within an <mtext>.
+    var inner = [];
+    var currentText = null;
+    for (var i = 0; i < body.length; i++) {
+        var _group = buildGroup(body[i], options);
+        if (_group.type === 'mtext' && currentText != null) {
+            Array.prototype.push.apply(currentText.children, _group.children);
+        } else {
+            inner.push(_group);
+            if (_group.type === 'mtext') {
+                currentText = _group;
+            }
+        }
+    }
 
-    return node;
+    // If there is a single tag in the end (presumably <mtext>),
+    // just return it.  Otherwise, wrap them in an <mrow>.
+    if (inner.length === 1) {
+        return inner[0];
+    } else {
+        return new _mathMLTree2.default.MathNode("mrow", inner);
+    }
 };
 
-groupTypes.color = function(group, options) {
+groupTypes.color = function (group, options) {
     var inner = buildExpression(group.value.value, options);
 
-    var node = new mathMLTree.MathNode("mstyle", inner);
+    var node = new _mathMLTree2.default.MathNode("mstyle", inner);
 
     node.setAttribute("mathcolor", group.value.color);
 
     return node;
 };
 
-groupTypes.supsub = function(group, options) {
-    var children = [buildGroup(group.value.base, options)];
+groupTypes.supsub = function (group, options) {
+    // Is the inner group a relevant horizonal brace?
+    var isBrace = false;
+    var isOver = void 0;
+    var isSup = void 0;
+    if (group.value.base) {
+        if (group.value.base.value.type === "horizBrace") {
+            isSup = group.value.sup ? true : false;
+            if (isSup === group.value.base.value.isOver) {
+                isBrace = true;
+                isOver = group.value.base.value.isOver;
+            }
+        }
+    }
+
+    var removeUnnecessaryRow = true;
+    var children = [buildGroup(group.value.base, options, removeUnnecessaryRow)];
 
     if (group.value.sub) {
-        children.push(buildGroup(group.value.sub, options));
+        children.push(buildGroup(group.value.sub, options, removeUnnecessaryRow));
     }
 
     if (group.value.sup) {
-        children.push(buildGroup(group.value.sup, options));
+        children.push(buildGroup(group.value.sup, options, removeUnnecessaryRow));
     }
 
-    var nodeType;
-    if (!group.value.sub) {
+    var nodeType = void 0;
+    if (isBrace) {
+        nodeType = isOver ? "mover" : "munder";
+    } else if (!group.value.sub) {
         nodeType = "msup";
     } else if (!group.value.sup) {
         nodeType = "msub";
     } else {
-        nodeType = "msubsup";
+        var base = group.value.base;
+        if (base && base.value.limits && options.style === _Style2.default.DISPLAY) {
+            nodeType = "munderover";
+        } else {
+            nodeType = "msubsup";
+        }
     }
 
-    var node = new mathMLTree.MathNode(nodeType, children);
+    var node = new _mathMLTree2.default.MathNode(nodeType, children);
 
     return node;
 };
 
-groupTypes.genfrac = function(group, options) {
-    var node = new mathMLTree.MathNode(
-        "mfrac",
-        [buildGroup(group.value.numer, options),
-            buildGroup(group.value.denom, options)]);
+groupTypes.genfrac = function (group, options) {
+    var node = new _mathMLTree2.default.MathNode("mfrac", [buildGroup(group.value.numer, options), buildGroup(group.value.denom, options)]);
 
     if (!group.value.hasBarLine) {
         node.setAttribute("linethickness", "0px");
@@ -3851,8 +4749,7 @@ groupTypes.genfrac = function(group, options) {
         var withDelims = [];
 
         if (group.value.leftDelim != null) {
-            var leftOp = new mathMLTree.MathNode(
-                "mo", [new mathMLTree.TextNode(group.value.leftDelim)]);
+            var leftOp = new _mathMLTree2.default.MathNode("mo", [new _mathMLTree2.default.TextNode(group.value.leftDelim)]);
 
             leftOp.setAttribute("fence", "true");
 
@@ -3862,15 +4759,14 @@ groupTypes.genfrac = function(group, options) {
         withDelims.push(node);
 
         if (group.value.rightDelim != null) {
-            var rightOp = new mathMLTree.MathNode(
-                "mo", [new mathMLTree.TextNode(group.value.rightDelim)]);
+            var rightOp = new _mathMLTree2.default.MathNode("mo", [new _mathMLTree2.default.TextNode(group.value.rightDelim)]);
 
             rightOp.setAttribute("fence", "true");
 
             withDelims.push(rightOp);
         }
 
-        var outerNode = new mathMLTree.MathNode("mrow", withDelims);
+        var outerNode = new _mathMLTree2.default.MathNode("mrow", withDelims);
 
         return outerNode;
     }
@@ -3878,39 +4774,30 @@ groupTypes.genfrac = function(group, options) {
     return node;
 };
 
-groupTypes.array = function(group, options) {
-    return new mathMLTree.MathNode(
-        "mtable", group.value.body.map(function(row) {
-            return new mathMLTree.MathNode(
-                "mtr", row.map(function(cell) {
-                    return new mathMLTree.MathNode(
-                        "mtd", [buildGroup(cell, options)]);
-                }));
+groupTypes.array = function (group, options) {
+    return new _mathMLTree2.default.MathNode("mtable", group.value.body.map(function (row) {
+        return new _mathMLTree2.default.MathNode("mtr", row.map(function (cell) {
+            return new _mathMLTree2.default.MathNode("mtd", [buildGroup(cell, options)]);
         }));
+    }));
 };
 
-groupTypes.sqrt = function(group, options) {
-    var node;
+groupTypes.sqrt = function (group, options) {
+    var node = void 0;
     if (group.value.index) {
-        node = new mathMLTree.MathNode(
-            "mroot", [
-                buildGroup(group.value.body, options),
-                buildGroup(group.value.index, options)
-            ]);
+        node = new _mathMLTree2.default.MathNode("mroot", [buildGroup(group.value.body, options), buildGroup(group.value.index, options)]);
     } else {
-        node = new mathMLTree.MathNode(
-            "msqrt", [buildGroup(group.value.body, options)]);
+        node = new _mathMLTree2.default.MathNode("msqrt", [buildGroup(group.value.body, options)]);
     }
 
     return node;
 };
 
-groupTypes.leftright = function(group, options) {
+groupTypes.leftright = function (group, options) {
     var inner = buildExpression(group.value.body, options);
 
     if (group.value.left !== ".") {
-        var leftNode = new mathMLTree.MathNode(
-            "mo", [makeText(group.value.left, group.mode)]);
+        var leftNode = new _mathMLTree2.default.MathNode("mo", [makeText(group.value.left, group.mode)]);
 
         leftNode.setAttribute("fence", "true");
 
@@ -3918,130 +4805,118 @@ groupTypes.leftright = function(group, options) {
     }
 
     if (group.value.right !== ".") {
-        var rightNode = new mathMLTree.MathNode(
-            "mo", [makeText(group.value.right, group.mode)]);
+        var rightNode = new _mathMLTree2.default.MathNode("mo", [makeText(group.value.right, group.mode)]);
 
         rightNode.setAttribute("fence", "true");
 
         inner.push(rightNode);
     }
 
-    var outerNode = new mathMLTree.MathNode("mrow", inner);
+    var outerNode = new _mathMLTree2.default.MathNode("mrow", inner);
 
     return outerNode;
 };
 
-groupTypes.middle = function(group, options) {
-    var middleNode = new mathMLTree.MathNode(
-        "mo", [makeText(group.value.middle, group.mode)]);
+groupTypes.middle = function (group, options) {
+    var middleNode = new _mathMLTree2.default.MathNode("mo", [makeText(group.value.middle, group.mode)]);
     middleNode.setAttribute("fence", "true");
     return middleNode;
 };
 
-groupTypes.accent = function(group, options) {
-    var accentNode = new mathMLTree.MathNode(
-        "mo", [makeText(group.value.accent, group.mode)]);
+groupTypes.accent = function (group, options) {
+    var accentNode = void 0;
+    if (group.value.isStretchy) {
+        accentNode = _stretchy2.default.mathMLnode(group.value.label);
+    } else {
+        accentNode = new _mathMLTree2.default.MathNode("mo", [makeText(group.value.label, group.mode)]);
+    }
 
-    var node = new mathMLTree.MathNode(
-        "mover",
-        [buildGroup(group.value.base, options),
-            accentNode]);
+    var node = new _mathMLTree2.default.MathNode("mover", [buildGroup(group.value.base, options), accentNode]);
 
     node.setAttribute("accent", "true");
 
     return node;
 };
 
-groupTypes.spacing = function(group) {
-    var node;
+groupTypes.spacing = function (group) {
+    var node = void 0;
 
-    if (group.value === "\\ " || group.value === "\\space" ||
-        group.value === " " || group.value === "~") {
-        node = new mathMLTree.MathNode(
-            "mtext", [new mathMLTree.TextNode("\u00a0")]);
+    if (group.value === "\\ " || group.value === "\\space" || group.value === " " || group.value === "~") {
+        node = new _mathMLTree2.default.MathNode("mtext", [new _mathMLTree2.default.TextNode("\xA0")]);
     } else {
-        node = new mathMLTree.MathNode("mspace");
+        node = new _mathMLTree2.default.MathNode("mspace");
 
-        node.setAttribute(
-            "width", buildCommon.spacingFunctions[group.value].size);
+        node.setAttribute("width", _buildCommon2.default.spacingFunctions[group.value].size);
     }
 
     return node;
 };
 
-groupTypes.op = function(group, options) {
-    var node;
+groupTypes.op = function (group, options) {
+    var node = void 0;
 
     // TODO(emily): handle big operators using the `largeop` attribute
 
     if (group.value.symbol) {
         // This is a symbol. Just add the symbol.
-        node = new mathMLTree.MathNode(
-            "mo", [makeText(group.value.body, group.mode)]);
+        node = new _mathMLTree2.default.MathNode("mo", [makeText(group.value.body, group.mode)]);
     } else if (group.value.value) {
         // This is an operator with children. Add them.
-        node = new mathMLTree.MathNode(
-            "mo", buildExpression(group.value.value, options));
+        node = new _mathMLTree2.default.MathNode("mo", buildExpression(group.value.value, options));
     } else {
         // This is a text operator. Add all of the characters from the
         // operator's name.
         // TODO(emily): Add a space in the middle of some of these
         // operators, like \limsup.
-        node = new mathMLTree.MathNode(
-            "mi", [new mathMLTree.TextNode(group.value.body.slice(1))]);
+        node = new _mathMLTree2.default.MathNode("mi", [new _mathMLTree2.default.TextNode(group.value.body.slice(1))]);
     }
 
     return node;
 };
 
-groupTypes.mod = function(group, options) {
+groupTypes.mod = function (group, options) {
     var inner = [];
 
     if (group.value.modType === "pod" || group.value.modType === "pmod") {
-        inner.push(new mathMLTree.MathNode(
-            "mo", [makeText("(", group.mode)]));
+        inner.push(new _mathMLTree2.default.MathNode("mo", [makeText("(", group.mode)]));
     }
     if (group.value.modType !== "pod") {
-        inner.push(new mathMLTree.MathNode(
-            "mo", [makeText("mod", group.mode)]));
+        inner.push(new _mathMLTree2.default.MathNode("mo", [makeText("mod", group.mode)]));
     }
     if (group.value.value) {
-        var space = new mathMLTree.MathNode("mspace");
+        var space = new _mathMLTree2.default.MathNode("mspace");
         space.setAttribute("width", "0.333333em");
         inner.push(space);
         inner = inner.concat(buildExpression(group.value.value, options));
     }
     if (group.value.modType === "pod" || group.value.modType === "pmod") {
-        inner.push(new mathMLTree.MathNode(
-            "mo", [makeText(")", group.mode)]));
+        inner.push(new _mathMLTree2.default.MathNode("mo", [makeText(")", group.mode)]));
     }
 
-    return new mathMLTree.MathNode("mo", inner);
+    return new _mathMLTree2.default.MathNode("mo", inner);
 };
 
-groupTypes.katex = function(group) {
-    var node = new mathMLTree.MathNode(
-        "mtext", [new mathMLTree.TextNode("KaTeX")]);
+groupTypes.katex = function (group) {
+    var node = new _mathMLTree2.default.MathNode("mtext", [new _mathMLTree2.default.TextNode("KaTeX")]);
 
     return node;
 };
 
-groupTypes.font = function(group, options) {
+groupTypes.font = function (group, options) {
     var font = group.value.font;
     return buildGroup(group.value.body, options.withFont(font));
 };
 
-groupTypes.delimsizing = function(group) {
+groupTypes.delimsizing = function (group) {
     var children = [];
 
     if (group.value.value !== ".") {
         children.push(makeText(group.value.value, group.mode));
     }
 
-    var node = new mathMLTree.MathNode("mo", children);
+    var node = new _mathMLTree2.default.MathNode("mo", children);
 
-    if (group.value.mclass === "mopen" ||
-        group.value.mclass === "mclose") {
+    if (group.value.mclass === "mopen" || group.value.mclass === "mclose") {
         // Only some of the delimsizing functions act as fences, and they
         // return "mopen" or "mclose" mclass.
         node.setAttribute("fence", "true");
@@ -4054,10 +4929,23 @@ groupTypes.delimsizing = function(group) {
     return node;
 };
 
-groupTypes.styling = function(group, options) {
-    var inner = buildExpression(group.value.value, options);
+groupTypes.styling = function (group, options) {
+    // Figure out what style we're changing to.
+    // TODO(kevinb): dedupe this with buildHTML.js
+    // This will be easier of handling of styling nodes is in the same file.
+    var styleMap = {
+        "display": _Style2.default.DISPLAY,
+        "text": _Style2.default.TEXT,
+        "script": _Style2.default.SCRIPT,
+        "scriptscript": _Style2.default.SCRIPTSCRIPT
+    };
+
+    var newStyle = styleMap[group.value.style];
+    var newOptions = options.havingStyle(newStyle);
+
+    var inner = buildExpression(group.value.value, newOptions);
 
-    var node = new mathMLTree.MathNode("mstyle", inner);
+    var node = new _mathMLTree2.default.MathNode("mstyle", inner);
 
     var styleAttributes = {
         "display": ["0", "true"],
@@ -4074,68 +4962,113 @@ groupTypes.styling = function(group, options) {
     return node;
 };
 
-groupTypes.sizing = function(group, options) {
-    var inner = buildExpression(group.value.value, options);
+groupTypes.sizing = function (group, options) {
+    var newOptions = options.havingSize(group.value.size);
+    var inner = buildExpression(group.value.value, newOptions);
 
-    var node = new mathMLTree.MathNode("mstyle", inner);
+    var node = new _mathMLTree2.default.MathNode("mstyle", inner);
 
     // TODO(emily): This doesn't produce the correct size for nested size
     // changes, because we don't keep state of what style we're currently
     // in, so we can't reset the size to normal before changing it.  Now
     // that we're passing an options parameter we should be able to fix
     // this.
-    node.setAttribute(
-        "mathsize", buildCommon.sizingMultiplier[group.value.size] + "em");
+    node.setAttribute("mathsize", newOptions.sizeMultiplier + "em");
 
     return node;
 };
 
-groupTypes.overline = function(group, options) {
-    var operator = new mathMLTree.MathNode(
-        "mo", [new mathMLTree.TextNode("\u203e")]);
+groupTypes.overline = function (group, options) {
+    var operator = new _mathMLTree2.default.MathNode("mo", [new _mathMLTree2.default.TextNode("\u203E")]);
     operator.setAttribute("stretchy", "true");
 
-    var node = new mathMLTree.MathNode(
-        "mover",
-        [buildGroup(group.value.body, options),
-            operator]);
+    var node = new _mathMLTree2.default.MathNode("mover", [buildGroup(group.value.body, options), operator]);
     node.setAttribute("accent", "true");
 
     return node;
 };
 
-groupTypes.underline = function(group, options) {
-    var operator = new mathMLTree.MathNode(
-        "mo", [new mathMLTree.TextNode("\u203e")]);
+groupTypes.underline = function (group, options) {
+    var operator = new _mathMLTree2.default.MathNode("mo", [new _mathMLTree2.default.TextNode("\u203E")]);
     operator.setAttribute("stretchy", "true");
 
-    var node = new mathMLTree.MathNode(
-        "munder",
-        [buildGroup(group.value.body, options),
-            operator]);
+    var node = new _mathMLTree2.default.MathNode("munder", [buildGroup(group.value.body, options), operator]);
+    node.setAttribute("accentunder", "true");
+
+    return node;
+};
+
+groupTypes.accentUnder = function (group, options) {
+    var accentNode = _stretchy2.default.mathMLnode(group.value.label);
+    var node = new _mathMLTree2.default.MathNode("munder", [buildGroup(group.value.body, options), accentNode]);
     node.setAttribute("accentunder", "true");
+    return node;
+};
+
+groupTypes.enclose = function (group, options) {
+    var node = new _mathMLTree2.default.MathNode("menclose", [buildGroup(group.value.body, options)]);
+    var notation = "";
+    switch (group.value.label) {
+        case "\\bcancel":
+            notation = "downdiagonalstrike";
+            break;
+        case "\\sout":
+            notation = "horizontalstrike";
+            break;
+        case "\\fbox":
+            notation = "box";
+            break;
+        default:
+            notation = "updiagonalstrike";
+    }
+    node.setAttribute("notation", notation);
+    return node;
+};
+
+groupTypes.horizBrace = function (group, options) {
+    var accentNode = _stretchy2.default.mathMLnode(group.value.label);
+    return new _mathMLTree2.default.MathNode(group.value.isOver ? "mover" : "munder", [buildGroup(group.value.base, options), accentNode]);
+};
 
+groupTypes.xArrow = function (group, options) {
+    var arrowNode = _stretchy2.default.mathMLnode(group.value.label);
+    var node = void 0;
+    var lowerNode = void 0;
+
+    if (group.value.body) {
+        var upperNode = buildGroup(group.value.body, options);
+        if (group.value.below) {
+            lowerNode = buildGroup(group.value.below, options);
+            node = new _mathMLTree2.default.MathNode("munderover", [arrowNode, lowerNode, upperNode]);
+        } else {
+            node = new _mathMLTree2.default.MathNode("mover", [arrowNode, upperNode]);
+        }
+    } else if (group.value.below) {
+        lowerNode = buildGroup(group.value.below, options);
+        node = new _mathMLTree2.default.MathNode("munder", [arrowNode, lowerNode]);
+    } else {
+        node = new _mathMLTree2.default.MathNode("mover", [arrowNode]);
+    }
     return node;
 };
 
-groupTypes.rule = function(group) {
+groupTypes.rule = function (group) {
     // TODO(emily): Figure out if there's an actual way to draw black boxes
     // in MathML.
-    var node = new mathMLTree.MathNode("mrow");
+    var node = new _mathMLTree2.default.MathNode("mrow");
 
     return node;
 };
 
-groupTypes.kern = function(group) {
+groupTypes.kern = function (group) {
     // TODO(kevin): Figure out if there's a way to add space in MathML
-    var node = new mathMLTree.MathNode("mrow");
+    var node = new _mathMLTree2.default.MathNode("mrow");
 
     return node;
 };
 
-groupTypes.llap = function(group, options) {
-    var node = new mathMLTree.MathNode(
-        "mpadded", [buildGroup(group.value.body, options)]);
+groupTypes.llap = function (group, options) {
+    var node = new _mathMLTree2.default.MathNode("mpadded", [buildGroup(group.value.body, options)]);
 
     node.setAttribute("lspace", "-1width");
     node.setAttribute("width", "0px");
@@ -4143,23 +5076,22 @@ groupTypes.llap = function(group, options) {
     return node;
 };
 
-groupTypes.rlap = function(group, options) {
-    var node = new mathMLTree.MathNode(
-        "mpadded", [buildGroup(group.value.body, options)]);
+groupTypes.rlap = function (group, options) {
+    var node = new _mathMLTree2.default.MathNode("mpadded", [buildGroup(group.value.body, options)]);
 
     node.setAttribute("width", "0px");
 
     return node;
 };
 
-groupTypes.phantom = function(group, options) {
+groupTypes.phantom = function (group, options) {
     var inner = buildExpression(group.value.value, options);
-    return new mathMLTree.MathNode("mphantom", inner);
+    return new _mathMLTree2.default.MathNode("mphantom", inner);
 };
 
-groupTypes.mclass = function(group, options) {
+groupTypes.mclass = function (group, options) {
     var inner = buildExpression(group.value.value, options);
-    return new mathMLTree.MathNode("mstyle", inner);
+    return new _mathMLTree2.default.MathNode("mstyle", inner);
 };
 
 /**
@@ -4167,12 +5099,15 @@ groupTypes.mclass = function(group, options) {
  * MathML nodes. A little simpler than the HTML version because we don't do any
  * previous-node handling.
  */
-var buildExpression = function(expression, options) {
+var buildExpression = function buildExpression(expression, options) {
     var groups = [];
     for (var i = 0; i < expression.length; i++) {
         var group = expression[i];
         groups.push(buildGroup(group, options));
     }
+
+    // TODO(kevinb): combine \\not with mrels and mords
+
     return groups;
 };
 
@@ -4180,17 +5115,25 @@ var buildExpression = function(expression, options) {
  * Takes a group from the parser and calls the appropriate groupTypes function
  * on it to produce a MathML node.
  */
-var buildGroup = function(group, options) {
+// TODO(kevinb): determine if removeUnnecessaryRow should always be true
+var buildGroup = function buildGroup(group, options) {
+    var removeUnnecessaryRow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
+
     if (!group) {
-        return new mathMLTree.MathNode("mrow");
+        return new _mathMLTree2.default.MathNode("mrow");
     }
 
     if (groupTypes[group.type]) {
         // Call the groupTypes function
-        return groupTypes[group.type](group, options);
+        var result = groupTypes[group.type](group, options);
+        if (removeUnnecessaryRow) {
+            if (result.type === "mrow" && result.children.length === 1) {
+                return result.children[0];
+            }
+        }
+        return result;
     } else {
-        throw new ParseError(
-            "Got group of unknown type: '" + group.type + "'");
+        throw new _ParseError2.default("Got group of unknown type: '" + group.type + "'");
     }
 };
 
@@ -4202,65 +5145,77 @@ var buildGroup = function(group, options) {
  * Note that we actually return a domTree element with a `<math>` inside it so
  * we can do appropriate styling.
  */
-var buildMathML = function(tree, texExpression, options) {
+var buildMathML = function buildMathML(tree, texExpression, options) {
     var expression = buildExpression(tree, options);
 
     // Wrap up the expression in an mrow so it is presented in the semantics
     // tag correctly.
-    var wrapper = new mathMLTree.MathNode("mrow", expression);
+    var wrapper = new _mathMLTree2.default.MathNode("mrow", expression);
 
     // Build a TeX annotation of the source
-    var annotation = new mathMLTree.MathNode(
-        "annotation", [new mathMLTree.TextNode(texExpression)]);
+    var annotation = new _mathMLTree2.default.MathNode("annotation", [new _mathMLTree2.default.TextNode(texExpression)]);
 
     annotation.setAttribute("encoding", "application/x-tex");
 
-    var semantics = new mathMLTree.MathNode(
-        "semantics", [wrapper, annotation]);
+    var semantics = new _mathMLTree2.default.MathNode("semantics", [wrapper, annotation]);
 
-    var math = new mathMLTree.MathNode("math", [semantics]);
+    var math = new _mathMLTree2.default.MathNode("math", [semantics]);
 
     // You can't style <math> nodes, so we wrap the node in a span.
-    return makeSpan(["katex-mathml"], [math]);
+    return (0, _buildCommon.makeSpan)(["katex-mathml"], [math]);
 };
 
 module.exports = buildMathML;
 
-},{"./ParseError":6,"./buildCommon":10,"./fontMetrics":17,"./mathMLTree":20,"./symbols":23,"./utils":25}],13:[function(require,module,exports){
-var buildHTML = require("./buildHTML");
-var buildMathML = require("./buildMathML");
-var buildCommon = require("./buildCommon");
-var Options = require("./Options");
-var Settings = require("./Settings");
-var Style = require("./Style");
+},{"./ParseError":29,"./Style":33,"./buildCommon":34,"./fontMetrics":41,"./mathMLTree":45,"./stretchy":47,"./symbols":48,"./utils":51}],37:[function(require,module,exports){
+"use strict";
+
+var _buildHTML = require("./buildHTML");
+
+var _buildHTML2 = _interopRequireDefault(_buildHTML);
+
+var _buildMathML = require("./buildMathML");
+
+var _buildMathML2 = _interopRequireDefault(_buildMathML);
+
+var _buildCommon = require("./buildCommon");
+
+var _Options = require("./Options");
+
+var _Options2 = _interopRequireDefault(_Options);
+
+var _Settings = require("./Settings");
+
+var _Settings2 = _interopRequireDefault(_Settings);
+
+var _Style = require("./Style");
+
+var _Style2 = _interopRequireDefault(_Style);
 
-var makeSpan = buildCommon.makeSpan;
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
-var buildTree = function(tree, expression, settings) {
-    settings = settings || new Settings({});
+var buildTree = function buildTree(tree, expression, settings) {
+    settings = settings || new _Settings2.default({});
 
-    var startStyle = Style.TEXT;
+    var startStyle = _Style2.default.TEXT;
     if (settings.displayMode) {
-        startStyle = Style.DISPLAY;
+        startStyle = _Style2.default.DISPLAY;
     }
 
     // Setup the default options
-    var options = new Options({
-        style: startStyle,
-        size: "size5"
+    var options = new _Options2.default({
+        style: startStyle
     });
 
     // `buildHTML` sometimes messes with the parse tree (like turning bins ->
     // ords), so we build the MathML version first.
-    var mathMLNode = buildMathML(tree, expression, options);
-    var htmlNode = buildHTML(tree, options);
+    var mathMLNode = (0, _buildMathML2.default)(tree, expression, options);
+    var htmlNode = (0, _buildHTML2.default)(tree, options);
 
-    var katexNode = makeSpan(["katex"], [
-        mathMLNode, htmlNode
-    ]);
+    var katexNode = (0, _buildCommon.makeSpan)(["katex"], [mathMLNode, htmlNode]);
 
     if (settings.displayMode) {
-        return makeSpan(["katex-display"], [katexNode]);
+        return (0, _buildCommon.makeSpan)(["katex-display"], [katexNode]);
     } else {
         return katexNode;
     }
@@ -4268,7 +5223,39 @@ var buildTree = function(tree, expression, settings) {
 
 module.exports = buildTree;
 
-},{"./Options":5,"./Settings":8,"./Style":9,"./buildCommon":10,"./buildHTML":11,"./buildMathML":12}],14:[function(require,module,exports){
+},{"./Options":28,"./Settings":32,"./Style":33,"./buildCommon":34,"./buildHTML":35,"./buildMathML":36}],38:[function(require,module,exports){
+"use strict";
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+var _Style = require("./Style");
+
+var _Style2 = _interopRequireDefault(_Style);
+
+var _buildCommon = require("./buildCommon");
+
+var _buildCommon2 = _interopRequireDefault(_buildCommon);
+
+var _fontMetrics = require("./fontMetrics");
+
+var _fontMetrics2 = _interopRequireDefault(_fontMetrics);
+
+var _symbols = require("./symbols");
+
+var _symbols2 = _interopRequireDefault(_symbols);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+/**
+ * Get the metrics for a given symbol and font, after transformation (i.e.
+ * after following replacement from symbols.js)
+ */
 /**
  * This file deals with creating delimiters of various sizes. The TeXbook
  * discusses these routines on page 441-442, in the "Another subroutine sets box
@@ -4291,100 +5278,72 @@ module.exports = buildTree;
  * used in `\left` and `\right`.
  */
 
-var ParseError = require("./ParseError");
-var Style = require("./Style");
-
-var buildCommon = require("./buildCommon");
-var fontMetrics = require("./fontMetrics");
-var symbols = require("./symbols");
-var utils = require("./utils");
-
-var makeSpan = buildCommon.makeSpan;
-
-/**
- * Get the metrics for a given symbol and font, after transformation (i.e.
- * after following replacement from symbols.js)
- */
-var getMetrics = function(symbol, font) {
-    if (symbols.math[symbol] && symbols.math[symbol].replace) {
-        return fontMetrics.getCharacterMetrics(
-            symbols.math[symbol].replace, font);
+var getMetrics = function getMetrics(symbol, font) {
+    if (_symbols2.default.math[symbol] && _symbols2.default.math[symbol].replace) {
+        return _fontMetrics2.default.getCharacterMetrics(_symbols2.default.math[symbol].replace, font);
     } else {
-        return fontMetrics.getCharacterMetrics(
-            symbol, font);
+        return _fontMetrics2.default.getCharacterMetrics(symbol, font);
     }
 };
 
-/**
- * Builds a symbol in the given font size (note size is an integer)
- */
-var mathrmSize = function(value, size, mode, options) {
-    return buildCommon.makeSymbol(value, "Size" + size + "-Regular",
-        mode, options);
-};
-
 /**
  * Puts a delimiter span in a given style, and adds appropriate height, depth,
  * and maxFontSizes.
  */
-var styleWrap = function(delim, toStyle, options, classes) {
-    classes = classes || [];
-    var span = makeSpan(
-        classes.concat(["style-wrap", options.style.reset(), toStyle.cls()]),
-        [delim], options);
+var styleWrap = function styleWrap(delim, toStyle, options, classes) {
+    var newOptions = options.havingBaseStyle(toStyle);
 
-    var multiplier = toStyle.sizeMultiplier / options.style.sizeMultiplier;
+    var span = (0, _buildCommon.makeSpan)((classes || []).concat(newOptions.sizingClasses(options)), [delim], options);
 
-    span.height *= multiplier;
-    span.depth *= multiplier;
-    span.maxFontSize = toStyle.sizeMultiplier;
+    span.delimSizeMultiplier = newOptions.sizeMultiplier / options.sizeMultiplier;
+    span.height *= span.delimSizeMultiplier;
+    span.depth *= span.delimSizeMultiplier;
+    span.maxFontSize = newOptions.sizeMultiplier;
 
     return span;
 };
 
+var centerSpan = function centerSpan(span, options, style) {
+    var newOptions = options.havingBaseStyle(style);
+    var shift = (1 - options.sizeMultiplier / newOptions.sizeMultiplier) * options.fontMetrics().axisHeight;
+
+    span.classes.push("delimcenter");
+    span.style.top = shift + "em";
+    span.height -= shift;
+    span.depth += shift;
+};
+
 /**
  * Makes a small delimiter. This is a delimiter that comes in the Main-Regular
  * font, but is restyled to either be in textstyle, scriptstyle, or
  * scriptscriptstyle.
  */
-var makeSmallDelim = function(delim, style, center, options, mode, classes) {
-    var text = buildCommon.makeSymbol(delim, "Main-Regular", mode, options);
-
+var makeSmallDelim = function makeSmallDelim(delim, style, center, options, mode, classes) {
+    var text = _buildCommon2.default.makeSymbol(delim, "Main-Regular", mode, options);
     var span = styleWrap(text, style, options, classes);
-
     if (center) {
-        var shift =
-            (1 - options.style.sizeMultiplier / style.sizeMultiplier) *
-            options.style.metrics.axisHeight;
-
-        span.style.top = shift + "em";
-        span.height -= shift;
-        span.depth += shift;
+        centerSpan(span, options, style);
     }
-
     return span;
 };
 
+/**
+ * Builds a symbol in the given font size (note size is an integer)
+ */
+var mathrmSize = function mathrmSize(value, size, mode, options) {
+    return _buildCommon2.default.makeSymbol(value, "Size" + size + "-Regular", mode, options);
+};
+
 /**
  * Makes a large delimiter. This is a delimiter that comes in the Size1, Size2,
  * Size3, or Size4 fonts. It is always rendered in textstyle.
  */
-var makeLargeDelim = function(delim, size, center, options, mode, classes) {
+var makeLargeDelim = function makeLargeDelim(delim, size, center, options, mode, classes) {
     var inner = mathrmSize(delim, size, mode, options);
-
-    var span = styleWrap(
-        makeSpan(["delimsizing", "size" + size], [inner], options),
-        Style.TEXT, options, classes);
-
+    var span = styleWrap((0, _buildCommon.makeSpan)(["delimsizing", "size" + size], [inner], options), _Style2.default.TEXT, options, classes);
     if (center) {
-        var shift = (1 - options.style.sizeMultiplier) *
-            options.style.metrics.axisHeight;
-
-        span.style.top = shift + "em";
-        span.height -= shift;
-        span.depth += shift;
+        centerSpan(span, options, _Style2.default.TEXT);
     }
-
     return span;
 };
 
@@ -4392,8 +5351,8 @@ var makeLargeDelim = function(delim, size, center, options, mode, classes) {
  * Make an inner span with the given offset and in the given font. This is used
  * in `makeStackedDelim` to make the stacking pieces for the delimiter.
  */
-var makeInner = function(symbol, font, mode) {
-    var sizeClass;
+var makeInner = function makeInner(symbol, font, mode) {
+    var sizeClass = void 0;
     // Apply the correct CSS class to choose the right font.
     if (font === "Size1-Regular") {
         sizeClass = "delim-size1";
@@ -4401,27 +5360,24 @@ var makeInner = function(symbol, font, mode) {
         sizeClass = "delim-size4";
     }
 
-    var inner = makeSpan(
-        ["delimsizinginner", sizeClass],
-        [makeSpan([], [buildCommon.makeSymbol(symbol, font, mode)])]);
+    var inner = (0, _buildCommon.makeSpan)(["delimsizinginner", sizeClass], [(0, _buildCommon.makeSpan)([], [_buildCommon2.default.makeSymbol(symbol, font, mode)])]);
 
     // Since this will be passed into `makeVList` in the end, wrap the element
     // in the appropriate tag that VList uses.
-    return {type: "elem", elem: inner};
+    return { type: "elem", elem: inner };
 };
 
 /**
  * Make a stacked delimiter out of a given delimiter, with the total height at
  * least `heightTotal`. This routine is mentioned on page 442 of the TeXbook.
  */
-var makeStackedDelim = function(delim, heightTotal, center, options, mode,
-                                classes) {
+var makeStackedDelim = function makeStackedDelim(delim, heightTotal, center, options, mode, classes) {
     // There are four parts, the top, an optional middle, a repeated part, and a
     // bottom.
-    var top;
-    var middle;
-    var repeat;
-    var bottom;
+    var top = void 0;
+    var middle = void 0;
+    var repeat = void 0;
+    var bottom = void 0;
     top = repeat = bottom = delim;
     middle = null;
     // Also keep track of what font the delimiters are in
@@ -4431,93 +5387,88 @@ var makeStackedDelim = function(delim, heightTotal, center, options, mode,
     // '\u23d0' instead of '|' and '\u2016' instead of '\\|' for the
     // repeats of the arrows
     if (delim === "\\uparrow") {
-        repeat = bottom = "\u23d0";
+        repeat = bottom = "\u23D0";
     } else if (delim === "\\Uparrow") {
         repeat = bottom = "\u2016";
     } else if (delim === "\\downarrow") {
-        top = repeat = "\u23d0";
+        top = repeat = "\u23D0";
     } else if (delim === "\\Downarrow") {
         top = repeat = "\u2016";
     } else if (delim === "\\updownarrow") {
         top = "\\uparrow";
-        repeat = "\u23d0";
+        repeat = "\u23D0";
         bottom = "\\downarrow";
     } else if (delim === "\\Updownarrow") {
         top = "\\Uparrow";
         repeat = "\u2016";
         bottom = "\\Downarrow";
     } else if (delim === "[" || delim === "\\lbrack") {
-        top = "\u23a1";
-        repeat = "\u23a2";
-        bottom = "\u23a3";
+        top = "\u23A1";
+        repeat = "\u23A2";
+        bottom = "\u23A3";
         font = "Size4-Regular";
     } else if (delim === "]" || delim === "\\rbrack") {
-        top = "\u23a4";
-        repeat = "\u23a5";
-        bottom = "\u23a6";
+        top = "\u23A4";
+        repeat = "\u23A5";
+        bottom = "\u23A6";
         font = "Size4-Regular";
     } else if (delim === "\\lfloor") {
-        repeat = top = "\u23a2";
-        bottom = "\u23a3";
+        repeat = top = "\u23A2";
+        bottom = "\u23A3";
         font = "Size4-Regular";
     } else if (delim === "\\lceil") {
-        top = "\u23a1";
-        repeat = bottom = "\u23a2";
+        top = "\u23A1";
+        repeat = bottom = "\u23A2";
         font = "Size4-Regular";
     } else if (delim === "\\rfloor") {
-        repeat = top = "\u23a5";
-        bottom = "\u23a6";
+        repeat = top = "\u23A5";
+        bottom = "\u23A6";
         font = "Size4-Regular";
     } else if (delim === "\\rceil") {
-        top = "\u23a4";
-        repeat = bottom = "\u23a5";
+        top = "\u23A4";
+        repeat = bottom = "\u23A5";
         font = "Size4-Regular";
     } else if (delim === "(") {
-        top = "\u239b";
-        repeat = "\u239c";
-        bottom = "\u239d";
+        top = "\u239B";
+        repeat = "\u239C";
+        bottom = "\u239D";
         font = "Size4-Regular";
     } else if (delim === ")") {
-        top = "\u239e";
-        repeat = "\u239f";
-        bottom = "\u23a0";
+        top = "\u239E";
+        repeat = "\u239F";
+        bottom = "\u23A0";
         font = "Size4-Regular";
     } else if (delim === "\\{" || delim === "\\lbrace") {
-        top = "\u23a7";
-        middle = "\u23a8";
-        bottom = "\u23a9";
-        repeat = "\u23aa";
+        top = "\u23A7";
+        middle = "\u23A8";
+        bottom = "\u23A9";
+        repeat = "\u23AA";
         font = "Size4-Regular";
     } else if (delim === "\\}" || delim === "\\rbrace") {
-        top = "\u23ab";
-        middle = "\u23ac";
-        bottom = "\u23ad";
-        repeat = "\u23aa";
+        top = "\u23AB";
+        middle = "\u23AC";
+        bottom = "\u23AD";
+        repeat = "\u23AA";
         font = "Size4-Regular";
     } else if (delim === "\\lgroup") {
-        top = "\u23a7";
-        bottom = "\u23a9";
-        repeat = "\u23aa";
+        top = "\u23A7";
+        bottom = "\u23A9";
+        repeat = "\u23AA";
         font = "Size4-Regular";
     } else if (delim === "\\rgroup") {
-        top = "\u23ab";
-        bottom = "\u23ad";
-        repeat = "\u23aa";
+        top = "\u23AB";
+        bottom = "\u23AD";
+        repeat = "\u23AA";
         font = "Size4-Regular";
     } else if (delim === "\\lmoustache") {
-        top = "\u23a7";
-        bottom = "\u23ad";
-        repeat = "\u23aa";
+        top = "\u23A7";
+        bottom = "\u23AD";
+        repeat = "\u23AA";
         font = "Size4-Regular";
     } else if (delim === "\\rmoustache") {
-        top = "\u23ab";
-        bottom = "\u23a9";
-        repeat = "\u23aa";
-        font = "Size4-Regular";
-    } else if (delim === "\\surd") {
-        top = "\ue001";
-        bottom = "\u23b7";
-        repeat = "\ue000";
+        top = "\u23AB";
+        bottom = "\u23A9";
+        repeat = "\u23AA";
         font = "Size4-Regular";
     }
 
@@ -4541,20 +5492,18 @@ var makeStackedDelim = function(delim, heightTotal, center, options, mode,
     var minHeight = topHeightTotal + bottomHeightTotal + middleHeightTotal;
 
     // Compute the number of copies of the repeat symbol we will need
-    var repeatCount = Math.ceil(
-        (heightTotal - minHeight) / (middleFactor * repeatHeightTotal));
+    var repeatCount = Math.ceil((heightTotal - minHeight) / (middleFactor * repeatHeightTotal));
 
     // Compute the total height of the delimiter including all the symbols
-    var realHeightTotal =
-        minHeight + repeatCount * middleFactor * repeatHeightTotal;
+    var realHeightTotal = minHeight + repeatCount * middleFactor * repeatHeightTotal;
 
     // The center of the delimiter is placed at the center of the axis. Note
     // that in this context, "center" means that the delimiter should be
     // centered around the axis in the current style, while normally it is
     // centered around the axis in textstyle.
-    var axisHeight = options.style.metrics.axisHeight;
+    var axisHeight = options.fontMetrics().axisHeight;
     if (center) {
-        axisHeight *= options.style.sizeMultiplier;
+        axisHeight *= options.sizeMultiplier;
     }
     // Calculate the depth
     var depth = realHeightTotal / 2 - axisHeight;
@@ -4567,20 +5516,19 @@ var makeStackedDelim = function(delim, heightTotal, center, options, mode,
     // Add the bottom symbol
     inners.push(makeInner(bottom, font, mode));
 
-    var i;
     if (middle === null) {
         // Add that many symbols
-        for (i = 0; i < repeatCount; i++) {
+        for (var i = 0; i < repeatCount; i++) {
             inners.push(makeInner(repeat, font, mode));
         }
     } else {
         // When there is a middle bit, we need the middle part and two repeated
         // sections
-        for (i = 0; i < repeatCount; i++) {
+        for (var _i = 0; _i < repeatCount; _i++) {
             inners.push(makeInner(repeat, font, mode));
         }
         inners.push(makeInner(middle, font, mode));
-        for (i = 0; i < repeatCount; i++) {
+        for (var _i2 = 0; _i2 < repeatCount; _i2++) {
             inners.push(makeInner(repeat, font, mode));
         }
     }
@@ -4589,35 +5537,85 @@ var makeStackedDelim = function(delim, heightTotal, center, options, mode,
     inners.push(makeInner(top, font, mode));
 
     // Finally, build the vlist
-    var inner = buildCommon.makeVList(inners, "bottom", depth, options);
+    var newOptions = options.havingBaseStyle(_Style2.default.TEXT);
+    var inner = _buildCommon2.default.makeVList(inners, "bottom", depth, newOptions);
+
+    return styleWrap((0, _buildCommon.makeSpan)(["delimsizing", "mult"], [inner], newOptions), _Style2.default.TEXT, options, classes);
+};
+
+var sqrtInnerSVG = {
+    // The main path geometry is from glyph U221A in the font KaTeX Main
+    main: "<svg viewBox='0 0 400000 1000' preserveAspectRatio='xMinYMin\nslice'><path d='M95 622c-2.667 0-7.167-2.667-13.5\n-8S72 604 72 600c0-2 .333-3.333 1-4 1.333-2.667 23.833-20.667 67.5-54s\n65.833-50.333 66.5-51c1.333-1.333 3-2 5-2 4.667 0 8.667 3.333 12 10l173\n378c.667 0 35.333-71 104-213s137.5-285 206.5-429S812 17.333 812 14c5.333\n-9.333 12-14 20-14h399166v40H845.272L620 507 385 993c-2.667 4.667-9 7-19\n7-6 0-10-1-12-3L160 575l-65 47zM834 0h399166v40H845z'/></svg>",
+
+    // size1 is from glyph U221A in the font KaTeX_Size1-Regular
+    1: "<svg viewBox='0 0 400000 1200' preserveAspectRatio='xMinYMin\nslice'><path d='M263 601c.667 0 18 39.667 52 119s68.167\n 158.667 102.5 238 51.833 119.333 52.5 120C810 373.333 980.667 17.667 982 11\nc4.667-7.333 11-11 19-11h398999v40H1012.333L741 607c-38.667 80.667-84 175-136\n 283s-89.167 185.333-111.5 232-33.833 70.333-34.5 71c-4.667 4.667-12.333 7-23\n 7l-12-1-109-253c-72.667-168-109.333-252-110-252-10.667 8-22 16.667-34 26-22\n 17.333-33.333 26-34 26l-26-26 76-59 76-60zM1001 0h398999v40H1012z'/></svg>",
+
+    // size2 is from glyph U221A in the font KaTeX_Size2-Regular
+    2: "<svg viewBox='0 0 400000 1800' preserveAspectRatio='xMinYMin\nslice'><path d='M1001 0h398999v40H1013.084S929.667 308 749\n 880s-277 876.333-289 913c-4.667 4.667-12.667 7-24 7h-12c-1.333-3.333-3.667\n-11.667-7-25-35.333-125.333-106.667-373.333-214-744-10 12-21 25-33 39l-32 39\nc-6-5.333-15-14-27-26l25-30c26.667-32.667 52-63 76-91l52-60 208 722c56-175.333\n 126.333-397.333 211-666s153.833-488.167 207.5-658.5C944.167 129.167 975 32.667\n 983 10c4-6.667 10-10 18-10zm0 0h398999v40H1013z'/></svg>",
+
+    // size3 is from glyph U221A in the font KaTeX_Size3-Regular
+    3: "<svg viewBox='0 0 400000 2400' preserveAspectRatio='xMinYMin\nslice'><path d='M424 2398c-1.333-.667-38.5-172-111.5-514\nS202.667 1370.667 202 1370c0-2-10.667 14.333-32 49-4.667 7.333-9.833 15.667\n-15.5 25s-9.833 16-12.5 20l-5 7c-4-3.333-8.333-7.667-13-13l-13-13 76-122 77-121\n 209 968c0-2 84.667-361.667 254-1079C896.333 373.667 981.667 13.333 983 10\nc4-6.667 10-10 18-10h398999v40H1014.622S927.332 418.667 742 1206c-185.333\n 787.333-279.333 1182.333-282 1185-2 6-10 9-24 9-8 0-12-.667-12-2z\nM1001 0h398999v40H1014z'/></svg>",
+
+    // size4 is from glyph U221A in the font KaTeX_Size4-Regular
+    4: "<svg viewBox='0 0 400000 3000' preserveAspectRatio='xMinYMin\nslice'><path d='M473 2713C812.333 913.667 982.333 13 983 11\nc3.333-7.333 9.333-11 18-11h399110v40H1017.698S927.168 518 741.5 1506C555.833\n 2494 462 2989 460 2991c-2 6-10 9-24 9-8 0-12-.667-12-2s-5.333-32-16-92c-50.667\n-293.333-119.667-693.333-207-1200 0-1.333-5.333 8.667-16 30l-32 64-16 33-26-26\n 76-153 77-151c.667.667 35.667 202 105 604 67.333 400.667 102 602.667 104 606z\nM1001 0h398999v40H1017z'/></svg>",
+
+    // tall is from glyph U23B7 in the font KaTeX_Size4-Regular
+    tall: "l-4 4-4 4c-.667.667-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h\n-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170c-4-3.333-8.333\n-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667 219 661 l218 661z\nM702 0H400000v40H742z'/></svg>"
+};
+
+var sqrtSpan = function sqrtSpan(height, delim, options) {
+    // Create a span containing an SVG image of a sqrt symbol.
+    var span = _buildCommon2.default.makeSpan([], [], options);
+    var sizeMultiplier = options.sizeMultiplier; // default
+
+    if (delim.type === "small") {
+        // Get an SVG that is derived from glyph U+221A in font KaTeX-Main.
+        var newOptions = options.havingBaseStyle(delim.style);
+        sizeMultiplier = newOptions.sizeMultiplier / options.sizeMultiplier;
+
+        span.height = 1 * sizeMultiplier;
+        span.style.height = span.height + "em";
+        span.surdWidth = 0.833 * sizeMultiplier; // from the font.
+        //In the font, the glyph is 1000 units tall. The font scale is 1:1000.
+
+        span.innerHTML = "<svg width='100%' height='" + span.height + "em'>\n            " + sqrtInnerSVG['main'] + "</svg>";
+    } else if (delim.type === "large") {
+        // These SVGs come from fonts: KaTeX_Size1, _Size2, etc.
+        // Get sqrt height from font data
+        span.height = sizeToMaxHeight[delim.size] / sizeMultiplier;
+        span.style.height = span.height + "em";
+        span.surdWidth = 1.0 / sizeMultiplier; // from the font
+
+        span.innerHTML = "<svg width=\"100%\" height=\"" + span.height + "em\">\n            " + sqrtInnerSVG[delim.size] + "</svg>";
+    } else {
+        // Tall sqrt. In TeX, this would be stacked using multiple glyphs.
+        // We'll use a single SVG to accomplish the same thing.
+        span.height = height / sizeMultiplier;
+        span.style.height = span.height + "em";
+        span.surdWidth = 1.056 / sizeMultiplier;
+        var viewBoxHeight = Math.floor(span.height * 1000); // scale = 1:1000
+        var vertSegment = viewBoxHeight - 54;
+
+        // This \sqrt is customized in both height and width. We set the
+        // height now. Then CSS will stretch the image to the correct width.
+        // This SVG path comes from glyph U+23B7, font KaTeX_Size4-Regular.
+        span.innerHTML = "<svg width='100%' height='" + span.height + "em'>\n            <svg viewBox='0 0 400000 " + viewBoxHeight + "'\n            preserveAspectRatio='xMinYMax slice'>\n            <path d='M702 0H400000v40H742v" + vertSegment + "\n            " + sqrtInnerSVG['tall'] + "</svg>";
+    }
+
+    span.sizeMultiplier = sizeMultiplier;
 
-    return styleWrap(
-        makeSpan(["delimsizing", "mult"], [inner], options),
-        Style.TEXT, options, classes);
+    return span;
 };
 
 // There are three kinds of delimiters, delimiters that stack when they become
 // too large
-var stackLargeDelimiters = [
-    "(", ")", "[", "\\lbrack", "]", "\\rbrack",
-    "\\{", "\\lbrace", "\\}", "\\rbrace",
-    "\\lfloor", "\\rfloor", "\\lceil", "\\rceil",
-    "\\surd"
-];
+var stackLargeDelimiters = ["(", ")", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "\\lceil", "\\rceil", "\\surd"];
 
 // delimiters that always stack
-var stackAlwaysDelimiters = [
-    "\\uparrow", "\\downarrow", "\\updownarrow",
-    "\\Uparrow", "\\Downarrow", "\\Updownarrow",
-    "|", "\\|", "\\vert", "\\Vert",
-    "\\lvert", "\\rvert", "\\lVert", "\\rVert",
-    "\\lgroup", "\\rgroup", "\\lmoustache", "\\rmoustache"
-];
+var stackAlwaysDelimiters = ["\\uparrow", "\\downarrow", "\\updownarrow", "\\Uparrow", "\\Downarrow", "\\Updownarrow", "|", "\\|", "\\vert", "\\Vert", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "\\lmoustache", "\\rmoustache"];
 
 // and delimiters that never stack
-var stackNeverDelimiters = [
-    "<", ">", "\\langle", "\\rangle", "/", "\\backslash", "\\lt", "\\gt"
-];
+var stackNeverDelimiters = ["<", ">", "\\langle", "\\rangle", "/", "\\backslash", "\\lt", "\\gt"];
 
 // Metrics of the different sizes. Found by looking at TeX's output of
 // $\bigl| // \Bigl| \biggl| \Biggl| \showlists$
@@ -4627,7 +5625,7 @@ var sizeToMaxHeight = [0, 1.2, 1.8, 2.4, 3.0];
 /**
  * Used to create a delimiter of a specific size, where `size` is 1, 2, 3, or 4.
  */
-var makeSizedDelim = function(delim, size, options, mode, classes) {
+var makeSizedDelim = function makeSizedDelim(delim, size, options, mode, classes) {
     // < and > turn into \langle and \rangle in delimiters
     if (delim === "<" || delim === "\\lt") {
         delim = "\\langle";
@@ -4636,14 +5634,12 @@ var makeSizedDelim = function(delim, size, options, mode, classes) {
     }
 
     // Sized delimiters are never centered.
-    if (utils.contains(stackLargeDelimiters, delim) ||
-        utils.contains(stackNeverDelimiters, delim)) {
+    if (_utils2.default.contains(stackLargeDelimiters, delim) || _utils2.default.contains(stackNeverDelimiters, delim)) {
         return makeLargeDelim(delim, size, false, options, mode, classes);
-    } else if (utils.contains(stackAlwaysDelimiters, delim)) {
-        return makeStackedDelim(
-            delim, sizeToMaxHeight[size], false, options, mode, classes);
+    } else if (_utils2.default.contains(stackAlwaysDelimiters, delim)) {
+        return makeStackedDelim(delim, sizeToMaxHeight[size], false, options, mode, classes);
     } else {
-        throw new ParseError("Illegal delimiter: '" + delim + "'");
+        throw new _ParseError2.default("Illegal delimiter: '" + delim + "'");
     }
 };
 
@@ -4660,41 +5656,19 @@ var makeSizedDelim = function(delim, size, options, mode, classes) {
  */
 
 // Delimiters that never stack try small delimiters and large delimiters only
-var stackNeverDelimiterSequence = [
-    {type: "small", style: Style.SCRIPTSCRIPT},
-    {type: "small", style: Style.SCRIPT},
-    {type: "small", style: Style.TEXT},
-    {type: "large", size: 1},
-    {type: "large", size: 2},
-    {type: "large", size: 3},
-    {type: "large", size: 4}
-];
+var stackNeverDelimiterSequence = [{ type: "small", style: _Style2.default.SCRIPTSCRIPT }, { type: "small", style: _Style2.default.SCRIPT }, { type: "small", style: _Style2.default.TEXT }, { type: "large", size: 1 }, { type: "large", size: 2 }, { type: "large", size: 3 }, { type: "large", size: 4 }];
 
 // Delimiters that always stack try the small delimiters first, then stack
-var stackAlwaysDelimiterSequence = [
-    {type: "small", style: Style.SCRIPTSCRIPT},
-    {type: "small", style: Style.SCRIPT},
-    {type: "small", style: Style.TEXT},
-    {type: "stack"}
-];
+var stackAlwaysDelimiterSequence = [{ type: "small", style: _Style2.default.SCRIPTSCRIPT }, { type: "small", style: _Style2.default.SCRIPT }, { type: "small", style: _Style2.default.TEXT }, { type: "stack" }];
 
 // Delimiters that stack when large try the small and then large delimiters, and
 // stack afterwards
-var stackLargeDelimiterSequence = [
-    {type: "small", style: Style.SCRIPTSCRIPT},
-    {type: "small", style: Style.SCRIPT},
-    {type: "small", style: Style.TEXT},
-    {type: "large", size: 1},
-    {type: "large", size: 2},
-    {type: "large", size: 3},
-    {type: "large", size: 4},
-    {type: "stack"}
-];
+var stackLargeDelimiterSequence = [{ type: "small", style: _Style2.default.SCRIPTSCRIPT }, { type: "small", style: _Style2.default.SCRIPT }, { type: "small", style: _Style2.default.TEXT }, { type: "large", size: 1 }, { type: "large", size: 2 }, { type: "large", size: 3 }, { type: "large", size: 4 }, { type: "stack" }];
 
 /**
  * Get the font used in a delimiter based on what kind of delimiter it is.
  */
-var delimTypeToFont = function(type) {
+var delimTypeToFont = function delimTypeToFont(type) {
     if (type.type === "small") {
         return "Main-Regular";
     } else if (type.type === "large") {
@@ -4708,7 +5682,7 @@ var delimTypeToFont = function(type) {
  * Traverse a sequence of types of delimiters to decide what kind of delimiter
  * should be used to create a delimiter of the given height+depth.
  */
-var traverseSequence = function(delim, height, sequence, options) {
+var traverseSequence = function traverseSequence(delim, height, sequence, options) {
     // Here, we choose the index we should start at in the sequences. In smaller
     // sizes (which correspond to larger numbers in style.size) we start earlier
     // in the sequence. Thus, scriptscript starts at index 3-3=0, script starts
@@ -4727,7 +5701,8 @@ var traverseSequence = function(delim, height, sequence, options) {
         // account for the style change size.
 
         if (sequence[i].type === "small") {
-            heightDepth *= sequence[i].style.sizeMultiplier;
+            var newOptions = options.havingBaseStyle(sequence[i].style);
+            heightDepth *= newOptions.sizeMultiplier;
         }
 
         // Check if the delimiter at this size works for the given height.
@@ -4744,8 +5719,7 @@ var traverseSequence = function(delim, height, sequence, options) {
  * Make a delimiter of a given height+depth, with optional centering. Here, we
  * traverse the sequences, and create a delimiter that the sequence tells us to.
  */
-var makeCustomSizedDelim = function(delim, height, center, options, mode,
-                                    classes) {
+var makeCustomSizedDelim = function makeCustomSizedDelim(delim, height, center, options, mode, classes) {
     if (delim === "<" || delim === "\\lt") {
         delim = "\\langle";
     } else if (delim === ">" || delim === "\\gt") {
@@ -4753,10 +5727,10 @@ var makeCustomSizedDelim = function(delim, height, center, options, mode,
     }
 
     // Decide what sequence to use
-    var sequence;
-    if (utils.contains(stackNeverDelimiters, delim)) {
+    var sequence = void 0;
+    if (_utils2.default.contains(stackNeverDelimiters, delim)) {
         sequence = stackNeverDelimiterSequence;
-    } else if (utils.contains(stackLargeDelimiters, delim)) {
+    } else if (_utils2.default.contains(stackLargeDelimiters, delim)) {
         sequence = stackLargeDelimiterSequence;
     } else {
         sequence = stackAlwaysDelimiterSequence;
@@ -4765,16 +5739,20 @@ var makeCustomSizedDelim = function(delim, height, center, options, mode,
     // Look through the sequence
     var delimType = traverseSequence(delim, height, sequence, options);
 
-    // Depending on the sequence element we decided on, call the appropriate
-    // function.
-    if (delimType.type === "small") {
-        return makeSmallDelim(delim, delimType.style, center, options, mode,
-                              classes);
-    } else if (delimType.type === "large") {
-        return makeLargeDelim(delim, delimType.size, center, options, mode,
-                              classes);
-    } else if (delimType.type === "stack") {
-        return makeStackedDelim(delim, height, center, options, mode, classes);
+    if (delim === "\\surd") {
+        // Get an SVG image for
+        return sqrtSpan(height, delimType, options);
+    } else {
+        // Get the delimiter from font glyphs.
+        // Depending on the sequence element we decided on, call the
+        // appropriate function.
+        if (delimType.type === "small") {
+            return makeSmallDelim(delim, delimType.style, center, options, mode, classes);
+        } else if (delimType.type === "large") {
+            return makeLargeDelim(delim, delimType.size, center, options, mode, classes);
+        } else if (delimType.type === "stack") {
+            return makeStackedDelim(delim, height, center, options, mode, classes);
+        }
     }
 };
 
@@ -4782,36 +5760,31 @@ var makeCustomSizedDelim = function(delim, height, center, options, mode,
  * Make a delimiter for use with `\left` and `\right`, given a height and depth
  * of an expression that the delimiters surround.
  */
-var makeLeftRightDelim = function(delim, height, depth, options, mode,
-                                  classes) {
+var makeLeftRightDelim = function makeLeftRightDelim(delim, height, depth, options, mode, classes) {
     // We always center \left/\right delimiters, so the axis is always shifted
-    var axisHeight =
-        options.style.metrics.axisHeight * options.style.sizeMultiplier;
+    var axisHeight = options.fontMetrics().axisHeight * options.sizeMultiplier;
 
     // Taken from TeX source, tex.web, function make_left_right
     var delimiterFactor = 901;
-    var delimiterExtend = 5.0 / fontMetrics.metrics.ptPerEm;
+    var delimiterExtend = 5.0 / options.fontMetrics().ptPerEm;
 
-    var maxDistFromAxis = Math.max(
-        height - axisHeight, depth + axisHeight);
+    var maxDistFromAxis = Math.max(height - axisHeight, depth + axisHeight);
 
     var totalHeight = Math.max(
-        // In real TeX, calculations are done using integral values which are
-        // 65536 per pt, or 655360 per em. So, the division here truncates in
-        // TeX but doesn't here, producing different results. If we wanted to
-        // exactly match TeX's calculation, we could do
-        //   Math.floor(655360 * maxDistFromAxis / 500) *
-        //    delimiterFactor / 655360
-        // (To see the difference, compare
-        //    x^{x^{\left(\rule{0.1em}{0.68em}\right)}}
-        // in TeX and KaTeX)
-        maxDistFromAxis / 500 * delimiterFactor,
-        2 * maxDistFromAxis - delimiterExtend);
+    // In real TeX, calculations are done using integral values which are
+    // 65536 per pt, or 655360 per em. So, the division here truncates in
+    // TeX but doesn't here, producing different results. If we wanted to
+    // exactly match TeX's calculation, we could do
+    //   Math.floor(655360 * maxDistFromAxis / 500) *
+    //    delimiterFactor / 655360
+    // (To see the difference, compare
+    //    x^{x^{\left(\rule{0.1em}{0.68em}\right)}}
+    // in TeX and KaTeX)
+    maxDistFromAxis / 500 * delimiterFactor, 2 * maxDistFromAxis - delimiterExtend);
 
     // Finally, we defer to `makeCustomSizedDelim` with our calculated total
     // height
-    return makeCustomSizedDelim(delim, totalHeight, true, options, mode,
-                                classes);
+    return makeCustomSizedDelim(delim, totalHeight, true, options, mode, classes);
 };
 
 module.exports = {
@@ -4820,7 +5793,31 @@ module.exports = {
     leftRightDelim: makeLeftRightDelim
 };
 
-},{"./ParseError":6,"./Style":9,"./buildCommon":10,"./fontMetrics":17,"./symbols":23,"./utils":25}],15:[function(require,module,exports){
+},{"./ParseError":29,"./Style":33,"./buildCommon":34,"./fontMetrics":41,"./symbols":48,"./utils":51}],39:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+var _unicodeRegexes = require("./unicodeRegexes");
+
+var _unicodeRegexes2 = _interopRequireDefault(_unicodeRegexes);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+/**
+ * Create an HTML className based on a list of classes. In addition to joining
+ * with spaces, we also remove null or empty classes.
+ */
 /**
  * These objects store the data about the DOM nodes we create, as well as some
  * extra data. They can then be transformed into real DOM nodes with the
@@ -4830,14 +5827,7 @@ module.exports = {
  *
  * Similar functions for working with MathML nodes exist in mathMLTree.js.
  */
-var unicodeRegexes = require("./unicodeRegexes");
-var utils = require("./utils");
-
-/**
- * Create an HTML className based on a list of classes. In addition to joining
- * with spaces, we also remove null or empty classes.
- */
-var createClass = function(classes) {
+var createClass = function createClass(classes) {
     classes = classes.slice();
     for (var i = classes.length - 1; i >= 0; i--) {
         if (!classes[i]) {
@@ -4853,114 +5843,141 @@ var createClass = function(classes) {
  * an inline style. It also contains information about its height, depth, and
  * maxFontSize.
  */
-function span(classes, children, options) {
-    this.classes = classes || [];
-    this.children = children || [];
-    this.height = 0;
-    this.depth = 0;
-    this.maxFontSize = 0;
-    this.style = {};
-    this.attributes = {};
-    if (options) {
-        if (options.style.isTight()) {
-            this.classes.push("mtight");
-        }
-        if (options.getColor()) {
-            this.style.color = options.getColor();
+
+var span = function () {
+    function span(classes, children, options) {
+        (0, _classCallCheck3.default)(this, span);
+
+        this.classes = classes || [];
+        this.children = children || [];
+        this.height = 0;
+        this.depth = 0;
+        this.maxFontSize = 0;
+        this.style = {};
+        this.attributes = {};
+        this.innerHTML; // used for inline SVG code.
+        if (options) {
+            if (options.style.isTight()) {
+                this.classes.push("mtight");
+            }
+            if (options.getColor()) {
+                this.style.color = options.getColor();
+            }
         }
     }
-}
 
-/**
- * Sets an arbitrary attribute on the span. Warning: use this wisely. Not all
- * browsers support attributes the same, and having too many custom attributes
- * is probably bad.
- */
-span.prototype.setAttribute = function(attribute, value) {
-    this.attributes[attribute] = value;
-};
+    /**
+     * Sets an arbitrary attribute on the span. Warning: use this wisely. Not all
+     * browsers support attributes the same, and having too many custom attributes
+     * is probably bad.
+     */
 
-span.prototype.tryCombine = function(sibling) {
-    return false;
-};
 
-/**
- * Convert the span into an HTML node
- */
-span.prototype.toNode = function() {
-    var span = document.createElement("span");
+    (0, _createClass3.default)(span, [{
+        key: "setAttribute",
+        value: function setAttribute(attribute, value) {
+            this.attributes[attribute] = value;
+        }
+    }, {
+        key: "tryCombine",
+        value: function tryCombine(sibling) {
+            return false;
+        }
 
-    // Apply the class
-    span.className = createClass(this.classes);
+        /**
+         * Convert the span into an HTML node
+         */
 
-    // Apply inline styles
-    for (var style in this.style) {
-        if (Object.prototype.hasOwnProperty.call(this.style, style)) {
-            span.style[style] = this.style[style];
-        }
-    }
+    }, {
+        key: "toNode",
+        value: function toNode() {
+            var span = document.createElement("span");
+
+            // Apply the class
+            span.className = createClass(this.classes);
+
+            // Apply inline styles
+            for (var style in this.style) {
+                if (Object.prototype.hasOwnProperty.call(this.style, style)) {
+                    span.style[style] = this.style[style];
+                }
+            }
+
+            // Apply attributes
+            for (var attr in this.attributes) {
+                if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
+                    span.setAttribute(attr, this.attributes[attr]);
+                }
+            }
 
-    // Apply attributes
-    for (var attr in this.attributes) {
-        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
-            span.setAttribute(attr, this.attributes[attr]);
+            if (this.innerHTML) {
+                span.innerHTML = this.innerHTML;
+            }
+
+            // Append the children, also as HTML nodes
+            for (var i = 0; i < this.children.length; i++) {
+                span.appendChild(this.children[i].toNode());
+            }
+
+            return span;
         }
-    }
 
-    // Append the children, also as HTML nodes
-    for (var i = 0; i < this.children.length; i++) {
-        span.appendChild(this.children[i].toNode());
-    }
+        /**
+         * Convert the span into an HTML markup string
+         */
 
-    return span;
-};
+    }, {
+        key: "toMarkup",
+        value: function toMarkup() {
+            var markup = "<span";
 
-/**
- * Convert the span into an HTML markup string
- */
-span.prototype.toMarkup = function() {
-    var markup = "<span";
+            // Add the class
+            if (this.classes.length) {
+                markup += " class=\"";
+                markup += _utils2.default.escape(createClass(this.classes));
+                markup += "\"";
+            }
 
-    // Add the class
-    if (this.classes.length) {
-        markup += " class=\"";
-        markup += utils.escape(createClass(this.classes));
-        markup += "\"";
-    }
+            var styles = "";
 
-    var styles = "";
+            // Add the styles, after hyphenation
+            for (var style in this.style) {
+                if (this.style.hasOwnProperty(style)) {
+                    styles += _utils2.default.hyphenate(style) + ":" + this.style[style] + ";";
+                }
+            }
 
-    // Add the styles, after hyphenation
-    for (var style in this.style) {
-        if (this.style.hasOwnProperty(style)) {
-            styles += utils.hyphenate(style) + ":" + this.style[style] + ";";
-        }
-    }
+            if (styles) {
+                markup += " style=\"" + _utils2.default.escape(styles) + "\"";
+            }
 
-    if (styles) {
-        markup += " style=\"" + utils.escape(styles) + "\"";
-    }
+            // Add the attributes
+            for (var attr in this.attributes) {
+                if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
+                    markup += " " + attr + "=\"";
+                    markup += _utils2.default.escape(this.attributes[attr]);
+                    markup += "\"";
+                }
+            }
 
-    // Add the attributes
-    for (var attr in this.attributes) {
-        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
-            markup += " " + attr + "=\"";
-            markup += utils.escape(this.attributes[attr]);
-            markup += "\"";
-        }
-    }
+            markup += ">";
 
-    markup += ">";
+            if (this.innerHTML) {
+                markup += this.innerHTML;
+            }
 
-    // Add the markup of the children, also as markup
-    for (var i = 0; i < this.children.length; i++) {
-        markup += this.children[i].toMarkup();
-    }
+            // Add the markup of the children, also as markup
+            for (var i = 0; i < this.children.length; i++) {
+                markup += this.children[i].toMarkup();
+            }
 
-    markup += "</span>";
+            markup += "</span>";
 
-    return markup;
-};
+            return markup;
+        }
+    }]);
+    return span;
+}();
 
 /**
  * This node represents a document fragment, which contains elements, but when
@@ -4968,48 +5985,63 @@ span.prototype.toMarkup = function() {
  * contains children and doesn't have any HTML properties. It also keeps track
  * of a height, depth, and maxFontSize.
  */
-function documentFragment(children) {
-    this.children = children || [];
-    this.height = 0;
-    this.depth = 0;
-    this.maxFontSize = 0;
-}
 
-/**
- * Convert the fragment into a node
- */
-documentFragment.prototype.toNode = function() {
-    // Create a fragment
-    var frag = document.createDocumentFragment();
 
-    // Append the children
-    for (var i = 0; i < this.children.length; i++) {
-        frag.appendChild(this.children[i].toNode());
+var documentFragment = function () {
+    function documentFragment(children) {
+        (0, _classCallCheck3.default)(this, documentFragment);
+
+        this.children = children || [];
+        this.height = 0;
+        this.depth = 0;
+        this.maxFontSize = 0;
     }
 
-    return frag;
-};
+    /**
+     * Convert the fragment into a node
+     */
 
-/**
- * Convert the fragment into HTML markup
- */
-documentFragment.prototype.toMarkup = function() {
-    var markup = "";
 
-    // Simply concatenate the markup for the children together
-    for (var i = 0; i < this.children.length; i++) {
-        markup += this.children[i].toMarkup();
-    }
+    (0, _createClass3.default)(documentFragment, [{
+        key: "toNode",
+        value: function toNode() {
+            // Create a fragment
+            var frag = document.createDocumentFragment();
 
-    return markup;
-};
+            // Append the children
+            for (var i = 0; i < this.children.length; i++) {
+                frag.appendChild(this.children[i].toNode());
+            }
+
+            return frag;
+        }
+
+        /**
+         * Convert the fragment into HTML markup
+         */
+
+    }, {
+        key: "toMarkup",
+        value: function toMarkup() {
+            var markup = "";
+
+            // Simply concatenate the markup for the children together
+            for (var i = 0; i < this.children.length; i++) {
+                markup += this.children[i].toMarkup();
+            }
+
+            return markup;
+        }
+    }]);
+    return documentFragment;
+}();
 
 var iCombinations = {
-    'î': '\u0131\u0302',
-    'ï': '\u0131\u0308',
-    'í': '\u0131\u0301',
+    'î': "\u0131\u0302",
+    'ï': "\u0131\u0308",
+    'í': "\u0131\u0301",
     // 'ī': '\u0131\u0304', // enable when we add Extended Latin
-    'ì': '\u0131\u0300'
+    'ì': "\u0131\u0300"
 };
 
 /**
@@ -5017,140 +6049,149 @@ var iCombinations = {
  * to a single text node, or a span with a single text node in it, depending on
  * whether it has CSS classes, styles, or needs italic correction.
  */
-function symbolNode(value, height, depth, italic, skew, classes, style) {
-    this.value = value || "";
-    this.height = height || 0;
-    this.depth = depth || 0;
-    this.italic = italic || 0;
-    this.skew = skew || 0;
-    this.classes = classes || [];
-    this.style = style || {};
-    this.maxFontSize = 0;
-
-    // Mark CJK characters with specific classes so that we can specify which
-    // fonts to use.  This allows us to render these characters with a serif
-    // font in situations where the browser would either default to a sans serif
-    // or render a placeholder character.
-    if (unicodeRegexes.cjkRegex.test(value)) {
-        // I couldn't find any fonts that contained Hangul as well as all of
-        // the other characters we wanted to test there for it gets its own
-        // CSS class.
-        if (unicodeRegexes.hangulRegex.test(value)) {
-            this.classes.push('hangul_fallback');
-        } else {
-            this.classes.push('cjk_fallback');
-        }
-    }
 
-    if (/[îïíì]/.test(this.value)) {    // add ī when we add Extended Latin
-        this.value = iCombinations[this.value];
-    }
-}
+var symbolNode = function () {
+    function symbolNode(value, height, depth, italic, skew, classes, style) {
+        (0, _classCallCheck3.default)(this, symbolNode);
+
+        this.value = value || "";
+        this.height = height || 0;
+        this.depth = depth || 0;
+        this.italic = italic || 0;
+        this.skew = skew || 0;
+        this.classes = classes || [];
+        this.style = style || {};
+        this.maxFontSize = 0;
+
+        // Mark CJK characters with specific classes so that we can specify which
+        // fonts to use.  This allows us to render these characters with a serif
+        // font in situations where the browser would either default to a sans serif
+        // or render a placeholder character.
+        if (_unicodeRegexes2.default.cjkRegex.test(value)) {
+            // I couldn't find any fonts that contained Hangul as well as all of
+            // the other characters we wanted to test there for it gets its own
+            // CSS class.
+            if (_unicodeRegexes2.default.hangulRegex.test(value)) {
+                this.classes.push('hangul_fallback');
+            } else {
+                this.classes.push('cjk_fallback');
+            }
+        }
 
-symbolNode.prototype.tryCombine = function(sibling) {
-    if (!sibling
-        || !(sibling instanceof symbolNode)
-        || this.italic > 0
-        || createClass(this.classes) !== createClass(sibling.classes)
-        || this.skew !== sibling.skew
-        || this.maxFontSize !== sibling.maxFontSize) {
-        return false;
-    }
-    for (var style in this.style) {
-        if (this.style.hasOwnProperty(style)
-            && this.style[style] !== sibling.style[style]) {
-            return false;
+        if (/[îïíì]/.test(this.value)) {
+            // add ī when we add Extended Latin
+            this.value = iCombinations[this.value];
         }
     }
-    for (style in sibling.style) {
-        if (sibling.style.hasOwnProperty(style)
-            && this.style[style] !== sibling.style[style]) {
-            return false;
+
+    (0, _createClass3.default)(symbolNode, [{
+        key: "tryCombine",
+        value: function tryCombine(sibling) {
+            if (!sibling || !(sibling instanceof symbolNode) || this.italic > 0 || createClass(this.classes) !== createClass(sibling.classes) || this.skew !== sibling.skew || this.maxFontSize !== sibling.maxFontSize) {
+                return false;
+            }
+            for (var style in this.style) {
+                if (this.style.hasOwnProperty(style) && this.style[style] !== sibling.style[style]) {
+                    return false;
+                }
+            }
+            for (var _style in sibling.style) {
+                if (sibling.style.hasOwnProperty(_style) && this.style[_style] !== sibling.style[_style]) {
+                    return false;
+                }
+            }
+            this.value += sibling.value;
+            this.height = Math.max(this.height, sibling.height);
+            this.depth = Math.max(this.depth, sibling.depth);
+            this.italic = sibling.italic;
+            return true;
         }
-    }
-    this.value += sibling.value;
-    this.height = Math.max(this.height, sibling.height);
-    this.depth = Math.max(this.depth, sibling.depth);
-    this.italic = sibling.italic;
-    return true;
-};
 
-/**
- * Creates a text node or span from a symbol node. Note that a span is only
- * created if it is needed.
- */
-symbolNode.prototype.toNode = function() {
-    var node = document.createTextNode(this.value);
-    var span = null;
+        /**
+         * Creates a text node or span from a symbol node. Note that a span is only
+         * created if it is needed.
+         */
 
-    if (this.italic > 0) {
-        span = document.createElement("span");
-        span.style.marginRight = this.italic + "em";
-    }
+    }, {
+        key: "toNode",
+        value: function toNode() {
+            var node = document.createTextNode(this.value);
+            var span = null;
 
-    if (this.classes.length > 0) {
-        span = span || document.createElement("span");
-        span.className = createClass(this.classes);
-    }
+            if (this.italic > 0) {
+                span = document.createElement("span");
+                span.style.marginRight = this.italic + "em";
+            }
+
+            if (this.classes.length > 0) {
+                span = span || document.createElement("span");
+                span.className = createClass(this.classes);
+            }
 
-    for (var style in this.style) {
-        if (this.style.hasOwnProperty(style)) {
-            span = span || document.createElement("span");
-            span.style[style] = this.style[style];
+            for (var style in this.style) {
+                if (this.style.hasOwnProperty(style)) {
+                    span = span || document.createElement("span");
+                    span.style[style] = this.style[style];
+                }
+            }
+
+            if (span) {
+                span.appendChild(node);
+                return span;
+            } else {
+                return node;
+            }
         }
-    }
 
-    if (span) {
-        span.appendChild(node);
-        return span;
-    } else {
-        return node;
-    }
-};
+        /**
+         * Creates markup for a symbol node.
+         */
 
-/**
- * Creates markup for a symbol node.
- */
-symbolNode.prototype.toMarkup = function() {
-    // TODO(alpert): More duplication than I'd like from
-    // span.prototype.toMarkup and symbolNode.prototype.toNode...
-    var needsSpan = false;
+    }, {
+        key: "toMarkup",
+        value: function toMarkup() {
+            // TODO(alpert): More duplication than I'd like from
+            // span.prototype.toMarkup and symbolNode.prototype.toNode...
+            var needsSpan = false;
 
-    var markup = "<span";
+            var markup = "<span";
 
-    if (this.classes.length) {
-        needsSpan = true;
-        markup += " class=\"";
-        markup += utils.escape(createClass(this.classes));
-        markup += "\"";
-    }
+            if (this.classes.length) {
+                needsSpan = true;
+                markup += " class=\"";
+                markup += _utils2.default.escape(createClass(this.classes));
+                markup += "\"";
+            }
 
-    var styles = "";
+            var styles = "";
 
-    if (this.italic > 0) {
-        styles += "margin-right:" + this.italic + "em;";
-    }
-    for (var style in this.style) {
-        if (this.style.hasOwnProperty(style)) {
-            styles += utils.hyphenate(style) + ":" + this.style[style] + ";";
-        }
-    }
+            if (this.italic > 0) {
+                styles += "margin-right:" + this.italic + "em;";
+            }
+            for (var style in this.style) {
+                if (this.style.hasOwnProperty(style)) {
+                    styles += _utils2.default.hyphenate(style) + ":" + this.style[style] + ";";
+                }
+            }
 
-    if (styles) {
-        needsSpan = true;
-        markup += " style=\"" + utils.escape(styles) + "\"";
-    }
+            if (styles) {
+                needsSpan = true;
+                markup += " style=\"" + _utils2.default.escape(styles) + "\"";
+            }
 
-    var escaped = utils.escape(this.value);
-    if (needsSpan) {
-        markup += ">";
-        markup += escaped;
-        markup += "</span>";
-        return markup;
-    } else {
-        return escaped;
-    }
-};
+            var escaped = _utils2.default.escape(this.value);
+            if (needsSpan) {
+                markup += ">";
+                markup += escaped;
+                markup += "</span>";
+                return markup;
+            } else {
+                return escaped;
+            }
+        }
+    }]);
+    return symbolNode;
+}();
 
 module.exports = {
     span: span,
@@ -5158,26 +6199,40 @@ module.exports = {
     symbolNode: symbolNode
 };
 
-},{"./unicodeRegexes":24,"./utils":25}],16:[function(require,module,exports){
-/* eslint no-constant-condition:0 */
-var parseData = require("./parseData");
-var ParseError = require("./ParseError");
-var Style = require("./Style");
+},{"./unicodeRegexes":49,"./utils":51,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],40:[function(require,module,exports){
+"use strict";
+
+var _ParseNode = require("./ParseNode");
+
+var _ParseNode2 = _interopRequireDefault(_ParseNode);
 
-var ParseNode = parseData.ParseNode;
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * Parse the body of the environment, with rows delimited by \\ and
  * columns delimited by &, and create a nested list in row-major order
- * with one group per cell.
+ * with one group per cell.  If given an optional argument style
+ * ("text", "display", etc.), then each cell is cast into that style.
  */
-function parseArray(parser, result) {
+/* eslint no-constant-condition:0 */
+function parseArray(parser, result, style) {
     var row = [];
     var body = [row];
     var rowGaps = [];
     while (true) {
         var cell = parser.parseExpression(false, null);
-        row.push(new ParseNode("ordgroup", cell, parser.mode));
+        cell = new _ParseNode2.default("ordgroup", cell, parser.mode);
+        if (style) {
+            cell = new _ParseNode2.default("styling", {
+                style: style,
+                value: [cell]
+            }, parser.mode);
+        }
+        row.push(cell);
         var next = parser.nextToken.text;
         if (next === "&") {
             parser.consume();
@@ -5189,13 +6244,12 @@ function parseArray(parser, result) {
             row = [];
             body.push(row);
         } else {
-            throw new ParseError("Expected & or \\\\ or \\end",
-                                 parser.nextToken);
+            throw new _ParseError2.default("Expected & or \\\\ or \\end", parser.nextToken);
         }
     }
     result.body = body;
     result.rowGaps = rowGaps;
-    return new ParseNode(result.type, result, parser.mode);
+    return new _ParseNode2.default(result.type, result, parser.mode);
 }
 
 /*
@@ -5221,7 +6275,6 @@ function parseArray(parser, result) {
  *  - positions: the positions associated with these arguments from args.
  * The handler must return a ParseResult.
  */
-
 function defineEnvironment(names, props, handler) {
     if (typeof names === "string") {
         names = [names];
@@ -5243,14 +6296,26 @@ function defineEnvironment(names, props, handler) {
     }
 }
 
+// Decides on a style for cells in an array according to whether the given
+// environment name starts with the letter 'd'.
+function dCellStyle(envName) {
+    if (envName.substr(0, 1) === "d") {
+        return "display";
+    } else {
+        return "text";
+    }
+}
+
 // Arrays are part of LaTeX, defined in lttab.dtx so its documentation
 // is part of the source2e.pdf file of LaTeX2e source documentation.
-defineEnvironment("array", {
+// {darray} is an {array} environment where cells are set in \displaystyle,
+// as defined in nccmath.sty.
+defineEnvironment(["array", "darray"], {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var colalign = args[0];
     colalign = colalign.value.map ? colalign.value : [colalign];
-    var cols = colalign.map(function(node) {
+    var cols = colalign.map(function (node) {
         var ca = node.value;
         if ("lcr".indexOf(ca) !== -1) {
             return {
@@ -5263,30 +6328,19 @@ defineEnvironment("array", {
                 separator: "|"
             };
         }
-        throw new ParseError(
-            "Unknown column alignment: " + node.value,
-            node);
+        throw new _ParseError2.default("Unknown column alignment: " + node.value, node);
     });
     var res = {
         type: "array",
         cols: cols,
-        hskipBeforeAndAfter: true // \@preamble in lttab.dtx
-    };
-    res = parseArray(context.parser, res);
+        hskipBeforeAndAfter: true };
+    res = parseArray(context.parser, res, dCellStyle(context.envName));
     return res;
 });
 
 // The matrix environments of amsmath builds on the array environment
 // of LaTeX, which is discussed above.
-defineEnvironment([
-    "matrix",
-    "pmatrix",
-    "bmatrix",
-    "Bmatrix",
-    "vmatrix",
-    "Vmatrix"
-], {
-}, function(context) {
+defineEnvironment(["matrix", "pmatrix", "bmatrix", "Bmatrix", "vmatrix", "Vmatrix"], {}, function (context) {
     var delimiters = {
         "matrix": null,
         "pmatrix": ["(", ")"],
@@ -5297,11 +6351,10 @@ defineEnvironment([
     }[context.envName];
     var res = {
         type: "array",
-        hskipBeforeAndAfter: false // \hskip -\arraycolsep in amsmath
-    };
-    res = parseArray(context.parser, res);
+        hskipBeforeAndAfter: false };
+    res = parseArray(context.parser, res, dCellStyle(context.envName));
     if (delimiters) {
-        res = new ParseNode("leftright", {
+        res = new _ParseNode2.default("leftright", {
             body: [res],
             left: delimiters[0],
             right: delimiters[1]
@@ -5313,8 +6366,9 @@ defineEnvironment([
 // A cases environment (in amsmath.sty) is almost equivalent to
 // \def\arraystretch{1.2}%
 // \left\{\begin{array}{@{}l@{\quad}l@{}} … \end{array}\right.
-defineEnvironment("cases", {
-}, function(context) {
+// {dcases} is a {cases} environment where cells are set in \displaystyle,
+// as defined in mathtools.sty.
+defineEnvironment(["cases", "dcases"], {}, function (context) {
     var res = {
         type: "array",
         arraystretch: 1.2,
@@ -5326,16 +6380,15 @@ defineEnvironment("cases", {
             // For now we use the metrics for TEXT style which is what we were
             // doing before.  Before attempting to get the current style we
             // should look at TeX's behavior especially for \over and matrices.
-            postgap: Style.TEXT.metrics.quad
-        }, {
+            postgap: 1.0 }, {
             type: "align",
             align: "l",
             pregap: 0,
             postgap: 0
         }]
     };
-    res = parseArray(context.parser, res);
-    res = new ParseNode("leftright", {
+    res = parseArray(context.parser, res, dCellStyle(context.envName));
+    res = new _ParseNode2.default("leftright", {
         body: [res],
         left: "\\{",
         right: "."
@@ -5347,19 +6400,24 @@ defineEnvironment("cases", {
 // except it operates within math mode.
 // Note that we assume \nomallineskiplimit to be zero,
 // so that \strut@ is the same as \strut.
-defineEnvironment("aligned", {
-}, function(context) {
+defineEnvironment("aligned", {}, function (context) {
     var res = {
         type: "array",
-        cols: []
+        cols: [],
+        addJot: true
     };
-    res = parseArray(context.parser, res);
-    var emptyGroup = new ParseNode("ordgroup", [], context.mode);
+    res = parseArray(context.parser, res, "display");
+    // Count number of columns = maximum number of cells in each row.
+    // At the same time, prepend empty group {} at beginning of every second
+    // cell in each row (starting with second cell) so that operators become
+    // binary.  This behavior is implemented in amsmath's \start@aligned.
+    var emptyGroup = new _ParseNode2.default("ordgroup", [], context.mode);
     var numCols = 0;
-    res.value.body.forEach(function(row) {
-        var i;
-        for (i = 1; i < row.length; i += 2) {
-            row[i].value.unshift(emptyGroup);
+    res.value.body.forEach(function (row) {
+        for (var i = 1; i < row.length; i += 2) {
+            // Modify ordgroup node within styling node
+            var ordgroup = row[i].value.value[0];
+            ordgroup.value.unshift(emptyGroup);
         }
         if (numCols < row.length) {
             numCols = row.length;
@@ -5383,11 +6441,32 @@ defineEnvironment("aligned", {
     return res;
 });
 
-},{"./ParseError":6,"./Style":9,"./parseData":21}],17:[function(require,module,exports){
-/* eslint no-unused-vars:0 */
+// A gathered environment is like an array environment with one centered
+// column, but where rows are considered lines so get \jot line spacing
+// and contents are set in \displaystyle.
+defineEnvironment("gathered", {}, function (context) {
+    var res = {
+        type: "array",
+        cols: [{
+            type: "align",
+            align: "c"
+        }],
+        addJot: true
+    };
+    res = parseArray(context.parser, res, "display");
+    return res;
+});
+
+},{"./ParseError":29,"./ParseNode":30}],41:[function(require,module,exports){
+"use strict";
+
+var _unicodeRegexes = require("./unicodeRegexes");
+
+var _fontMetricsData = require("./fontMetricsData");
 
-var Style = require("./Style");
-var cjkRegex = require("./unicodeRegexes").cjkRegex;
+var _fontMetricsData2 = _interopRequireDefault(_fontMetricsData);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * This file contains metrics regarding fonts and individual symbols. The sigma
@@ -5397,11 +6476,12 @@ var cjkRegex = require("./unicodeRegexes").cjkRegex;
  */
 
 // In TeX, there are actually three sets of dimensions, one for each of
-// textstyle, scriptstyle, and scriptscriptstyle.  These are provided in the
-// the arrays below, in that order.
+// textstyle (size index 5 and higher: >=9pt), scriptstyle (size index 3 and 4:
+// 7-8pt), and scriptscriptstyle (size index 1 and 2: 5-6pt).  These are
+// provided in the the arrays below, in that order.
 //
 // The font metrics are stored in fonts cmsy10, cmsy7, and cmsy5 respsectively.
-// This was determined by running the folllowing script:
+// This was determined by running the following script:
 //
 //     latex -interaction=nonstopmode \
 //     '\documentclass{article}\usepackage{amsmath}\begin{document}' \
@@ -5418,79 +6498,62 @@ var cjkRegex = require("./unicodeRegexes").cjkRegex;
 //
 // The output of each of these commands is quite lengthy.  The only part we
 // care about is the FONTDIMEN section. Each value is measured in EMs.
-var sigmas = {
-    slant: [0.250, 0.250, 0.250],       // sigma1
-    space: [0.000, 0.000, 0.000],       // sigma2
-    stretch: [0.000, 0.000, 0.000],     // sigma3
-    shrink: [0.000, 0.000, 0.000],      // sigma4
-    xHeight: [0.431, 0.431, 0.431],     // sigma5
-    quad: [1.000, 1.171, 1.472],        // sigma6
-    extraSpace: [0.000, 0.000, 0.000],  // sigma7
-    num1: [0.677, 0.732, 0.925],        // sigma8
-    num2: [0.394, 0.384, 0.387],        // sigma9
-    num3: [0.444, 0.471, 0.504],        // sigma10
-    denom1: [0.686, 0.752, 1.025],      // sigma11
-    denom2: [0.345, 0.344, 0.532],      // sigma12
-    sup1: [0.413, 0.503, 0.504],        // sigma13
-    sup2: [0.363, 0.431, 0.404],        // sigma14
-    sup3: [0.289, 0.286, 0.294],        // sigma15
-    sub1: [0.150, 0.143, 0.200],        // sigma16
-    sub2: [0.247, 0.286, 0.400],        // sigma17
-    supDrop: [0.386, 0.353, 0.494],     // sigma18
-    subDrop: [0.050, 0.071, 0.100],     // sigma19
-    delim1: [2.390, 1.700, 1.980],      // sigma20
-    delim2: [1.010, 1.157, 1.420],      // sigma21
-    axisHeight: [0.250, 0.250, 0.250]  // sigma22
-};
-
-// These font metrics are extracted from TeX by using
-// \font\a=cmex10
-// \showthe\fontdimenX\a
-// where X is the corresponding variable number. These correspond to the font
-// parameters of the extension fonts (family 3). See the TeXbook, page 441.
-var xi1 = 0;
-var xi2 = 0;
-var xi3 = 0;
-var xi4 = 0;
-var xi5 = 0.431;
-var xi6 = 1;
-var xi7 = 0;
-var xi8 = 0.04;
-var xi9 = 0.111;
-var xi10 = 0.166;
-var xi11 = 0.2;
-var xi12 = 0.6;
-var xi13 = 0.1;
-
-// This value determines how large a pt is, for metrics which are defined in
-// terms of pts.
-// This value is also used in katex.less; if you change it make sure the values
-// match.
-var ptPerEm = 10.0;
-
-// The space between adjacent `|` columns in an array definition. From
-// `\showthe\doublerulesep` in LaTeX.
-var doubleRuleSep = 2.0 / ptPerEm;
-
-/**
- * This is just a mapping from common names to real metrics
- */
-var metrics = {
-    defaultRuleThickness: xi8,
-    bigOpSpacing1: xi9,
-    bigOpSpacing2: xi10,
-    bigOpSpacing3: xi11,
-    bigOpSpacing4: xi12,
-    bigOpSpacing5: xi13,
-    ptPerEm: ptPerEm,
-    doubleRuleSep: doubleRuleSep
+var sigmasAndXis = {
+    slant: [0.250, 0.250, 0.250], // sigma1
+    space: [0.000, 0.000, 0.000], // sigma2
+    stretch: [0.000, 0.000, 0.000], // sigma3
+    shrink: [0.000, 0.000, 0.000], // sigma4
+    xHeight: [0.431, 0.431, 0.431], // sigma5
+    quad: [1.000, 1.171, 1.472], // sigma6
+    extraSpace: [0.000, 0.000, 0.000], // sigma7
+    num1: [0.677, 0.732, 0.925], // sigma8
+    num2: [0.394, 0.384, 0.387], // sigma9
+    num3: [0.444, 0.471, 0.504], // sigma10
+    denom1: [0.686, 0.752, 1.025], // sigma11
+    denom2: [0.345, 0.344, 0.532], // sigma12
+    sup1: [0.413, 0.503, 0.504], // sigma13
+    sup2: [0.363, 0.431, 0.404], // sigma14
+    sup3: [0.289, 0.286, 0.294], // sigma15
+    sub1: [0.150, 0.143, 0.200], // sigma16
+    sub2: [0.247, 0.286, 0.400], // sigma17
+    supDrop: [0.386, 0.353, 0.494], // sigma18
+    subDrop: [0.050, 0.071, 0.100], // sigma19
+    delim1: [2.390, 1.700, 1.980], // sigma20
+    delim2: [1.010, 1.157, 1.420], // sigma21
+    axisHeight: [0.250, 0.250, 0.250], // sigma22
+
+    // These font metrics are extracted from TeX by using tftopl on cmex10.tfm;
+    // they correspond to the font parameters of the extension fonts (family 3).
+    // See the TeXbook, page 441. In AMSTeX, the extension fonts scale; to
+    // match cmex7, we'd use cmex7.tfm values for script and scriptscript
+    // values.
+    defaultRuleThickness: [0.04, 0.049, 0.049], // xi8; cmex7: 0.049
+    bigOpSpacing1: [0.111, 0.111, 0.111], // xi9
+    bigOpSpacing2: [0.166, 0.166, 0.166], // xi10
+    bigOpSpacing3: [0.2, 0.2, 0.2], // xi11
+    bigOpSpacing4: [0.6, 0.611, 0.611], // xi12; cmex7: 0.611
+    bigOpSpacing5: [0.1, 0.143, 0.143], // xi13; cmex7: 0.143
+
+    // The \sqrt rule width is taken from the height of the surd character.
+    // Since we use the same font at all sizes, this thickness doesn't scale.
+    sqrtRuleThickness: [0.04, 0.04, 0.04],
+
+    // This value determines how large a pt is, for metrics which are defined
+    // in terms of pts.
+    // This value is also used in katex.less; if you change it make sure the
+    // values match.
+    ptPerEm: [10.0, 10.0, 10.0],
+
+    // The space between adjacent `|` columns in an array definition. From
+    // `\showthe\doublerulesep` in LaTeX. Equals 2.0 / ptPerEm.
+    doubleRuleSep: [0.2, 0.2, 0.2]
 };
 
 // This map contains a mapping from font name and character code to character
 // metrics, including height, depth, italic correction, and skew (kern from the
 // character to the corresponding \skewchar)
 // This map is generated via `make metrics`. It should not be changed manually.
-var metricMap = require("./fontMetricsData");
+
 
 // These are very rough approximations.  We default to Times New Roman which
 // should have Latin-1 and Cyrillic characters, but may not depending on the
@@ -5638,14 +6701,14 @@ var extraCharacterMap = {
  * Note: the `width` property may be undefined if fontMetricsData.js wasn't
  * built using `Make extended_metrics`.
  */
-var getCharacterMetrics = function(character, style) {
+var getCharacterMetrics = function getCharacterMetrics(character, style) {
     var ch = character.charCodeAt(0);
     if (character[0] in extraCharacterMap) {
         ch = extraCharacterMap[character[0]].charCodeAt(0);
-    } else if (cjkRegex.test(character[0])) {
+    } else if (_unicodeRegexes.cjkRegex.test(character[0])) {
         ch = 'M'.charCodeAt(0);
     }
-    var metrics = metricMap[style][ch];
+    var metrics = _fontMetricsData2.default[style][ch];
     if (metrics) {
         return {
             depth: metrics[0],
@@ -5657,13 +6720,40 @@ var getCharacterMetrics = function(character, style) {
     }
 };
 
+var fontMetricsBySizeIndex = {};
+
+/**
+ * Get the font metrics for a given size.
+ */
+var getFontMetrics = function getFontMetrics(size) {
+    var sizeIndex = void 0;
+    if (size >= 5) {
+        sizeIndex = 0;
+    } else if (size >= 3) {
+        sizeIndex = 1;
+    } else {
+        sizeIndex = 2;
+    }
+    if (!fontMetricsBySizeIndex[sizeIndex]) {
+        var metrics = fontMetricsBySizeIndex[sizeIndex] = {};
+        for (var key in sigmasAndXis) {
+            if (sigmasAndXis.hasOwnProperty(key)) {
+                metrics[key] = sigmasAndXis[key][sizeIndex];
+            }
+        }
+        metrics.cssEmPerMu = metrics.quad / 18;
+    }
+    return fontMetricsBySizeIndex[sizeIndex];
+};
+
 module.exports = {
-    metrics: metrics,
-    sigmas: sigmas,
+    getFontMetrics: getFontMetrics,
     getCharacterMetrics: getCharacterMetrics
 };
 
-},{"./Style":9,"./fontMetricsData":18,"./unicodeRegexes":24}],18:[function(require,module,exports){
+},{"./fontMetricsData":42,"./unicodeRegexes":49}],42:[function(require,module,exports){
+"use strict";
+
 module.exports = {
     "AMS-Regular": {
         "65": [0, 0.68889, 0, 0],
@@ -7417,11 +8507,22 @@ module.exports = {
     }
 };
 
-},{}],19:[function(require,module,exports){
-var utils = require("./utils");
-var ParseError = require("./ParseError");
-var parseData = require("./parseData");
-var ParseNode = parseData.ParseNode;
+},{}],43:[function(require,module,exports){
+"use strict";
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+var _ParseNode = require("./ParseNode");
+
+var _ParseNode2 = _interopRequireDefault(_ParseNode);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /* This file contains a list of functions that we parse, identified by
  * the calls to defineFunction.
@@ -7443,9 +8544,9 @@ var ParseNode = parseData.ParseNode;
  *               - "color": An html color, like "#abc" or "blue"
  *               - "original": The same type as the environment that the
  *                             function being parsed is in (e.g. used for the
- *                             bodies of functions like \color where the first
- *                             argument is special and the second argument is
- *                             parsed normally)
+ *                             bodies of functions like \textcolor where the
+ *                             first argument is special and the second
+ *                             argument is parsed normally)
  *              Other possible types (probably shouldn't be used)
  *               - "text": Text-like (e.g. \text)
  *               - "math": Normal math
@@ -7511,8 +8612,9 @@ function defineFunction(names, props, handler) {
     var data = {
         numArgs: props.numArgs,
         argTypes: props.argTypes,
-        greediness: (props.greediness === undefined) ? 1 : props.greediness,
+        greediness: props.greediness === undefined ? 1 : props.greediness,
         allowedInText: !!props.allowedInText,
+        allowedInMath: props.allowedInMath,
         numOptionalArgs: props.numOptionalArgs || 0,
         infix: !!props.infix,
         handler: handler
@@ -7524,7 +8626,7 @@ function defineFunction(names, props, handler) {
 
 // Since the corresponding buildHTML/buildMathML function expects a
 // list of elements, we normalize for different kinds of arguments
-var ordargument = function(arg) {
+var ordargument = function ordargument(arg) {
     if (arg.type === "ordgroup") {
         return arg.value;
     } else {
@@ -7536,7 +8638,7 @@ var ordargument = function(arg) {
 defineFunction("\\sqrt", {
     numArgs: 1,
     numOptionalArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var index = args[0];
     var body = args[1];
     return {
@@ -7553,15 +8655,12 @@ var textFunctionStyles = {
     "\\textit": "textit"
 };
 
-defineFunction([
-    "\\text", "\\textrm", "\\textsf", "\\texttt", "\\textnormal",
-    "\\textbf", "\\textit"
-], {
+defineFunction(["\\text", "\\textrm", "\\textsf", "\\texttt", "\\textnormal", "\\textbf", "\\textit"], {
     numArgs: 1,
     argTypes: ["text"],
     greediness: 2,
     allowedInText: true
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "text",
@@ -7571,12 +8670,12 @@ defineFunction([
 });
 
 // A two-argument custom color
-defineFunction("\\color", {
+defineFunction("\\textcolor", {
     numArgs: 2,
     allowedInText: true,
     greediness: 3,
     argTypes: ["color", "original"]
-}, function(context, args) {
+}, function (context, args) {
     var color = args[0];
     var body = args[1];
     return {
@@ -7586,10 +8685,18 @@ defineFunction("\\color", {
     };
 });
 
+// \color is handled in Parser.js's parseImplicitGroup
+defineFunction("\\color", {
+    numArgs: 1,
+    allowedInText: true,
+    greediness: 3,
+    argTypes: ["color"]
+}, null);
+
 // An overline
 defineFunction("\\overline", {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "overline",
@@ -7600,7 +8707,7 @@ defineFunction("\\overline", {
 // An underline
 defineFunction("\\underline", {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "underline",
@@ -7613,7 +8720,7 @@ defineFunction("\\rule", {
     numArgs: 2,
     numOptionalArgs: 1,
     argTypes: ["size", "size", "size"]
-}, function(context, args) {
+}, function (context, args) {
     var shift = args[0];
     var width = args[1];
     var height = args[2];
@@ -7630,7 +8737,7 @@ defineFunction("\\rule", {
 defineFunction(["\\kern", "\\mkern"], {
     numArgs: 1,
     argTypes: ["size"]
-}, function(context, args) {
+}, function (context, args) {
     return {
         type: "kern",
         dimension: args[0].value
@@ -7640,7 +8747,7 @@ defineFunction(["\\kern", "\\mkern"], {
 // A KaTeX logo
 defineFunction("\\KaTeX", {
     numArgs: 0
-}, function(context) {
+}, function (context) {
     return {
         type: "katex"
     };
@@ -7648,7 +8755,7 @@ defineFunction("\\KaTeX", {
 
 defineFunction("\\phantom", {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "phantom",
@@ -7657,12 +8764,9 @@ defineFunction("\\phantom", {
 });
 
 // Math class commands except \mathop
-defineFunction([
-    "\\mathord", "\\mathbin", "\\mathrel", "\\mathopen",
-    "\\mathclose", "\\mathpunct", "\\mathinner"
-], {
+defineFunction(["\\mathord", "\\mathbin", "\\mathrel", "\\mathopen", "\\mathclose", "\\mathpunct", "\\mathinner"], {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "mclass",
@@ -7674,11 +8778,11 @@ defineFunction([
 // Build a relation by placing one symbol on top of another
 defineFunction("\\stackrel", {
     numArgs: 2
-}, function(context, args) {
+}, function (context, args) {
     var top = args[0];
     var bottom = args[1];
 
-    var bottomop = new ParseNode("op", {
+    var bottomop = new _ParseNode2.default("op", {
         type: "op",
         limits: true,
         alwaysHandleSupSub: true,
@@ -7686,7 +8790,7 @@ defineFunction("\\stackrel", {
         value: ordargument(bottom)
     }, bottom.mode);
 
-    var supsub = new ParseNode("supsub", {
+    var supsub = new _ParseNode2.default("supsub", {
         base: bottomop,
         sup: top,
         sub: null
@@ -7702,7 +8806,7 @@ defineFunction("\\stackrel", {
 // \mod-type functions
 defineFunction("\\bmod", {
     numArgs: 0
-}, function(context, args) {
+}, function (context, args) {
     return {
         type: "mod",
         modType: "bmod",
@@ -7712,7 +8816,7 @@ defineFunction("\\bmod", {
 
 defineFunction(["\\pod", "\\pmod", "\\mod"], {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "mod",
@@ -7723,38 +8827,25 @@ defineFunction(["\\pod", "\\pmod", "\\mod"], {
 
 // Extra data needed for the delimiter handler down below
 var delimiterSizes = {
-    "\\bigl" : {mclass: "mopen",    size: 1},
-    "\\Bigl" : {mclass: "mopen",    size: 2},
-    "\\biggl": {mclass: "mopen",    size: 3},
-    "\\Biggl": {mclass: "mopen",    size: 4},
-    "\\bigr" : {mclass: "mclose",   size: 1},
-    "\\Bigr" : {mclass: "mclose",   size: 2},
-    "\\biggr": {mclass: "mclose",   size: 3},
-    "\\Biggr": {mclass: "mclose",   size: 4},
-    "\\bigm" : {mclass: "mrel",     size: 1},
-    "\\Bigm" : {mclass: "mrel",     size: 2},
-    "\\biggm": {mclass: "mrel",     size: 3},
-    "\\Biggm": {mclass: "mrel",     size: 4},
-    "\\big"  : {mclass: "mord",     size: 1},
-    "\\Big"  : {mclass: "mord",     size: 2},
-    "\\bigg" : {mclass: "mord",     size: 3},
-    "\\Bigg" : {mclass: "mord",     size: 4}
-};
-
-var delimiters = [
-    "(", ")", "[", "\\lbrack", "]", "\\rbrack",
-    "\\{", "\\lbrace", "\\}", "\\rbrace",
-    "\\lfloor", "\\rfloor", "\\lceil", "\\rceil",
-    "<", ">", "\\langle", "\\rangle", "\\lt", "\\gt",
-    "\\lvert", "\\rvert", "\\lVert", "\\rVert",
-    "\\lgroup", "\\rgroup", "\\lmoustache", "\\rmoustache",
-    "/", "\\backslash",
-    "|", "\\vert", "\\|", "\\Vert",
-    "\\uparrow", "\\Uparrow",
-    "\\downarrow", "\\Downarrow",
-    "\\updownarrow", "\\Updownarrow",
-    "."
-];
+    "\\bigl": { mclass: "mopen", size: 1 },
+    "\\Bigl": { mclass: "mopen", size: 2 },
+    "\\biggl": { mclass: "mopen", size: 3 },
+    "\\Biggl": { mclass: "mopen", size: 4 },
+    "\\bigr": { mclass: "mclose", size: 1 },
+    "\\Bigr": { mclass: "mclose", size: 2 },
+    "\\biggr": { mclass: "mclose", size: 3 },
+    "\\Biggr": { mclass: "mclose", size: 4 },
+    "\\bigm": { mclass: "mrel", size: 1 },
+    "\\Bigm": { mclass: "mrel", size: 2 },
+    "\\biggm": { mclass: "mrel", size: 3 },
+    "\\Biggm": { mclass: "mrel", size: 4 },
+    "\\big": { mclass: "mord", size: 1 },
+    "\\Big": { mclass: "mord", size: 2 },
+    "\\bigg": { mclass: "mord", size: 3 },
+    "\\Bigg": { mclass: "mord", size: 4 }
+};
+
+var delimiters = ["(", ")", "[", "\\lbrack", "]", "\\rbrack", "\\{", "\\lbrace", "\\}", "\\rbrace", "\\lfloor", "\\rfloor", "\\lceil", "\\rceil", "<", ">", "\\langle", "\\rangle", "\\lt", "\\gt", "\\lvert", "\\rvert", "\\lVert", "\\rVert", "\\lgroup", "\\rgroup", "\\lmoustache", "\\rmoustache", "/", "\\backslash", "|", "\\vert", "\\|", "\\Vert", "\\uparrow", "\\Uparrow", "\\downarrow", "\\Downarrow", "\\updownarrow", "\\Updownarrow", "."];
 
 var fontAliases = {
     "\\Bbb": "\\mathbb",
@@ -7763,25 +8854,11 @@ var fontAliases = {
 };
 
 // Single-argument color functions
-defineFunction([
-    "\\blue", "\\orange", "\\pink", "\\red",
-    "\\green", "\\gray", "\\purple",
-    "\\blueA", "\\blueB", "\\blueC", "\\blueD", "\\blueE",
-    "\\tealA", "\\tealB", "\\tealC", "\\tealD", "\\tealE",
-    "\\greenA", "\\greenB", "\\greenC", "\\greenD", "\\greenE",
-    "\\goldA", "\\goldB", "\\goldC", "\\goldD", "\\goldE",
-    "\\redA", "\\redB", "\\redC", "\\redD", "\\redE",
-    "\\maroonA", "\\maroonB", "\\maroonC", "\\maroonD", "\\maroonE",
-    "\\purpleA", "\\purpleB", "\\purpleC", "\\purpleD", "\\purpleE",
-    "\\mintA", "\\mintB", "\\mintC",
-    "\\grayA", "\\grayB", "\\grayC", "\\grayD", "\\grayE",
-    "\\grayF", "\\grayG", "\\grayH", "\\grayI",
-    "\\kaBlue", "\\kaGreen"
-], {
+defineFunction(["\\blue", "\\orange", "\\pink", "\\red", "\\green", "\\gray", "\\purple", "\\blueA", "\\blueB", "\\blueC", "\\blueD", "\\blueE", "\\tealA", "\\tealB", "\\tealC", "\\tealD", "\\tealE", "\\greenA", "\\greenB", "\\greenC", "\\greenD", "\\greenE", "\\goldA", "\\goldB", "\\goldC", "\\goldD", "\\goldE", "\\redA", "\\redB", "\\redC", "\\redD", "\\redE", "\\maroonA", "\\maroonB", "\\maroonC", "\\maroonD", "\\maroonE", "\\purpleA", "\\purpleB", "\\purpleC", "\\purpleD", "\\purpleE", "\\mintA", "\\mintB", "\\mintC", "\\grayA", "\\grayB", "\\grayC", "\\grayD", "\\grayE", "\\grayF", "\\grayG", "\\grayH", "\\grayI", "\\kaBlue", "\\kaGreen"], {
     numArgs: 1,
     allowedInText: true,
     greediness: 3
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "color",
@@ -7795,14 +8872,9 @@ defineFunction([
 // displaystyle. These four groups cover the four possible choices.
 
 // No limits, not symbols
-defineFunction([
-    "\\arcsin", "\\arccos", "\\arctan", "\\arg", "\\cos", "\\cosh",
-    "\\cot", "\\coth", "\\csc", "\\deg", "\\dim", "\\exp", "\\hom",
-    "\\ker", "\\lg", "\\ln", "\\log", "\\sec", "\\sin", "\\sinh",
-    "\\tan", "\\tanh"
-], {
+defineFunction(["\\arcsin", "\\arccos", "\\arctan", "\\arctg", "\\arcctg", "\\arg", "\\ch", "\\cos", "\\cosec", "\\cosh", "\\cot", "\\cotg", "\\coth", "\\csc", "\\ctg", "\\cth", "\\deg", "\\dim", "\\exp", "\\hom", "\\ker", "\\lg", "\\ln", "\\log", "\\sec", "\\sin", "\\sinh", "\\sh", "\\tan", "\\tanh", "\\tg", "\\th"], {
     numArgs: 0
-}, function(context) {
+}, function (context) {
     return {
         type: "op",
         limits: false,
@@ -7812,12 +8884,9 @@ defineFunction([
 });
 
 // Limits, not symbols
-defineFunction([
-    "\\det", "\\gcd", "\\inf", "\\lim", "\\liminf", "\\limsup", "\\max",
-    "\\min", "\\Pr", "\\sup"
-], {
+defineFunction(["\\det", "\\gcd", "\\inf", "\\lim", "\\liminf", "\\limsup", "\\max", "\\min", "\\Pr", "\\sup"], {
     numArgs: 0
-}, function(context) {
+}, function (context) {
     return {
         type: "op",
         limits: true,
@@ -7827,11 +8896,9 @@ defineFunction([
 });
 
 // No limits, symbols
-defineFunction([
-    "\\int", "\\iint", "\\iiint", "\\oint"
-], {
+defineFunction(["\\int", "\\iint", "\\iiint", "\\oint"], {
     numArgs: 0
-}, function(context) {
+}, function (context) {
     return {
         type: "op",
         limits: false,
@@ -7841,13 +8908,9 @@ defineFunction([
 });
 
 // Limits, symbols
-defineFunction([
-    "\\coprod", "\\bigvee", "\\bigwedge", "\\biguplus", "\\bigcap",
-    "\\bigcup", "\\intop", "\\prod", "\\sum", "\\bigotimes",
-    "\\bigoplus", "\\bigodot", "\\bigsqcup", "\\smallint"
-], {
+defineFunction(["\\coprod", "\\bigvee", "\\bigwedge", "\\biguplus", "\\bigcap", "\\bigcup", "\\intop", "\\prod", "\\sum", "\\bigotimes", "\\bigoplus", "\\bigodot", "\\bigsqcup", "\\smallint"], {
     numArgs: 0
-}, function(context) {
+}, function (context) {
     return {
         type: "op",
         limits: true,
@@ -7859,7 +8922,7 @@ defineFunction([
 // \mathop class command
 defineFunction("\\mathop", {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: "op",
@@ -7870,17 +8933,13 @@ defineFunction("\\mathop", {
 });
 
 // Fractions
-defineFunction([
-    "\\dfrac", "\\frac", "\\tfrac",
-    "\\dbinom", "\\binom", "\\tbinom",
-    "\\\\atopfrac" // can’t be entered directly
-], {
+defineFunction(["\\dfrac", "\\frac", "\\tfrac", "\\dbinom", "\\binom", "\\tbinom", "\\\\atopfrac"], {
     numArgs: 2,
     greediness: 2
-}, function(context, args) {
+}, function (context, args) {
     var numer = args[0];
     var denom = args[1];
-    var hasBarLine;
+    var hasBarLine = void 0;
     var leftDelim = null;
     var rightDelim = null;
     var size = "auto";
@@ -7931,7 +8990,7 @@ defineFunction([
 defineFunction(["\\llap", "\\rlap"], {
     numArgs: 1,
     allowedInText: true
-}, function(context, args) {
+}, function (context, args) {
     var body = args[0];
     return {
         type: context.funcName.slice(1),
@@ -7940,24 +8999,17 @@ defineFunction(["\\llap", "\\rlap"], {
 });
 
 // Delimiter functions
-var checkDelimiter = function(delim, context) {
-    if (utils.contains(delimiters, delim.value)) {
+var checkDelimiter = function checkDelimiter(delim, context) {
+    if (_utils2.default.contains(delimiters, delim.value)) {
         return delim;
     } else {
-        throw new ParseError(
-            "Invalid delimiter: '" + delim.value + "' after '" +
-            context.funcName + "'", delim);
+        throw new _ParseError2.default("Invalid delimiter: '" + delim.value + "' after '" + context.funcName + "'", delim);
     }
 };
 
-defineFunction([
-    "\\bigl", "\\Bigl", "\\biggl", "\\Biggl",
-    "\\bigr", "\\Bigr", "\\biggr", "\\Biggr",
-    "\\bigm", "\\Bigm", "\\biggm", "\\Biggm",
-    "\\big",  "\\Big",  "\\bigg",  "\\Bigg"
-], {
+defineFunction(["\\bigl", "\\Bigl", "\\biggl", "\\Biggl", "\\bigr", "\\Bigr", "\\biggr", "\\Biggr", "\\bigm", "\\Bigm", "\\biggm", "\\Biggm", "\\big", "\\Big", "\\bigg", "\\Bigg"], {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var delim = checkDelimiter(args[0], context);
 
     return {
@@ -7968,11 +9020,9 @@ defineFunction([
     };
 });
 
-defineFunction([
-    "\\left", "\\right"
-], {
+defineFunction(["\\left", "\\right"], {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var delim = checkDelimiter(args[0], context);
 
     // \left and \right are caught somewhere in Parser.js, which is
@@ -7985,10 +9035,10 @@ defineFunction([
 
 defineFunction("\\middle", {
     numArgs: 1
-}, function(context, args) {
+}, function (context, args) {
     var delim = checkDelimiter(args[0], context);
     if (!context.parser.leftrightDepth) {
-        throw new ParseError("\\middle without preceding \\left", delim);
+        throw new _ParseError2.default("\\middle without preceding \\left", delim);
     }
 
     return {
@@ -7998,58 +9048,127 @@ defineFunction("\\middle", {
 });
 
 // Sizing functions (handled in Parser.js explicitly, hence no handler)
-defineFunction([
-    "\\tiny", "\\scriptsize", "\\footnotesize", "\\small",
-    "\\normalsize", "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"
-], 0, null);
+defineFunction(["\\tiny", "\\scriptsize", "\\footnotesize", "\\small", "\\normalsize", "\\large", "\\Large", "\\LARGE", "\\huge", "\\Huge"], 0, null);
 
 // Style changing functions (handled in Parser.js explicitly, hence no
 // handler)
-defineFunction([
-    "\\displaystyle", "\\textstyle", "\\scriptstyle",
-    "\\scriptscriptstyle"
-], 0, null);
+defineFunction(["\\displaystyle", "\\textstyle", "\\scriptstyle", "\\scriptscriptstyle"], 0, null);
+
+// Old font changing functions
+defineFunction(["\\rm", "\\sf", "\\tt", "\\bf", "\\it"], 0, null);
 
 defineFunction([
-    // styles
-    "\\mathrm", "\\mathit", "\\mathbf",
+// styles
+"\\mathrm", "\\mathit", "\\mathbf",
 
-    // families
-    "\\mathbb", "\\mathcal", "\\mathfrak", "\\mathscr", "\\mathsf",
-    "\\mathtt",
+// families
+"\\mathbb", "\\mathcal", "\\mathfrak", "\\mathscr", "\\mathsf", "\\mathtt",
+
+// aliases
+"\\Bbb", "\\bold", "\\frak"], {
+    numArgs: 1,
+    greediness: 2
+}, function (context, args) {
+    var body = args[0];
+    var func = context.funcName;
+    if (func in fontAliases) {
+        func = fontAliases[func];
+    }
+    return {
+        type: "font",
+        font: func.slice(1),
+        body: body
+    };
+});
+
+// Accents
+defineFunction(["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot", "\\widehat", "\\widetilde", "\\overrightarrow", "\\overleftarrow", "\\Overrightarrow", "\\overleftrightarrow", "\\overgroup", "\\overlinesegment", "\\overleftharpoon", "\\overrightharpoon"], {
+    numArgs: 1
+}, function (context, args) {
+    var base = args[0];
+
+    var isStretchy = !_utils2.default.contains(["\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve", "\\check", "\\hat", "\\vec", "\\dot"], context.funcName);
+
+    var isShifty = !isStretchy || _utils2.default.contains(["\\widehat", "\\widetilde"], context.funcName);
+
+    return {
+        type: "accent",
+        label: context.funcName,
+        isStretchy: isStretchy,
+        isShifty: isShifty,
+        value: ordargument(base),
+        base: base
+    };
+});
+
+// Text-mode accents
+defineFunction(["\\'", "\\`", "\\^", "\\~", "\\=", "\\u", "\\.", '\\"', "\\r", "\\H", "\\v"], {
+    numArgs: 1,
+    allowedInText: true,
+    allowedInMath: false
+}, function (context, args) {
+    var base = args[0];
+
+    return {
+        type: "accent",
+        label: context.funcName,
+        isStretchy: false,
+        isShifty: true,
+        value: ordargument(base),
+        base: base
+    };
+});
+
+// Horizontal stretchy braces
+defineFunction(["\\overbrace", "\\underbrace"], {
+    numArgs: 1
+}, function (context, args) {
+    var base = args[0];
+    return {
+        type: "horizBrace",
+        label: context.funcName,
+        isOver: /^\\over/.test(context.funcName),
+        base: base
+    };
+});
 
-    // aliases
-    "\\Bbb", "\\bold", "\\frak"
-], {
-    numArgs: 1,
-    greediness: 2
-}, function(context, args) {
+// Stretchy accents under the body
+defineFunction(["\\underleftarrow", "\\underrightarrow", "\\underleftrightarrow", "\\undergroup", "\\underlinesegment", "\\undertilde"], {
+    numArgs: 1
+}, function (context, args) {
     var body = args[0];
-    var func = context.funcName;
-    if (func in fontAliases) {
-        func = fontAliases[func];
-    }
     return {
-        type: "font",
-        font: func.slice(1),
+        type: "accentUnder",
+        label: context.funcName,
+        value: ordargument(body),
         body: body
     };
 });
 
-// Accents
-defineFunction([
-    "\\acute", "\\grave", "\\ddot", "\\tilde", "\\bar", "\\breve",
-    "\\check", "\\hat", "\\vec", "\\dot"
-    // We don't support expanding accents yet
-    // "\\widetilde", "\\widehat"
-], {
+// Stretchy arrows with an optional argument
+defineFunction(["\\xleftarrow", "\\xrightarrow", "\\xLeftarrow", "\\xRightarrow", "\\xleftrightarrow", "\\xLeftrightarrow", "\\xhookleftarrow", "\\xhookrightarrow", "\\xmapsto", "\\xrightharpoondown", "\\xrightharpoonup", "\\xleftharpoondown", "\\xleftharpoonup", "\\xrightleftharpoons", "\\xleftrightharpoons", "\\xLongequal", "\\xtwoheadrightarrow", "\\xtwoheadleftarrow", "\\xLongequal", "\\xtofrom"], {
+    numArgs: 1,
+    numOptionalArgs: 1
+}, function (context, args) {
+    var below = args[0];
+    var body = args[1];
+    return {
+        type: "xArrow", // x for extensible
+        label: context.funcName,
+        body: body,
+        below: below
+    };
+});
+
+// enclose
+defineFunction(["\\cancel", "\\bcancel", "\\xcancel", "\\sout", "\\fbox"], {
     numArgs: 1
-}, function(context, args) {
-    var base = args[0];
+}, function (context, args) {
+    var body = args[0];
     return {
-        type: "accent",
-        accent: context.funcName,
-        base: base
+        type: "enclose",
+        label: context.funcName,
+        body: body
     };
 });
 
@@ -8057,8 +9176,8 @@ defineFunction([
 defineFunction(["\\over", "\\choose", "\\atop"], {
     numArgs: 0,
     infix: true
-}, function(context) {
-    var replaceWith;
+}, function (context) {
+    var replaceWith = void 0;
     switch (context.funcName) {
         case "\\over":
             replaceWith = "\\frac";
@@ -8084,7 +9203,7 @@ defineFunction(["\\\\", "\\cr"], {
     numArgs: 0,
     numOptionalArgs: 1,
     argTypes: ["size"]
-}, function(context, args) {
+}, function (context, args) {
     var size = args[0];
     return {
         type: "cr",
@@ -8096,10 +9215,10 @@ defineFunction(["\\\\", "\\cr"], {
 defineFunction(["\\begin", "\\end"], {
     numArgs: 1,
     argTypes: ["text"]
-}, function(context, args) {
+}, function (context, args) {
     var nameGroup = args[0];
     if (nameGroup.type !== "ordgroup") {
-        throw new ParseError("Invalid environment name", nameGroup);
+        throw new _ParseError2.default("Invalid environment name", nameGroup);
     }
     var name = "";
     for (var i = 0; i < nameGroup.value.length; ++i) {
@@ -8112,167 +9231,609 @@ defineFunction(["\\begin", "\\end"], {
     };
 });
 
-},{"./ParseError":6,"./parseData":21,"./utils":25}],20:[function(require,module,exports){
+},{"./ParseError":29,"./ParseNode":30,"./utils":51}],44:[function(require,module,exports){
+"use strict";
+
 /**
- * These objects store data about MathML nodes. This is the MathML equivalent
- * of the types in domTree.js. Since MathML handles its own rendering, and
- * since we're mainly using MathML to improve accessibility, we don't manage
- * any of the styling state that the plain DOM nodes do.
- *
- * The `toNode` and `toMarkup` functions work simlarly to how they do in
- * domTree.js, creating namespaced DOM nodes and HTML text markup respectively.
+ * Predefined macros for KaTeX.
+ * This can be used to define some commands in terms of others.
  */
 
-var utils = require("./utils");
+// This function might one day accept additional argument and do more things.
+function defineMacro(name, body) {
+  module.exports[name] = body;
+}
+
+//////////////////////////////////////////////////////////////////////
+// basics
+defineMacro("\\bgroup", "{");
+defineMacro("\\egroup", "}");
+defineMacro("\\begingroup", "{");
+defineMacro("\\endgroup", "}");
+
+// We don't distinguish between math and nonmath kerns.
+// (In TeX, the mu unit works only with \mkern.)
+defineMacro("\\mkern", "\\kern");
+
+//////////////////////////////////////////////////////////////////////
+// amsmath.sty
+
+// \def\overset#1#2{\binrel@{#2}\binrel@@{\mathop{\kern\z@#2}\limits^{#1}}}
+defineMacro("\\overset", "\\mathop{#2}\\limits^{#1}");
+defineMacro("\\underset", "\\mathop{#2}\\limits_{#1}");
+
+// \newcommand{\boxed}[1]{\fbox{\m@th$\displaystyle#1$}}
+defineMacro("\\boxed", "\\fbox{\\displaystyle{#1}}");
+
+//TODO: When implementing \dots, should ideally add the \DOTSB indicator
+//      into the macro, to indicate these are binary operators.
+// \def\iff{\DOTSB\;\Longleftrightarrow\;}
+// \def\implies{\DOTSB\;\Longrightarrow\;}
+// \def\impliedby{\DOTSB\;\Longleftarrow\;}
+defineMacro("\\iff", "\\;\\Longleftrightarrow\\;");
+defineMacro("\\implies", "\\;\\Longrightarrow\\;");
+defineMacro("\\impliedby", "\\;\\Longleftarrow\\;");
+
+//////////////////////////////////////////////////////////////////////
+// mathtools.sty
+
+//\providecommand\ordinarycolon{:}
+defineMacro("\\ordinarycolon", ":");
+//\def\vcentcolon{\mathrel{\mathop\ordinarycolon}}
+//TODO(edemaine): Not yet centered. Fix via \raisebox or #726
+defineMacro("\\vcentcolon", "\\mathrel{\\mathop\\ordinarycolon}");
+// \providecommand*\dblcolon{\vcentcolon\mathrel{\mkern-.9mu}\vcentcolon}
+defineMacro("\\dblcolon", "\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon");
+// \providecommand*\coloneqq{\vcentcolon\mathrel{\mkern-1.2mu}=}
+defineMacro("\\coloneqq", "\\vcentcolon\\mathrel{\\mkern-1.2mu}=");
+// \providecommand*\Coloneqq{\dblcolon\mathrel{\mkern-1.2mu}=}
+defineMacro("\\Coloneqq", "\\dblcolon\\mathrel{\\mkern-1.2mu}=");
+// \providecommand*\coloneq{\vcentcolon\mathrel{\mkern-1.2mu}\mathrel{-}}
+defineMacro("\\coloneq", "\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}");
+// \providecommand*\Coloneq{\dblcolon\mathrel{\mkern-1.2mu}\mathrel{-}}
+defineMacro("\\Coloneq", "\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}");
+// \providecommand*\eqqcolon{=\mathrel{\mkern-1.2mu}\vcentcolon}
+defineMacro("\\eqqcolon", "=\\mathrel{\\mkern-1.2mu}\\vcentcolon");
+// \providecommand*\Eqqcolon{=\mathrel{\mkern-1.2mu}\dblcolon}
+defineMacro("\\Eqqcolon", "=\\mathrel{\\mkern-1.2mu}\\dblcolon");
+// \providecommand*\eqcolon{\mathrel{-}\mathrel{\mkern-1.2mu}\vcentcolon}
+defineMacro("\\eqcolon", "\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon");
+// \providecommand*\Eqcolon{\mathrel{-}\mathrel{\mkern-1.2mu}\dblcolon}
+defineMacro("\\Eqcolon", "\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon");
+// \providecommand*\colonapprox{\vcentcolon\mathrel{\mkern-1.2mu}\approx}
+defineMacro("\\colonapprox", "\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx");
+// \providecommand*\Colonapprox{\dblcolon\mathrel{\mkern-1.2mu}\approx}
+defineMacro("\\Colonapprox", "\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx");
+// \providecommand*\colonsim{\vcentcolon\mathrel{\mkern-1.2mu}\sim}
+defineMacro("\\colonsim", "\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim");
+// \providecommand*\Colonsim{\dblcolon\mathrel{\mkern-1.2mu}\sim}
+defineMacro("\\Colonsim", "\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim");
+
+//////////////////////////////////////////////////////////////////////
+// colonequals.sty
+
+// Alternate names for mathtools's macros:
+defineMacro("\\ratio", "\\vcentcolon");
+defineMacro("\\coloncolon", "\\dblcolon");
+defineMacro("\\colonequals", "\\coloneqq");
+defineMacro("\\coloncolonequals", "\\Coloneqq");
+defineMacro("\\equalscolon", "\\eqqcolon");
+defineMacro("\\equalscoloncolon", "\\Eqqcolon");
+defineMacro("\\colonminus", "\\coloneq");
+defineMacro("\\coloncolonminus", "\\Coloneq");
+defineMacro("\\minuscolon", "\\eqcolon");
+defineMacro("\\minuscoloncolon", "\\Eqcolon");
+// \colonapprox name is same in mathtools and colonequals.
+defineMacro("\\coloncolonapprox", "\\Colonapprox");
+// \colonsim name is same in mathtools and colonequals.
+defineMacro("\\coloncolonsim", "\\Colonsim");
+
+// Additional macros, implemented by analogy with mathtools definitions:
+defineMacro("\\simcolon", "\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon");
+defineMacro("\\simcoloncolon", "\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon");
+defineMacro("\\approxcolon", "\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon");
+defineMacro("\\approxcoloncolon", "\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon");
+
+},{}],45:[function(require,module,exports){
+"use strict";
+
+var _classCallCheck2 = require("babel-runtime/helpers/classCallCheck");
+
+var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);
+
+var _createClass2 = require("babel-runtime/helpers/createClass");
+
+var _createClass3 = _interopRequireDefault(_createClass2);
+
+var _utils = require("./utils");
+
+var _utils2 = _interopRequireDefault(_utils);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
 /**
  * This node represents a general purpose MathML node of any type. The
  * constructor requires the type of node to create (for example, `"mo"` or
  * `"mspace"`, corresponding to `<mo>` and `<mspace>` tags).
  */
-function MathNode(type, children) {
-    this.type = type;
-    this.attributes = {};
-    this.children = children || [];
-}
+var MathNode = function () {
+    function MathNode(type, children) {
+        (0, _classCallCheck3.default)(this, MathNode);
 
-/**
- * Sets an attribute on a MathML node. MathML depends on attributes to convey a
- * semantic content, so this is used heavily.
- */
-MathNode.prototype.setAttribute = function(name, value) {
-    this.attributes[name] = value;
-};
+        this.type = type;
+        this.attributes = {};
+        this.children = children || [];
+    }
 
-/**
- * Converts the math node into a MathML-namespaced DOM element.
- */
-MathNode.prototype.toNode = function() {
-    var node = document.createElementNS(
-        "http://www.w3.org/1998/Math/MathML", this.type);
+    /**
+     * Sets an attribute on a MathML node. MathML depends on attributes to convey a
+     * semantic content, so this is used heavily.
+     */
 
-    for (var attr in this.attributes) {
-        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
-            node.setAttribute(attr, this.attributes[attr]);
+
+    (0, _createClass3.default)(MathNode, [{
+        key: "setAttribute",
+        value: function setAttribute(name, value) {
+            this.attributes[name] = value;
         }
-    }
 
-    for (var i = 0; i < this.children.length; i++) {
-        node.appendChild(this.children[i].toNode());
-    }
+        /**
+         * Converts the math node into a MathML-namespaced DOM element.
+         */
 
-    return node;
-};
+    }, {
+        key: "toNode",
+        value: function toNode() {
+            var node = document.createElementNS("http://www.w3.org/1998/Math/MathML", this.type);
 
-/**
- * Converts the math node into an HTML markup string.
- */
-MathNode.prototype.toMarkup = function() {
-    var markup = "<" + this.type;
+            for (var attr in this.attributes) {
+                if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
+                    node.setAttribute(attr, this.attributes[attr]);
+                }
+            }
+
+            for (var i = 0; i < this.children.length; i++) {
+                node.appendChild(this.children[i].toNode());
+            }
 
-    // Add the attributes
-    for (var attr in this.attributes) {
-        if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
-            markup += " " + attr + "=\"";
-            markup += utils.escape(this.attributes[attr]);
-            markup += "\"";
+            return node;
         }
-    }
 
-    markup += ">";
+        /**
+         * Converts the math node into an HTML markup string.
+         */
+
+    }, {
+        key: "toMarkup",
+        value: function toMarkup() {
+            var markup = "<" + this.type;
+
+            // Add the attributes
+            for (var attr in this.attributes) {
+                if (Object.prototype.hasOwnProperty.call(this.attributes, attr)) {
+                    markup += " " + attr + "=\"";
+                    markup += _utils2.default.escape(this.attributes[attr]);
+                    markup += "\"";
+                }
+            }
+
+            markup += ">";
 
-    for (var i = 0; i < this.children.length; i++) {
-        markup += this.children[i].toMarkup();
-    }
+            for (var i = 0; i < this.children.length; i++) {
+                markup += this.children[i].toMarkup();
+            }
 
-    markup += "</" + this.type + ">";
+            markup += "</" + this.type + ">";
 
-    return markup;
-};
+            return markup;
+        }
+    }]);
+    return MathNode;
+}();
 
 /**
  * This node represents a piece of text.
  */
-function TextNode(text) {
-    this.text = text;
-}
-
 /**
- * Converts the text node into a DOM text node.
+ * These objects store data about MathML nodes. This is the MathML equivalent
+ * of the types in domTree.js. Since MathML handles its own rendering, and
+ * since we're mainly using MathML to improve accessibility, we don't manage
+ * any of the styling state that the plain DOM nodes do.
+ *
+ * The `toNode` and `toMarkup` functions work simlarly to how they do in
+ * domTree.js, creating namespaced DOM nodes and HTML text markup respectively.
  */
-TextNode.prototype.toNode = function() {
-    return document.createTextNode(this.text);
-};
 
-/**
- * Converts the text node into HTML markup (which is just the text itself).
- */
-TextNode.prototype.toMarkup = function() {
-    return utils.escape(this.text);
-};
+var TextNode = function () {
+    function TextNode(text) {
+        (0, _classCallCheck3.default)(this, TextNode);
+
+        this.text = text;
+    }
+
+    /**
+     * Converts the text node into a DOM text node.
+     */
+
+
+    (0, _createClass3.default)(TextNode, [{
+        key: "toNode",
+        value: function toNode() {
+            return document.createTextNode(this.text);
+        }
+
+        /**
+         * Converts the text node into HTML markup (which is just the text itself).
+         */
+
+    }, {
+        key: "toMarkup",
+        value: function toMarkup() {
+            return _utils2.default.escape(this.text);
+        }
+    }]);
+    return TextNode;
+}();
 
 module.exports = {
     MathNode: MathNode,
     TextNode: TextNode
 };
 
-},{"./utils":25}],21:[function(require,module,exports){
-/**
- * The resulting parse tree nodes of the parse tree.
- *
- * It is possible to provide position information, so that a ParseNode can
- * fulfil a role similar to a Token in error reporting.
- * For details on the corresponding properties see Token constructor.
- * Providing such information can lead to better error reporting.
- *
- * @param {string}  type       type of node, like e.g. "ordgroup"
- * @param {?object} value      type-specific representation of the node
- * @param {string}  mode       parse mode in action for this node,
- *                             "math" or "text"
- * @param {Token=} firstToken  first token of the input for this node,
- *                             will omit position information if unset
- * @param {Token=} lastToken   last token of the input for this node,
- *                             will default to firstToken if unset
- */
-function ParseNode(type, value, mode, firstToken, lastToken) {
-    this.type = type;
-    this.value = value;
-    this.mode = mode;
-    if (firstToken && (!lastToken || lastToken.lexer === firstToken.lexer)) {
-        this.lexer = firstToken.lexer;
-        this.start = firstToken.start;
-        this.end = (lastToken || firstToken).end;
-    }
-}
+},{"./utils":51,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],46:[function(require,module,exports){
+'use strict';
 
-module.exports = {
-    ParseNode: ParseNode
-};
+var _Parser = require('./Parser');
 
+var _Parser2 = _interopRequireDefault(_Parser);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
 
-},{}],22:[function(require,module,exports){
 /**
- * Provides a single function for parsing an expression using a Parser
- * TODO(emily): Remove this
+ * Parses an expression using a Parser, then returns the parsed result.
  */
+var parseTree = function parseTree(toParse, settings) {
+  if (!(typeof toParse === 'string' || toParse instanceof String)) {
+    throw new TypeError('KaTeX can only parse string typed expression');
+  }
+  var parser = new _Parser2.default(toParse, settings);
+
+  return parser.parse();
+}; /**
+    * Provides a single function for parsing an expression using a Parser
+    * TODO(emily): Remove this
+    */
+
+module.exports = parseTree;
 
-var Parser = require("./Parser");
+},{"./Parser":31}],47:[function(require,module,exports){
+"use strict";
 
 /**
- * Parses an expression using a Parser, then returns the parsed result.
+ * This file provides support to buildMathML.js and buildHTML.js
+ * for stretchy wide elements rendered from SVG files
+ * and other CSS trickery.
  */
-var parseTree = function(toParse, settings) {
-    if (!(typeof toParse === 'string' || toParse instanceof String)) {
-        throw new TypeError('KaTeX can only parse string typed expression');
+
+var buildCommon = require("./buildCommon");
+var mathMLTree = require("./mathMLTree");
+var utils = require("./utils");
+
+var stretchyCodePoint = {
+    widehat: "^",
+    widetilde: "~",
+    undertilde: "~",
+    overleftarrow: "\u2190",
+    underleftarrow: "\u2190",
+    xleftarrow: "\u2190",
+    overrightarrow: "\u2192",
+    underrightarrow: "\u2192",
+    xrightarrow: "\u2192",
+    underbrace: "\u23B5",
+    overbrace: "\u23DE",
+    overleftrightarrow: "\u2194",
+    underleftrightarrow: "\u2194",
+    xleftrightarrow: "\u2194",
+    Overrightarrow: "\u21D2",
+    xRightarrow: "\u21D2",
+    overleftharpoon: "\u21BC",
+    xleftharpoonup: "\u21BC",
+    overrightharpoon: "\u21C0",
+    xrightharpoonup: "\u21C0",
+    xLeftarrow: "\u21D0",
+    xLeftrightarrow: "\u21D4",
+    xhookleftarrow: "\u21A9",
+    xhookrightarrow: "\u21AA",
+    xmapsto: "\u21A6",
+    xrightharpoondown: "\u21C1",
+    xleftharpoondown: "\u21BD",
+    xrightleftharpoons: "\u21CC",
+    xleftrightharpoons: "\u21CB",
+    xtwoheadleftarrow: "\u219E",
+    xtwoheadrightarrow: "\u21A0",
+    xLongequal: "=",
+    xtofrom: "\u21C4"
+};
+
+var mathMLnode = function mathMLnode(label) {
+    var node = new mathMLTree.MathNode("mo", [new mathMLTree.TextNode(stretchyCodePoint[label.substr(1)])]);
+    node.setAttribute("stretchy", "true");
+    return node;
+};
+
+// In the katexImagesData object just below, the dimensions all
+// correspond to path geometry inside the relevant SVG.
+// For example, \rightarrow uses the same arrowhead as glyph U+2192
+// from the KaTeX Main font. The scaling factor is 1000.
+// That is, inside the font, that arrowhead is 522 units tall, which
+// corresponds to 0.522 em inside the document.
+// And for extensible arrows, we split that distance around the math axis.
+
+var katexImagesData = {
+    // height, depth, imageName, minWidth
+    overleftarrow: [0.522, 0, "leftarrow", 0.5],
+    underleftarrow: [0.522, 0, "leftarrow", 0.5],
+    xleftarrow: [0.261, 0.261, "leftarrow", 0.783],
+    overrightarrow: [0.522, 0, "rightarrow", 0.5],
+    underrightarrow: [0.522, 0, "rightarrow", 0.5],
+    xrightarrow: [0.261, 0.261, "rightarrow", 0.783],
+    overbrace: [0.548, 0, "overbrace", 1.6],
+    underbrace: [0.548, 0, "underbrace", 1.6],
+    overleftrightarrow: [0.522, 0, "leftrightarrow", 0.5],
+    underleftrightarrow: [0.522, 0, "leftrightarrow", 0.5],
+    xleftrightarrow: [0.261, 0.261, "leftrightarrow", 0.783],
+    Overrightarrow: [0.56, 0, "doublerightarrow", 0.5],
+    xLeftarrow: [0.28, 0.28, "doubleleftarrow", 0.783],
+    xRightarrow: [0.28, 0.28, "doublerightarrow", 0.783],
+    xLeftrightarrow: [0.28, 0.28, "doubleleftrightarrow", 0.955],
+    overleftharpoon: [0.522, 0, "leftharpoon", 0.5],
+    overrightharpoon: [0.522, 0, "rightharpoon", 0.5],
+    xleftharpoonup: [0.261, 0.261, "leftharpoon", 0.783],
+    xrightharpoonup: [0.261, 0.261, "rightharpoon", 0.783],
+    xhookleftarrow: [0.261, 0.261, "hookleftarrow", 0.87],
+    xhookrightarrow: [0.261, 0.261, "hookrightarrow", 0.87],
+    overlinesegment: [0.414, 0, "linesegment", 0.5],
+    underlinesegment: [0.414, 0, "linesegment", 0.5],
+    xmapsto: [0.261, 0.261, "mapsto", 0.783],
+    xrightharpoondown: [0.261, 0.261, "rightharpoondown", 0.783],
+    xleftharpoondown: [0.261, 0.261, "leftharpoondown", 0.783],
+    xrightleftharpoons: [0.358, 0.358, "rightleftharpoons", 0.716],
+    xleftrightharpoons: [0.358, 0.358, "leftrightharpoons", 0.716],
+    overgroup: [0.342, 0, "overgroup", 0.87],
+    undergroup: [0.342, 0, "undergroup", 0.87],
+    xtwoheadleftarrow: [0.167, 0.167, "twoheadleftarrow", 0.86],
+    xtwoheadrightarrow: [0.167, 0.167, "twoheadrightarrow", 0.86],
+    xLongequal: [0.167, 0.167, "longequal", 0.5],
+    xtofrom: [0.264, 0.264, "tofrom", 0.86]
+};
+
+// Many of the KaTeX SVG images have been adapted from glyphs in KaTeX fonts.
+// Copyright (c) 2009-2010, Design Science, Inc. (<www.mathjax.org>)
+// Copyright (c) 2014-2017 Khan Academy (<www.khanacademy.org>)
+// Licensed under the SIL Open Font License, Version 1.1.
+// See \nhttp://scripts.sil.org/OFL
+
+// Nested SVGs
+//    Many of the KaTeX SVG images contain a nested SVG. This is done to
+//    achieve a stretchy image while avoiding distortion of arrowheads or
+//    brace corners.
+
+//    The inner SVG typically contains a very long (400 em) arrow.
+
+//    The outer SVG acts like a window that exposes only part of the inner SVG.
+//    The outer SVG will grow or shrink to match the dimensions set by CSS.
+
+//    The inner SVG always has a longer, thinner aspect ratio than the outer
+//    SVG. After the inner SVG fills 100% of the height of the outer SVG,
+//    there is a long arrow shaft left over. That left-over shaft is not shown.
+//    Instead, it is sliced off because the inner SVG is set to
+//    "preserveAspectRatio='... slice'".
+
+//    Thus, the reader sees an arrow that matches the subject matter width
+//    without distortion.
+
+//    Some functions, such as \cancel, need to vary their aspect ratio. These
+//    functions do not get the nested SVG treatment.
+
+// Second Brush Stroke
+//    Low resolution monitors struggle to display images in fine detail.
+//    So browsers apply anti-aliasing. A long straight arrow shaft therefore
+//    will sometimes appear as if it has a blurred edge.
+
+//    To mitigate this, these SVG files contain a second "brush-stroke" on the
+//    arrow shafts. That is, a second long thin rectangular SVG path has been
+//    written directly on top of each arrow shaft. This reinforcement causes
+//    some of the screen pixels to display as black instead of the anti-aliased
+//    gray pixel that a  single path would generate. So we get arrow shafts
+//    whose edges appear to be sharper.
+
+var svgPath = {
+    doubleleftarrow: "<path d='M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z'/>",
+
+    doublerightarrow: "<path d='M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z'/>",
+
+    leftarrow: "<path d='M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z'/>",
+
+    rightarrow: "<path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/>"
+};
+
+var innerSVG = {
+    // Since bcancel's SVG is inline and it omits the viewBox attribute,
+    // it's stroke-width will not vary with span area.
+    bcancel: "<line x1='0' y1='0' x2='100%' y2='100%' stroke-width='0.046em'/>",
+
+    cancel: "<line x1='0' y1='100%' x2='100%' y2='0' stroke-width='0.046em'/>",
+
+    // The doubleleftarrow geometry is from glyph U+21D0 in the font KaTeX Main
+    doubleleftarrow: "><svg viewBox='0 0 400000 549'\npreserveAspectRatio='xMinYMin slice'>" + svgPath["doubleleftarrow"] + "</svg>",
+
+    // doubleleftrightarrow is from glyph U+21D4 in font KaTeX Main
+    doubleleftrightarrow: "><svg width='50.1%' viewBox='0 0 400000 549'\npreserveAspectRatio='xMinYMin slice'>" + svgPath["doubleleftarrow"] + "</svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 549' preserveAspectRatio='xMaxYMin\n slice'>" + svgPath["doublerightarrow"] + "</svg>",
+
+    // doublerightarrow is from glyph U+21D2 in font KaTeX Main
+    doublerightarrow: "><svg viewBox='0 0 400000 549'\npreserveAspectRatio='xMaxYMin slice'>" + svgPath["doublerightarrow"] + "</svg>",
+
+    // hookleftarrow is from glyph U+21A9 in font KaTeX Main
+    hookleftarrow: "><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'>" + svgPath["leftarrow"] + "</svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'><path d='M399859 241c-764 0 0 0 0 0 40-3.3 68.7\n -15.7 86-37 10-12 15-25.3 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5\n -23-17.3-1.3-26-8-26-20 0-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21\n 16.7 14 11.2 21 33.5 21 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z\n M0 281v-40h399859v40z'/></svg>",
+
+    // hookrightarrow is from glyph U+21AA in font KaTeX Main
+    hookrightarrow: "><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'><path d='M400000 281\nH103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5-83.5C70.8 58.2 104 47 142 47\nc16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3-68.7 15.7-86 37-10 12-15 25.3\n-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21 71.5 23h399859zM103 281v-40\nh399897v40z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMaxYMin slice'>" + svgPath["rightarrow"] + "</svg>",
+
+    // leftarrow is from glyph U+2190 in font KaTeX Main
+    leftarrow: "><svg viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin\n slice'>" + svgPath["leftarrow"] + "</svg>",
+
+    // leftharpoon is from glyph U+21BD in font KaTeX Main
+    leftharpoon: "><svg viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin\n slice'><path d='M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z'/></svg>",
+
+    // leftharpoondown is from glyph U+21BD in font KaTeX Main
+    leftharpoondown: "><svg viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'><path d=\"M7 241c-4 4-6.333 8.667-7 14\n 0 5.333.667 9 2 11s5.333 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667\n 6.333 16.333 9 17 2 .667 5 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21\n -32-87.333-82.667-157.667-152-211l-3-3h399907v-40z\nM93 281 H400000 v-40L7 241z\"/></svg>",
+
+    // leftrightarrow is from glyph U+2194 in font KaTeX Main
+    leftrightarrow: "><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'>" + svgPath["leftarrow"] + "</svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'>" + svgPath["rightarrow"] + "</svg>",
+
+    // leftrightharpoons is from glyphs U+21BC/21B1 in font KaTeX Main
+    leftrightharpoons: "><svg width='50.1%' viewBox='0 0 400000 716'\npreserveAspectRatio='xMinYMin slice'><path d='M0 267c.7 5.3\n 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52\n 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8\n 16c-42 98.7-107.3 174.7-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26\nv40h399900v-40zM0 435v40h400000v-40zm0 0v40h400000v-40z'/></svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 716' preserveAspectRatio='xMaxYMin\n slice'><path d='M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z'/></svg>",
+
+    linesegment: "><svg width='50.1%' viewBox='0 0 400000 414'\npreserveAspectRatio='xMinYMin slice'><path d='M40 187V40H0\nv334h40V227h399960v-40zm0 0V40H0v334h40V227h399960v-40z'/></svg><svg x='50%'\nwidth='50%' viewBox='0 0 400000 414' preserveAspectRatio='xMaxYMin slice'>\n<path d='M0 187v40h399960v147h40V40h-40v147zm0\n 0v40h399960v147h40V40h-40v147z'/></svg>",
+
+    longequal: " viewBox='0 0 100 334' preserveAspectRatio='none'>\n<path d='M0 50h100v40H0zm0 194h100v40H0z'/>",
+
+    // mapsto is from glyph U+21A6 in font KaTeX Main
+    mapsto: "><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'><path d='M40 241c740\n 0 0 0 0 0v-75c0-40.7-.2-64.3-.5-71-.3-6.7-2.2-11.7-5.5-15-4-4-8.7-6-14-6-5.3 0\n-10 2-14 6C2.7 83.3.8 91.3.5 104 .2 116.7 0 169 0 261c0 114 .7 172.3 2 175 4 8\n 10 12 18 12 5.3 0 10-2 14-6 3.3-3.3 5.2-8.3 5.5-15 .3-6.7.5-30.3.5-71v-75\nh399960zm0 0v40h399960v-40z'/></svg><svg x='50%' width='50%' viewBox='0 0\n 400000 522' preserveAspectRatio='xMaxYMin slice'>" + svgPath["rightarrow"] + "</svg>",
+
+    // overbrace is from glyphs U+23A9/23A8/23A7 in font KaTeX_Size4-Regular
+    overbrace: "><svg width='25.5%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6\nv-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117-45 179-50h399577v120H403\nc-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7 5-6 9-10 13-.7 1-7.3 1-20 1\nH6z'/></svg><svg x='25%' width='50%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMidYMin slice'><path d='M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg>\n<svg x='74.9%' width='24.1%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMaxYMin slice'><path d='M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg>",
+
+    // overgroup is from the MnSymbol package (public domain)
+    overgroup: "><svg width='50.1%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMinYMin slice'><path d='M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMaxYMin slice'><path d='M0 80h399565\nc371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0 3-1 3-3v-38\nc-76-158-257-219-435-219H0z'/></svg>",
+
+    // rightarrow is from glyph U+2192 in font KaTeX Main
+    rightarrow: "><svg viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'>" + svgPath["rightarrow"] + "</svg>",
+
+    // rightharpoon is from glyph U+21C0 in font KaTeX Main
+    rightharpoon: "><svg viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'><path d='M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z'/></svg>",
+
+    // rightharpoondown is from glyph U+21C1 in font KaTeX Main
+    rightharpoondown: "><svg viewBox='0 0 400000 522'\npreserveAspectRatio='xMaxYMin slice'><path d='M399747 511\nc0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217\n 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3\n -10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3\n 8.7-5 14-5 16zM0 241v40h399900v-40z'/></svg>",
+
+    // rightleftharpoons is from glyph U+21CC in font KaTeX Main
+    rightleftharpoons: "><svg width='50%' viewBox='0 0 400000 716'\npreserveAspectRatio='xMinYMin slice'><path d='M7 435c-4 4\n-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12 10c90.7 54 156 130 196 228 3.3 10.7 6.3\n 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7\n-157.7-152-211l-3-3h399907v-40H7zm93 0v40h399900v-40zM0 241v40h399900v-40z\nm0 0v40h399900v-40z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 716'\npreserveAspectRatio='xMaxYMin slice'><path d='M0 241v40\nh399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3\n-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42\n 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5zm0 0v40h399900v-40z\n m100 194v40h399900v-40zm0 0v40h399900v-40z'/></svg>",
+
+    // tilde1 is a modified version of a glyph from the MnSymbol package
+    tilde1: " viewBox='0 0 600 260' preserveAspectRatio='none'>\n<path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z'/>",
+
+    // Ditto tilde2, tilde3, and tilde 4
+    tilde2: " viewBox='0 0 1033 286' preserveAspectRatio='none'>\n<path d='M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z'/>",
+
+    tilde3: " viewBox='0 0 2339 306' preserveAspectRatio='none'>\n<path d='M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z'/>",
+
+    tilde4: " viewBox='0 0 2340 312' preserveAspectRatio='none'>\n<path d='M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z'/>",
+
+    // tofrom is from glyph U+21C4 in font KaTeX AMS Regular
+    tofrom: "><svg width='50.1%' viewBox='0 0 400000 528'\npreserveAspectRatio='xMinYMin slice'><path d='M0 147h400000\nv40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37\n-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8c28.7-32 52-65.7 70-101 10.7-23.3\n 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3 68 321 0 361zm0-174v-40h399900\nv40zm100 154v40h399900v-40z'/></svg><svg x='50%' width='50%' viewBox='0 0\n 400000 528' preserveAspectRatio='xMaxYMin slice'><path\nd='M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7\n 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32-52 65.7-70 101-10.7\n 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142-167z\n M100 147v40h399900v-40zM0 341v40h399900v-40z'/></svg>",
+
+    // twoheadleftarrow is from glyph U+219E in font KaTeX AMS Regular
+    twoheadleftarrow: "><svg viewBox='0 0 400000 334'\npreserveAspectRatio='xMinYMin slice'><path d='M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z'/>\n</svg>",
+
+    // twoheadrightarrow is from glyph U+21A0 in font KaTeX AMS Regular
+    twoheadrightarrow: "><svg viewBox='0 0 400000 334'\npreserveAspectRatio='xMaxYMin slice'><path d='M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z'/>\n</svg>",
+
+    // underbrace is from glyphs U+23A9/23A8/23A7 in font KaTeX_Size4-Regular
+    underbrace: "><svg width='25.1%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17\nc12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5\n 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5\nh399450v120H429l-6-1c-124.688-8-235-61.7-331-161C60.687 138.7 32.312 99.3 7 54\nL0 41V6z'/></svg><svg x='25%' width='50%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMidYMin slice'><path d='M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg>\n<svg x='74.9%' width='25.1%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6\nv35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897\nc43.3-7 81-15 113-26 100.7-33 179.7-91 237-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1\nh17z'/></svg>",
+
+    // undergroup is from the MnSymbol package (public domain)
+    undergroup: "><svg width='50.1%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMinYMin slice'><path d='M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMaxYMin slice'><path d='M0 262h399565\nc371 0 266.7-149.4 414-180 5.9-1.2 18 0 18 0 2 0 3 1 3 3v38c-76 158-257\n 219-435 219H0z'/></svg>",
+
+    // widehat1 is a modified version of a glyph from the MnSymbol package
+    widehat1: " viewBox='0 0 1062 239' preserveAspectRatio='none'>\n<path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/>",
+
+    // Ditto widehat2, widehat3, and widehat4
+    widehat2: " viewBox='0 0 2364 300' preserveAspectRatio='none'>\n<path d='M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/>",
+
+    widehat3: " viewBox='0 0 2364 360' preserveAspectRatio='none'>\n<path d='M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/>",
+
+    widehat4: " viewBox='0 0 2364 420' preserveAspectRatio='none'>\n<path d='M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/>",
+
+    xcancel: "<line x1='0' y1='0' x2='100%' y2='100%' stroke-width='0.046em'/>\n<line x1='0' y1='100%' x2='100%' y2='0' stroke-width='0.046em'/>"
+};
+
+var svgSpan = function svgSpan(group, options) {
+    // Create a span with inline SVG for the element.
+    var label = group.value.label.substr(1);
+    var height = 0;
+    var depth = 0;
+    var imageName = "";
+    var minWidth = 0;
+
+    if (utils.contains(["widehat", "widetilde", "undertilde"], label)) {
+        // There are four SVG images available for each function.
+        // Choose a taller image when there are more characters.
+        var numChars = group.value.value.length;
+        if (numChars > 5) {
+            height = 0.312;
+            imageName = (label === "widehat" ? "widehat" : "tilde") + "4";
+        } else {
+            var imgIndex = [1, 1, 2, 2, 3, 3][numChars];
+            if (label === "widehat") {
+                height = [0, 0.24, 0.30, 0.30, 0.36, 0.36][numChars];
+                imageName = "widehat" + imgIndex;
+            } else {
+                height = [0, 0.26, 0.30, 0.30, 0.34, 0.34][numChars];
+                imageName = "tilde" + imgIndex;
+            }
+        }
+    } else {
+        var imgData = katexImagesData[label];
+        height = imgData[0];
+        depth = imgData[1];
+        imageName = imgData[2];
+        minWidth = imgData[3];
+    }
+
+    var span = buildCommon.makeSpan([], [], options);
+    span.height = height;
+    span.depth = depth;
+    var totalHeight = height + depth;
+    span.style.height = totalHeight + "em";
+    if (minWidth > 0) {
+        span.style.minWidth = minWidth + "em";
     }
-    var parser = new Parser(toParse, settings);
 
-    return parser.parse();
+    span.innerHTML = "<svg width='100%' height='" + totalHeight + "em'" + innerSVG[imageName] + "</svg>";
+
+    return span;
 };
 
-module.exports = parseTree;
+var encloseSpan = function encloseSpan(inner, label, pad, options) {
+    // Return an image span for \cancel, \bcancel, \xcancel, or \fbox
+    var img = void 0;
+    var totalHeight = inner.height + inner.depth + 2 * pad;
+
+    if (label === "fbox") {
+        img = buildCommon.makeSpan(["stretchy", label], [], options);
+        if (options.color) {
+            img.style.borderColor = options.getColor();
+        }
+    } else {
+        img = buildCommon.makeSpan([], [], options);
+        img.innerHTML = "<svg width='100%' height='" + totalHeight + "em'>" + innerSVG[label] + "</svg>";
+    }
+
+    img.height = totalHeight;
+    img.style.height = totalHeight + "em";
+
+    return img;
+};
+
+module.exports = {
+    encloseSpan: encloseSpan,
+    mathMLnode: mathMLnode,
+    svgSpan: svgSpan
+};
+
+},{"./buildCommon":34,"./mathMLTree":45,"./utils":51}],48:[function(require,module,exports){
+"use strict";
 
-},{"./Parser":7}],23:[function(require,module,exports){
 /**
  * This file holds a list of all no-argument functions and single-character
  * symbols (like 'a' or ';').
@@ -8296,12 +9857,16 @@ module.exports = {
     text: {}
 };
 
-function defineSymbol(mode, font, group, replace, name) {
+function defineSymbol(mode, font, group, replace, name, acceptUnicodeChar) {
     module.exports[mode][name] = {
         font: font,
         group: group,
         replace: replace
     };
+
+    if (acceptUnicodeChar) {
+        module.exports[mode][replace] = module.exports[mode][name];
+    }
 }
 
 // Some abbreviations for commonly used strings.
@@ -8332,195 +9897,201 @@ var textord = "textord";
 
 // Relation Symbols
 defineSymbol(math, main, rel, "\u2261", "\\equiv");
-defineSymbol(math, main, rel, "\u227a", "\\prec");
-defineSymbol(math, main, rel, "\u227b", "\\succ");
-defineSymbol(math, main, rel, "\u223c", "\\sim");
-defineSymbol(math, main, rel, "\u22a5", "\\perp");
-defineSymbol(math, main, rel, "\u2aaf", "\\preceq");
-defineSymbol(math, main, rel, "\u2ab0", "\\succeq");
+defineSymbol(math, main, rel, "\u227A", "\\prec");
+defineSymbol(math, main, rel, "\u227B", "\\succ");
+defineSymbol(math, main, rel, "\u223C", "\\sim");
+defineSymbol(math, main, rel, "\u22A5", "\\perp");
+defineSymbol(math, main, rel, "\u2AAF", "\\preceq");
+defineSymbol(math, main, rel, "\u2AB0", "\\succeq");
 defineSymbol(math, main, rel, "\u2243", "\\simeq");
 defineSymbol(math, main, rel, "\u2223", "\\mid");
-defineSymbol(math, main, rel, "\u226a", "\\ll");
-defineSymbol(math, main, rel, "\u226b", "\\gg");
-defineSymbol(math, main, rel, "\u224d", "\\asymp");
+defineSymbol(math, main, rel, "\u226A", "\\ll");
+defineSymbol(math, main, rel, "\u226B", "\\gg");
+defineSymbol(math, main, rel, "\u224D", "\\asymp");
 defineSymbol(math, main, rel, "\u2225", "\\parallel");
-defineSymbol(math, main, rel, "\u22c8", "\\bowtie");
+defineSymbol(math, main, rel, "\u22C8", "\\bowtie");
 defineSymbol(math, main, rel, "\u2323", "\\smile");
 defineSymbol(math, main, rel, "\u2291", "\\sqsubseteq");
 defineSymbol(math, main, rel, "\u2292", "\\sqsupseteq");
 defineSymbol(math, main, rel, "\u2250", "\\doteq");
 defineSymbol(math, main, rel, "\u2322", "\\frown");
-defineSymbol(math, main, rel, "\u220b", "\\ni");
-defineSymbol(math, main, rel, "\u221d", "\\propto");
-defineSymbol(math, main, rel, "\u22a2", "\\vdash");
-defineSymbol(math, main, rel, "\u22a3", "\\dashv");
-defineSymbol(math, main, rel, "\u220b", "\\owns");
+defineSymbol(math, main, rel, "\u220B", "\\ni");
+defineSymbol(math, main, rel, "\u221D", "\\propto");
+defineSymbol(math, main, rel, "\u22A2", "\\vdash");
+defineSymbol(math, main, rel, "\u22A3", "\\dashv");
+defineSymbol(math, main, rel, "\u220B", "\\owns");
 
 // Punctuation
-defineSymbol(math, main, punct, "\u002e", "\\ldotp");
-defineSymbol(math, main, punct, "\u22c5", "\\cdotp");
+defineSymbol(math, main, punct, ".", "\\ldotp");
+defineSymbol(math, main, punct, "\u22C5", "\\cdotp");
 
 // Misc Symbols
-defineSymbol(math, main, textord, "\u0023", "\\#");
-defineSymbol(text, main, textord, "\u0023", "\\#");
-defineSymbol(math, main, textord, "\u0026", "\\&");
-defineSymbol(text, main, textord, "\u0026", "\\&");
+defineSymbol(math, main, textord, "#", "\\#");
+defineSymbol(text, main, textord, "#", "\\#");
+defineSymbol(math, main, textord, "&", "\\&");
+defineSymbol(text, main, textord, "&", "\\&");
 defineSymbol(math, main, textord, "\u2135", "\\aleph");
 defineSymbol(math, main, textord, "\u2200", "\\forall");
-defineSymbol(math, main, textord, "\u210f", "\\hbar");
+defineSymbol(math, main, textord, "\u210F", "\\hbar");
 defineSymbol(math, main, textord, "\u2203", "\\exists");
 defineSymbol(math, main, textord, "\u2207", "\\nabla");
-defineSymbol(math, main, textord, "\u266d", "\\flat");
+defineSymbol(math, main, textord, "\u266D", "\\flat");
 defineSymbol(math, main, textord, "\u2113", "\\ell");
-defineSymbol(math, main, textord, "\u266e", "\\natural");
+defineSymbol(math, main, textord, "\u266E", "\\natural");
 defineSymbol(math, main, textord, "\u2663", "\\clubsuit");
 defineSymbol(math, main, textord, "\u2118", "\\wp");
-defineSymbol(math, main, textord, "\u266f", "\\sharp");
+defineSymbol(math, main, textord, "\u266F", "\\sharp");
 defineSymbol(math, main, textord, "\u2662", "\\diamondsuit");
-defineSymbol(math, main, textord, "\u211c", "\\Re");
+defineSymbol(math, main, textord, "\u211C", "\\Re");
 defineSymbol(math, main, textord, "\u2661", "\\heartsuit");
 defineSymbol(math, main, textord, "\u2111", "\\Im");
 defineSymbol(math, main, textord, "\u2660", "\\spadesuit");
 
 // Math and Text
 defineSymbol(math, main, textord, "\u2020", "\\dag");
+defineSymbol(text, main, textord, "\u2020", "\\dag");
+defineSymbol(text, main, textord, "\u2020", "\\textdagger");
 defineSymbol(math, main, textord, "\u2021", "\\ddag");
+defineSymbol(text, main, textord, "\u2021", "\\ddag");
+defineSymbol(text, main, textord, "\u2020", "\\textdaggerdbl");
 
 // Large Delimiters
-defineSymbol(math, main, close, "\u23b1", "\\rmoustache");
-defineSymbol(math, main, open, "\u23b0", "\\lmoustache");
-defineSymbol(math, main, close, "\u27ef", "\\rgroup");
-defineSymbol(math, main, open, "\u27ee", "\\lgroup");
+defineSymbol(math, main, close, "\u23B1", "\\rmoustache");
+defineSymbol(math, main, open, "\u23B0", "\\lmoustache");
+defineSymbol(math, main, close, "\u27EF", "\\rgroup");
+defineSymbol(math, main, open, "\u27EE", "\\lgroup");
 
 // Binary Operators
 defineSymbol(math, main, bin, "\u2213", "\\mp");
 defineSymbol(math, main, bin, "\u2296", "\\ominus");
-defineSymbol(math, main, bin, "\u228e", "\\uplus");
+defineSymbol(math, main, bin, "\u228E", "\\uplus");
 defineSymbol(math, main, bin, "\u2293", "\\sqcap");
 defineSymbol(math, main, bin, "\u2217", "\\ast");
 defineSymbol(math, main, bin, "\u2294", "\\sqcup");
-defineSymbol(math, main, bin, "\u25ef", "\\bigcirc");
+defineSymbol(math, main, bin, "\u25EF", "\\bigcirc");
 defineSymbol(math, main, bin, "\u2219", "\\bullet");
 defineSymbol(math, main, bin, "\u2021", "\\ddagger");
 defineSymbol(math, main, bin, "\u2240", "\\wr");
-defineSymbol(math, main, bin, "\u2a3f", "\\amalg");
+defineSymbol(math, main, bin, "\u2A3F", "\\amalg");
 
 // Arrow Symbols
-defineSymbol(math, main, rel, "\u27f5", "\\longleftarrow");
-defineSymbol(math, main, rel, "\u21d0", "\\Leftarrow");
-defineSymbol(math, main, rel, "\u27f8", "\\Longleftarrow");
-defineSymbol(math, main, rel, "\u27f6", "\\longrightarrow");
-defineSymbol(math, main, rel, "\u21d2", "\\Rightarrow");
-defineSymbol(math, main, rel, "\u27f9", "\\Longrightarrow");
+defineSymbol(math, main, rel, "\u27F5", "\\longleftarrow");
+defineSymbol(math, main, rel, "\u21D0", "\\Leftarrow");
+defineSymbol(math, main, rel, "\u27F8", "\\Longleftarrow");
+defineSymbol(math, main, rel, "\u27F6", "\\longrightarrow");
+defineSymbol(math, main, rel, "\u21D2", "\\Rightarrow");
+defineSymbol(math, main, rel, "\u27F9", "\\Longrightarrow");
 defineSymbol(math, main, rel, "\u2194", "\\leftrightarrow");
-defineSymbol(math, main, rel, "\u27f7", "\\longleftrightarrow");
-defineSymbol(math, main, rel, "\u21d4", "\\Leftrightarrow");
-defineSymbol(math, main, rel, "\u27fa", "\\Longleftrightarrow");
-defineSymbol(math, main, rel, "\u21a6", "\\mapsto");
-defineSymbol(math, main, rel, "\u27fc", "\\longmapsto");
+defineSymbol(math, main, rel, "\u27F7", "\\longleftrightarrow");
+defineSymbol(math, main, rel, "\u21D4", "\\Leftrightarrow");
+defineSymbol(math, main, rel, "\u27FA", "\\Longleftrightarrow");
+defineSymbol(math, main, rel, "\u21A6", "\\mapsto");
+defineSymbol(math, main, rel, "\u27FC", "\\longmapsto");
 defineSymbol(math, main, rel, "\u2197", "\\nearrow");
-defineSymbol(math, main, rel, "\u21a9", "\\hookleftarrow");
-defineSymbol(math, main, rel, "\u21aa", "\\hookrightarrow");
+defineSymbol(math, main, rel, "\u21A9", "\\hookleftarrow");
+defineSymbol(math, main, rel, "\u21AA", "\\hookrightarrow");
 defineSymbol(math, main, rel, "\u2198", "\\searrow");
-defineSymbol(math, main, rel, "\u21bc", "\\leftharpoonup");
-defineSymbol(math, main, rel, "\u21c0", "\\rightharpoonup");
+defineSymbol(math, main, rel, "\u21BC", "\\leftharpoonup");
+defineSymbol(math, main, rel, "\u21C0", "\\rightharpoonup");
 defineSymbol(math, main, rel, "\u2199", "\\swarrow");
-defineSymbol(math, main, rel, "\u21bd", "\\leftharpoondown");
-defineSymbol(math, main, rel, "\u21c1", "\\rightharpoondown");
+defineSymbol(math, main, rel, "\u21BD", "\\leftharpoondown");
+defineSymbol(math, main, rel, "\u21C1", "\\rightharpoondown");
 defineSymbol(math, main, rel, "\u2196", "\\nwarrow");
-defineSymbol(math, main, rel, "\u21cc", "\\rightleftharpoons");
+defineSymbol(math, main, rel, "\u21CC", "\\rightleftharpoons");
 
 // AMS Negated Binary Relations
-defineSymbol(math, ams, rel, "\u226e", "\\nless");
-defineSymbol(math, ams, rel, "\ue010", "\\nleqslant");
-defineSymbol(math, ams, rel, "\ue011", "\\nleqq");
-defineSymbol(math, ams, rel, "\u2a87", "\\lneq");
+defineSymbol(math, ams, rel, "\u226E", "\\nless");
+defineSymbol(math, ams, rel, "\uE010", "\\nleqslant");
+defineSymbol(math, ams, rel, "\uE011", "\\nleqq");
+defineSymbol(math, ams, rel, "\u2A87", "\\lneq");
 defineSymbol(math, ams, rel, "\u2268", "\\lneqq");
-defineSymbol(math, ams, rel, "\ue00c", "\\lvertneqq");
-defineSymbol(math, ams, rel, "\u22e6", "\\lnsim");
-defineSymbol(math, ams, rel, "\u2a89", "\\lnapprox");
+defineSymbol(math, ams, rel, "\uE00C", "\\lvertneqq");
+defineSymbol(math, ams, rel, "\u22E6", "\\lnsim");
+defineSymbol(math, ams, rel, "\u2A89", "\\lnapprox");
 defineSymbol(math, ams, rel, "\u2280", "\\nprec");
-defineSymbol(math, ams, rel, "\u22e0", "\\npreceq");
-defineSymbol(math, ams, rel, "\u22e8", "\\precnsim");
-defineSymbol(math, ams, rel, "\u2ab9", "\\precnapprox");
+defineSymbol(math, ams, rel, "\u22E0", "\\npreceq");
+defineSymbol(math, ams, rel, "\u22E8", "\\precnsim");
+defineSymbol(math, ams, rel, "\u2AB9", "\\precnapprox");
 defineSymbol(math, ams, rel, "\u2241", "\\nsim");
-defineSymbol(math, ams, rel, "\ue006", "\\nshortmid");
+defineSymbol(math, ams, rel, "\uE006", "\\nshortmid");
 defineSymbol(math, ams, rel, "\u2224", "\\nmid");
-defineSymbol(math, ams, rel, "\u22ac", "\\nvdash");
-defineSymbol(math, ams, rel, "\u22ad", "\\nvDash");
-defineSymbol(math, ams, rel, "\u22ea", "\\ntriangleleft");
-defineSymbol(math, ams, rel, "\u22ec", "\\ntrianglelefteq");
-defineSymbol(math, ams, rel, "\u228a", "\\subsetneq");
-defineSymbol(math, ams, rel, "\ue01a", "\\varsubsetneq");
-defineSymbol(math, ams, rel, "\u2acb", "\\subsetneqq");
-defineSymbol(math, ams, rel, "\ue017", "\\varsubsetneqq");
-defineSymbol(math, ams, rel, "\u226f", "\\ngtr");
-defineSymbol(math, ams, rel, "\ue00f", "\\ngeqslant");
-defineSymbol(math, ams, rel, "\ue00e", "\\ngeqq");
-defineSymbol(math, ams, rel, "\u2a88", "\\gneq");
+defineSymbol(math, ams, rel, "\u22AC", "\\nvdash");
+defineSymbol(math, ams, rel, "\u22AD", "\\nvDash");
+defineSymbol(math, ams, rel, "\u22EA", "\\ntriangleleft");
+defineSymbol(math, ams, rel, "\u22EC", "\\ntrianglelefteq");
+defineSymbol(math, ams, rel, "\u228A", "\\subsetneq");
+defineSymbol(math, ams, rel, "\uE01A", "\\varsubsetneq");
+defineSymbol(math, ams, rel, "\u2ACB", "\\subsetneqq");
+defineSymbol(math, ams, rel, "\uE017", "\\varsubsetneqq");
+defineSymbol(math, ams, rel, "\u226F", "\\ngtr");
+defineSymbol(math, ams, rel, "\uE00F", "\\ngeqslant");
+defineSymbol(math, ams, rel, "\uE00E", "\\ngeqq");
+defineSymbol(math, ams, rel, "\u2A88", "\\gneq");
 defineSymbol(math, ams, rel, "\u2269", "\\gneqq");
-defineSymbol(math, ams, rel, "\ue00d", "\\gvertneqq");
-defineSymbol(math, ams, rel, "\u22e7", "\\gnsim");
-defineSymbol(math, ams, rel, "\u2a8a", "\\gnapprox");
+defineSymbol(math, ams, rel, "\uE00D", "\\gvertneqq");
+defineSymbol(math, ams, rel, "\u22E7", "\\gnsim");
+defineSymbol(math, ams, rel, "\u2A8A", "\\gnapprox");
 defineSymbol(math, ams, rel, "\u2281", "\\nsucc");
-defineSymbol(math, ams, rel, "\u22e1", "\\nsucceq");
-defineSymbol(math, ams, rel, "\u22e9", "\\succnsim");
-defineSymbol(math, ams, rel, "\u2aba", "\\succnapprox");
+defineSymbol(math, ams, rel, "\u22E1", "\\nsucceq");
+defineSymbol(math, ams, rel, "\u22E9", "\\succnsim");
+defineSymbol(math, ams, rel, "\u2ABA", "\\succnapprox");
 defineSymbol(math, ams, rel, "\u2246", "\\ncong");
-defineSymbol(math, ams, rel, "\ue007", "\\nshortparallel");
+defineSymbol(math, ams, rel, "\uE007", "\\nshortparallel");
 defineSymbol(math, ams, rel, "\u2226", "\\nparallel");
-defineSymbol(math, ams, rel, "\u22af", "\\nVDash");
-defineSymbol(math, ams, rel, "\u22eb", "\\ntriangleright");
-defineSymbol(math, ams, rel, "\u22ed", "\\ntrianglerighteq");
-defineSymbol(math, ams, rel, "\ue018", "\\nsupseteqq");
-defineSymbol(math, ams, rel, "\u228b", "\\supsetneq");
-defineSymbol(math, ams, rel, "\ue01b", "\\varsupsetneq");
-defineSymbol(math, ams, rel, "\u2acc", "\\supsetneqq");
-defineSymbol(math, ams, rel, "\ue019", "\\varsupsetneqq");
-defineSymbol(math, ams, rel, "\u22ae", "\\nVdash");
-defineSymbol(math, ams, rel, "\u2ab5", "\\precneqq");
-defineSymbol(math, ams, rel, "\u2ab6", "\\succneqq");
-defineSymbol(math, ams, rel, "\ue016", "\\nsubseteqq");
-defineSymbol(math, ams, bin, "\u22b4", "\\unlhd");
-defineSymbol(math, ams, bin, "\u22b5", "\\unrhd");
+defineSymbol(math, ams, rel, "\u22AF", "\\nVDash");
+defineSymbol(math, ams, rel, "\u22EB", "\\ntriangleright");
+defineSymbol(math, ams, rel, "\u22ED", "\\ntrianglerighteq");
+defineSymbol(math, ams, rel, "\uE018", "\\nsupseteqq");
+defineSymbol(math, ams, rel, "\u228B", "\\supsetneq");
+defineSymbol(math, ams, rel, "\uE01B", "\\varsupsetneq");
+defineSymbol(math, ams, rel, "\u2ACC", "\\supsetneqq");
+defineSymbol(math, ams, rel, "\uE019", "\\varsupsetneqq");
+defineSymbol(math, ams, rel, "\u22AE", "\\nVdash");
+defineSymbol(math, ams, rel, "\u2AB5", "\\precneqq");
+defineSymbol(math, ams, rel, "\u2AB6", "\\succneqq");
+defineSymbol(math, ams, rel, "\uE016", "\\nsubseteqq");
+defineSymbol(math, ams, bin, "\u22B4", "\\unlhd");
+defineSymbol(math, ams, bin, "\u22B5", "\\unrhd");
 
 // AMS Negated Arrows
-defineSymbol(math, ams, rel, "\u219a", "\\nleftarrow");
-defineSymbol(math, ams, rel, "\u219b", "\\nrightarrow");
-defineSymbol(math, ams, rel, "\u21cd", "\\nLeftarrow");
-defineSymbol(math, ams, rel, "\u21cf", "\\nRightarrow");
-defineSymbol(math, ams, rel, "\u21ae", "\\nleftrightarrow");
-defineSymbol(math, ams, rel, "\u21ce", "\\nLeftrightarrow");
+defineSymbol(math, ams, rel, "\u219A", "\\nleftarrow");
+defineSymbol(math, ams, rel, "\u219B", "\\nrightarrow");
+defineSymbol(math, ams, rel, "\u21CD", "\\nLeftarrow");
+defineSymbol(math, ams, rel, "\u21CF", "\\nRightarrow");
+defineSymbol(math, ams, rel, "\u21AE", "\\nleftrightarrow");
+defineSymbol(math, ams, rel, "\u21CE", "\\nLeftrightarrow");
 
 // AMS Misc
-defineSymbol(math, ams, rel, "\u25b3", "\\vartriangle");
-defineSymbol(math, ams, textord, "\u210f", "\\hslash");
-defineSymbol(math, ams, textord, "\u25bd", "\\triangledown");
-defineSymbol(math, ams, textord, "\u25ca", "\\lozenge");
-defineSymbol(math, ams, textord, "\u24c8", "\\circledS");
-defineSymbol(math, ams, textord, "\u00ae", "\\circledR");
+defineSymbol(math, ams, rel, "\u25B3", "\\vartriangle");
+defineSymbol(math, ams, textord, "\u210F", "\\hslash");
+defineSymbol(math, ams, textord, "\u25BD", "\\triangledown");
+defineSymbol(math, ams, textord, "\u25CA", "\\lozenge");
+defineSymbol(math, ams, textord, "\u24C8", "\\circledS");
+defineSymbol(math, ams, textord, "\xAE", "\\circledR");
+defineSymbol(text, ams, textord, "\xAE", "\\circledR");
 defineSymbol(math, ams, textord, "\u2221", "\\measuredangle");
 defineSymbol(math, ams, textord, "\u2204", "\\nexists");
 defineSymbol(math, ams, textord, "\u2127", "\\mho");
 defineSymbol(math, ams, textord, "\u2132", "\\Finv");
 defineSymbol(math, ams, textord, "\u2141", "\\Game");
-defineSymbol(math, ams, textord, "\u006b", "\\Bbbk");
+defineSymbol(math, ams, textord, "k", "\\Bbbk");
 defineSymbol(math, ams, textord, "\u2035", "\\backprime");
-defineSymbol(math, ams, textord, "\u25b2", "\\blacktriangle");
-defineSymbol(math, ams, textord, "\u25bc", "\\blacktriangledown");
-defineSymbol(math, ams, textord, "\u25a0", "\\blacksquare");
-defineSymbol(math, ams, textord, "\u29eb", "\\blacklozenge");
+defineSymbol(math, ams, textord, "\u25B2", "\\blacktriangle");
+defineSymbol(math, ams, textord, "\u25BC", "\\blacktriangledown");
+defineSymbol(math, ams, textord, "\u25A0", "\\blacksquare");
+defineSymbol(math, ams, textord, "\u29EB", "\\blacklozenge");
 defineSymbol(math, ams, textord, "\u2605", "\\bigstar");
 defineSymbol(math, ams, textord, "\u2222", "\\sphericalangle");
 defineSymbol(math, ams, textord, "\u2201", "\\complement");
-defineSymbol(math, ams, textord, "\u00f0", "\\eth");
+defineSymbol(math, ams, textord, "\xF0", "\\eth");
 defineSymbol(math, ams, textord, "\u2571", "\\diagup");
 defineSymbol(math, ams, textord, "\u2572", "\\diagdown");
-defineSymbol(math, ams, textord, "\u25a1", "\\square");
-defineSymbol(math, ams, textord, "\u25a1", "\\Box");
-defineSymbol(math, ams, textord, "\u25ca", "\\Diamond");
-defineSymbol(math, ams, textord, "\u00a5", "\\yen");
+defineSymbol(math, ams, textord, "\u25A1", "\\square");
+defineSymbol(math, ams, textord, "\u25A1", "\\Box");
+defineSymbol(math, ams, textord, "\u25CA", "\\Diamond");
+defineSymbol(math, ams, textord, "\xA5", "\\yen");
 defineSymbol(math, ams, textord, "\u2713", "\\checkmark");
+defineSymbol(text, ams, textord, "\u2713", "\\checkmark");
 
 // AMS Hebrew
 defineSymbol(math, ams, textord, "\u2136", "\\beth");
@@ -8528,231 +10099,233 @@ defineSymbol(math, ams, textord, "\u2138", "\\daleth");
 defineSymbol(math, ams, textord, "\u2137", "\\gimel");
 
 // AMS Greek
-defineSymbol(math, ams, textord, "\u03dd", "\\digamma");
-defineSymbol(math, ams, textord, "\u03f0", "\\varkappa");
+defineSymbol(math, ams, textord, "\u03DD", "\\digamma");
+defineSymbol(math, ams, textord, "\u03F0", "\\varkappa");
 
 // AMS Delimiters
-defineSymbol(math, ams, open, "\u250c", "\\ulcorner");
+defineSymbol(math, ams, open, "\u250C", "\\ulcorner");
 defineSymbol(math, ams, close, "\u2510", "\\urcorner");
 defineSymbol(math, ams, open, "\u2514", "\\llcorner");
 defineSymbol(math, ams, close, "\u2518", "\\lrcorner");
 
 // AMS Binary Relations
 defineSymbol(math, ams, rel, "\u2266", "\\leqq");
-defineSymbol(math, ams, rel, "\u2a7d", "\\leqslant");
-defineSymbol(math, ams, rel, "\u2a95", "\\eqslantless");
+defineSymbol(math, ams, rel, "\u2A7D", "\\leqslant");
+defineSymbol(math, ams, rel, "\u2A95", "\\eqslantless");
 defineSymbol(math, ams, rel, "\u2272", "\\lesssim");
-defineSymbol(math, ams, rel, "\u2a85", "\\lessapprox");
-defineSymbol(math, ams, rel, "\u224a", "\\approxeq");
-defineSymbol(math, ams, bin, "\u22d6", "\\lessdot");
-defineSymbol(math, ams, rel, "\u22d8", "\\lll");
+defineSymbol(math, ams, rel, "\u2A85", "\\lessapprox");
+defineSymbol(math, ams, rel, "\u224A", "\\approxeq");
+defineSymbol(math, ams, bin, "\u22D6", "\\lessdot");
+defineSymbol(math, ams, rel, "\u22D8", "\\lll");
 defineSymbol(math, ams, rel, "\u2276", "\\lessgtr");
-defineSymbol(math, ams, rel, "\u22da", "\\lesseqgtr");
-defineSymbol(math, ams, rel, "\u2a8b", "\\lesseqqgtr");
+defineSymbol(math, ams, rel, "\u22DA", "\\lesseqgtr");
+defineSymbol(math, ams, rel, "\u2A8B", "\\lesseqqgtr");
 defineSymbol(math, ams, rel, "\u2251", "\\doteqdot");
 defineSymbol(math, ams, rel, "\u2253", "\\risingdotseq");
 defineSymbol(math, ams, rel, "\u2252", "\\fallingdotseq");
-defineSymbol(math, ams, rel, "\u223d", "\\backsim");
-defineSymbol(math, ams, rel, "\u22cd", "\\backsimeq");
-defineSymbol(math, ams, rel, "\u2ac5", "\\subseteqq");
-defineSymbol(math, ams, rel, "\u22d0", "\\Subset");
-defineSymbol(math, ams, rel, "\u228f", "\\sqsubset");
-defineSymbol(math, ams, rel, "\u227c", "\\preccurlyeq");
-defineSymbol(math, ams, rel, "\u22de", "\\curlyeqprec");
-defineSymbol(math, ams, rel, "\u227e", "\\precsim");
-defineSymbol(math, ams, rel, "\u2ab7", "\\precapprox");
-defineSymbol(math, ams, rel, "\u22b2", "\\vartriangleleft");
-defineSymbol(math, ams, rel, "\u22b4", "\\trianglelefteq");
-defineSymbol(math, ams, rel, "\u22a8", "\\vDash");
-defineSymbol(math, ams, rel, "\u22aa", "\\Vvdash");
+defineSymbol(math, ams, rel, "\u223D", "\\backsim");
+defineSymbol(math, ams, rel, "\u22CD", "\\backsimeq");
+defineSymbol(math, ams, rel, "\u2AC5", "\\subseteqq");
+defineSymbol(math, ams, rel, "\u22D0", "\\Subset");
+defineSymbol(math, ams, rel, "\u228F", "\\sqsubset");
+defineSymbol(math, ams, rel, "\u227C", "\\preccurlyeq");
+defineSymbol(math, ams, rel, "\u22DE", "\\curlyeqprec");
+defineSymbol(math, ams, rel, "\u227E", "\\precsim");
+defineSymbol(math, ams, rel, "\u2AB7", "\\precapprox");
+defineSymbol(math, ams, rel, "\u22B2", "\\vartriangleleft");
+defineSymbol(math, ams, rel, "\u22B4", "\\trianglelefteq");
+defineSymbol(math, ams, rel, "\u22A8", "\\vDash");
+defineSymbol(math, ams, rel, "\u22AA", "\\Vvdash");
 defineSymbol(math, ams, rel, "\u2323", "\\smallsmile");
 defineSymbol(math, ams, rel, "\u2322", "\\smallfrown");
-defineSymbol(math, ams, rel, "\u224f", "\\bumpeq");
-defineSymbol(math, ams, rel, "\u224e", "\\Bumpeq");
+defineSymbol(math, ams, rel, "\u224F", "\\bumpeq");
+defineSymbol(math, ams, rel, "\u224E", "\\Bumpeq");
 defineSymbol(math, ams, rel, "\u2267", "\\geqq");
-defineSymbol(math, ams, rel, "\u2a7e", "\\geqslant");
-defineSymbol(math, ams, rel, "\u2a96", "\\eqslantgtr");
+defineSymbol(math, ams, rel, "\u2A7E", "\\geqslant");
+defineSymbol(math, ams, rel, "\u2A96", "\\eqslantgtr");
 defineSymbol(math, ams, rel, "\u2273", "\\gtrsim");
-defineSymbol(math, ams, rel, "\u2a86", "\\gtrapprox");
-defineSymbol(math, ams, bin, "\u22d7", "\\gtrdot");
-defineSymbol(math, ams, rel, "\u22d9", "\\ggg");
+defineSymbol(math, ams, rel, "\u2A86", "\\gtrapprox");
+defineSymbol(math, ams, bin, "\u22D7", "\\gtrdot");
+defineSymbol(math, ams, rel, "\u22D9", "\\ggg");
 defineSymbol(math, ams, rel, "\u2277", "\\gtrless");
-defineSymbol(math, ams, rel, "\u22db", "\\gtreqless");
-defineSymbol(math, ams, rel, "\u2a8c", "\\gtreqqless");
+defineSymbol(math, ams, rel, "\u22DB", "\\gtreqless");
+defineSymbol(math, ams, rel, "\u2A8C", "\\gtreqqless");
 defineSymbol(math, ams, rel, "\u2256", "\\eqcirc");
 defineSymbol(math, ams, rel, "\u2257", "\\circeq");
-defineSymbol(math, ams, rel, "\u225c", "\\triangleq");
-defineSymbol(math, ams, rel, "\u223c", "\\thicksim");
+defineSymbol(math, ams, rel, "\u225C", "\\triangleq");
+defineSymbol(math, ams, rel, "\u223C", "\\thicksim");
 defineSymbol(math, ams, rel, "\u2248", "\\thickapprox");
-defineSymbol(math, ams, rel, "\u2ac6", "\\supseteqq");
-defineSymbol(math, ams, rel, "\u22d1", "\\Supset");
+defineSymbol(math, ams, rel, "\u2AC6", "\\supseteqq");
+defineSymbol(math, ams, rel, "\u22D1", "\\Supset");
 defineSymbol(math, ams, rel, "\u2290", "\\sqsupset");
-defineSymbol(math, ams, rel, "\u227d", "\\succcurlyeq");
-defineSymbol(math, ams, rel, "\u22df", "\\curlyeqsucc");
-defineSymbol(math, ams, rel, "\u227f", "\\succsim");
-defineSymbol(math, ams, rel, "\u2ab8", "\\succapprox");
-defineSymbol(math, ams, rel, "\u22b3", "\\vartriangleright");
-defineSymbol(math, ams, rel, "\u22b5", "\\trianglerighteq");
-defineSymbol(math, ams, rel, "\u22a9", "\\Vdash");
+defineSymbol(math, ams, rel, "\u227D", "\\succcurlyeq");
+defineSymbol(math, ams, rel, "\u22DF", "\\curlyeqsucc");
+defineSymbol(math, ams, rel, "\u227F", "\\succsim");
+defineSymbol(math, ams, rel, "\u2AB8", "\\succapprox");
+defineSymbol(math, ams, rel, "\u22B3", "\\vartriangleright");
+defineSymbol(math, ams, rel, "\u22B5", "\\trianglerighteq");
+defineSymbol(math, ams, rel, "\u22A9", "\\Vdash");
 defineSymbol(math, ams, rel, "\u2223", "\\shortmid");
 defineSymbol(math, ams, rel, "\u2225", "\\shortparallel");
-defineSymbol(math, ams, rel, "\u226c", "\\between");
-defineSymbol(math, ams, rel, "\u22d4", "\\pitchfork");
-defineSymbol(math, ams, rel, "\u221d", "\\varpropto");
-defineSymbol(math, ams, rel, "\u25c0", "\\blacktriangleleft");
+defineSymbol(math, ams, rel, "\u226C", "\\between");
+defineSymbol(math, ams, rel, "\u22D4", "\\pitchfork");
+defineSymbol(math, ams, rel, "\u221D", "\\varpropto");
+defineSymbol(math, ams, rel, "\u25C0", "\\blacktriangleleft");
 defineSymbol(math, ams, rel, "\u2234", "\\therefore");
-defineSymbol(math, ams, rel, "\u220d", "\\backepsilon");
-defineSymbol(math, ams, rel, "\u25b6", "\\blacktriangleright");
+defineSymbol(math, ams, rel, "\u220D", "\\backepsilon");
+defineSymbol(math, ams, rel, "\u25B6", "\\blacktriangleright");
 defineSymbol(math, ams, rel, "\u2235", "\\because");
-defineSymbol(math, ams, rel, "\u22d8", "\\llless");
-defineSymbol(math, ams, rel, "\u22d9", "\\gggtr");
-defineSymbol(math, ams, bin, "\u22b2", "\\lhd");
-defineSymbol(math, ams, bin, "\u22b3", "\\rhd");
+defineSymbol(math, ams, rel, "\u22D8", "\\llless");
+defineSymbol(math, ams, rel, "\u22D9", "\\gggtr");
+defineSymbol(math, ams, bin, "\u22B2", "\\lhd");
+defineSymbol(math, ams, bin, "\u22B3", "\\rhd");
 defineSymbol(math, ams, rel, "\u2242", "\\eqsim");
-defineSymbol(math, main, rel, "\u22c8", "\\Join");
+defineSymbol(math, main, rel, "\u22C8", "\\Join");
 defineSymbol(math, ams, rel, "\u2251", "\\Doteq");
 
 // AMS Binary Operators
 defineSymbol(math, ams, bin, "\u2214", "\\dotplus");
 defineSymbol(math, ams, bin, "\u2216", "\\smallsetminus");
-defineSymbol(math, ams, bin, "\u22d2", "\\Cap");
-defineSymbol(math, ams, bin, "\u22d3", "\\Cup");
-defineSymbol(math, ams, bin, "\u2a5e", "\\doublebarwedge");
-defineSymbol(math, ams, bin, "\u229f", "\\boxminus");
-defineSymbol(math, ams, bin, "\u229e", "\\boxplus");
-defineSymbol(math, ams, bin, "\u22c7", "\\divideontimes");
-defineSymbol(math, ams, bin, "\u22c9", "\\ltimes");
-defineSymbol(math, ams, bin, "\u22ca", "\\rtimes");
-defineSymbol(math, ams, bin, "\u22cb", "\\leftthreetimes");
-defineSymbol(math, ams, bin, "\u22cc", "\\rightthreetimes");
-defineSymbol(math, ams, bin, "\u22cf", "\\curlywedge");
-defineSymbol(math, ams, bin, "\u22ce", "\\curlyvee");
-defineSymbol(math, ams, bin, "\u229d", "\\circleddash");
-defineSymbol(math, ams, bin, "\u229b", "\\circledast");
-defineSymbol(math, ams, bin, "\u22c5", "\\centerdot");
-defineSymbol(math, ams, bin, "\u22ba", "\\intercal");
-defineSymbol(math, ams, bin, "\u22d2", "\\doublecap");
-defineSymbol(math, ams, bin, "\u22d3", "\\doublecup");
-defineSymbol(math, ams, bin, "\u22a0", "\\boxtimes");
+defineSymbol(math, ams, bin, "\u22D2", "\\Cap");
+defineSymbol(math, ams, bin, "\u22D3", "\\Cup");
+defineSymbol(math, ams, bin, "\u2A5E", "\\doublebarwedge");
+defineSymbol(math, ams, bin, "\u229F", "\\boxminus");
+defineSymbol(math, ams, bin, "\u229E", "\\boxplus");
+defineSymbol(math, ams, bin, "\u22C7", "\\divideontimes");
+defineSymbol(math, ams, bin, "\u22C9", "\\ltimes");
+defineSymbol(math, ams, bin, "\u22CA", "\\rtimes");
+defineSymbol(math, ams, bin, "\u22CB", "\\leftthreetimes");
+defineSymbol(math, ams, bin, "\u22CC", "\\rightthreetimes");
+defineSymbol(math, ams, bin, "\u22CF", "\\curlywedge");
+defineSymbol(math, ams, bin, "\u22CE", "\\curlyvee");
+defineSymbol(math, ams, bin, "\u229D", "\\circleddash");
+defineSymbol(math, ams, bin, "\u229B", "\\circledast");
+defineSymbol(math, ams, bin, "\u22C5", "\\centerdot");
+defineSymbol(math, ams, bin, "\u22BA", "\\intercal");
+defineSymbol(math, ams, bin, "\u22D2", "\\doublecap");
+defineSymbol(math, ams, bin, "\u22D3", "\\doublecup");
+defineSymbol(math, ams, bin, "\u22A0", "\\boxtimes");
 
 // AMS Arrows
-defineSymbol(math, ams, rel, "\u21e2", "\\dashrightarrow");
-defineSymbol(math, ams, rel, "\u21e0", "\\dashleftarrow");
-defineSymbol(math, ams, rel, "\u21c7", "\\leftleftarrows");
-defineSymbol(math, ams, rel, "\u21c6", "\\leftrightarrows");
-defineSymbol(math, ams, rel, "\u21da", "\\Lleftarrow");
-defineSymbol(math, ams, rel, "\u219e", "\\twoheadleftarrow");
-defineSymbol(math, ams, rel, "\u21a2", "\\leftarrowtail");
-defineSymbol(math, ams, rel, "\u21ab", "\\looparrowleft");
-defineSymbol(math, ams, rel, "\u21cb", "\\leftrightharpoons");
-defineSymbol(math, ams, rel, "\u21b6", "\\curvearrowleft");
-defineSymbol(math, ams, rel, "\u21ba", "\\circlearrowleft");
-defineSymbol(math, ams, rel, "\u21b0", "\\Lsh");
-defineSymbol(math, ams, rel, "\u21c8", "\\upuparrows");
-defineSymbol(math, ams, rel, "\u21bf", "\\upharpoonleft");
-defineSymbol(math, ams, rel, "\u21c3", "\\downharpoonleft");
-defineSymbol(math, ams, rel, "\u22b8", "\\multimap");
-defineSymbol(math, ams, rel, "\u21ad", "\\leftrightsquigarrow");
-defineSymbol(math, ams, rel, "\u21c9", "\\rightrightarrows");
-defineSymbol(math, ams, rel, "\u21c4", "\\rightleftarrows");
-defineSymbol(math, ams, rel, "\u21a0", "\\twoheadrightarrow");
-defineSymbol(math, ams, rel, "\u21a3", "\\rightarrowtail");
-defineSymbol(math, ams, rel, "\u21ac", "\\looparrowright");
-defineSymbol(math, ams, rel, "\u21b7", "\\curvearrowright");
-defineSymbol(math, ams, rel, "\u21bb", "\\circlearrowright");
-defineSymbol(math, ams, rel, "\u21b1", "\\Rsh");
-defineSymbol(math, ams, rel, "\u21ca", "\\downdownarrows");
-defineSymbol(math, ams, rel, "\u21be", "\\upharpoonright");
-defineSymbol(math, ams, rel, "\u21c2", "\\downharpoonright");
-defineSymbol(math, ams, rel, "\u21dd", "\\rightsquigarrow");
-defineSymbol(math, ams, rel, "\u21dd", "\\leadsto");
-defineSymbol(math, ams, rel, "\u21db", "\\Rrightarrow");
-defineSymbol(math, ams, rel, "\u21be", "\\restriction");
+defineSymbol(math, ams, rel, "\u21E2", "\\dashrightarrow");
+defineSymbol(math, ams, rel, "\u21E0", "\\dashleftarrow");
+defineSymbol(math, ams, rel, "\u21C7", "\\leftleftarrows");
+defineSymbol(math, ams, rel, "\u21C6", "\\leftrightarrows");
+defineSymbol(math, ams, rel, "\u21DA", "\\Lleftarrow");
+defineSymbol(math, ams, rel, "\u219E", "\\twoheadleftarrow");
+defineSymbol(math, ams, rel, "\u21A2", "\\leftarrowtail");
+defineSymbol(math, ams, rel, "\u21AB", "\\looparrowleft");
+defineSymbol(math, ams, rel, "\u21CB", "\\leftrightharpoons");
+defineSymbol(math, ams, rel, "\u21B6", "\\curvearrowleft");
+defineSymbol(math, ams, rel, "\u21BA", "\\circlearrowleft");
+defineSymbol(math, ams, rel, "\u21B0", "\\Lsh");
+defineSymbol(math, ams, rel, "\u21C8", "\\upuparrows");
+defineSymbol(math, ams, rel, "\u21BF", "\\upharpoonleft");
+defineSymbol(math, ams, rel, "\u21C3", "\\downharpoonleft");
+defineSymbol(math, ams, rel, "\u22B8", "\\multimap");
+defineSymbol(math, ams, rel, "\u21AD", "\\leftrightsquigarrow");
+defineSymbol(math, ams, rel, "\u21C9", "\\rightrightarrows");
+defineSymbol(math, ams, rel, "\u21C4", "\\rightleftarrows");
+defineSymbol(math, ams, rel, "\u21A0", "\\twoheadrightarrow");
+defineSymbol(math, ams, rel, "\u21A3", "\\rightarrowtail");
+defineSymbol(math, ams, rel, "\u21AC", "\\looparrowright");
+defineSymbol(math, ams, rel, "\u21B7", "\\curvearrowright");
+defineSymbol(math, ams, rel, "\u21BB", "\\circlearrowright");
+defineSymbol(math, ams, rel, "\u21B1", "\\Rsh");
+defineSymbol(math, ams, rel, "\u21CA", "\\downdownarrows");
+defineSymbol(math, ams, rel, "\u21BE", "\\upharpoonright");
+defineSymbol(math, ams, rel, "\u21C2", "\\downharpoonright");
+defineSymbol(math, ams, rel, "\u21DD", "\\rightsquigarrow");
+defineSymbol(math, ams, rel, "\u21DD", "\\leadsto");
+defineSymbol(math, ams, rel, "\u21DB", "\\Rrightarrow");
+defineSymbol(math, ams, rel, "\u21BE", "\\restriction");
 
 defineSymbol(math, main, textord, "\u2018", "`");
 defineSymbol(math, main, textord, "$", "\\$");
 defineSymbol(text, main, textord, "$", "\\$");
+defineSymbol(text, main, textord, "$", "\\textdollar");
 defineSymbol(math, main, textord, "%", "\\%");
 defineSymbol(text, main, textord, "%", "\\%");
 defineSymbol(math, main, textord, "_", "\\_");
 defineSymbol(text, main, textord, "_", "\\_");
+defineSymbol(text, main, textord, "_", "\\textunderscore");
 defineSymbol(math, main, textord, "\u2220", "\\angle");
-defineSymbol(math, main, textord, "\u221e", "\\infty");
+defineSymbol(math, main, textord, "\u221E", "\\infty");
 defineSymbol(math, main, textord, "\u2032", "\\prime");
-defineSymbol(math, main, textord, "\u25b3", "\\triangle");
-defineSymbol(math, main, textord, "\u0393", "\\Gamma");
-defineSymbol(math, main, textord, "\u0394", "\\Delta");
-defineSymbol(math, main, textord, "\u0398", "\\Theta");
-defineSymbol(math, main, textord, "\u039b", "\\Lambda");
-defineSymbol(math, main, textord, "\u039e", "\\Xi");
-defineSymbol(math, main, textord, "\u03a0", "\\Pi");
-defineSymbol(math, main, textord, "\u03a3", "\\Sigma");
-defineSymbol(math, main, textord, "\u03a5", "\\Upsilon");
-defineSymbol(math, main, textord, "\u03a6", "\\Phi");
-defineSymbol(math, main, textord, "\u03a8", "\\Psi");
-defineSymbol(math, main, textord, "\u03a9", "\\Omega");
-defineSymbol(math, main, textord, "\u00ac", "\\neg");
-defineSymbol(math, main, textord, "\u00ac", "\\lnot");
-defineSymbol(math, main, textord, "\u22a4", "\\top");
-defineSymbol(math, main, textord, "\u22a5", "\\bot");
+defineSymbol(math, main, textord, "\u25B3", "\\triangle");
+defineSymbol(math, main, textord, "\u0393", "\\Gamma", true);
+defineSymbol(math, main, textord, "\u0394", "\\Delta", true);
+defineSymbol(math, main, textord, "\u0398", "\\Theta", true);
+defineSymbol(math, main, textord, "\u039B", "\\Lambda", true);
+defineSymbol(math, main, textord, "\u039E", "\\Xi", true);
+defineSymbol(math, main, textord, "\u03A0", "\\Pi", true);
+defineSymbol(math, main, textord, "\u03A3", "\\Sigma", true);
+defineSymbol(math, main, textord, "\u03A5", "\\Upsilon", true);
+defineSymbol(math, main, textord, "\u03A6", "\\Phi", true);
+defineSymbol(math, main, textord, "\u03A8", "\\Psi", true);
+defineSymbol(math, main, textord, "\u03A9", "\\Omega", true);
+defineSymbol(math, main, textord, "\xAC", "\\neg");
+defineSymbol(math, main, textord, "\xAC", "\\lnot");
+defineSymbol(math, main, textord, "\u22A4", "\\top");
+defineSymbol(math, main, textord, "\u22A5", "\\bot");
 defineSymbol(math, main, textord, "\u2205", "\\emptyset");
 defineSymbol(math, ams, textord, "\u2205", "\\varnothing");
-defineSymbol(math, main, mathord, "\u03b1", "\\alpha");
-defineSymbol(math, main, mathord, "\u03b2", "\\beta");
-defineSymbol(math, main, mathord, "\u03b3", "\\gamma");
-defineSymbol(math, main, mathord, "\u03b4", "\\delta");
-defineSymbol(math, main, mathord, "\u03f5", "\\epsilon");
-defineSymbol(math, main, mathord, "\u03b6", "\\zeta");
-defineSymbol(math, main, mathord, "\u03b7", "\\eta");
-defineSymbol(math, main, mathord, "\u03b8", "\\theta");
-defineSymbol(math, main, mathord, "\u03b9", "\\iota");
-defineSymbol(math, main, mathord, "\u03ba", "\\kappa");
-defineSymbol(math, main, mathord, "\u03bb", "\\lambda");
-defineSymbol(math, main, mathord, "\u03bc", "\\mu");
-defineSymbol(math, main, mathord, "\u03bd", "\\nu");
-defineSymbol(math, main, mathord, "\u03be", "\\xi");
-defineSymbol(math, main, mathord, "o", "\\omicron");
-defineSymbol(math, main, mathord, "\u03c0", "\\pi");
-defineSymbol(math, main, mathord, "\u03c1", "\\rho");
-defineSymbol(math, main, mathord, "\u03c3", "\\sigma");
-defineSymbol(math, main, mathord, "\u03c4", "\\tau");
-defineSymbol(math, main, mathord, "\u03c5", "\\upsilon");
-defineSymbol(math, main, mathord, "\u03d5", "\\phi");
-defineSymbol(math, main, mathord, "\u03c7", "\\chi");
-defineSymbol(math, main, mathord, "\u03c8", "\\psi");
-defineSymbol(math, main, mathord, "\u03c9", "\\omega");
-defineSymbol(math, main, mathord, "\u03b5", "\\varepsilon");
-defineSymbol(math, main, mathord, "\u03d1", "\\vartheta");
-defineSymbol(math, main, mathord, "\u03d6", "\\varpi");
-defineSymbol(math, main, mathord, "\u03f1", "\\varrho");
-defineSymbol(math, main, mathord, "\u03c2", "\\varsigma");
-defineSymbol(math, main, mathord, "\u03c6", "\\varphi");
+defineSymbol(math, main, mathord, "\u03B1", "\\alpha", true);
+defineSymbol(math, main, mathord, "\u03B2", "\\beta", true);
+defineSymbol(math, main, mathord, "\u03B3", "\\gamma", true);
+defineSymbol(math, main, mathord, "\u03B4", "\\delta", true);
+defineSymbol(math, main, mathord, "\u03F5", "\\epsilon", true);
+defineSymbol(math, main, mathord, "\u03B6", "\\zeta", true);
+defineSymbol(math, main, mathord, "\u03B7", "\\eta", true);
+defineSymbol(math, main, mathord, "\u03B8", "\\theta", true);
+defineSymbol(math, main, mathord, "\u03B9", "\\iota", true);
+defineSymbol(math, main, mathord, "\u03BA", "\\kappa", true);
+defineSymbol(math, main, mathord, "\u03BB", "\\lambda", true);
+defineSymbol(math, main, mathord, "\u03BC", "\\mu", true);
+defineSymbol(math, main, mathord, "\u03BD", "\\nu", true);
+defineSymbol(math, main, mathord, "\u03BE", "\\xi", true);
+defineSymbol(math, main, mathord, "\u03BF", "\\omicron", true);
+defineSymbol(math, main, mathord, "\u03C0", "\\pi", true);
+defineSymbol(math, main, mathord, "\u03C1", "\\rho", true);
+defineSymbol(math, main, mathord, "\u03C3", "\\sigma", true);
+defineSymbol(math, main, mathord, "\u03C4", "\\tau", true);
+defineSymbol(math, main, mathord, "\u03C5", "\\upsilon", true);
+defineSymbol(math, main, mathord, "\u03D5", "\\phi", true);
+defineSymbol(math, main, mathord, "\u03C7", "\\chi", true);
+defineSymbol(math, main, mathord, "\u03C8", "\\psi", true);
+defineSymbol(math, main, mathord, "\u03C9", "\\omega", true);
+defineSymbol(math, main, mathord, "\u03B5", "\\varepsilon", true);
+defineSymbol(math, main, mathord, "\u03D1", "\\vartheta", true);
+defineSymbol(math, main, mathord, "\u03D6", "\\varpi", true);
+defineSymbol(math, main, mathord, "\u03F1", "\\varrho", true);
+defineSymbol(math, main, mathord, "\u03C2", "\\varsigma", true);
+defineSymbol(math, main, mathord, "\u03C6", "\\varphi", true);
 defineSymbol(math, main, bin, "\u2217", "*");
 defineSymbol(math, main, bin, "+", "+");
 defineSymbol(math, main, bin, "\u2212", "-");
-defineSymbol(math, main, bin, "\u22c5", "\\cdot");
+defineSymbol(math, main, bin, "\u22C5", "\\cdot");
 defineSymbol(math, main, bin, "\u2218", "\\circ");
-defineSymbol(math, main, bin, "\u00f7", "\\div");
-defineSymbol(math, main, bin, "\u00b1", "\\pm");
-defineSymbol(math, main, bin, "\u00d7", "\\times");
+defineSymbol(math, main, bin, "\xF7", "\\div");
+defineSymbol(math, main, bin, "\xB1", "\\pm");
+defineSymbol(math, main, bin, "\xD7", "\\times");
 defineSymbol(math, main, bin, "\u2229", "\\cap");
-defineSymbol(math, main, bin, "\u222a", "\\cup");
+defineSymbol(math, main, bin, "\u222A", "\\cup");
 defineSymbol(math, main, bin, "\u2216", "\\setminus");
 defineSymbol(math, main, bin, "\u2227", "\\land");
 defineSymbol(math, main, bin, "\u2228", "\\lor");
 defineSymbol(math, main, bin, "\u2227", "\\wedge");
 defineSymbol(math, main, bin, "\u2228", "\\vee");
-defineSymbol(math, main, textord, "\u221a", "\\surd");
+defineSymbol(math, main, textord, "\u221A", "\\surd");
 defineSymbol(math, main, open, "(", "(");
 defineSymbol(math, main, open, "[", "[");
-defineSymbol(math, main, open, "\u27e8", "\\langle");
+defineSymbol(math, main, open, "\u27E8", "\\langle");
 defineSymbol(math, main, open, "\u2223", "\\lvert");
 defineSymbol(math, main, open, "\u2225", "\\lVert");
 defineSymbol(math, main, close, ")", ")");
 defineSymbol(math, main, close, "]", "]");
 defineSymbol(math, main, close, "?", "?");
 defineSymbol(math, main, close, "!", "!");
-defineSymbol(math, main, close, "\u27e9", "\\rangle");
+defineSymbol(math, main, close, "\u27E9", "\\rangle");
 defineSymbol(math, main, close, "\u2223", "\\rvert");
 defineSymbol(math, main, close, "\u2225", "\\rVert");
 defineSymbol(math, main, rel, "=", "=");
@@ -8767,13 +10340,14 @@ defineSymbol(math, main, rel, "\u2190", "\\gets");
 defineSymbol(math, main, rel, ">", "\\gt");
 defineSymbol(math, main, rel, "\u2208", "\\in");
 defineSymbol(math, main, rel, "\u2209", "\\notin");
+defineSymbol(math, main, rel, "\u0338", "\\not");
 defineSymbol(math, main, rel, "\u2282", "\\subset");
 defineSymbol(math, main, rel, "\u2283", "\\supset");
 defineSymbol(math, main, rel, "\u2286", "\\subseteq");
 defineSymbol(math, main, rel, "\u2287", "\\supseteq");
 defineSymbol(math, ams, rel, "\u2288", "\\nsubseteq");
 defineSymbol(math, ams, rel, "\u2289", "\\nsupseteq");
-defineSymbol(math, main, rel, "\u22a8", "\\models");
+defineSymbol(math, main, rel, "\u22A8", "\\models");
 defineSymbol(math, main, rel, "\u2190", "\\leftarrow");
 defineSymbol(math, main, rel, "\u2264", "\\le");
 defineSymbol(math, main, rel, "\u2264", "\\leq");
@@ -8785,157 +10359,186 @@ defineSymbol(math, main, rel, "\u2192", "\\to");
 defineSymbol(math, ams, rel, "\u2271", "\\ngeq");
 defineSymbol(math, ams, rel, "\u2270", "\\nleq");
 defineSymbol(math, main, spacing, null, "\\!");
-defineSymbol(math, main, spacing, "\u00a0", "\\ ");
-defineSymbol(math, main, spacing, "\u00a0", "~");
+defineSymbol(math, main, spacing, "\xA0", "\\ ");
+defineSymbol(math, main, spacing, "\xA0", "~");
 defineSymbol(math, main, spacing, null, "\\,");
 defineSymbol(math, main, spacing, null, "\\:");
 defineSymbol(math, main, spacing, null, "\\;");
 defineSymbol(math, main, spacing, null, "\\enspace");
 defineSymbol(math, main, spacing, null, "\\qquad");
 defineSymbol(math, main, spacing, null, "\\quad");
-defineSymbol(math, main, spacing, "\u00a0", "\\space");
+defineSymbol(math, main, spacing, "\xA0", "\\space");
 defineSymbol(math, main, punct, ",", ",");
 defineSymbol(math, main, punct, ";", ";");
 defineSymbol(math, main, punct, ":", "\\colon");
-defineSymbol(math, ams, bin, "\u22bc", "\\barwedge");
-defineSymbol(math, ams, bin, "\u22bb", "\\veebar");
+defineSymbol(math, ams, bin, "\u22BC", "\\barwedge");
+defineSymbol(math, ams, bin, "\u22BB", "\\veebar");
 defineSymbol(math, main, bin, "\u2299", "\\odot");
 defineSymbol(math, main, bin, "\u2295", "\\oplus");
 defineSymbol(math, main, bin, "\u2297", "\\otimes");
 defineSymbol(math, main, textord, "\u2202", "\\partial");
 defineSymbol(math, main, bin, "\u2298", "\\oslash");
-defineSymbol(math, ams, bin, "\u229a", "\\circledcirc");
-defineSymbol(math, ams, bin, "\u22a1", "\\boxdot");
-defineSymbol(math, main, bin, "\u25b3", "\\bigtriangleup");
-defineSymbol(math, main, bin, "\u25bd", "\\bigtriangledown");
+defineSymbol(math, ams, bin, "\u229A", "\\circledcirc");
+defineSymbol(math, ams, bin, "\u22A1", "\\boxdot");
+defineSymbol(math, main, bin, "\u25B3", "\\bigtriangleup");
+defineSymbol(math, main, bin, "\u25BD", "\\bigtriangledown");
 defineSymbol(math, main, bin, "\u2020", "\\dagger");
-defineSymbol(math, main, bin, "\u22c4", "\\diamond");
-defineSymbol(math, main, bin, "\u22c6", "\\star");
-defineSymbol(math, main, bin, "\u25c3", "\\triangleleft");
-defineSymbol(math, main, bin, "\u25b9", "\\triangleright");
+defineSymbol(math, main, bin, "\u22C4", "\\diamond");
+defineSymbol(math, main, bin, "\u22C6", "\\star");
+defineSymbol(math, main, bin, "\u25C3", "\\triangleleft");
+defineSymbol(math, main, bin, "\u25B9", "\\triangleright");
 defineSymbol(math, main, open, "{", "\\{");
 defineSymbol(text, main, textord, "{", "\\{");
+defineSymbol(text, main, textord, "{", "\\textbraceleft");
 defineSymbol(math, main, close, "}", "\\}");
 defineSymbol(text, main, textord, "}", "\\}");
+defineSymbol(text, main, textord, "}", "\\textbraceright");
 defineSymbol(math, main, open, "{", "\\lbrace");
 defineSymbol(math, main, close, "}", "\\rbrace");
 defineSymbol(math, main, open, "[", "\\lbrack");
 defineSymbol(math, main, close, "]", "\\rbrack");
-defineSymbol(math, main, open, "\u230a", "\\lfloor");
-defineSymbol(math, main, close, "\u230b", "\\rfloor");
+defineSymbol(text, main, textord, "<", "\\textless"); // in T1 fontenc
+defineSymbol(text, main, textord, ">", "\\textgreater"); // in T1 fontenc
+defineSymbol(math, main, open, "\u230A", "\\lfloor");
+defineSymbol(math, main, close, "\u230B", "\\rfloor");
 defineSymbol(math, main, open, "\u2308", "\\lceil");
 defineSymbol(math, main, close, "\u2309", "\\rceil");
 defineSymbol(math, main, textord, "\\", "\\backslash");
 defineSymbol(math, main, textord, "\u2223", "|");
 defineSymbol(math, main, textord, "\u2223", "\\vert");
+defineSymbol(text, main, textord, "|", "\\textbar"); // in T1 fontenc
 defineSymbol(math, main, textord, "\u2225", "\\|");
 defineSymbol(math, main, textord, "\u2225", "\\Vert");
+defineSymbol(text, main, textord, "\u2225", "\\textbardbl");
 defineSymbol(math, main, rel, "\u2191", "\\uparrow");
-defineSymbol(math, main, rel, "\u21d1", "\\Uparrow");
+defineSymbol(math, main, rel, "\u21D1", "\\Uparrow");
 defineSymbol(math, main, rel, "\u2193", "\\downarrow");
-defineSymbol(math, main, rel, "\u21d3", "\\Downarrow");
+defineSymbol(math, main, rel, "\u21D3", "\\Downarrow");
 defineSymbol(math, main, rel, "\u2195", "\\updownarrow");
-defineSymbol(math, main, rel, "\u21d5", "\\Updownarrow");
-defineSymbol(math, math, op, "\u2210", "\\coprod");
-defineSymbol(math, math, op, "\u22c1", "\\bigvee");
-defineSymbol(math, math, op, "\u22c0", "\\bigwedge");
-defineSymbol(math, math, op, "\u2a04", "\\biguplus");
-defineSymbol(math, math, op, "\u22c2", "\\bigcap");
-defineSymbol(math, math, op, "\u22c3", "\\bigcup");
-defineSymbol(math, math, op, "\u222b", "\\int");
-defineSymbol(math, math, op, "\u222b", "\\intop");
-defineSymbol(math, math, op, "\u222c", "\\iint");
-defineSymbol(math, math, op, "\u222d", "\\iiint");
-defineSymbol(math, math, op, "\u220f", "\\prod");
-defineSymbol(math, math, op, "\u2211", "\\sum");
-defineSymbol(math, math, op, "\u2a02", "\\bigotimes");
-defineSymbol(math, math, op, "\u2a01", "\\bigoplus");
-defineSymbol(math, math, op, "\u2a00", "\\bigodot");
-defineSymbol(math, math, op, "\u222e", "\\oint");
-defineSymbol(math, math, op, "\u2a06", "\\bigsqcup");
-defineSymbol(math, math, op, "\u222b", "\\smallint");
+defineSymbol(math, main, rel, "\u21D5", "\\Updownarrow");
+defineSymbol(math, main, op, "\u2210", "\\coprod");
+defineSymbol(math, main, op, "\u22C1", "\\bigvee");
+defineSymbol(math, main, op, "\u22C0", "\\bigwedge");
+defineSymbol(math, main, op, "\u2A04", "\\biguplus");
+defineSymbol(math, main, op, "\u22C2", "\\bigcap");
+defineSymbol(math, main, op, "\u22C3", "\\bigcup");
+defineSymbol(math, main, op, "\u222B", "\\int");
+defineSymbol(math, main, op, "\u222B", "\\intop");
+defineSymbol(math, main, op, "\u222C", "\\iint");
+defineSymbol(math, main, op, "\u222D", "\\iiint");
+defineSymbol(math, main, op, "\u220F", "\\prod");
+defineSymbol(math, main, op, "\u2211", "\\sum");
+defineSymbol(math, main, op, "\u2A02", "\\bigotimes");
+defineSymbol(math, main, op, "\u2A01", "\\bigoplus");
+defineSymbol(math, main, op, "\u2A00", "\\bigodot");
+defineSymbol(math, main, op, "\u222E", "\\oint");
+defineSymbol(math, main, op, "\u2A06", "\\bigsqcup");
+defineSymbol(math, main, op, "\u222B", "\\smallint");
 defineSymbol(text, main, inner, "\u2026", "\\textellipsis");
 defineSymbol(math, main, inner, "\u2026", "\\mathellipsis");
-defineSymbol(text, main, inner, "\u2026", "\\ldots");
-defineSymbol(math, main, inner, "\u2026", "\\ldots");
-defineSymbol(math, main, inner, "\u22ef", "\\cdots");
-defineSymbol(math, main, inner, "\u22f1", "\\ddots");
-defineSymbol(math, main, textord, "\u22ee", "\\vdots");
-defineSymbol(math, main, accent, "\u00b4", "\\acute");
-defineSymbol(math, main, accent, "\u0060", "\\grave");
-defineSymbol(math, main, accent, "\u00a8", "\\ddot");
-defineSymbol(math, main, accent, "\u007e", "\\tilde");
-defineSymbol(math, main, accent, "\u00af", "\\bar");
-defineSymbol(math, main, accent, "\u02d8", "\\breve");
-defineSymbol(math, main, accent, "\u02c7", "\\check");
-defineSymbol(math, main, accent, "\u005e", "\\hat");
-defineSymbol(math, main, accent, "\u20d7", "\\vec");
-defineSymbol(math, main, accent, "\u02d9", "\\dot");
+defineSymbol(text, main, inner, "\u2026", "\\ldots", true);
+defineSymbol(math, main, inner, "\u2026", "\\ldots", true);
+defineSymbol(math, main, inner, "\u22EF", "\\cdots", true);
+defineSymbol(math, main, inner, "\u22F1", "\\ddots", true);
+defineSymbol(math, main, textord, "\u22EE", "\\vdots", true);
+defineSymbol(math, main, accent, "\xB4", "\\acute");
+defineSymbol(math, main, accent, "`", "\\grave");
+defineSymbol(math, main, accent, "\xA8", "\\ddot");
+defineSymbol(math, main, accent, "~", "\\tilde");
+defineSymbol(math, main, accent, "\xAF", "\\bar");
+defineSymbol(math, main, accent, "\u02D8", "\\breve");
+defineSymbol(math, main, accent, "\u02C7", "\\check");
+defineSymbol(math, main, accent, "^", "\\hat");
+defineSymbol(math, main, accent, "\u20D7", "\\vec");
+defineSymbol(math, main, accent, "\u02D9", "\\dot");
 defineSymbol(math, main, mathord, "\u0131", "\\imath");
 defineSymbol(math, main, mathord, "\u0237", "\\jmath");
+defineSymbol(text, main, accent, "\u02CA", "\\'"); // acute
+defineSymbol(text, main, accent, "\u02CB", "\\`"); // grave
+defineSymbol(text, main, accent, "\u02C6", "\\^"); // circumflex
+defineSymbol(text, main, accent, "\u02DC", "\\~"); // tilde
+defineSymbol(text, main, accent, "\u02C9", "\\="); // macron
+defineSymbol(text, main, accent, "\u02D8", "\\u"); // breve
+defineSymbol(text, main, accent, "\u02D9", "\\."); // dot above
+defineSymbol(text, main, accent, "\u02DA", "\\r"); // ring above
+defineSymbol(text, main, accent, "\u02C7", "\\v"); // caron
+defineSymbol(text, main, accent, "\xA8", '\\"'); // diaresis
+defineSymbol(text, main, accent, "\u030B", "\\H"); // double acute
 
 defineSymbol(text, main, textord, "\u2013", "--");
+defineSymbol(text, main, textord, "\u2013", "\\textendash");
 defineSymbol(text, main, textord, "\u2014", "---");
+defineSymbol(text, main, textord, "\u2014", "\\textemdash");
 defineSymbol(text, main, textord, "\u2018", "`");
+defineSymbol(text, main, textord, "\u2018", "\\textquoteleft");
 defineSymbol(text, main, textord, "\u2019", "'");
-defineSymbol(text, main, textord, "\u201c", "``");
-defineSymbol(text, main, textord, "\u201d", "''");
-defineSymbol(math, main, textord, "\u00b0", "\\degree");
-defineSymbol(text, main, textord, "\u00b0", "\\degree");
-defineSymbol(math, main, mathord, "\u00a3", "\\pounds");
+defineSymbol(text, main, textord, "\u2019", "\\textquoteright");
+defineSymbol(text, main, textord, "\u201C", "``");
+defineSymbol(text, main, textord, "\u201C", "\\textquotedblleft");
+defineSymbol(text, main, textord, "\u201D", "''");
+defineSymbol(text, main, textord, "\u201D", "\\textquotedblright");
+defineSymbol(math, main, textord, "\xB0", "\\degree");
+defineSymbol(text, main, textord, "\xB0", "\\degree");
+// TODO: In LaTeX, \pounds can generate a different character in text and math
+// mode, but among our fonts, only Main-Italic defines this character "163".
+defineSymbol(math, main, mathord, "\xA3", "\\pounds");
+defineSymbol(math, main, mathord, "\xA3", "\\mathsterling");
+defineSymbol(text, main, mathord, "\xA3", "\\pounds");
+defineSymbol(text, main, mathord, "\xA3", "\\textsterling");
 defineSymbol(math, ams, textord, "\u2720", "\\maltese");
 defineSymbol(text, ams, textord, "\u2720", "\\maltese");
 
-defineSymbol(text, main, spacing, "\u00a0", "\\ ");
-defineSymbol(text, main, spacing, "\u00a0", " ");
-defineSymbol(text, main, spacing, "\u00a0", "~");
+defineSymbol(text, main, spacing, "\xA0", "\\ ");
+defineSymbol(text, main, spacing, "\xA0", " ");
+defineSymbol(text, main, spacing, "\xA0", "~");
 
 // There are lots of symbols which are the same, so we add them in afterwards.
-var i;
-var ch;
 
 // All of these are textords in math mode
 var mathTextSymbols = "0123456789/@.\"";
-for (i = 0; i < mathTextSymbols.length; i++) {
-    ch = mathTextSymbols.charAt(i);
+for (var i = 0; i < mathTextSymbols.length; i++) {
+    var ch = mathTextSymbols.charAt(i);
     defineSymbol(math, main, textord, ch, ch);
 }
 
 // All of these are textords in text mode
-var textSymbols = "0123456789!@*()-=+[]\";:?/.,";
-for (i = 0; i < textSymbols.length; i++) {
-    ch = textSymbols.charAt(i);
-    defineSymbol(text, main, textord, ch, ch);
+var textSymbols = "0123456789!@*()-=+[]<>|\";:?/.,";
+for (var _i = 0; _i < textSymbols.length; _i++) {
+    var _ch = textSymbols.charAt(_i);
+    defineSymbol(text, main, textord, _ch, _ch);
 }
 
 // All of these are textords in text mode, and mathords in math mode
 var letters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
-for (i = 0; i < letters.length; i++) {
-    ch = letters.charAt(i);
-    defineSymbol(math, main, mathord, ch, ch);
-    defineSymbol(text, main, textord, ch, ch);
+for (var _i2 = 0; _i2 < letters.length; _i2++) {
+    var _ch2 = letters.charAt(_i2);
+    defineSymbol(math, main, mathord, _ch2, _ch2);
+    defineSymbol(text, main, textord, _ch2, _ch2);
 }
 
 // Latin-1 letters
-for (i = 0x00C0; i <= 0x00D6; i++) {
-    ch = String.fromCharCode(i);
-    defineSymbol(text, main, textord, ch, ch);
+for (var _i3 = 0x00C0; _i3 <= 0x00D6; _i3++) {
+    var _ch3 = String.fromCharCode(_i3);
+    defineSymbol(math, main, mathord, _ch3, _ch3);
+    defineSymbol(text, main, textord, _ch3, _ch3);
 }
 
-for (i = 0x00D8; i <= 0x00F6; i++) {
-    ch = String.fromCharCode(i);
-    defineSymbol(text, main, textord, ch, ch);
+for (var _i4 = 0x00D8; _i4 <= 0x00F6; _i4++) {
+    var _ch4 = String.fromCharCode(_i4);
+    defineSymbol(math, main, mathord, _ch4, _ch4);
+    defineSymbol(text, main, textord, _ch4, _ch4);
 }
 
-for (i = 0x00F8; i <= 0x00FF; i++) {
-    ch = String.fromCharCode(i);
-    defineSymbol(text, main, textord, ch, ch);
+for (var _i5 = 0x00F8; _i5 <= 0x00FF; _i5++) {
+    var _ch5 = String.fromCharCode(_i5);
+    defineSymbol(math, main, mathord, _ch5, _ch5);
+    defineSymbol(text, main, textord, _ch5, _ch5);
 }
 
 // Cyrillic
-for (i = 0x0410; i <= 0x044F; i++) {
-    ch = String.fromCharCode(i);
-    defineSymbol(text, main, textord, ch, ch);
+for (var _i6 = 0x0410; _i6 <= 0x044F; _i6++) {
+    var _ch6 = String.fromCharCode(_i6);
+    defineSymbol(text, main, textord, _ch6, _ch6);
 }
 
 // Unicode versions of existing characters
@@ -8943,27 +10546,138 @@ defineSymbol(text, main, textord, "\u2013", "–");
 defineSymbol(text, main, textord, "\u2014", "—");
 defineSymbol(text, main, textord, "\u2018", "‘");
 defineSymbol(text, main, textord, "\u2019", "’");
-defineSymbol(text, main, textord, "\u201c", "“");
-defineSymbol(text, main, textord, "\u201d", "”");
+defineSymbol(text, main, textord, "\u201C", "“");
+defineSymbol(text, main, textord, "\u201D", "”");
+
+},{}],49:[function(require,module,exports){
+"use strict";
 
-},{}],24:[function(require,module,exports){
 var hangulRegex = /[\uAC00-\uD7AF]/;
 
 // This regex combines
+// - CJK symbols and punctuation: [\u3000-\u303F]
 // - Hiragana: [\u3040-\u309F]
 // - Katakana: [\u30A0-\u30FF]
 // - CJK ideograms: [\u4E00-\u9FAF]
 // - Hangul syllables: [\uAC00-\uD7AF]
+// - Fullwidth punctuation: [\uFF00-\uFF60]
 // Notably missing are halfwidth Katakana and Romanji glyphs.
-var cjkRegex =
-    /[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/;
+var cjkRegex = /[\u3000-\u30FF\u4E00-\u9FAF\uAC00-\uD7AF\uFF00-\uFF60]/;
 
 module.exports = {
     cjkRegex: cjkRegex,
     hangulRegex: hangulRegex
 };
 
-},{}],25:[function(require,module,exports){
+},{}],50:[function(require,module,exports){
+"use strict";
+
+var _ParseError = require("./ParseError");
+
+var _ParseError2 = _interopRequireDefault(_ParseError);
+
+function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
+
+// This table gives the number of TeX pts in one of each *absolute* TeX unit.
+// Thus, multiplying a length by this number converts the length from units
+// into pts.  Dividing the result by ptPerEm gives the number of ems
+// *assuming* a font size of ptPerEm (normal size, normal style).
+var ptPerUnit = {
+    // https://en.wikibooks.org/wiki/LaTeX/Lengths and
+    // https://tex.stackexchange.com/a/8263
+    "pt": 1, // TeX point
+    "mm": 7227 / 2540, // millimeter
+    "cm": 7227 / 254, // centimeter
+    "in": 72.27, // inch
+    "bp": 803 / 800, // big (PostScript) points
+    "pc": 12, // pica
+    "dd": 1238 / 1157, // didot
+    "cc": 14856 / 1157, // cicero (12 didot)
+    "nd": 685 / 642, // new didot
+    "nc": 1370 / 107, // new cicero (12 new didot)
+    "sp": 1 / 65536, // scaled point (TeX's internal smallest unit)
+    // https://tex.stackexchange.com/a/41371
+    "px": 803 / 800 };
+
+// Dictionary of relative units, for fast validity testing.
+/* eslint no-console:0 */
+
+/**
+ * This file does conversion between units.  In particular, it provides
+ * calculateSize to convert other units into ems.
+ */
+
+var relativeUnit = {
+    "ex": true,
+    "em": true,
+    "mu": true
+};
+
+/**
+ * Determine whether the specified unit (either a string defining the unit
+ * or a "size" parse node containing a unit field) is valid.
+ */
+var validUnit = function validUnit(unit) {
+    if (unit.unit) {
+        unit = unit.unit;
+    }
+    return unit in ptPerUnit || unit in relativeUnit || unit === "ex";
+};
+
+/*
+ * Convert a "size" parse node (with numeric "number" and string "unit" fields,
+ * as parsed by functions.js argType "size") into a CSS em value for the
+ * current style/scale.  `options` gives the current options.
+ */
+var calculateSize = function calculateSize(sizeValue, options) {
+    var scale = void 0;
+    if (sizeValue.unit in ptPerUnit) {
+        // Absolute units
+        scale = ptPerUnit[sizeValue.unit] // Convert unit to pt
+        / options.fontMetrics().ptPerEm // Convert pt to CSS em
+        / options.sizeMultiplier; // Unscale to make absolute units
+    } else if (sizeValue.unit === "mu") {
+        // `mu` units scale with scriptstyle/scriptscriptstyle.
+        scale = options.fontMetrics().cssEmPerMu;
+    } else {
+        // Other relative units always refer to the *textstyle* font
+        // in the current size.
+        var unitOptions = void 0;
+        if (options.style.isTight()) {
+            // isTight() means current style is script/scriptscript.
+            unitOptions = options.havingStyle(options.style.text());
+        } else {
+            unitOptions = options;
+        }
+        // TODO: In TeX these units are relative to the quad of the current
+        // *text* font, e.g. cmr10. KaTeX instead uses values from the
+        // comparably-sized *Computer Modern symbol* font. At 10pt, these
+        // match. At 7pt and 5pt, they differ: cmr7=1.138894, cmsy7=1.170641;
+        // cmr5=1.361133, cmsy5=1.472241. Consider $\scriptsize a\kern1emb$.
+        // TeX \showlists shows a kern of 1.13889 * fontsize;
+        // KaTeX shows a kern of 1.171 * fontsize.
+        if (sizeValue.unit === "ex") {
+            scale = unitOptions.fontMetrics().xHeight;
+        } else if (sizeValue.unit === "em") {
+            scale = unitOptions.fontMetrics().quad;
+        } else {
+            throw new _ParseError2.default("Invalid unit: '" + sizeValue.unit + "'");
+        }
+        if (unitOptions !== options) {
+            scale *= unitOptions.sizeMultiplier / options.sizeMultiplier;
+        }
+    }
+    return sizeValue.number * scale;
+};
+
+module.exports = {
+    validUnit: validUnit,
+    calculateSize: calculateSize
+};
+
+},{"./ParseError":29}],51:[function(require,module,exports){
+"use strict";
+
 /**
  * This file contains a list of utility functions which are useful in other
  * files.
@@ -8974,16 +10688,15 @@ module.exports = {
  * possible.
  */
 var nativeIndexOf = Array.prototype.indexOf;
-var indexOf = function(list, elem) {
+var indexOf = function indexOf(list, elem) {
     if (list == null) {
         return -1;
     }
     if (nativeIndexOf && list.indexOf === nativeIndexOf) {
         return list.indexOf(elem);
     }
-    var i = 0;
     var l = list.length;
-    for (; i < l; i++) {
+    for (var i = 0; i < l; i++) {
         if (list[i] === elem) {
             return i;
         }
@@ -8994,21 +10707,21 @@ var indexOf = function(list, elem) {
 /**
  * Return whether an element is contained in a list
  */
-var contains = function(list, elem) {
+var contains = function contains(list, elem) {
     return indexOf(list, elem) !== -1;
 };
 
 /**
  * Provide a default value if a setting is undefined
  */
-var deflt = function(setting, defaultIfUndefined) {
+var deflt = function deflt(setting, defaultIfUndefined) {
     return setting === undefined ? defaultIfUndefined : setting;
 };
 
 // hyphenate and escape adapted from Facebook's React under Apache 2 license
 
 var uppercase = /([A-Z])/g;
-var hyphenate = function(str) {
+var hyphenate = function hyphenate(str) {
     return str.replace(uppercase, "-$1").toLowerCase();
 };
 
@@ -9040,15 +10753,15 @@ function escape(text) {
  * A function to set the text content of a DOM element in all supported
  * browsers. Note that we don't define this if there is no document.
  */
-var setTextContent;
+var setTextContent = void 0;
 if (typeof document !== "undefined") {
     var testNode = document.createElement("span");
     if ("textContent" in testNode) {
-        setTextContent = function(node, text) {
+        setTextContent = function setTextContent(node, text) {
             node.textContent = text;
         };
     } else {
-        setTextContent = function(node, text) {
+        setTextContent = function setTextContent(node, text) {
             node.innerText = text;
         };
     }
diff --git a/assets/bower_components/katex/dist/katex.min.css b/assets/bower_components/katex/dist/katex.min.css
index d6fb8374..2aba5d86 100644
--- a/assets/bower_components/katex/dist/katex.min.css
+++ b/assets/bower_components/katex/dist/katex.min.css
@@ -1 +1 @@
-@font-face{font-family:KaTeX_AMS;src:url(fonts/KaTeX_AMS-Regular.eot);src:url(fonts/KaTeX_AMS-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'),url(fonts/KaTeX_AMS-Regular.woff) format('woff'),url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Bold.eot);src:url(fonts/KaTeX_Caligraphic-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'),url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'),url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Regular.eot);src:url(fonts/KaTeX_Caligraphic-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'),url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'),url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Bold.eot);src:url(fonts/KaTeX_Fraktur-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'),url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'),url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Regular.eot);src:url(fonts/KaTeX_Fraktur-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'),url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'),url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Bold.eot);src:url(fonts/KaTeX_Main-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Bold.woff2) format('woff2'),url(fonts/KaTeX_Main-Bold.woff) format('woff'),url(fonts/KaTeX_Main-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Italic.eot);src:url(fonts/KaTeX_Main-Italic.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Italic.woff2) format('woff2'),url(fonts/KaTeX_Main-Italic.woff) format('woff'),url(fonts/KaTeX_Main-Italic.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Regular.eot);src:url(fonts/KaTeX_Main-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Regular.woff2) format('woff2'),url(fonts/KaTeX_Main-Regular.woff) format('woff'),url(fonts/KaTeX_Main-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-Italic.eot);src:url(fonts/KaTeX_Math-Italic.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Math-Italic.woff2) format('woff2'),url(fonts/KaTeX_Math-Italic.woff) format('woff'),url(fonts/KaTeX_Math-Italic.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(fonts/KaTeX_SansSerif-Regular.eot);src:url(fonts/KaTeX_SansSerif-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'),url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'),url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(fonts/KaTeX_Script-Regular.eot);src:url(fonts/KaTeX_Script-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Script-Regular.woff2) format('woff2'),url(fonts/KaTeX_Script-Regular.woff) format('woff'),url(fonts/KaTeX_Script-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(fonts/KaTeX_Size1-Regular.eot);src:url(fonts/KaTeX_Size1-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size1-Regular.woff) format('woff'),url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(fonts/KaTeX_Size2-Regular.eot);src:url(fonts/KaTeX_Size2-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size2-Regular.woff) format('woff'),url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(fonts/KaTeX_Size3-Regular.eot);src:url(fonts/KaTeX_Size3-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size3-Regular.woff) format('woff'),url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(fonts/KaTeX_Size4-Regular.eot);src:url(fonts/KaTeX_Size4-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size4-Regular.woff) format('woff'),url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(fonts/KaTeX_Typewriter-Regular.eot);src:url(fonts/KaTeX_Typewriter-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'),url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'),url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');font-weight:400;font-style:normal}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:inline-block;text-align:initial}.katex{font:400 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;white-space:nowrap;text-indent:0}.katex .katex-html{display:inline-block}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base,.katex .strut{display:inline-block}.katex .mathrm{font-style:normal}.katex .textit{font-style:italic}.katex .mathit{font-family:KaTeX_Math;font-style:italic}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .amsrm,.katex .mathbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr{font-family:KaTeX_Script}.katex .mathsf{font-family:KaTeX_SansSerif}.katex .mainit{font-family:KaTeX_Main;font-style:italic}.katex .mord+.mop{margin-left:.16667em}.katex .mord+.mbin{margin-left:.22222em}.katex .mord+.mrel{margin-left:.27778em}.katex .mop+.mop,.katex .mop+.mord,.katex .mord+.minner{margin-left:.16667em}.katex .mop+.mrel{margin-left:.27778em}.katex .mop+.minner{margin-left:.16667em}.katex .mbin+.minner,.katex .mbin+.mop,.katex .mbin+.mopen,.katex .mbin+.mord{margin-left:.22222em}.katex .mrel+.minner,.katex .mrel+.mop,.katex .mrel+.mopen,.katex .mrel+.mord{margin-left:.27778em}.katex .mclose+.mop{margin-left:.16667em}.katex .mclose+.mbin{margin-left:.22222em}.katex .mclose+.mrel{margin-left:.27778em}.katex .mclose+.minner,.katex .minner+.mop,.katex .minner+.mord,.katex .mpunct+.mclose,.katex .mpunct+.minner,.katex .mpunct+.mop,.katex .mpunct+.mopen,.katex .mpunct+.mord,.katex .mpunct+.mpunct,.katex .mpunct+.mrel{margin-left:.16667em}.katex .minner+.mbin{margin-left:.22222em}.katex .minner+.mrel{margin-left:.27778em}.katex .minner+.minner,.katex .minner+.mopen,.katex .minner+.mpunct{margin-left:.16667em}.katex .mbin.mtight,.katex .mclose.mtight,.katex .minner.mtight,.katex .mop.mtight,.katex .mopen.mtight,.katex .mord.mtight,.katex .mpunct.mtight,.katex .mrel.mtight{margin-left:0}.katex .mclose+.mop.mtight,.katex .minner+.mop.mtight,.katex .mop+.mop.mtight,.katex .mop+.mord.mtight,.katex .mord+.mop.mtight{margin-left:.16667em}.katex .reset-textstyle.textstyle{font-size:1em}.katex .reset-textstyle.scriptstyle{font-size:.7em}.katex .reset-textstyle.scriptscriptstyle{font-size:.5em}.katex .reset-scriptstyle.textstyle{font-size:1.42857em}.katex .reset-scriptstyle.scriptstyle{font-size:1em}.katex .reset-scriptstyle.scriptscriptstyle{font-size:.71429em}.katex .reset-scriptscriptstyle.textstyle{font-size:2em}.katex .reset-scriptscriptstyle.scriptstyle{font-size:1.4em}.katex .reset-scriptscriptstyle.scriptscriptstyle{font-size:1em}.katex .style-wrap{position:relative}.katex .vlist{display:inline-block}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist .baseline-fix{display:inline-table;table-layout:fixed}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{width:100%}.katex .mfrac .frac-line:before{border-bottom-style:solid;border-bottom-width:1px;content:"";display:block}.katex .mfrac .frac-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px}.katex .mspace{display:inline-block}.katex .mspace.negativethinspace{margin-left:-.16667em}.katex .mspace.thinspace{width:.16667em}.katex .mspace.negativemediumspace{margin-left:-.22222em}.katex .mspace.mediumspace{width:.22222em}.katex .mspace.thickspace{width:.27778em}.katex .mspace.sixmuspace{width:.333333em}.katex .mspace.eightmuspace{width:.444444em}.katex .mspace.enspace{width:.5em}.katex .mspace.twelvemuspace{width:.666667em}.katex .mspace.quad{width:1em}.katex .mspace.qquad{width:2em}.katex .llap,.katex .rlap{width:0;position:relative}.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .rlap>.inner{left:0}.katex .katex-logo .a{font-size:.75em;margin-left:-.32em;position:relative;top:-.2em}.katex .katex-logo .t{margin-left:-.23em}.katex .katex-logo .e{margin-left:-.1667em;position:relative;top:.2155em}.katex .katex-logo .x{margin-left:-.125em}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .overline .overline-line,.katex .underline .underline-line{width:100%}.katex .overline .overline-line:before,.katex .underline .underline-line:before{border-bottom-style:solid;border-bottom-width:1px;content:"";display:block}.katex .overline .overline-line:after,.katex .underline .underline-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px}.katex .sqrt>.sqrt-sign{position:relative}.katex .sqrt .sqrt-line{width:100%}.katex .sqrt .sqrt-line:before{border-bottom-style:solid;border-bottom-width:1px;content:"";display:block}.katex .sqrt .sqrt-line:after{border-bottom-style:solid;border-bottom-width:.04em;content:"";display:block;margin-top:-1px}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer,.katex .sizing{display:inline-block}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:2em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:3.46em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:4.14em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.98em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.47142857em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.95714286em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.55714286em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.875em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.125em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.25em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.5em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.8em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.1625em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.5875em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:3.1125em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.77777778em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.88888889em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.6em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.92222222em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.3em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.76666667em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.7em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.8em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.9em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.2em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.44em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.73em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:2.07em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.49em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.58333333em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.66666667em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.75em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.83333333em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44166667em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.725em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.075em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.48611111em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.55555556em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.625em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.69444444em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.20138889em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.4375em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72916667em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.28901734em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.40462428em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.46242775em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.52023121em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.57803468em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69364162em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83236994em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.19653179em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.43930636em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.24154589em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.33816425em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.38647343em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.43478261em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.48309179em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.57971014em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69565217em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83574879em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20289855em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.20080321em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.2811245em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.32128514em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.36144578em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.40160643em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48192771em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57831325em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69477912em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.8313253em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent>.vlist>span,.katex .op-limits>.vlist>span{text-align:center}.katex .accent .accent-body>span{width:0}.katex .accent .accent-body.accent-vec>span{position:relative;left:.326em}.katex .mtable .vertical-separator{display:inline-block;margin:0 -.025em;border-right:.05em solid #000}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist{text-align:center}.katex .mtable .col-align-l>.vlist{text-align:left}.katex .mtable .col-align-r>.vlist{text-align:right}
\ No newline at end of file
+@font-face{font-family:KaTeX_AMS;src:url(fonts/KaTeX_AMS-Regular.eot);src:url(fonts/KaTeX_AMS-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_AMS-Regular.woff2) format('woff2'),url(fonts/KaTeX_AMS-Regular.woff) format('woff'),url(fonts/KaTeX_AMS-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Bold.eot);src:url(fonts/KaTeX_Caligraphic-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Caligraphic-Bold.woff2) format('woff2'),url(fonts/KaTeX_Caligraphic-Bold.woff) format('woff'),url(fonts/KaTeX_Caligraphic-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url(fonts/KaTeX_Caligraphic-Regular.eot);src:url(fonts/KaTeX_Caligraphic-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Caligraphic-Regular.woff2) format('woff2'),url(fonts/KaTeX_Caligraphic-Regular.woff) format('woff'),url(fonts/KaTeX_Caligraphic-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Bold.eot);src:url(fonts/KaTeX_Fraktur-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Fraktur-Bold.woff2) format('woff2'),url(fonts/KaTeX_Fraktur-Bold.woff) format('woff'),url(fonts/KaTeX_Fraktur-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url(fonts/KaTeX_Fraktur-Regular.eot);src:url(fonts/KaTeX_Fraktur-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Fraktur-Regular.woff2) format('woff2'),url(fonts/KaTeX_Fraktur-Regular.woff) format('woff'),url(fonts/KaTeX_Fraktur-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Bold.eot);src:url(fonts/KaTeX_Main-Bold.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Bold.woff2) format('woff2'),url(fonts/KaTeX_Main-Bold.woff) format('woff'),url(fonts/KaTeX_Main-Bold.ttf) format('truetype');font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Italic.eot);src:url(fonts/KaTeX_Main-Italic.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Italic.woff2) format('woff2'),url(fonts/KaTeX_Main-Italic.woff) format('woff'),url(fonts/KaTeX_Main-Italic.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url(fonts/KaTeX_Main-Regular.eot);src:url(fonts/KaTeX_Main-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Main-Regular.woff2) format('woff2'),url(fonts/KaTeX_Main-Regular.woff) format('woff'),url(fonts/KaTeX_Main-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url(fonts/KaTeX_Math-Italic.eot);src:url(fonts/KaTeX_Math-Italic.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Math-Italic.woff2) format('woff2'),url(fonts/KaTeX_Math-Italic.woff) format('woff'),url(fonts/KaTeX_Math-Italic.ttf) format('truetype');font-weight:400;font-style:italic}@font-face{font-family:KaTeX_SansSerif;src:url(fonts/KaTeX_SansSerif-Regular.eot);src:url(fonts/KaTeX_SansSerif-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_SansSerif-Regular.woff2) format('woff2'),url(fonts/KaTeX_SansSerif-Regular.woff) format('woff'),url(fonts/KaTeX_SansSerif-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url(fonts/KaTeX_Script-Regular.eot);src:url(fonts/KaTeX_Script-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Script-Regular.woff2) format('woff2'),url(fonts/KaTeX_Script-Regular.woff) format('woff'),url(fonts/KaTeX_Script-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url(fonts/KaTeX_Size1-Regular.eot);src:url(fonts/KaTeX_Size1-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size1-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size1-Regular.woff) format('woff'),url(fonts/KaTeX_Size1-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url(fonts/KaTeX_Size2-Regular.eot);src:url(fonts/KaTeX_Size2-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size2-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size2-Regular.woff) format('woff'),url(fonts/KaTeX_Size2-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url(fonts/KaTeX_Size3-Regular.eot);src:url(fonts/KaTeX_Size3-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size3-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size3-Regular.woff) format('woff'),url(fonts/KaTeX_Size3-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url(fonts/KaTeX_Size4-Regular.eot);src:url(fonts/KaTeX_Size4-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Size4-Regular.woff2) format('woff2'),url(fonts/KaTeX_Size4-Regular.woff) format('woff'),url(fonts/KaTeX_Size4-Regular.ttf) format('truetype');font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url(fonts/KaTeX_Typewriter-Regular.eot);src:url(fonts/KaTeX_Typewriter-Regular.eot#iefix) format('embedded-opentype'),url(fonts/KaTeX_Typewriter-Regular.woff2) format('woff2'),url(fonts/KaTeX_Typewriter-Regular.woff) format('woff'),url(fonts/KaTeX_Typewriter-Regular.ttf) format('truetype');font-weight:400;font-style:normal}.katex-display{display:block;margin:1em 0;text-align:center}.katex .base,.katex .katex-html,.katex .strut{display:inline-block}.katex-display>.katex{display:inline-block;text-align:initial}.katex{font:400 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;white-space:nowrap;text-indent:0;text-rendering:auto}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .base{position:relative}.katex .mathrm{font-style:normal}.katex .mainit,.katex .mathit,.katex .textit{font-style:italic}.katex .mathit{font-family:KaTeX_Math}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .amsrm,.katex .mathbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr{font-family:KaTeX_Script}.katex .mathsf{font-family:KaTeX_SansSerif}.katex .mainit{font-family:KaTeX_Main}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .mord+.mop{margin-left:.16667em}.katex .mord+.mbin{margin-left:.22222em}.katex .mord+.mrel{margin-left:.27778em}.katex .mop+.mop,.katex .mop+.mord,.katex .mord+.minner{margin-left:.16667em}.katex .mop+.mrel{margin-left:.27778em}.katex .mop+.minner{margin-left:.16667em}.katex .mbin+.minner,.katex .mbin+.mop,.katex .mbin+.mopen,.katex .mbin+.mord{margin-left:.22222em}.katex .mrel+.minner,.katex .mrel+.mop,.katex .mrel+.mopen,.katex .mrel+.mord{margin-left:.27778em}.katex .mclose+.mop{margin-left:.16667em}.katex .mclose+.mbin{margin-left:.22222em}.katex .mclose+.mrel{margin-left:.27778em}.katex .mclose+.minner,.katex .minner+.mop,.katex .minner+.mord,.katex .mpunct+.mclose,.katex .mpunct+.minner,.katex .mpunct+.mop,.katex .mpunct+.mopen,.katex .mpunct+.mord,.katex .mpunct+.mpunct,.katex .mpunct+.mrel{margin-left:.16667em}.katex .minner+.mbin{margin-left:.22222em}.katex .minner+.mrel{margin-left:.27778em}.katex .minner+.minner,.katex .minner+.mopen,.katex .minner+.mpunct{margin-left:.16667em}.katex .mbin.mtight,.katex .mclose.mtight,.katex .minner.mtight,.katex .mop.mtight,.katex .mopen.mtight,.katex .mord.mtight,.katex .mpunct.mtight,.katex .mrel.mtight{margin-left:0}.katex .mclose+.mop.mtight,.katex .minner+.mop.mtight,.katex .mop+.mop.mtight,.katex .mop+.mord.mtight,.katex .mord+.mop.mtight{margin-left:.16667em}.katex .vlist-t{display:inline-table;table-layout:fixed}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px}.katex .fontsize-ensurer,.katex .llap>.fix,.katex .mfrac .frac-line,.katex .mspace,.katex .mtable .arraycolsep,.katex .mtable .vertical-separator,.katex .nulldelimiter,.katex .rlap>.fix,.katex .rule,.katex .sizing{display:inline-block}.katex .msupsub{text-align:left}.katex .accent>.vlist-t,.katex .mfrac>span>span,.katex .mtable .col-align-c>.vlist-t,.katex .op-limits>.vlist-t{text-align:center}.katex .mfrac .frac-line{width:100%;border-bottom-style:solid}.katex .mspace.negativethinspace{margin-left:-.16667em}.katex .mspace.thinspace{width:.16667em}.katex .mspace.negativemediumspace{margin-left:-.22222em}.katex .mspace.mediumspace{width:.22222em}.katex .mspace.thickspace{width:.27778em}.katex .mspace.sixmuspace{width:.333333em}.katex .mspace.eightmuspace{width:.444444em}.katex .mspace.enspace{width:.5em}.katex .mspace.twelvemuspace{width:.666667em}.katex .mspace.quad{width:1em}.katex .mspace.qquad{width:2em}.katex .llap,.katex .rlap{width:0;position:relative}.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .llap>.inner{right:0}.katex .rlap>.inner{left:0}.katex .katex-logo .a{font-size:.75em;margin-left:-.32em;position:relative;top:-.2em}.katex .katex-logo .t{margin-left:-.23em}.katex .katex-logo .e{margin-left:-.1667em;position:relative;top:.2155em}.katex .katex-logo .x{margin-left:-.125em}.katex .rule{border:0 solid;position:relative}.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .accent .accent-body>span{width:0}.katex .accent .accent-body.accent-vec>span{position:relative;left:.326em}.katex .accent .accent-body.accent-hungarian>span{position:relative;left:.25em}.katex .mtable .vertical-separator{margin:0 -.025em;border-right:.05em solid #000}.katex .stretchy,.katex svg{width:100%;display:block}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{position:absolute}.katex svg path{fill:currentColor}.katex svg line{stroke:currentColor}.katex .stretchy:after,.katex .stretchy:before{content:""}.katex .x-arrow-pad{padding:0 .5em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox{box-sizing:border-box;border:.04em solid #000}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap+.mbin,.katex .cancel-lap+.mord,.katex .cancel-lap+.msupsub,.katex .mbin+.cancel-lap,.katex .mord+.cancel-lap{margin-left:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}
\ No newline at end of file
diff --git a/assets/bower_components/katex/dist/katex.min.js b/assets/bower_components/katex/dist/katex.min.js
index 66c08216..a7aba03b 100644
--- a/assets/bower_components/katex/dist/katex.min.js
+++ b/assets/bower_components/katex/dist/katex.min.js
@@ -1,4 +1,6 @@
-(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.katex=e()}})(function(){var e,t,r;return function a(e,t,r){function i(s,l){if(!t[s]){if(!e[s]){var o=typeof require=="function"&&require;if(!l&&o)return o(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=t[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return i(r?r:t)},p,p.exports,a,e,t,r)}return t[s].exports}var n=typeof require=="function"&&require;for(var s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){var a=e("./src/ParseError");var i=e("./src/Settings");var n=e("./src/buildTree");var s=e("./src/parseTree");var l=e("./src/utils");var o=function(e,t,r){l.clearNode(t);var a=new i(r);var o=s(e,a);var u=n(o,e,a).toNode();t.appendChild(u)};if(typeof document!=="undefined"){if(document.compatMode!=="CSS1Compat"){typeof console!=="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your "+"website has a suitable doctype.");o=function(){throw new a("KaTeX doesn't work in quirks mode.")}}}var u=function(e,t){var r=new i(t);var a=s(e,r);return n(a,e,r).toMarkup()};var p=function(e,t){var r=new i(t);return s(e,r)};t.exports={render:o,renderToString:u,__parse:p,ParseError:a}},{"./src/ParseError":6,"./src/Settings":8,"./src/buildTree":13,"./src/parseTree":22,"./src/utils":25}],2:[function(e,t,r){"use strict";function a(e){if(!e.__matchAtRelocatable){var t=e.source+"|()";var r="g"+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"");e.__matchAtRelocatable=new RegExp(t,r)}return e.__matchAtRelocatable}function i(e,t,r){if(e.global||e.sticky){throw new Error("matchAt(...): Only non-global regexes are supported")}var i=a(e);i.lastIndex=r;var n=i.exec(t);if(n[n.length-1]==null){n.length=n.length-1;return n}else{return null}}t.exports=i},{}],3:[function(e,t,r){var a=e("match-at");var i=e("./ParseError");function n(e){this.input=e;this.pos=0}function s(e,t,r,a){this.text=e;this.start=t;this.end=r;this.lexer=a}s.prototype.range=function(e,t){if(e.lexer!==this.lexer){return new s(t)}return new s(t,this.start,e.end,this.lexer)};var l=new RegExp("([ \r\n	]+)|"+"([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff]"+"|[\ud800-\udbff][\udc00-\udfff]"+"|\\\\(?:[a-zA-Z]+|[^\ud800-\udfff])"+")");n.prototype.lex=function(){var e=this.input;var t=this.pos;if(t===e.length){return new s("EOF",t,t,this)}var r=a(l,e,t);if(r===null){throw new i("Unexpected character: '"+e[t]+"'",new s(e[t],t,t+1,this))}var n=r[2]||" ";var o=this.pos;this.pos+=r[0].length;var u=this.pos;return new s(n,o,u,this)};t.exports=n},{"./ParseError":6,"match-at":2}],4:[function(e,t,r){var a=e("./Lexer");function i(e,t){this.lexer=new a(e);this.macros=t;this.stack=[];this.discardedWhiteSpace=[]}i.prototype.nextToken=function(){for(;;){if(this.stack.length===0){this.stack.push(this.lexer.lex())}var e=this.stack.pop();var t=e.text;if(!(t.charAt(0)==="\\"&&this.macros.hasOwnProperty(t))){return e}var r=this.macros[t];if(typeof r==="string"){var i=new a(r);r=[];var n=i.lex();while(n.text!=="EOF"){r.push(n);n=i.lex()}r.reverse();this.macros[t]=r}this.stack=this.stack.concat(r)}};i.prototype.get=function(e){this.discardedWhiteSpace=[];var t=this.nextToken();if(e){while(t.text===" "){this.discardedWhiteSpace.push(t);t=this.nextToken()}}return t};i.prototype.unget=function(e){this.stack.push(e);while(this.discardedWhiteSpace.length!==0){this.stack.push(this.discardedWhiteSpace.pop())}};t.exports=i},{"./Lexer":3}],5:[function(e,t,r){function a(e){this.style=e.style;this.color=e.color;this.size=e.size;this.phantom=e.phantom;this.font=e.font;if(e.parentStyle===undefined){this.parentStyle=e.style}else{this.parentStyle=e.parentStyle}if(e.parentSize===undefined){this.parentSize=e.size}else{this.parentSize=e.parentSize}}a.prototype.extend=function(e){var t={style:this.style,size:this.size,color:this.color,parentStyle:this.style,parentSize:this.size,phantom:this.phantom,font:this.font};for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}return new a(t)};a.prototype.withStyle=function(e){return this.extend({style:e})};a.prototype.withSize=function(e){return this.extend({size:e})};a.prototype.withColor=function(e){return this.extend({color:e})};a.prototype.withPhantom=function(){return this.extend({phantom:true})};a.prototype.withFont=function(e){return this.extend({font:e||this.font})};a.prototype.reset=function(){return this.extend({})};var i={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};a.prototype.getColor=function(){if(this.phantom){return"transparent"}else{return i[this.color]||this.color}};t.exports=a},{}],6:[function(e,t,r){function a(e,t){var r="KaTeX parse error: "+e;var i;var n;if(t&&t.lexer&&t.start<=t.end){var s=t.lexer.input;i=t.start;n=t.end;if(i===s.length){r+=" at end of input: "}else{r+=" at position "+(i+1)+": "}var l=s.slice(i,n).replace(/[^]/g,"$&\u0332");var o;if(i>15){o="\u2026"+s.slice(i-15,i)}else{o=s.slice(0,i)}var u;if(n+15<s.length){u=s.slice(n,n+15)+"\u2026"}else{u=s.slice(n)}r+=o+l+u}var p=new Error(r);p.name="ParseError";p.__proto__=a.prototype;p.position=i;return p}a.prototype.__proto__=Error.prototype;t.exports=a},{}],7:[function(e,t,r){var a=e("./functions");var i=e("./environments");var n=e("./MacroExpander");var s=e("./symbols");var l=e("./utils");var o=e("./unicodeRegexes").cjkRegex;var u=e("./parseData");var p=e("./ParseError");function h(e,t){this.gullet=new n(e,t.macros);this.settings=t;this.leftrightDepth=0}var c=u.ParseNode;function m(e,t,r){this.result=e;this.isFunction=t;this.token=r}h.prototype.expect=function(e,t){if(this.nextToken.text!==e){throw new p("Expected '"+e+"', got '"+this.nextToken.text+"'",this.nextToken)}if(t!==false){this.consume()}};h.prototype.consume=function(){this.nextToken=this.gullet.get(this.mode==="math")};h.prototype.switchMode=function(e){this.gullet.unget(this.nextToken);this.mode=e;this.consume()};h.prototype.parse=function(){this.mode="math";this.consume();var e=this.parseInput();return e};h.prototype.parseInput=function(){var e=this.parseExpression(false);this.expect("EOF",false);return e};var f=["}","\\end","\\right","&","\\\\","\\cr"];h.prototype.parseExpression=function(e,t){var r=[];while(true){var i=this.nextToken;if(f.indexOf(i.text)!==-1){break}if(t&&i.text===t){break}if(e&&a[i.text]&&a[i.text].infix){break}var n=this.parseAtom();if(!n){if(!this.settings.throwOnError&&i.text[0]==="\\"){var s=this.handleUnsupportedCmd();r.push(s);continue}break}r.push(n)}return this.handleInfixNodes(r)};h.prototype.handleInfixNodes=function(e){var t=-1;var r;for(var a=0;a<e.length;a++){var i=e[a];if(i.type==="infix"){if(t!==-1){throw new p("only one infix operator per group",i.value.token)}t=a;r=i.value.replaceWith}}if(t!==-1){var n;var s;var l=e.slice(0,t);var o=e.slice(t+1);if(l.length===1&&l[0].type==="ordgroup"){n=l[0]}else{n=new c("ordgroup",l,this.mode)}if(o.length===1&&o[0].type==="ordgroup"){s=o[0]}else{s=new c("ordgroup",o,this.mode)}var u=this.callFunction(r,[n,s],null);return[new c(u.type,u,this.mode)]}else{return e}};var v=1;h.prototype.handleSupSubscript=function(e){var t=this.nextToken;var r=t.text;this.consume();var i=this.parseGroup();if(!i){if(!this.settings.throwOnError&&this.nextToken.text[0]==="\\"){return this.handleUnsupportedCmd()}else{throw new p("Expected group after '"+r+"'",t)}}else if(i.isFunction){var n=a[i.result].greediness;if(n>v){return this.parseFunction(i)}else{throw new p("Got function '"+i.result+"' with no arguments "+"as "+e,t)}}else{return i.result}};h.prototype.handleUnsupportedCmd=function(){var e=this.nextToken.text;var t=[];for(var r=0;r<e.length;r++){t.push(new c("textord",e[r],"text"))}var a=new c("text",{body:t,type:"text"},this.mode);var i=new c("color",{color:this.settings.errorColor,value:[a],type:"color"},this.mode);this.consume();return i};h.prototype.parseAtom=function(){var e=this.parseImplicitGroup();if(this.mode==="text"){return e}var t;var r;while(true){var a=this.nextToken;if(a.text==="\\limits"||a.text==="\\nolimits"){if(!e||e.type!=="op"){throw new p("Limit controls must follow a math operator",a)}else{var i=a.text==="\\limits";e.value.limits=i;e.value.alwaysHandleSupSub=true}this.consume()}else if(a.text==="^"){if(t){throw new p("Double superscript",a)}t=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r){throw new p("Double subscript",a)}r=this.handleSupSubscript("subscript")}else if(a.text==="'"){var n=new c("textord","\\prime",this.mode);var s=[n];this.consume();while(this.nextToken.text==="'"){s.push(n);this.consume()}t=new c("ordgroup",s,this.mode)}else{break}}if(t||r){return new c("supsub",{base:e,sup:t,sub:r},this.mode)}else{return e}};var d=["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];var g=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];h.prototype.parseImplicitGroup=function(){var e=this.parseSymbol();if(e==null){return this.parseFunction()}var t=e.result;var r;if(t==="\\left"){var a=this.parseFunction(e);++this.leftrightDepth;r=this.parseExpression(false);--this.leftrightDepth;this.expect("\\right",false);var n=this.parseFunction();return new c("leftright",{body:r,left:a.value.value,right:n.value.value},this.mode)}else if(t==="\\begin"){var s=this.parseFunction(e);var o=s.value.name;if(!i.hasOwnProperty(o)){throw new p("No such environment: "+o,s.value.nameGroup)}var u=i[o];var h=this.parseArguments("\\begin{"+o+"}",u);var m={mode:this.mode,envName:o,parser:this,positions:h.pop()};var f=u.handler(m,h);this.expect("\\end",false);var v=this.nextToken;var y=this.parseFunction();if(y.value.name!==o){throw new p("Mismatch: \\begin{"+o+"} matched "+"by \\end{"+y.value.name+"}",v)}f.position=y.position;return f}else if(l.contains(d,t)){r=this.parseExpression(false);return new c("sizing",{size:"size"+(l.indexOf(d,t)+1),value:r},this.mode)}else if(l.contains(g,t)){r=this.parseExpression(true);return new c("styling",{style:t.slice(1,t.length-5),value:r},this.mode)}else{return this.parseFunction(e)}};h.prototype.parseFunction=function(e){if(!e){e=this.parseGroup()}if(e){if(e.isFunction){var t=e.result;var r=a[t];if(this.mode==="text"&&!r.allowedInText){throw new p("Can't use function '"+t+"' in text mode",e.token)}var i=this.parseArguments(t,r);var n=e.token;var s=this.callFunction(t,i,i.pop(),n);return new c(s.type,s,this.mode)}else{return e.result}}else{return null}};h.prototype.callFunction=function(e,t,r,i){var n={funcName:e,parser:this,positions:r,token:i};return a[e].handler(n,t)};h.prototype.parseArguments=function(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0){return[[this.pos]]}var i=t.greediness;var n=[this.pos];var s=[];for(var l=0;l<r;l++){var o=this.nextToken;var u=t.argTypes&&t.argTypes[l];var h;if(l<t.numOptionalArgs){if(u){h=this.parseGroupOfType(u,true)}else{h=this.parseGroup(true)}if(!h){s.push(null);n.push(this.pos);continue}}else{if(u){h=this.parseGroupOfType(u)}else{h=this.parseGroup()}if(!h){if(!this.settings.throwOnError&&this.nextToken.text[0]==="\\"){h=new m(this.handleUnsupportedCmd(this.nextToken.text),false)}else{throw new p("Expected group after '"+e+"'",o)}}}var c;if(h.isFunction){var f=a[h.result].greediness;if(f>i){c=this.parseFunction(h)}else{throw new p("Got function '"+h.result+"' as "+"argument to '"+e+"'",o)}}else{c=h.result}s.push(c);n.push(this.pos)}s.push(n);return s};h.prototype.parseGroupOfType=function(e,t){var r=this.mode;if(e==="original"){e=r}if(e==="color"){return this.parseColorGroup(t)}if(e==="size"){return this.parseSizeGroup(t)}this.switchMode(e);if(e==="text"){while(this.nextToken.text===" "){this.consume()}}var a=this.parseGroup(t);this.switchMode(r);return a};h.prototype.parseStringGroup=function(e,t){if(t&&this.nextToken.text!=="["){return null}var r=this.mode;this.mode="text";this.expect(t?"[":"{");var a="";var i=this.nextToken;var n=i;while(this.nextToken.text!==(t?"]":"}")){if(this.nextToken.text==="EOF"){throw new p("Unexpected end of input in "+e,i.range(this.nextToken,a))}n=this.nextToken;a+=n.text;this.consume()}this.mode=r;this.expect(t?"]":"}");return i.range(n,a)};h.prototype.parseRegexGroup=function(e,t){var r=this.mode;this.mode="text";var a=this.nextToken;var i=a;var n="";while(this.nextToken.text!=="EOF"&&e.test(n+this.nextToken.text)){i=this.nextToken;n+=i.text;this.consume()}if(n===""){throw new p("Invalid "+t+": '"+a.text+"'",a)}this.mode=r;return a.range(i,n)};h.prototype.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(!t){return null}var r=/^(#[a-z0-9]+|[a-z]+)$/i.exec(t.text);if(!r){throw new p("Invalid color: '"+t.text+"'",t)}return new m(new c("color",r[0],this.mode),false)};h.prototype.parseSizeGroup=function(e){var t;if(!e&&this.nextToken.text!=="{"){t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2}$/,"size")}else{t=this.parseStringGroup("size",e)}if(!t){return null}var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r){throw new p("Invalid size: '"+t.text+"'",t)}var a={number:+(r[1]+r[2]),unit:r[3]};if(a.unit!=="em"&&a.unit!=="ex"&&a.unit!=="mu"){throw new p("Invalid unit: '"+a.unit+"'",t)}return new m(new c("color",a,this.mode),false)};h.prototype.parseGroup=function(e){var t=this.nextToken;if(this.nextToken.text===(e?"[":"{")){this.consume();var r=this.parseExpression(false,e?"]":null);var a=this.nextToken;this.expect(e?"]":"}");if(this.mode==="text"){this.formLigatures(r)}return new m(new c("ordgroup",r,this.mode,t,a),false)}else{return e?null:this.parseSymbol()}};h.prototype.formLigatures=function(e){var t;var r=e.length-1;for(t=0;t<r;++t){var a=e[t];var i=a.value;if(i==="-"&&e[t+1].value==="-"){if(t+1<r&&e[t+2].value==="-"){e.splice(t,3,new c("textord","---","text",a,e[t+2]));r-=2}else{e.splice(t,2,new c("textord","--","text",a,e[t+1]));r-=1}}if((i==="'"||i==="`")&&e[t+1].value===i){e.splice(t,2,new c("textord",i+i,"text",a,e[t+1]));r-=1}}};h.prototype.parseSymbol=function(){var e=this.nextToken;if(a[e.text]){this.consume();return new m(e.text,true,e)}else if(s[this.mode][e.text]){this.consume();return new m(new c(s[this.mode][e.text].group,e.text,this.mode,e),false,e)}else if(this.mode==="text"&&o.test(e.text)){this.consume();return new m(new c("textord",e.text,this.mode,e),false,e)}else{return null}};h.prototype.ParseNode=c;t.exports=h},{"./MacroExpander":4,"./ParseError":6,"./environments":16,"./functions":19,"./parseData":21,"./symbols":23,"./unicodeRegexes":24,"./utils":25}],8:[function(e,t,r){function a(e,t){return e===undefined?t:e}function i(e){e=e||{};this.displayMode=a(e.displayMode,false);this.throwOnError=a(e.throwOnError,true);this.errorColor=a(e.errorColor,"#cc0000");this.macros=e.macros||{}}t.exports=i},{}],9:[function(e,t,r){var a=e("./fontMetrics.js").sigmas;var i=[{},{},{}];var n;for(var s in a){if(a.hasOwnProperty(s)){for(n=0;n<3;n++){i[n][s]=a[s][n]}}}for(n=0;n<3;n++){i[n].emPerEx=a.xHeight[n]/a.quad[n]}function l(e,t,r,a){this.id=e;this.size=t;this.cramped=a;this.sizeMultiplier=r;this.metrics=i[t>0?t-1:0]}l.prototype.sup=function(){return y[x[this.id]]};l.prototype.sub=function(){return y[b[this.id]]};l.prototype.fracNum=function(){return y[w[this.id]]};l.prototype.fracDen=function(){return y[k[this.id]]};l.prototype.cramp=function(){return y[z[this.id]]};l.prototype.cls=function(){return d[this.size]+(this.cramped?" cramped":" uncramped")};l.prototype.reset=function(){return g[this.size]};l.prototype.isTight=function(){return this.size>=2};var o=0;var u=1;var p=2;var h=3;var c=4;var m=5;var f=6;var v=7;var d=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"];var g=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"];var y=[new l(o,0,1,false),new l(u,0,1,true),new l(p,1,1,false),new l(h,1,1,true),new l(c,2,.7,false),new l(m,2,.7,true),new l(f,3,.5,false),new l(v,3,.5,true)];var x=[c,m,c,m,f,v,f,v];var b=[m,m,m,m,v,v,v,v];var w=[p,h,c,m,f,v,f,v];var k=[h,h,m,m,v,v,v,v];var z=[u,u,h,h,m,m,v,v];t.exports={DISPLAY:y[o],TEXT:y[p],SCRIPT:y[c],SCRIPTSCRIPT:y[f]}},{"./fontMetrics.js":17}],10:[function(e,t,r){var a=e("./domTree");var i=e("./fontMetrics");var n=e("./symbols");var s=e("./utils");var l=["\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"];var o=["\u0131","\u0237","\xa3"];var u=function(e,t,r,s,l){if(n[r][e]&&n[r][e].replace){e=n[r][e].replace}var o=i.getCharacterMetrics(e,t);var u;if(o){var p=o.italic;if(r==="text"){p=0}u=new a.symbolNode(e,o.height,o.depth,p,o.skew,l)}else{typeof console!=="undefined"&&console.warn("No character metrics for '"+e+"' in style '"+t+"'");u=new a.symbolNode(e,0,0,0,0,l)}if(s){if(s.style.isTight()){u.classes.push("mtight")}if(s.getColor()){u.style.color=s.getColor()}}return u};var p=function(e,t,r,a){if(e==="\\"||n[t][e].font==="main"){return u(e,"Main-Regular",t,r,a)}else{return u(e,"AMS-Regular",t,r,a.concat(["amsrm"]))}};var h=function(e,t,r,a,i){if(i==="mathord"){return c(e,t,r,a)}else if(i==="textord"){return u(e,"Main-Regular",t,r,a.concat(["mathrm"]))}else{throw new Error("unexpected type: "+i+" in mathDefault")}};var c=function(e,t,r,a){if(/[0-9]/.test(e.charAt(0))||s.contains(o,e)||s.contains(l,e)){return u(e,"Main-Italic",t,r,a.concat(["mainit"]))}else{return u(e,"Math-Italic",t,r,a.concat(["mathit"]))}};var m=function(e,t,r){var a=e.mode;var l=e.value;if(n[a][l]&&n[a][l].replace){l=n[a][l].replace}var p=["mord"];var m=t.font;if(m){if(m==="mathit"||s.contains(o,l)){return c(l,a,t,p)}else{var f=k[m].fontName;if(i.getCharacterMetrics(l,f)){return u(l,f,a,t,p.concat([m]))}else{return h(l,a,t,p,r)}}}else{return h(l,a,t,p,r)}};var f=function(e){var t=0;var r=0;var a=0;if(e.children){for(var i=0;i<e.children.length;i++){if(e.children[i].height>t){t=e.children[i].height}if(e.children[i].depth>r){r=e.children[i].depth}if(e.children[i].maxFontSize>a){a=e.children[i].maxFontSize}}}e.height=t;e.depth=r;e.maxFontSize=a};var v=function(e,t,r){var i=new a.span(e,t,r);f(i);return i};var d=function(e,t){e.children=t.concat(e.children);f(e)};var g=function(e){var t=new a.documentFragment(e);f(t);return t};var y=function(e,t){var r=v([],[new a.symbolNode("\u200b")]);r.style.fontSize=t/e.style.sizeMultiplier+"em";var i=v(["fontsize-ensurer","reset-"+e.size,"size5"],[r]);return i};var x=function(e,t,r,i){var n;var s;var l;if(t==="individualShift"){var o=e;e=[o[0]];n=-o[0].shift-o[0].elem.depth;s=n;for(l=1;l<o.length;l++){var u=-o[l].shift-s-o[l].elem.depth;var p=u-(o[l-1].elem.height+o[l-1].elem.depth);s=s+u;e.push({type:"kern",size:p});e.push(o[l])}}else if(t==="top"){var h=r;for(l=0;l<e.length;l++){if(e[l].type==="kern"){h-=e[l].size}else{h-=e[l].elem.height+e[l].elem.depth}}n=h}else if(t==="bottom"){n=-r}else if(t==="shift"){n=-e[0].elem.depth-r}else if(t==="firstBaseline"){n=-e[0].elem.depth}else{n=0}var c=0;for(l=0;l<e.length;l++){if(e[l].type==="elem"){c=Math.max(c,e[l].elem.maxFontSize)}}var m=y(i,c);var f=[];s=n;for(l=0;l<e.length;l++){if(e[l].type==="kern"){s+=e[l].size}else{var d=e[l].elem;var g=-d.depth-s;s+=d.height+d.depth;var x=v([],[m,d]);x.height-=g;x.depth+=g;x.style.top=g+"em";f.push(x)}}var b=v(["baseline-fix"],[m,new a.symbolNode("\u200b")]);f.push(b);var w=v(["vlist"],f);w.height=Math.max(s,w.height);w.depth=Math.max(-n,w.depth);return w};var b={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49};var w={"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}};var k={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};t.exports={fontMap:k,makeSymbol:u,mathsym:p,makeSpan:v,makeFragment:g,makeVList:x,makeOrd:m,prependChildren:d,sizingMultiplier:b,spacingFunctions:w}},{"./domTree":15,"./fontMetrics":17,"./symbols":23,"./utils":25}],11:[function(e,t,r){var a=e("./ParseError");var i=e("./Style");var n=e("./buildCommon");var s=e("./delimiter");var l=e("./domTree");var o=e("./fontMetrics");var u=e("./utils");var p=n.makeSpan;var h=function(e){return e instanceof l.span&&e.classes[0]==="mspace"};var c=function(e){return e&&e.classes[0]==="mbin"};var m=function(e,t){if(e){return u.contains(["mbin","mopen","mrel","mop","mpunct"],e.classes[0])}else{return t}};var f=function(e,t){if(e){return u.contains(["mrel","mclose","mpunct"],e.classes[0])}else{return t}};var v=function(e,t,r){var a=[];for(var i=0;i<e.length;i++){var s=e[i];var o=z(s,t);if(o instanceof l.documentFragment){Array.prototype.push.apply(a,o.children)}else{a.push(o)}}var u=null;for(i=0;i<a.length;i++){if(h(a[i])){u=u||[];u.push(a[i]);a.splice(i,1);i--}else if(u){if(a[i]instanceof l.symbolNode){a[i]=p([].concat(a[i].classes),[a[i]])}n.prependChildren(a[i],u);u=null}}if(u){Array.prototype.push.apply(a,u)}for(i=0;i<a.length;i++){if(c(a[i])&&(m(a[i-1],r)||f(a[i+1],r))){a[i].classes[0]="mord"}}return a};var d=function(e){if(e instanceof l.documentFragment){if(e.children.length){return d(e.children[e.children.length-1])}}else{if(u.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],e.classes[0])){return e.classes[0]}}return null};var g=function(e,t){if(!e){return false}else if(e.type==="op"){return e.value.limits&&(t.style.size===i.DISPLAY.size||e.value.alwaysHandleSupSub)}else if(e.type==="accent"){return x(e.value.base)}else{return null}};var y=function(e){if(!e){return false}else if(e.type==="ordgroup"){if(e.value.length===1){return y(e.value[0])}else{return e}}else if(e.type==="color"){if(e.value.value.length===1){return y(e.value.value[0])}else{return e}}else if(e.type==="font"){return y(e.value.body)}else{return e}};var x=function(e){var t=y(e);return t.type==="mathord"||t.type==="textord"||t.type==="bin"||t.type==="rel"||t.type==="inner"||t.type==="open"||t.type==="close"||t.type==="punct"};var b=function(e,t){return p(t.concat(["sizing","reset-"+e.size,"size5",e.style.reset(),i.TEXT.cls(),"nulldelimiter"]))};var w={};w.mathord=function(e,t){return n.makeOrd(e,t,"mathord")};w.textord=function(e,t){return n.makeOrd(e,t,"textord")};w.bin=function(e,t){return n.mathsym(e.value,e.mode,t,["mbin"])};w.rel=function(e,t){return n.mathsym(e.value,e.mode,t,["mrel"])};w.open=function(e,t){return n.mathsym(e.value,e.mode,t,["mopen"])};w.close=function(e,t){return n.mathsym(e.value,e.mode,t,["mclose"])};w.inner=function(e,t){return n.mathsym(e.value,e.mode,t,["minner"])};w.punct=function(e,t){return n.mathsym(e.value,e.mode,t,["mpunct"])};w.ordgroup=function(e,t){return p(["mord",t.style.cls()],v(e.value,t.reset(),true),t)};w.text=function(e,t){var r=t.withFont(e.value.style);var a=v(e.value.body,r,true);for(var i=0;i<a.length-1;i++){if(a[i].tryCombine(a[i+1])){a.splice(i+1,1);i--}}return p(["mord","text",r.style.cls()],a,r)};w.color=function(e,t){var r=v(e.value.value,t.withColor(e.value.color),false);return new n.makeFragment(r)};w.supsub=function(e,t){if(g(e.value.base,t)){return w[e.value.base.type](e,t)}var r=z(e.value.base,t.reset());var a;var s;var u;var h;var c=t.style;var m;if(e.value.sup){m=t.withStyle(c.sup());u=z(e.value.sup,m);a=p([c.reset(),c.sup().cls()],[u],m)}if(e.value.sub){m=t.withStyle(c.sub());h=z(e.value.sub,m);s=p([c.reset(),c.sub().cls()],[h],m)}var f;var v;if(x(e.value.base)){f=0;v=0}else{f=r.height-c.metrics.supDrop;v=r.depth+c.metrics.subDrop}var y;if(c===i.DISPLAY){y=c.metrics.sup1}else if(c.cramped){y=c.metrics.sup3}else{y=c.metrics.sup2}var b=i.TEXT.sizeMultiplier*c.sizeMultiplier;var k=.5/o.metrics.ptPerEm/b+"em";var S;if(!e.value.sup){v=Math.max(v,c.metrics.sub1,h.height-.8*c.metrics.xHeight);S=n.makeVList([{type:"elem",elem:s}],"shift",v,t);S.children[0].style.marginRight=k;if(r instanceof l.symbolNode){S.children[0].style.marginLeft=-r.italic+"em"}}else if(!e.value.sub){f=Math.max(f,y,u.depth+.25*c.metrics.xHeight);S=n.makeVList([{type:"elem",elem:a}],"shift",-f,t);S.children[0].style.marginRight=k}else{f=Math.max(f,y,u.depth+.25*c.metrics.xHeight);v=Math.max(v,c.metrics.sub2);var M=o.metrics.defaultRuleThickness;if(f-u.depth-(h.height-v)<4*M){v=4*M-(f-u.depth)+h.height;var T=.8*c.metrics.xHeight-(f-u.depth);if(T>0){f+=T;v-=T}}S=n.makeVList([{type:"elem",elem:s,shift:v},{type:"elem",elem:a,shift:-f}],"individualShift",null,t);if(r instanceof l.symbolNode){S.children[0].style.marginLeft=-r.italic+"em"}S.children[0].style.marginRight=k;S.children[1].style.marginRight=k}var A=d(r)||"mord";return p([A],[r,p(["msupsub"],[S])],t)};w.genfrac=function(e,t){var r=t.style;if(e.value.size==="display"){r=i.DISPLAY}else if(e.value.size==="text"){r=i.TEXT}var a=r.fracNum();var l=r.fracDen();var u;u=t.withStyle(a);var h=z(e.value.numer,u);var c=p([r.reset(),a.cls()],[h],u);u=t.withStyle(l);var m=z(e.value.denom,u);var f=p([r.reset(),l.cls()],[m],u);var v;if(e.value.hasBarLine){v=o.metrics.defaultRuleThickness/t.style.sizeMultiplier}else{v=0}var d;var g;var y;if(r.size===i.DISPLAY.size){d=r.metrics.num1;if(v>0){g=3*v}else{g=7*o.metrics.defaultRuleThickness}y=r.metrics.denom1}else{if(v>0){d=r.metrics.num2;g=v}else{d=r.metrics.num3;g=3*o.metrics.defaultRuleThickness}y=r.metrics.denom2}var x;if(v===0){var w=d-h.depth-(m.height-y);if(w<g){d+=.5*(g-w);y+=.5*(g-w)}x=n.makeVList([{type:"elem",elem:f,shift:y},{type:"elem",elem:c,shift:-d}],"individualShift",null,t)}else{var k=r.metrics.axisHeight;if(d-h.depth-(k+.5*v)<g){d+=g-(d-h.depth-(k+.5*v))}if(k-.5*v-(m.height-y)<g){y+=g-(k-.5*v-(m.height-y))}var S=p([t.style.reset(),i.TEXT.cls(),"frac-line"]);S.height=v;var M=-(k-.5*v);x=n.makeVList([{type:"elem",elem:f,shift:y},{type:"elem",elem:S,shift:M},{type:"elem",elem:c,shift:-d}],"individualShift",null,t)}x.height*=r.sizeMultiplier/t.style.sizeMultiplier;x.depth*=r.sizeMultiplier/t.style.sizeMultiplier;var T;if(r.size===i.DISPLAY.size){T=r.metrics.delim1}else{T=r.metrics.delim2}var A;var N;if(e.value.leftDelim==null){A=b(t,["mopen"])}else{A=s.customSizedDelim(e.value.leftDelim,T,true,t.withStyle(r),e.mode,["mopen"])}if(e.value.rightDelim==null){N=b(t,["mclose"])}else{N=s.customSizedDelim(e.value.rightDelim,T,true,t.withStyle(r),e.mode,["mclose"])}return p(["mord",t.style.reset(),r.cls()],[A,p(["mfrac"],[x]),N],t)};var k=function(e,t){var r=e.number;if(e.unit==="ex"){r*=t.metrics.emPerEx}else if(e.unit==="mu"){r/=18}return r};w.array=function(e,t){var r;var i;var s=e.value.body.length;var l=0;var h=new Array(s);var c=t.style;var m=1/o.metrics.ptPerEm;var f=5*m;var v=12*m;var d=u.deflt(e.value.arraystretch,1);var g=d*v;var y=.7*g;var x=.3*g;var b=0;for(r=0;r<e.value.body.length;++r){var w=e.value.body[r];var S=y;var M=x;if(l<w.length){l=w.length}var T=new Array(w.length);for(i=0;i<w.length;++i){var A=z(w[i],t);if(M<A.depth){M=A.depth}if(S<A.height){S=A.height}T[i]=A}var N=0;if(e.value.rowGaps[r]){N=k(e.value.rowGaps[r].value,c);if(N>0){N+=x;if(M<N){M=N}N=0}}T.height=S;T.depth=M;b+=S;T.pos=b;b+=M+N;h[r]=T}var q=b/2+c.metrics.axisHeight;var R=e.value.cols||[];var E=[];var C;var D;for(i=0,D=0;i<l||D<R.length;++i,++D){var O=R[D]||{};var P=true;while(O.type==="separator"){if(!P){C=p(["arraycolsep"],[]);C.style.width=o.metrics.doubleRuleSep+"em";E.push(C)}if(O.separator==="|"){var F=p(["vertical-separator"],[]);F.style.height=b+"em";F.style.verticalAlign=-(b-q)+"em";E.push(F)}else{throw new a("Invalid separator type: "+O.separator)}D++;O=R[D]||{};P=false}if(i>=l){continue}var I;if(i>0||e.value.hskipBeforeAndAfter){I=u.deflt(O.pregap,f);if(I!==0){C=p(["arraycolsep"],[]);C.style.width=I+"em";E.push(C)}}var L=[];for(r=0;r<s;++r){var B=h[r];var G=B[i];if(!G){continue}var V=B.pos-q;G.depth=B.depth;G.height=B.height;L.push({type:"elem",elem:G,shift:V})}L=n.makeVList(L,"individualShift",null,t);L=p(["col-align-"+(O.align||"c")],[L]);E.push(L);if(i<l-1||e.value.hskipBeforeAndAfter){I=u.deflt(O.postgap,f);if(I!==0){C=p(["arraycolsep"],[]);C.style.width=I+"em";E.push(C)}}}h=p(["mtable"],E);return p(["mord"],[h],t)};w.spacing=function(e,t){if(e.value==="\\ "||e.value==="\\space"||e.value===" "||e.value==="~"){if(e.mode==="text"){return n.makeOrd(e,t,"textord")}else{return p(["mspace"],[n.mathsym(e.value,e.mode,t)],t)}}else{return p(["mspace",n.spacingFunctions[e.value].className],[],t)}};w.llap=function(e,t){var r=p(["inner"],[z(e.value.body,t.reset())]);var a=p(["fix"],[]);return p(["mord","llap",t.style.cls()],[r,a],t)};w.rlap=function(e,t){var r=p(["inner"],[z(e.value.body,t.reset())]);var a=p(["fix"],[]);return p(["mord","rlap",t.style.cls()],[r,a],t)};w.op=function(e,t){var r;var a;var s=false;if(e.type==="supsub"){r=e.value.sup;a=e.value.sub;e=e.value.base;s=true}var l=t.style;var h=["\\smallint"];var c=false;if(l.size===i.DISPLAY.size&&e.value.symbol&&!u.contains(h,e.value.body)){c=true}var m;var f=0;var d=0;if(e.value.symbol){var g=c?"Size2-Regular":"Size1-Regular";m=n.makeSymbol(e.value.body,g,"math",t,["mop","op-symbol",c?"large-op":"small-op"]);f=(m.height-m.depth)/2-l.metrics.axisHeight*l.sizeMultiplier;d=m.italic}else if(e.value.value){var y=v(e.value.value,t,true);m=p(["mop"],y,t)}else{var x=[];for(var b=1;b<e.value.body.length;b++){x.push(n.mathsym(e.value.body[b],e.mode))}m=p(["mop"],x,t)}if(s){m=p([],[m]);var w;var k;var S;var M;var T;if(r){T=t.withStyle(l.sup());var A=z(r,T);w=p([l.reset(),l.sup().cls()],[A],T);k=Math.max(o.metrics.bigOpSpacing1,o.metrics.bigOpSpacing3-A.depth)}if(a){T=t.withStyle(l.sub());var N=z(a,T);S=p([l.reset(),l.sub().cls()],[N],T);M=Math.max(o.metrics.bigOpSpacing2,o.metrics.bigOpSpacing4-N.height)}var q;var R;var E;if(!r){R=m.height-f;q=n.makeVList([{type:"kern",size:o.metrics.bigOpSpacing5},{type:"elem",elem:S},{type:"kern",size:M},{type:"elem",elem:m}],"top",R,t);q.children[0].style.marginLeft=-d+"em"}else if(!a){E=m.depth+f;q=n.makeVList([{type:"elem",elem:m},{type:"kern",size:k},{type:"elem",elem:w},{type:"kern",size:o.metrics.bigOpSpacing5}],"bottom",E,t);q.children[1].style.marginLeft=d+"em"}else if(!r&&!a){return m}else{E=o.metrics.bigOpSpacing5+S.height+S.depth+M+m.depth+f;
-q=n.makeVList([{type:"kern",size:o.metrics.bigOpSpacing5},{type:"elem",elem:S},{type:"kern",size:M},{type:"elem",elem:m},{type:"kern",size:k},{type:"elem",elem:w},{type:"kern",size:o.metrics.bigOpSpacing5}],"bottom",E,t);q.children[0].style.marginLeft=-d+"em";q.children[2].style.marginLeft=d+"em"}return p(["mop","op-limits"],[q],t)}else{if(e.value.symbol){m.style.top=f+"em"}return m}};w.mod=function(e,t){var r=[];if(e.value.modType==="bmod"){if(!t.style.isTight()){r.push(p(["mspace","negativemediumspace"],[],t))}r.push(p(["mspace","thickspace"],[],t))}else if(t.style.size===i.DISPLAY.size){r.push(p(["mspace","quad"],[],t))}else if(e.value.modType==="mod"){r.push(p(["mspace","twelvemuspace"],[],t))}else{r.push(p(["mspace","eightmuspace"],[],t))}if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(n.mathsym("(",e.mode))}if(e.value.modType!=="pod"){var a=[n.mathsym("m",e.mode),n.mathsym("o",e.mode),n.mathsym("d",e.mode)];if(e.value.modType==="bmod"){r.push(p(["mbin"],a,t));r.push(p(["mspace","thickspace"],[],t));if(!t.style.isTight()){r.push(p(["mspace","negativemediumspace"],[],t))}}else{Array.prototype.push.apply(r,a);r.push(p(["mspace","sixmuspace"],[],t))}}if(e.value.value){Array.prototype.push.apply(r,v(e.value.value,t,false))}if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(n.mathsym(")",e.mode))}return n.makeFragment(r)};w.katex=function(e,t){var r=p(["k"],[n.mathsym("K",e.mode)],t);var a=p(["a"],[n.mathsym("A",e.mode)],t);a.height=(a.height+.2)*.75;a.depth=(a.height-.2)*.75;var i=p(["t"],[n.mathsym("T",e.mode)],t);var s=p(["e"],[n.mathsym("E",e.mode)],t);s.height=s.height-.2155;s.depth=s.depth+.2155;var l=p(["x"],[n.mathsym("X",e.mode)],t);return p(["mord","katex-logo"],[r,a,i,s,l],t)};w.overline=function(e,t){var r=t.style;var a=z(e.value.body,t.withStyle(r.cramp()));var s=o.metrics.defaultRuleThickness/r.sizeMultiplier;var l=p([r.reset(),i.TEXT.cls(),"overline-line"]);l.height=s;l.maxFontSize=1;var u=n.makeVList([{type:"elem",elem:a},{type:"kern",size:3*s},{type:"elem",elem:l},{type:"kern",size:s}],"firstBaseline",null,t);return p(["mord","overline"],[u],t)};w.underline=function(e,t){var r=t.style;var a=z(e.value.body,t);var s=o.metrics.defaultRuleThickness/r.sizeMultiplier;var l=p([r.reset(),i.TEXT.cls(),"underline-line"]);l.height=s;l.maxFontSize=1;var u=n.makeVList([{type:"kern",size:s},{type:"elem",elem:l},{type:"kern",size:3*s},{type:"elem",elem:a}],"top",a.height,t);return p(["mord","underline"],[u],t)};w.sqrt=function(e,t){var r=t.style;var a=z(e.value.body,t.withStyle(r.cramp()));var l=o.metrics.defaultRuleThickness/r.sizeMultiplier;var u=p([r.reset(),i.TEXT.cls(),"sqrt-line"],[],t);u.height=l;u.maxFontSize=1;var h=l;if(r.id<i.TEXT.id){h=r.metrics.xHeight}var c=l+h/4;var m=(a.height+a.depth)*r.sizeMultiplier;var f=m+c+l;var v=p(["sqrt-sign"],[s.customSizedDelim("\\surd",f,false,t,e.mode)],t);var d=v.height+v.depth-l;if(d>a.height+a.depth+c){c=(c+d-a.height-a.depth)/2}var g=-(a.height+c+l)+v.height;v.style.top=g+"em";v.height-=g;v.depth+=g;var y;if(a.height===0&&a.depth===0){y=p()}else{y=n.makeVList([{type:"elem",elem:a},{type:"kern",size:c},{type:"elem",elem:u},{type:"kern",size:l}],"firstBaseline",null,t)}if(!e.value.index){return p(["mord","sqrt"],[v,y],t)}else{var x=t.withStyle(i.SCRIPTSCRIPT);var b=z(e.value.index,x);var w=p([r.reset(),i.SCRIPTSCRIPT.cls()],[b],x);var k=Math.max(v.height,y.height);var S=Math.max(v.depth,y.depth);var M=.6*(k-S);var T=n.makeVList([{type:"elem",elem:w}],"shift",-M,t);var A=p(["root"],[T]);return p(["mord","sqrt"],[A,v,y],t)}};w.sizing=function(e,t){var r=v(e.value.value,t.withSize(e.value.size),false);var a=t.style;var i=n.sizingMultiplier[e.value.size];i=i*a.sizeMultiplier;for(var s=0;s<r.length;s++){var l=u.indexOf(r[s].classes,"sizing");if(l<0){r[s].classes.push("sizing","reset-"+t.size,e.value.size,a.cls());r[s].maxFontSize=i}else if(r[s].classes[l+1]==="reset-"+e.value.size){r[s].classes[l+1]="reset-"+t.size}}return n.makeFragment(r)};w.styling=function(e,t){var r={display:i.DISPLAY,text:i.TEXT,script:i.SCRIPT,scriptscript:i.SCRIPTSCRIPT};var a=r[e.value.style];var s=t.withStyle(a);var l=v(e.value.value,s,false);for(var o=0;o<l.length;o++){var p=u.indexOf(l[o].classes,a.reset());if(p<0){l[o].classes.push(t.style.reset(),a.cls())}else{l[o].classes[p]=t.style.reset()}}return new n.makeFragment(l)};w.font=function(e,t){var r=e.value.font;return z(e.value.body,t.withFont(r))};w.delimsizing=function(e,t){var r=e.value.value;if(r==="."){return p([e.value.mclass])}return s.sizedDelim(r,e.value.size,t,e.mode,[e.value.mclass])};w.leftright=function(e,t){var r=v(e.value.body,t.reset(),true);var a=0;var i=0;var n=false;for(var l=0;l<r.length;l++){if(r[l].isMiddle){n=true}else{a=Math.max(r[l].height,a);i=Math.max(r[l].depth,i)}}var o=t.style;a*=o.sizeMultiplier;i*=o.sizeMultiplier;var u;if(e.value.left==="."){u=b(t,["mopen"])}else{u=s.leftRightDelim(e.value.left,a,i,t,e.mode,["mopen"])}r.unshift(u);if(n){for(l=1;l<r.length;l++){if(r[l].isMiddle){r[l]=s.leftRightDelim(r[l].isMiddle.value,a,i,r[l].isMiddle.options,e.mode,[])}}}var h;if(e.value.right==="."){h=b(t,["mclose"])}else{h=s.leftRightDelim(e.value.right,a,i,t,e.mode,["mclose"])}r.push(h);return p(["minner",o.cls()],r,t)};w.middle=function(e,t){var r;if(e.value.value==="."){r=b(t,[])}else{r=s.sizedDelim(e.value.value,1,t,e.mode,[]);r.isMiddle={value:e.value.value,options:t}}return r};w.rule=function(e,t){var r=p(["mord","rule"],[],t);var a=t.style;var i=0;if(e.value.shift){i=k(e.value.shift,a)}var n=k(e.value.width,a);var s=k(e.value.height,a);i/=a.sizeMultiplier;n/=a.sizeMultiplier;s/=a.sizeMultiplier;r.style.borderRightWidth=n+"em";r.style.borderTopWidth=s+"em";r.style.bottom=i+"em";r.width=n;r.height=s+i;r.depth=-i;return r};w.kern=function(e,t){var r=p(["mord","rule"],[],t);var a=t.style;var i=0;if(e.value.dimension){i=k(e.value.dimension,a)}i/=a.sizeMultiplier;r.style.marginLeft=i+"em";return r};w.accent=function(e,t){var r=e.value.base;var a=t.style;var i;if(e.type==="supsub"){var s=e;e=s.value.base;r=e.value.base;s.value.base=r;i=z(s,t.reset())}var l=z(r,t.withStyle(a.cramp()));var o;if(x(r)){var u=y(r);var h=z(u,t.withStyle(a.cramp()));o=h.skew}else{o=0}var c=Math.min(l.height,a.metrics.xHeight);var m=n.makeSymbol(e.value.accent,"Main-Regular","math",t);m.italic=0;var f=e.value.accent==="\\vec"?"accent-vec":null;var v=p(["accent-body",f],[p([],[m])]);v=n.makeVList([{type:"elem",elem:l},{type:"kern",size:-c},{type:"elem",elem:v}],"firstBaseline",null,t);v.children[1].style.marginLeft=2*o+"em";var d=p(["mord","accent"],[v],t);if(i){i.children[0]=d;i.height=Math.max(d.height,i.height);i.classes[0]="mord";return i}else{return d}};w.phantom=function(e,t){var r=v(e.value.value,t.withPhantom(),false);return new n.makeFragment(r)};w.mclass=function(e,t){var r=v(e.value.value,t,true);return p([e.value.mclass],r,t)};var z=function(e,t){if(!e){return p()}if(w[e.type]){var r=w[e.type](e,t);var i;if(t.style!==t.parentStyle){i=t.style.sizeMultiplier/t.parentStyle.sizeMultiplier;r.height*=i;r.depth*=i}if(t.size!==t.parentSize){i=n.sizingMultiplier[t.size]/n.sizingMultiplier[t.parentSize];r.height*=i;r.depth*=i}return r}else{throw new a("Got group of unknown type: '"+e.type+"'")}};var S=function(e,t){e=JSON.parse(JSON.stringify(e));var r=v(e,t,true);var a=p(["base",t.style.cls()],r,t);var i=p(["strut"]);var n=p(["strut","bottom"]);i.style.height=a.height+"em";n.style.height=a.height+a.depth+"em";n.style.verticalAlign=-a.depth+"em";var s=p(["katex-html"],[i,n,a]);s.setAttribute("aria-hidden","true");return s};t.exports=S},{"./ParseError":6,"./Style":9,"./buildCommon":10,"./delimiter":14,"./domTree":15,"./fontMetrics":17,"./utils":25}],12:[function(e,t,r){var a=e("./buildCommon");var i=e("./fontMetrics");var n=e("./mathMLTree");var s=e("./ParseError");var l=e("./symbols");var o=e("./utils");var u=a.makeSpan;var p=a.fontMap;var h=function(e,t){if(l[t][e]&&l[t][e].replace){e=l[t][e].replace}return new n.TextNode(e)};var c=function(e,t){var r=t.font;if(!r){return null}var a=e.mode;if(r==="mathit"){return"italic"}var n=e.value;if(o.contains(["\\imath","\\jmath"],n)){return null}if(l[a][n]&&l[a][n].replace){n=l[a][n].replace}var s=p[r].fontName;if(i.getCharacterMetrics(n,s)){return p[t.font].variant}return null};var m={};m.mathord=function(e,t){var r=new n.MathNode("mi",[h(e.value,e.mode)]);var a=c(e,t);if(a){r.setAttribute("mathvariant",a)}return r};m.textord=function(e,t){var r=h(e.value,e.mode);var a=c(e,t)||"normal";var i;if(/[0-9]/.test(e.value)){i=new n.MathNode("mn",[r]);if(t.font){i.setAttribute("mathvariant",a)}}else{i=new n.MathNode("mi",[r]);i.setAttribute("mathvariant",a)}return i};m.bin=function(e){var t=new n.MathNode("mo",[h(e.value,e.mode)]);return t};m.rel=function(e){var t=new n.MathNode("mo",[h(e.value,e.mode)]);return t};m.open=function(e){var t=new n.MathNode("mo",[h(e.value,e.mode)]);return t};m.close=function(e){var t=new n.MathNode("mo",[h(e.value,e.mode)]);return t};m.inner=function(e){var t=new n.MathNode("mo",[h(e.value,e.mode)]);return t};m.punct=function(e){var t=new n.MathNode("mo",[h(e.value,e.mode)]);t.setAttribute("separator","true");return t};m.ordgroup=function(e,t){var r=f(e.value,t);var a=new n.MathNode("mrow",r);return a};m.text=function(e,t){var r=f(e.value.body,t);var a=new n.MathNode("mtext",r);return a};m.color=function(e,t){var r=f(e.value.value,t);var a=new n.MathNode("mstyle",r);a.setAttribute("mathcolor",e.value.color);return a};m.supsub=function(e,t){var r=[v(e.value.base,t)];if(e.value.sub){r.push(v(e.value.sub,t))}if(e.value.sup){r.push(v(e.value.sup,t))}var a;if(!e.value.sub){a="msup"}else if(!e.value.sup){a="msub"}else{a="msubsup"}var i=new n.MathNode(a,r);return i};m.genfrac=function(e,t){var r=new n.MathNode("mfrac",[v(e.value.numer,t),v(e.value.denom,t)]);if(!e.value.hasBarLine){r.setAttribute("linethickness","0px")}if(e.value.leftDelim!=null||e.value.rightDelim!=null){var a=[];if(e.value.leftDelim!=null){var i=new n.MathNode("mo",[new n.TextNode(e.value.leftDelim)]);i.setAttribute("fence","true");a.push(i)}a.push(r);if(e.value.rightDelim!=null){var s=new n.MathNode("mo",[new n.TextNode(e.value.rightDelim)]);s.setAttribute("fence","true");a.push(s)}var l=new n.MathNode("mrow",a);return l}return r};m.array=function(e,t){return new n.MathNode("mtable",e.value.body.map(function(e){return new n.MathNode("mtr",e.map(function(e){return new n.MathNode("mtd",[v(e,t)])}))}))};m.sqrt=function(e,t){var r;if(e.value.index){r=new n.MathNode("mroot",[v(e.value.body,t),v(e.value.index,t)])}else{r=new n.MathNode("msqrt",[v(e.value.body,t)])}return r};m.leftright=function(e,t){var r=f(e.value.body,t);if(e.value.left!=="."){var a=new n.MathNode("mo",[h(e.value.left,e.mode)]);a.setAttribute("fence","true");r.unshift(a)}if(e.value.right!=="."){var i=new n.MathNode("mo",[h(e.value.right,e.mode)]);i.setAttribute("fence","true");r.push(i)}var s=new n.MathNode("mrow",r);return s};m.middle=function(e,t){var r=new n.MathNode("mo",[h(e.value.middle,e.mode)]);r.setAttribute("fence","true");return r};m.accent=function(e,t){var r=new n.MathNode("mo",[h(e.value.accent,e.mode)]);var a=new n.MathNode("mover",[v(e.value.base,t),r]);a.setAttribute("accent","true");return a};m.spacing=function(e){var t;if(e.value==="\\ "||e.value==="\\space"||e.value===" "||e.value==="~"){t=new n.MathNode("mtext",[new n.TextNode("\xa0")])}else{t=new n.MathNode("mspace");t.setAttribute("width",a.spacingFunctions[e.value].size)}return t};m.op=function(e,t){var r;if(e.value.symbol){r=new n.MathNode("mo",[h(e.value.body,e.mode)])}else if(e.value.value){r=new n.MathNode("mo",f(e.value.value,t))}else{r=new n.MathNode("mi",[new n.TextNode(e.value.body.slice(1))])}return r};m.mod=function(e,t){var r=[];if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(new n.MathNode("mo",[h("(",e.mode)]))}if(e.value.modType!=="pod"){r.push(new n.MathNode("mo",[h("mod",e.mode)]))}if(e.value.value){var a=new n.MathNode("mspace");a.setAttribute("width","0.333333em");r.push(a);r=r.concat(f(e.value.value,t))}if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(new n.MathNode("mo",[h(")",e.mode)]))}return new n.MathNode("mo",r)};m.katex=function(e){var t=new n.MathNode("mtext",[new n.TextNode("KaTeX")]);return t};m.font=function(e,t){var r=e.value.font;return v(e.value.body,t.withFont(r))};m.delimsizing=function(e){var t=[];if(e.value.value!=="."){t.push(h(e.value.value,e.mode))}var r=new n.MathNode("mo",t);if(e.value.mclass==="mopen"||e.value.mclass==="mclose"){r.setAttribute("fence","true")}else{r.setAttribute("fence","false")}return r};m.styling=function(e,t){var r=f(e.value.value,t);var a=new n.MathNode("mstyle",r);var i={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]};var s=i[e.value.style];a.setAttribute("scriptlevel",s[0]);a.setAttribute("displaystyle",s[1]);return a};m.sizing=function(e,t){var r=f(e.value.value,t);var i=new n.MathNode("mstyle",r);i.setAttribute("mathsize",a.sizingMultiplier[e.value.size]+"em");return i};m.overline=function(e,t){var r=new n.MathNode("mo",[new n.TextNode("\u203e")]);r.setAttribute("stretchy","true");var a=new n.MathNode("mover",[v(e.value.body,t),r]);a.setAttribute("accent","true");return a};m.underline=function(e,t){var r=new n.MathNode("mo",[new n.TextNode("\u203e")]);r.setAttribute("stretchy","true");var a=new n.MathNode("munder",[v(e.value.body,t),r]);a.setAttribute("accentunder","true");return a};m.rule=function(e){var t=new n.MathNode("mrow");return t};m.kern=function(e){var t=new n.MathNode("mrow");return t};m.llap=function(e,t){var r=new n.MathNode("mpadded",[v(e.value.body,t)]);r.setAttribute("lspace","-1width");r.setAttribute("width","0px");return r};m.rlap=function(e,t){var r=new n.MathNode("mpadded",[v(e.value.body,t)]);r.setAttribute("width","0px");return r};m.phantom=function(e,t){var r=f(e.value.value,t);return new n.MathNode("mphantom",r)};m.mclass=function(e,t){var r=f(e.value.value,t);return new n.MathNode("mstyle",r)};var f=function(e,t){var r=[];for(var a=0;a<e.length;a++){var i=e[a];r.push(v(i,t))}return r};var v=function(e,t){if(!e){return new n.MathNode("mrow")}if(m[e.type]){return m[e.type](e,t)}else{throw new s("Got group of unknown type: '"+e.type+"'")}};var d=function(e,t,r){var a=f(e,r);var i=new n.MathNode("mrow",a);var s=new n.MathNode("annotation",[new n.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new n.MathNode("semantics",[i,s]);var o=new n.MathNode("math",[l]);return u(["katex-mathml"],[o])};t.exports=d},{"./ParseError":6,"./buildCommon":10,"./fontMetrics":17,"./mathMLTree":20,"./symbols":23,"./utils":25}],13:[function(e,t,r){var a=e("./buildHTML");var i=e("./buildMathML");var n=e("./buildCommon");var s=e("./Options");var l=e("./Settings");var o=e("./Style");var u=n.makeSpan;var p=function(e,t,r){r=r||new l({});var n=o.TEXT;if(r.displayMode){n=o.DISPLAY}var p=new s({style:n,size:"size5"});var h=i(e,t,p);var c=a(e,p);var m=u(["katex"],[h,c]);if(r.displayMode){return u(["katex-display"],[m])}else{return m}};t.exports=p},{"./Options":5,"./Settings":8,"./Style":9,"./buildCommon":10,"./buildHTML":11,"./buildMathML":12}],14:[function(e,t,r){var a=e("./ParseError");var i=e("./Style");var n=e("./buildCommon");var s=e("./fontMetrics");var l=e("./symbols");var o=e("./utils");var u=n.makeSpan;var p=function(e,t){if(l.math[e]&&l.math[e].replace){return s.getCharacterMetrics(l.math[e].replace,t)}else{return s.getCharacterMetrics(e,t)}};var h=function(e,t,r,a){return n.makeSymbol(e,"Size"+t+"-Regular",r,a)};var c=function(e,t,r,a){a=a||[];var i=u(a.concat(["style-wrap",r.style.reset(),t.cls()]),[e],r);var n=t.sizeMultiplier/r.style.sizeMultiplier;i.height*=n;i.depth*=n;i.maxFontSize=t.sizeMultiplier;return i};var m=function(e,t,r,a,i,s){var l=n.makeSymbol(e,"Main-Regular",i,a);var o=c(l,t,a,s);if(r){var u=(1-a.style.sizeMultiplier/t.sizeMultiplier)*a.style.metrics.axisHeight;o.style.top=u+"em";o.height-=u;o.depth+=u}return o};var f=function(e,t,r,a,n,s){var l=h(e,t,n,a);var o=c(u(["delimsizing","size"+t],[l],a),i.TEXT,a,s);if(r){var p=(1-a.style.sizeMultiplier)*a.style.metrics.axisHeight;o.style.top=p+"em";o.height-=p;o.depth+=p}return o};var v=function(e,t,r){var a;if(t==="Size1-Regular"){a="delim-size1"}else if(t==="Size4-Regular"){a="delim-size4"}var i=u(["delimsizinginner",a],[u([],[n.makeSymbol(e,t,r)])]);return{type:"elem",elem:i}};var d=function(e,t,r,a,s,l){var o;var h;var m;var f;o=m=f=e;h=null;var d="Size1-Regular";if(e==="\\uparrow"){m=f="\u23d0"}else if(e==="\\Uparrow"){m=f="\u2016"}else if(e==="\\downarrow"){o=m="\u23d0"}else if(e==="\\Downarrow"){o=m="\u2016"}else if(e==="\\updownarrow"){o="\\uparrow";m="\u23d0";f="\\downarrow"}else if(e==="\\Updownarrow"){o="\\Uparrow";m="\u2016";f="\\Downarrow"}else if(e==="["||e==="\\lbrack"){o="\u23a1";m="\u23a2";f="\u23a3";d="Size4-Regular"}else if(e==="]"||e==="\\rbrack"){o="\u23a4";m="\u23a5";f="\u23a6";d="Size4-Regular"}else if(e==="\\lfloor"){m=o="\u23a2";f="\u23a3";d="Size4-Regular"}else if(e==="\\lceil"){o="\u23a1";m=f="\u23a2";d="Size4-Regular"}else if(e==="\\rfloor"){m=o="\u23a5";f="\u23a6";d="Size4-Regular"}else if(e==="\\rceil"){o="\u23a4";m=f="\u23a5";d="Size4-Regular"}else if(e==="("){o="\u239b";m="\u239c";f="\u239d";d="Size4-Regular"}else if(e===")"){o="\u239e";m="\u239f";f="\u23a0";d="Size4-Regular"}else if(e==="\\{"||e==="\\lbrace"){o="\u23a7";h="\u23a8";f="\u23a9";m="\u23aa";d="Size4-Regular"}else if(e==="\\}"||e==="\\rbrace"){o="\u23ab";h="\u23ac";f="\u23ad";m="\u23aa";d="Size4-Regular"}else if(e==="\\lgroup"){o="\u23a7";f="\u23a9";m="\u23aa";d="Size4-Regular"}else if(e==="\\rgroup"){o="\u23ab";f="\u23ad";m="\u23aa";d="Size4-Regular"}else if(e==="\\lmoustache"){o="\u23a7";f="\u23ad";m="\u23aa";d="Size4-Regular"}else if(e==="\\rmoustache"){o="\u23ab";f="\u23a9";m="\u23aa";d="Size4-Regular"}else if(e==="\\surd"){o="\ue001";f="\u23b7";m="\ue000";d="Size4-Regular"}var g=p(o,d);var y=g.height+g.depth;var x=p(m,d);var b=x.height+x.depth;var w=p(f,d);var k=w.height+w.depth;var z=0;var S=1;if(h!==null){var M=p(h,d);z=M.height+M.depth;S=2}var T=y+k+z;var A=Math.ceil((t-T)/(S*b));var N=T+A*S*b;var q=a.style.metrics.axisHeight;if(r){q*=a.style.sizeMultiplier}var R=N/2-q;var E=[];E.push(v(f,d,s));var C;if(h===null){for(C=0;C<A;C++){E.push(v(m,d,s))}}else{for(C=0;C<A;C++){E.push(v(m,d,s))}E.push(v(h,d,s));for(C=0;C<A;C++){E.push(v(m,d,s))}}E.push(v(o,d,s));var D=n.makeVList(E,"bottom",R,a);return c(u(["delimsizing","mult"],[D],a),i.TEXT,a,l)};var g=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"];var y=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"];var x=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"];var b=[0,1.2,1.8,2.4,3];var w=function(e,t,r,i,n){if(e==="<"||e==="\\lt"){e="\\langle"}else if(e===">"||e==="\\gt"){e="\\rangle"}if(o.contains(g,e)||o.contains(x,e)){return f(e,t,false,r,i,n)}else if(o.contains(y,e)){return d(e,b[t],false,r,i,n)}else{throw new a("Illegal delimiter: '"+e+"'")}};var k=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}];var z=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"stack"}];var S=[{type:"small",style:i.SCRIPTSCRIPT},{type:"small",style:i.SCRIPT},{type:"small",style:i.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];var M=function(e){if(e.type==="small"){return"Main-Regular"}else if(e.type==="large"){return"Size"+e.size+"-Regular"}else if(e.type==="stack"){return"Size4-Regular"}};var T=function(e,t,r,a){var i=Math.min(2,3-a.style.size);for(var n=i;n<r.length;n++){if(r[n].type==="stack"){break}var s=p(e,M(r[n]));var l=s.height+s.depth;if(r[n].type==="small"){l*=r[n].style.sizeMultiplier}if(l>t){return r[n]}}return r[r.length-1]};var A=function(e,t,r,a,i,n){if(e==="<"||e==="\\lt"){e="\\langle"}else if(e===">"||e==="\\gt"){e="\\rangle"}var s;if(o.contains(x,e)){s=k}else if(o.contains(g,e)){s=S}else{s=z}var l=T(e,t,s,a);if(l.type==="small"){return m(e,l.style,r,a,i,n)}else if(l.type==="large"){return f(e,l.size,r,a,i,n)}else if(l.type==="stack"){return d(e,t,r,a,i,n)}};var N=function(e,t,r,a,i,n){var l=a.style.metrics.axisHeight*a.style.sizeMultiplier;var o=901;var u=5/s.metrics.ptPerEm;var p=Math.max(t-l,r+l);var h=Math.max(p/500*o,2*p-u);return A(e,h,true,a,i,n)};t.exports={sizedDelim:w,customSizedDelim:A,leftRightDelim:N}},{"./ParseError":6,"./Style":9,"./buildCommon":10,"./fontMetrics":17,"./symbols":23,"./utils":25}],15:[function(e,t,r){var a=e("./unicodeRegexes");var i=e("./utils");var n=function(e){e=e.slice();for(var t=e.length-1;t>=0;t--){if(!e[t]){e.splice(t,1)}}return e.join(" ")};function s(e,t,r){this.classes=e||[];this.children=t||[];this.height=0;this.depth=0;this.maxFontSize=0;this.style={};this.attributes={};if(r){if(r.style.isTight()){this.classes.push("mtight")}if(r.getColor()){this.style.color=r.getColor()}}}s.prototype.setAttribute=function(e,t){this.attributes[e]=t};s.prototype.tryCombine=function(e){return false};s.prototype.toNode=function(){var e=document.createElement("span");e.className=n(this.classes);for(var t in this.style){if(Object.prototype.hasOwnProperty.call(this.style,t)){e.style[t]=this.style[t]}}for(var r in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,r)){e.setAttribute(r,this.attributes[r])}}for(var a=0;a<this.children.length;a++){e.appendChild(this.children[a].toNode())}return e};s.prototype.toMarkup=function(){var e="<span";if(this.classes.length){e+=' class="';e+=i.escape(n(this.classes));e+='"'}var t="";for(var r in this.style){if(this.style.hasOwnProperty(r)){t+=i.hyphenate(r)+":"+this.style[r]+";"}}if(t){e+=' style="'+i.escape(t)+'"'}for(var a in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,a)){e+=" "+a+'="';e+=i.escape(this.attributes[a]);e+='"'}}e+=">";for(var s=0;s<this.children.length;s++){e+=this.children[s].toMarkup()}e+="</span>";return e};function l(e){this.children=e||[];this.height=0;this.depth=0;this.maxFontSize=0}l.prototype.toNode=function(){var e=document.createDocumentFragment();for(var t=0;t<this.children.length;t++){e.appendChild(this.children[t].toNode())}return e};l.prototype.toMarkup=function(){var e="";for(var t=0;t<this.children.length;t++){e+=this.children[t].toMarkup()}return e};var o={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"};function u(e,t,r,i,n,s,l){this.value=e||"";this.height=t||0;this.depth=r||0;this.italic=i||0;this.skew=n||0;this.classes=s||[];this.style=l||{};this.maxFontSize=0;if(a.cjkRegex.test(e)){if(a.hangulRegex.test(e)){this.classes.push("hangul_fallback")}else{this.classes.push("cjk_fallback")}}if(/[\xee\xef\xed\xec]/.test(this.value)){this.value=o[this.value]}}u.prototype.tryCombine=function(e){if(!e||!(e instanceof u)||this.italic>0||n(this.classes)!==n(e.classes)||this.skew!==e.skew||this.maxFontSize!==e.maxFontSize){return false}for(var t in this.style){if(this.style.hasOwnProperty(t)&&this.style[t]!==e.style[t]){return false}}for(t in e.style){if(e.style.hasOwnProperty(t)&&this.style[t]!==e.style[t]){return false}}this.value+=e.value;this.height=Math.max(this.height,e.height);this.depth=Math.max(this.depth,e.depth);this.italic=e.italic;return true};u.prototype.toNode=function(){var e=document.createTextNode(this.value);var t=null;if(this.italic>0){t=document.createElement("span");t.style.marginRight=this.italic+"em"}if(this.classes.length>0){t=t||document.createElement("span");t.className=n(this.classes)}for(var r in this.style){if(this.style.hasOwnProperty(r)){t=t||document.createElement("span");t.style[r]=this.style[r]}}if(t){t.appendChild(e);return t}else{return e}};u.prototype.toMarkup=function(){var e=false;var t="<span";if(this.classes.length){e=true;t+=' class="';t+=i.escape(n(this.classes));t+='"'}var r="";if(this.italic>0){r+="margin-right:"+this.italic+"em;"}for(var a in this.style){if(this.style.hasOwnProperty(a)){r+=i.hyphenate(a)+":"+this.style[a]+";"}}if(r){e=true;t+=' style="'+i.escape(r)+'"'}var s=i.escape(this.value);if(e){t+=">";t+=s;t+="</span>";return t}else{return s}};t.exports={span:s,documentFragment:l,symbolNode:u}},{"./unicodeRegexes":24,"./utils":25}],16:[function(e,t,r){var a=e("./parseData");var i=e("./ParseError");var n=e("./Style");var s=a.ParseNode;function l(e,t){var r=[];var a=[r];var n=[];while(true){var l=e.parseExpression(false,null);r.push(new s("ordgroup",l,e.mode));var o=e.nextToken.text;if(o==="&"){e.consume()}else if(o==="\\end"){break}else if(o==="\\\\"||o==="\\cr"){var u=e.parseFunction();n.push(u.value.size);r=[];a.push(r)}else{throw new i("Expected & or \\\\ or \\end",e.nextToken)}}t.body=a;t.rowGaps=n;return new s(t.type,t,e.mode)}function o(e,r,a){if(typeof e==="string"){e=[e]}if(typeof r==="number"){r={numArgs:r}}var i={numArgs:r.numArgs||0,argTypes:r.argTypes,greediness:1,allowedInText:!!r.allowedInText,numOptionalArgs:r.numOptionalArgs||0,handler:a};for(var n=0;n<e.length;++n){t.exports[e[n]]=i}}o("array",{numArgs:1},function(e,t){var r=t[0];r=r.value.map?r.value:[r];var a=r.map(function(e){var t=e.value;if("lcr".indexOf(t)!==-1){return{type:"align",align:t}}else if(t==="|"){return{type:"separator",separator:"|"}}throw new i("Unknown column alignment: "+e.value,e)});var n={type:"array",cols:a,hskipBeforeAndAfter:true};n=l(e.parser,n);return n});o(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],{},function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName];var r={type:"array",hskipBeforeAndAfter:false};r=l(e.parser,r);if(t){r=new s("leftright",{body:[r],left:t[0],right:t[1]},e.mode)}return r});o("cases",{},function(e){var t={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:n.TEXT.metrics.quad},{type:"align",align:"l",pregap:0,postgap:0}]};t=l(e.parser,t);t=new s("leftright",{body:[t],left:"\\{",right:"."},e.mode);return t});o("aligned",{},function(e){var t={type:"array",cols:[]};t=l(e.parser,t);var r=new s("ordgroup",[],e.mode);var a=0;t.value.body.forEach(function(e){var t;for(t=1;t<e.length;t+=2){e[t].value.unshift(r)}if(a<e.length){a=e.length}});for(var i=0;i<a;++i){var n="r";var o=0;if(i%2===1){n="l"}else if(i>0){o=2}t.value.cols[i]={type:"align",align:n,pregap:o,postgap:0}}return t})},{"./ParseError":6,"./Style":9,"./parseData":21}],17:[function(e,t,r){var a=e("./Style");var i=e("./unicodeRegexes").cjkRegex;var n={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]};var s=0;var l=0;var o=0;var u=0;var p=.431;var h=1;var c=0;var m=.04;var f=.111;var v=.166;var d=.2;var g=.6;var y=.1;var x=10;var b=2/x;var w={defaultRuleThickness:m,bigOpSpacing1:f,bigOpSpacing2:v,bigOpSpacing3:d,bigOpSpacing4:g,bigOpSpacing5:y,ptPerEm:x,doubleRuleSep:b};var k=e("./fontMetricsData");var z={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"A","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"o","\xdf":"B","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"a","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"o","\xff":"y","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"};var S=function(e,t){var r=e.charCodeAt(0);if(e[0]in z){r=z[e[0]].charCodeAt(0)}else if(i.test(e[0])){r="M".charCodeAt(0)}var a=k[t][r];if(a){return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}};t.exports={metrics:w,sigmas:n,getCharacterMetrics:S}},{"./Style":9,"./fontMetricsData":18,"./unicodeRegexes":24}],18:[function(e,t,r){t.exports={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],
-8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],
-10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}}},{}],19:[function(e,t,r){var a=e("./utils");var i=e("./ParseError");var n=e("./parseData");var s=n.ParseNode;function l(e,r,a){if(typeof e==="string"){e=[e]}if(typeof r==="number"){r={numArgs:r}}var i={numArgs:r.numArgs,argTypes:r.argTypes,greediness:r.greediness===undefined?1:r.greediness,allowedInText:!!r.allowedInText,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,handler:a};for(var n=0;n<e.length;++n){t.exports[e[n]]=i}}var o=function(e){if(e.type==="ordgroup"){return e.value}else{return[e]}};l("\\sqrt",{numArgs:1,numOptionalArgs:1},function(e,t){var r=t[0];var a=t[1];return{type:"sqrt",body:a,index:r}});var u={"\\text":undefined,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};l(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{numArgs:1,argTypes:["text"],greediness:2,allowedInText:true},function(e,t){var r=t[0];return{type:"text",body:o(r),style:u[e.funcName]}});l("\\color",{numArgs:2,allowedInText:true,greediness:3,argTypes:["color","original"]},function(e,t){var r=t[0];var a=t[1];return{type:"color",color:r.value,value:o(a)}});l("\\overline",{numArgs:1},function(e,t){var r=t[0];return{type:"overline",body:r}});l("\\underline",{numArgs:1},function(e,t){var r=t[0];return{type:"underline",body:r}});l("\\rule",{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(e,t){var r=t[0];var a=t[1];var i=t[2];return{type:"rule",shift:r&&r.value,width:a.value,height:i.value}});l(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(e,t){return{type:"kern",dimension:t[0].value}});l("\\KaTeX",{numArgs:0},function(e){return{type:"katex"}});l("\\phantom",{numArgs:1},function(e,t){var r=t[0];return{type:"phantom",value:o(r)}});l(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(e,t){var r=t[0];return{type:"mclass",mclass:"m"+e.funcName.substr(5),value:o(r)}});l("\\stackrel",{numArgs:2},function(e,t){var r=t[0];var a=t[1];var i=new s("op",{type:"op",limits:true,alwaysHandleSupSub:true,symbol:false,value:o(a)},a.mode);var n=new s("supsub",{base:i,sup:r,sub:null},r.mode);return{type:"mclass",mclass:"mrel",value:[n]}});l("\\bmod",{numArgs:0},function(e,t){return{type:"mod",modType:"bmod",value:null}});l(["\\pod","\\pmod","\\mod"],{numArgs:1},function(e,t){var r=t[0];return{type:"mod",modType:e.funcName.substr(1),value:o(r)}});var p={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};var h=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];var c={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};l(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:true,greediness:3},function(e,t){var r=t[0];return{type:"color",color:"katex-"+e.funcName.slice(1),value:o(r)}});l(["\\arcsin","\\arccos","\\arctan","\\arg","\\cos","\\cosh","\\cot","\\coth","\\csc","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\tan","\\tanh"],{numArgs:0},function(e){return{type:"op",limits:false,symbol:false,body:e.funcName}});l(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(e){return{type:"op",limits:true,symbol:false,body:e.funcName}});l(["\\int","\\iint","\\iiint","\\oint"],{numArgs:0},function(e){return{type:"op",limits:false,symbol:true,body:e.funcName}});l(["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],{numArgs:0},function(e){return{type:"op",limits:true,symbol:true,body:e.funcName}});l("\\mathop",{numArgs:1},function(e,t){var r=t[0];return{type:"op",limits:false,symbol:false,value:o(r)}});l(["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],{numArgs:2,greediness:2},function(e,t){var r=t[0];var a=t[1];var i;var n=null;var s=null;var l="auto";switch(e.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":i=true;break;case"\\\\atopfrac":i=false;break;case"\\dbinom":case"\\binom":case"\\tbinom":i=false;n="(";s=")";break;default:throw new Error("Unrecognized genfrac command")}switch(e.funcName){case"\\dfrac":case"\\dbinom":l="display";break;case"\\tfrac":case"\\tbinom":l="text";break}return{type:"genfrac",numer:r,denom:a,hasBarLine:i,leftDelim:n,rightDelim:s,size:l}});l(["\\llap","\\rlap"],{numArgs:1,allowedInText:true},function(e,t){var r=t[0];return{type:e.funcName.slice(1),body:r}});var m=function(e,t){if(a.contains(h,e.value)){return e}else{throw new i("Invalid delimiter: '"+e.value+"' after '"+t.funcName+"'",e)}};l(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],{numArgs:1},function(e,t){var r=m(t[0],e);return{type:"delimsizing",size:p[e.funcName].size,mclass:p[e.funcName].mclass,value:r.value}});l(["\\left","\\right"],{numArgs:1},function(e,t){var r=m(t[0],e);return{type:"leftright",value:r.value}});l("\\middle",{numArgs:1},function(e,t){var r=m(t[0],e);if(!e.parser.leftrightDepth){throw new i("\\middle without preceding \\left",r)}return{type:"middle",value:r.value}});l(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],0,null);l(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],0,null);l(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(e,t){var r=t[0];var a=e.funcName;if(a in c){a=c[a]}return{type:"font",font:a.slice(1),body:r}});l(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],{numArgs:1},function(e,t){var r=t[0];return{type:"accent",accent:e.funcName,base:r}});l(["\\over","\\choose","\\atop"],{numArgs:0,infix:true},function(e){var t;switch(e.funcName){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:t,token:e.token}});l(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(e,t){var r=t[0];return{type:"cr",size:r}});l(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(e,t){var r=t[0];if(r.type!=="ordgroup"){throw new i("Invalid environment name",r)}var a="";for(var n=0;n<r.value.length;++n){a+=r.value[n].value}return{type:"environment",name:a,nameGroup:r}})},{"./ParseError":6,"./parseData":21,"./utils":25}],20:[function(e,t,r){var a=e("./utils");function i(e,t){this.type=e;this.attributes={};this.children=t||[]}i.prototype.setAttribute=function(e,t){this.attributes[e]=t};i.prototype.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,t)){e.setAttribute(t,this.attributes[t])}}for(var r=0;r<this.children.length;r++){e.appendChild(this.children[r].toNode())}return e};i.prototype.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,t)){e+=" "+t+'="';e+=a.escape(this.attributes[t]);e+='"'}}e+=">";for(var r=0;r<this.children.length;r++){e+=this.children[r].toMarkup()}e+="</"+this.type+">";return e};function n(e){this.text=e}n.prototype.toNode=function(){return document.createTextNode(this.text)};n.prototype.toMarkup=function(){return a.escape(this.text)};t.exports={MathNode:i,TextNode:n}},{"./utils":25}],21:[function(e,t,r){function a(e,t,r,a,i){this.type=e;this.value=t;this.mode=r;if(a&&(!i||i.lexer===a.lexer)){this.lexer=a.lexer;this.start=a.start;this.end=(i||a).end}}t.exports={ParseNode:a}},{}],22:[function(e,t,r){var a=e("./Parser");var i=function(e,t){if(!(typeof e==="string"||e instanceof String)){throw new TypeError("KaTeX can only parse string typed expression")}var r=new a(e,t);return r.parse()};t.exports=i},{"./Parser":7}],23:[function(e,t,r){t.exports={math:{},text:{}};function a(e,r,a,i,n){t.exports[e][n]={font:r,group:a,replace:i}}var i="math";var n="text";var s="main";var l="ams";var o="accent";var u="bin";var p="close";var h="inner";var c="mathord";var m="op";var f="open";var v="punct";var d="rel";var g="spacing";var y="textord";a(i,s,d,"\u2261","\\equiv");a(i,s,d,"\u227a","\\prec");a(i,s,d,"\u227b","\\succ");a(i,s,d,"\u223c","\\sim");a(i,s,d,"\u22a5","\\perp");a(i,s,d,"\u2aaf","\\preceq");a(i,s,d,"\u2ab0","\\succeq");a(i,s,d,"\u2243","\\simeq");a(i,s,d,"\u2223","\\mid");a(i,s,d,"\u226a","\\ll");a(i,s,d,"\u226b","\\gg");a(i,s,d,"\u224d","\\asymp");a(i,s,d,"\u2225","\\parallel");a(i,s,d,"\u22c8","\\bowtie");a(i,s,d,"\u2323","\\smile");a(i,s,d,"\u2291","\\sqsubseteq");a(i,s,d,"\u2292","\\sqsupseteq");a(i,s,d,"\u2250","\\doteq");a(i,s,d,"\u2322","\\frown");a(i,s,d,"\u220b","\\ni");a(i,s,d,"\u221d","\\propto");a(i,s,d,"\u22a2","\\vdash");a(i,s,d,"\u22a3","\\dashv");a(i,s,d,"\u220b","\\owns");a(i,s,v,".","\\ldotp");a(i,s,v,"\u22c5","\\cdotp");a(i,s,y,"#","\\#");a(n,s,y,"#","\\#");a(i,s,y,"&","\\&");a(n,s,y,"&","\\&");a(i,s,y,"\u2135","\\aleph");a(i,s,y,"\u2200","\\forall");a(i,s,y,"\u210f","\\hbar");a(i,s,y,"\u2203","\\exists");a(i,s,y,"\u2207","\\nabla");a(i,s,y,"\u266d","\\flat");a(i,s,y,"\u2113","\\ell");a(i,s,y,"\u266e","\\natural");a(i,s,y,"\u2663","\\clubsuit");a(i,s,y,"\u2118","\\wp");a(i,s,y,"\u266f","\\sharp");a(i,s,y,"\u2662","\\diamondsuit");a(i,s,y,"\u211c","\\Re");a(i,s,y,"\u2661","\\heartsuit");a(i,s,y,"\u2111","\\Im");a(i,s,y,"\u2660","\\spadesuit");a(i,s,y,"\u2020","\\dag");a(i,s,y,"\u2021","\\ddag");a(i,s,p,"\u23b1","\\rmoustache");a(i,s,f,"\u23b0","\\lmoustache");a(i,s,p,"\u27ef","\\rgroup");a(i,s,f,"\u27ee","\\lgroup");a(i,s,u,"\u2213","\\mp");a(i,s,u,"\u2296","\\ominus");a(i,s,u,"\u228e","\\uplus");a(i,s,u,"\u2293","\\sqcap");a(i,s,u,"\u2217","\\ast");a(i,s,u,"\u2294","\\sqcup");a(i,s,u,"\u25ef","\\bigcirc");a(i,s,u,"\u2219","\\bullet");a(i,s,u,"\u2021","\\ddagger");a(i,s,u,"\u2240","\\wr");a(i,s,u,"\u2a3f","\\amalg");a(i,s,d,"\u27f5","\\longleftarrow");a(i,s,d,"\u21d0","\\Leftarrow");a(i,s,d,"\u27f8","\\Longleftarrow");a(i,s,d,"\u27f6","\\longrightarrow");a(i,s,d,"\u21d2","\\Rightarrow");a(i,s,d,"\u27f9","\\Longrightarrow");a(i,s,d,"\u2194","\\leftrightarrow");a(i,s,d,"\u27f7","\\longleftrightarrow");a(i,s,d,"\u21d4","\\Leftrightarrow");a(i,s,d,"\u27fa","\\Longleftrightarrow");a(i,s,d,"\u21a6","\\mapsto");a(i,s,d,"\u27fc","\\longmapsto");a(i,s,d,"\u2197","\\nearrow");a(i,s,d,"\u21a9","\\hookleftarrow");a(i,s,d,"\u21aa","\\hookrightarrow");a(i,s,d,"\u2198","\\searrow");a(i,s,d,"\u21bc","\\leftharpoonup");a(i,s,d,"\u21c0","\\rightharpoonup");a(i,s,d,"\u2199","\\swarrow");a(i,s,d,"\u21bd","\\leftharpoondown");a(i,s,d,"\u21c1","\\rightharpoondown");a(i,s,d,"\u2196","\\nwarrow");a(i,s,d,"\u21cc","\\rightleftharpoons");a(i,l,d,"\u226e","\\nless");a(i,l,d,"\ue010","\\nleqslant");a(i,l,d,"\ue011","\\nleqq");a(i,l,d,"\u2a87","\\lneq");a(i,l,d,"\u2268","\\lneqq");a(i,l,d,"\ue00c","\\lvertneqq");a(i,l,d,"\u22e6","\\lnsim");a(i,l,d,"\u2a89","\\lnapprox");a(i,l,d,"\u2280","\\nprec");a(i,l,d,"\u22e0","\\npreceq");a(i,l,d,"\u22e8","\\precnsim");a(i,l,d,"\u2ab9","\\precnapprox");a(i,l,d,"\u2241","\\nsim");a(i,l,d,"\ue006","\\nshortmid");a(i,l,d,"\u2224","\\nmid");a(i,l,d,"\u22ac","\\nvdash");a(i,l,d,"\u22ad","\\nvDash");a(i,l,d,"\u22ea","\\ntriangleleft");a(i,l,d,"\u22ec","\\ntrianglelefteq");a(i,l,d,"\u228a","\\subsetneq");a(i,l,d,"\ue01a","\\varsubsetneq");a(i,l,d,"\u2acb","\\subsetneqq");a(i,l,d,"\ue017","\\varsubsetneqq");a(i,l,d,"\u226f","\\ngtr");a(i,l,d,"\ue00f","\\ngeqslant");a(i,l,d,"\ue00e","\\ngeqq");a(i,l,d,"\u2a88","\\gneq");a(i,l,d,"\u2269","\\gneqq");a(i,l,d,"\ue00d","\\gvertneqq");a(i,l,d,"\u22e7","\\gnsim");a(i,l,d,"\u2a8a","\\gnapprox");a(i,l,d,"\u2281","\\nsucc");a(i,l,d,"\u22e1","\\nsucceq");a(i,l,d,"\u22e9","\\succnsim");a(i,l,d,"\u2aba","\\succnapprox");a(i,l,d,"\u2246","\\ncong");a(i,l,d,"\ue007","\\nshortparallel");a(i,l,d,"\u2226","\\nparallel");a(i,l,d,"\u22af","\\nVDash");a(i,l,d,"\u22eb","\\ntriangleright");a(i,l,d,"\u22ed","\\ntrianglerighteq");a(i,l,d,"\ue018","\\nsupseteqq");a(i,l,d,"\u228b","\\supsetneq");a(i,l,d,"\ue01b","\\varsupsetneq");a(i,l,d,"\u2acc","\\supsetneqq");a(i,l,d,"\ue019","\\varsupsetneqq");a(i,l,d,"\u22ae","\\nVdash");a(i,l,d,"\u2ab5","\\precneqq");a(i,l,d,"\u2ab6","\\succneqq");a(i,l,d,"\ue016","\\nsubseteqq");a(i,l,u,"\u22b4","\\unlhd");a(i,l,u,"\u22b5","\\unrhd");a(i,l,d,"\u219a","\\nleftarrow");a(i,l,d,"\u219b","\\nrightarrow");a(i,l,d,"\u21cd","\\nLeftarrow");a(i,l,d,"\u21cf","\\nRightarrow");a(i,l,d,"\u21ae","\\nleftrightarrow");a(i,l,d,"\u21ce","\\nLeftrightarrow");a(i,l,d,"\u25b3","\\vartriangle");a(i,l,y,"\u210f","\\hslash");a(i,l,y,"\u25bd","\\triangledown");a(i,l,y,"\u25ca","\\lozenge");a(i,l,y,"\u24c8","\\circledS");a(i,l,y,"\xae","\\circledR");a(i,l,y,"\u2221","\\measuredangle");a(i,l,y,"\u2204","\\nexists");a(i,l,y,"\u2127","\\mho");a(i,l,y,"\u2132","\\Finv");a(i,l,y,"\u2141","\\Game");a(i,l,y,"k","\\Bbbk");a(i,l,y,"\u2035","\\backprime");a(i,l,y,"\u25b2","\\blacktriangle");a(i,l,y,"\u25bc","\\blacktriangledown");a(i,l,y,"\u25a0","\\blacksquare");a(i,l,y,"\u29eb","\\blacklozenge");a(i,l,y,"\u2605","\\bigstar");a(i,l,y,"\u2222","\\sphericalangle");a(i,l,y,"\u2201","\\complement");a(i,l,y,"\xf0","\\eth");a(i,l,y,"\u2571","\\diagup");a(i,l,y,"\u2572","\\diagdown");a(i,l,y,"\u25a1","\\square");a(i,l,y,"\u25a1","\\Box");a(i,l,y,"\u25ca","\\Diamond");a(i,l,y,"\xa5","\\yen");a(i,l,y,"\u2713","\\checkmark");a(i,l,y,"\u2136","\\beth");a(i,l,y,"\u2138","\\daleth");a(i,l,y,"\u2137","\\gimel");a(i,l,y,"\u03dd","\\digamma");a(i,l,y,"\u03f0","\\varkappa");a(i,l,f,"\u250c","\\ulcorner");a(i,l,p,"\u2510","\\urcorner");a(i,l,f,"\u2514","\\llcorner");a(i,l,p,"\u2518","\\lrcorner");a(i,l,d,"\u2266","\\leqq");a(i,l,d,"\u2a7d","\\leqslant");a(i,l,d,"\u2a95","\\eqslantless");a(i,l,d,"\u2272","\\lesssim");a(i,l,d,"\u2a85","\\lessapprox");a(i,l,d,"\u224a","\\approxeq");a(i,l,u,"\u22d6","\\lessdot");a(i,l,d,"\u22d8","\\lll");a(i,l,d,"\u2276","\\lessgtr");a(i,l,d,"\u22da","\\lesseqgtr");a(i,l,d,"\u2a8b","\\lesseqqgtr");a(i,l,d,"\u2251","\\doteqdot");a(i,l,d,"\u2253","\\risingdotseq");a(i,l,d,"\u2252","\\fallingdotseq");a(i,l,d,"\u223d","\\backsim");a(i,l,d,"\u22cd","\\backsimeq");a(i,l,d,"\u2ac5","\\subseteqq");a(i,l,d,"\u22d0","\\Subset");a(i,l,d,"\u228f","\\sqsubset");a(i,l,d,"\u227c","\\preccurlyeq");a(i,l,d,"\u22de","\\curlyeqprec");a(i,l,d,"\u227e","\\precsim");a(i,l,d,"\u2ab7","\\precapprox");a(i,l,d,"\u22b2","\\vartriangleleft");a(i,l,d,"\u22b4","\\trianglelefteq");a(i,l,d,"\u22a8","\\vDash");a(i,l,d,"\u22aa","\\Vvdash");a(i,l,d,"\u2323","\\smallsmile");a(i,l,d,"\u2322","\\smallfrown");a(i,l,d,"\u224f","\\bumpeq");a(i,l,d,"\u224e","\\Bumpeq");a(i,l,d,"\u2267","\\geqq");a(i,l,d,"\u2a7e","\\geqslant");a(i,l,d,"\u2a96","\\eqslantgtr");a(i,l,d,"\u2273","\\gtrsim");a(i,l,d,"\u2a86","\\gtrapprox");a(i,l,u,"\u22d7","\\gtrdot");a(i,l,d,"\u22d9","\\ggg");a(i,l,d,"\u2277","\\gtrless");a(i,l,d,"\u22db","\\gtreqless");a(i,l,d,"\u2a8c","\\gtreqqless");a(i,l,d,"\u2256","\\eqcirc");a(i,l,d,"\u2257","\\circeq");a(i,l,d,"\u225c","\\triangleq");a(i,l,d,"\u223c","\\thicksim");a(i,l,d,"\u2248","\\thickapprox");a(i,l,d,"\u2ac6","\\supseteqq");a(i,l,d,"\u22d1","\\Supset");a(i,l,d,"\u2290","\\sqsupset");a(i,l,d,"\u227d","\\succcurlyeq");a(i,l,d,"\u22df","\\curlyeqsucc");a(i,l,d,"\u227f","\\succsim");a(i,l,d,"\u2ab8","\\succapprox");a(i,l,d,"\u22b3","\\vartriangleright");a(i,l,d,"\u22b5","\\trianglerighteq");a(i,l,d,"\u22a9","\\Vdash");a(i,l,d,"\u2223","\\shortmid");a(i,l,d,"\u2225","\\shortparallel");a(i,l,d,"\u226c","\\between");a(i,l,d,"\u22d4","\\pitchfork");a(i,l,d,"\u221d","\\varpropto");a(i,l,d,"\u25c0","\\blacktriangleleft");a(i,l,d,"\u2234","\\therefore");a(i,l,d,"\u220d","\\backepsilon");a(i,l,d,"\u25b6","\\blacktriangleright");a(i,l,d,"\u2235","\\because");a(i,l,d,"\u22d8","\\llless");a(i,l,d,"\u22d9","\\gggtr");a(i,l,u,"\u22b2","\\lhd");a(i,l,u,"\u22b3","\\rhd");a(i,l,d,"\u2242","\\eqsim");a(i,s,d,"\u22c8","\\Join");a(i,l,d,"\u2251","\\Doteq");a(i,l,u,"\u2214","\\dotplus");a(i,l,u,"\u2216","\\smallsetminus");a(i,l,u,"\u22d2","\\Cap");a(i,l,u,"\u22d3","\\Cup");a(i,l,u,"\u2a5e","\\doublebarwedge");a(i,l,u,"\u229f","\\boxminus");a(i,l,u,"\u229e","\\boxplus");a(i,l,u,"\u22c7","\\divideontimes");a(i,l,u,"\u22c9","\\ltimes");a(i,l,u,"\u22ca","\\rtimes");a(i,l,u,"\u22cb","\\leftthreetimes");a(i,l,u,"\u22cc","\\rightthreetimes");a(i,l,u,"\u22cf","\\curlywedge");a(i,l,u,"\u22ce","\\curlyvee");a(i,l,u,"\u229d","\\circleddash");a(i,l,u,"\u229b","\\circledast");a(i,l,u,"\u22c5","\\centerdot");a(i,l,u,"\u22ba","\\intercal");a(i,l,u,"\u22d2","\\doublecap");a(i,l,u,"\u22d3","\\doublecup");a(i,l,u,"\u22a0","\\boxtimes");a(i,l,d,"\u21e2","\\dashrightarrow");a(i,l,d,"\u21e0","\\dashleftarrow");a(i,l,d,"\u21c7","\\leftleftarrows");a(i,l,d,"\u21c6","\\leftrightarrows");a(i,l,d,"\u21da","\\Lleftarrow");a(i,l,d,"\u219e","\\twoheadleftarrow");a(i,l,d,"\u21a2","\\leftarrowtail");a(i,l,d,"\u21ab","\\looparrowleft");a(i,l,d,"\u21cb","\\leftrightharpoons");a(i,l,d,"\u21b6","\\curvearrowleft");a(i,l,d,"\u21ba","\\circlearrowleft");a(i,l,d,"\u21b0","\\Lsh");a(i,l,d,"\u21c8","\\upuparrows");a(i,l,d,"\u21bf","\\upharpoonleft");a(i,l,d,"\u21c3","\\downharpoonleft");a(i,l,d,"\u22b8","\\multimap");a(i,l,d,"\u21ad","\\leftrightsquigarrow");a(i,l,d,"\u21c9","\\rightrightarrows");a(i,l,d,"\u21c4","\\rightleftarrows");a(i,l,d,"\u21a0","\\twoheadrightarrow");a(i,l,d,"\u21a3","\\rightarrowtail");a(i,l,d,"\u21ac","\\looparrowright");a(i,l,d,"\u21b7","\\curvearrowright");a(i,l,d,"\u21bb","\\circlearrowright");a(i,l,d,"\u21b1","\\Rsh");a(i,l,d,"\u21ca","\\downdownarrows");a(i,l,d,"\u21be","\\upharpoonright");a(i,l,d,"\u21c2","\\downharpoonright");a(i,l,d,"\u21dd","\\rightsquigarrow");a(i,l,d,"\u21dd","\\leadsto");a(i,l,d,"\u21db","\\Rrightarrow");a(i,l,d,"\u21be","\\restriction");a(i,s,y,"\u2018","`");a(i,s,y,"$","\\$");a(n,s,y,"$","\\$");a(i,s,y,"%","\\%");a(n,s,y,"%","\\%");a(i,s,y,"_","\\_");a(n,s,y,"_","\\_");a(i,s,y,"\u2220","\\angle");a(i,s,y,"\u221e","\\infty");a(i,s,y,"\u2032","\\prime");a(i,s,y,"\u25b3","\\triangle");a(i,s,y,"\u0393","\\Gamma");a(i,s,y,"\u0394","\\Delta");a(i,s,y,"\u0398","\\Theta");a(i,s,y,"\u039b","\\Lambda");a(i,s,y,"\u039e","\\Xi");a(i,s,y,"\u03a0","\\Pi");a(i,s,y,"\u03a3","\\Sigma");a(i,s,y,"\u03a5","\\Upsilon");a(i,s,y,"\u03a6","\\Phi");a(i,s,y,"\u03a8","\\Psi");a(i,s,y,"\u03a9","\\Omega");a(i,s,y,"\xac","\\neg");a(i,s,y,"\xac","\\lnot");a(i,s,y,"\u22a4","\\top");a(i,s,y,"\u22a5","\\bot");a(i,s,y,"\u2205","\\emptyset");a(i,l,y,"\u2205","\\varnothing");a(i,s,c,"\u03b1","\\alpha");a(i,s,c,"\u03b2","\\beta");a(i,s,c,"\u03b3","\\gamma");a(i,s,c,"\u03b4","\\delta");a(i,s,c,"\u03f5","\\epsilon");a(i,s,c,"\u03b6","\\zeta");a(i,s,c,"\u03b7","\\eta");a(i,s,c,"\u03b8","\\theta");a(i,s,c,"\u03b9","\\iota");a(i,s,c,"\u03ba","\\kappa");a(i,s,c,"\u03bb","\\lambda");a(i,s,c,"\u03bc","\\mu");a(i,s,c,"\u03bd","\\nu");a(i,s,c,"\u03be","\\xi");a(i,s,c,"o","\\omicron");a(i,s,c,"\u03c0","\\pi");a(i,s,c,"\u03c1","\\rho");a(i,s,c,"\u03c3","\\sigma");a(i,s,c,"\u03c4","\\tau");a(i,s,c,"\u03c5","\\upsilon");a(i,s,c,"\u03d5","\\phi");a(i,s,c,"\u03c7","\\chi");a(i,s,c,"\u03c8","\\psi");a(i,s,c,"\u03c9","\\omega");a(i,s,c,"\u03b5","\\varepsilon");a(i,s,c,"\u03d1","\\vartheta");a(i,s,c,"\u03d6","\\varpi");a(i,s,c,"\u03f1","\\varrho");a(i,s,c,"\u03c2","\\varsigma");a(i,s,c,"\u03c6","\\varphi");a(i,s,u,"\u2217","*");a(i,s,u,"+","+");a(i,s,u,"\u2212","-");a(i,s,u,"\u22c5","\\cdot");a(i,s,u,"\u2218","\\circ");a(i,s,u,"\xf7","\\div");a(i,s,u,"\xb1","\\pm");a(i,s,u,"\xd7","\\times");a(i,s,u,"\u2229","\\cap");a(i,s,u,"\u222a","\\cup");a(i,s,u,"\u2216","\\setminus");a(i,s,u,"\u2227","\\land");a(i,s,u,"\u2228","\\lor");a(i,s,u,"\u2227","\\wedge");a(i,s,u,"\u2228","\\vee");a(i,s,y,"\u221a","\\surd");a(i,s,f,"(","(");a(i,s,f,"[","[");a(i,s,f,"\u27e8","\\langle");a(i,s,f,"\u2223","\\lvert");a(i,s,f,"\u2225","\\lVert");a(i,s,p,")",")");a(i,s,p,"]","]");a(i,s,p,"?","?");a(i,s,p,"!","!");a(i,s,p,"\u27e9","\\rangle");a(i,s,p,"\u2223","\\rvert");a(i,s,p,"\u2225","\\rVert");a(i,s,d,"=","=");a(i,s,d,"<","<");a(i,s,d,">",">");a(i,s,d,":",":");a(i,s,d,"\u2248","\\approx");a(i,s,d,"\u2245","\\cong");a(i,s,d,"\u2265","\\ge");a(i,s,d,"\u2265","\\geq");a(i,s,d,"\u2190","\\gets");a(i,s,d,">","\\gt");a(i,s,d,"\u2208","\\in");a(i,s,d,"\u2209","\\notin");a(i,s,d,"\u2282","\\subset");a(i,s,d,"\u2283","\\supset");a(i,s,d,"\u2286","\\subseteq");a(i,s,d,"\u2287","\\supseteq");a(i,l,d,"\u2288","\\nsubseteq");a(i,l,d,"\u2289","\\nsupseteq");a(i,s,d,"\u22a8","\\models");a(i,s,d,"\u2190","\\leftarrow");a(i,s,d,"\u2264","\\le");a(i,s,d,"\u2264","\\leq");a(i,s,d,"<","\\lt");a(i,s,d,"\u2260","\\ne");a(i,s,d,"\u2260","\\neq");a(i,s,d,"\u2192","\\rightarrow");a(i,s,d,"\u2192","\\to");a(i,l,d,"\u2271","\\ngeq");a(i,l,d,"\u2270","\\nleq");a(i,s,g,null,"\\!");a(i,s,g,"\xa0","\\ ");a(i,s,g,"\xa0","~");a(i,s,g,null,"\\,");a(i,s,g,null,"\\:");a(i,s,g,null,"\\;");a(i,s,g,null,"\\enspace");a(i,s,g,null,"\\qquad");a(i,s,g,null,"\\quad");a(i,s,g,"\xa0","\\space");a(i,s,v,",",",");a(i,s,v,";",";");a(i,s,v,":","\\colon");a(i,l,u,"\u22bc","\\barwedge");a(i,l,u,"\u22bb","\\veebar");a(i,s,u,"\u2299","\\odot");a(i,s,u,"\u2295","\\oplus");a(i,s,u,"\u2297","\\otimes");a(i,s,y,"\u2202","\\partial");a(i,s,u,"\u2298","\\oslash");a(i,l,u,"\u229a","\\circledcirc");a(i,l,u,"\u22a1","\\boxdot");a(i,s,u,"\u25b3","\\bigtriangleup");a(i,s,u,"\u25bd","\\bigtriangledown");a(i,s,u,"\u2020","\\dagger");a(i,s,u,"\u22c4","\\diamond");a(i,s,u,"\u22c6","\\star");a(i,s,u,"\u25c3","\\triangleleft");a(i,s,u,"\u25b9","\\triangleright");a(i,s,f,"{","\\{");a(n,s,y,"{","\\{");a(i,s,p,"}","\\}");a(n,s,y,"}","\\}");a(i,s,f,"{","\\lbrace");a(i,s,p,"}","\\rbrace");a(i,s,f,"[","\\lbrack");a(i,s,p,"]","\\rbrack");a(i,s,f,"\u230a","\\lfloor");a(i,s,p,"\u230b","\\rfloor");a(i,s,f,"\u2308","\\lceil");a(i,s,p,"\u2309","\\rceil");a(i,s,y,"\\","\\backslash");a(i,s,y,"\u2223","|");a(i,s,y,"\u2223","\\vert");a(i,s,y,"\u2225","\\|");a(i,s,y,"\u2225","\\Vert");a(i,s,d,"\u2191","\\uparrow");a(i,s,d,"\u21d1","\\Uparrow");a(i,s,d,"\u2193","\\downarrow");a(i,s,d,"\u21d3","\\Downarrow");a(i,s,d,"\u2195","\\updownarrow");a(i,s,d,"\u21d5","\\Updownarrow");a(i,i,m,"\u2210","\\coprod");a(i,i,m,"\u22c1","\\bigvee");a(i,i,m,"\u22c0","\\bigwedge");a(i,i,m,"\u2a04","\\biguplus");a(i,i,m,"\u22c2","\\bigcap");a(i,i,m,"\u22c3","\\bigcup");a(i,i,m,"\u222b","\\int");a(i,i,m,"\u222b","\\intop");a(i,i,m,"\u222c","\\iint");a(i,i,m,"\u222d","\\iiint");a(i,i,m,"\u220f","\\prod");a(i,i,m,"\u2211","\\sum");a(i,i,m,"\u2a02","\\bigotimes");a(i,i,m,"\u2a01","\\bigoplus");a(i,i,m,"\u2a00","\\bigodot");a(i,i,m,"\u222e","\\oint");a(i,i,m,"\u2a06","\\bigsqcup");a(i,i,m,"\u222b","\\smallint");a(n,s,h,"\u2026","\\textellipsis");a(i,s,h,"\u2026","\\mathellipsis");a(n,s,h,"\u2026","\\ldots");a(i,s,h,"\u2026","\\ldots");a(i,s,h,"\u22ef","\\cdots");a(i,s,h,"\u22f1","\\ddots");a(i,s,y,"\u22ee","\\vdots");a(i,s,o,"\xb4","\\acute");a(i,s,o,"`","\\grave");a(i,s,o,"\xa8","\\ddot");a(i,s,o,"~","\\tilde");a(i,s,o,"\xaf","\\bar");a(i,s,o,"\u02d8","\\breve");a(i,s,o,"\u02c7","\\check");a(i,s,o,"^","\\hat");a(i,s,o,"\u20d7","\\vec");a(i,s,o,"\u02d9","\\dot");a(i,s,c,"\u0131","\\imath");a(i,s,c,"\u0237","\\jmath");a(n,s,y,"\u2013","--");a(n,s,y,"\u2014","---");a(n,s,y,"\u2018","`");a(n,s,y,"\u2019","'");a(n,s,y,"\u201c","``");a(n,s,y,"\u201d","''");a(i,s,y,"\xb0","\\degree");a(n,s,y,"\xb0","\\degree");a(i,s,c,"\xa3","\\pounds");a(i,l,y,"\u2720","\\maltese");a(n,l,y,"\u2720","\\maltese");a(n,s,g,"\xa0","\\ ");a(n,s,g,"\xa0"," ");a(n,s,g,"\xa0","~");var x;var b;var w='0123456789/@."';for(x=0;x<w.length;x++){b=w.charAt(x);a(i,s,y,b,b)}var k='0123456789!@*()-=+[]";:?/.,';for(x=0;x<k.length;x++){b=k.charAt(x);a(n,s,y,b,b)}var z="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(x=0;x<z.length;x++){b=z.charAt(x);a(i,s,c,b,b);a(n,s,y,b,b)}for(x=192;x<=214;x++){b=String.fromCharCode(x);a(n,s,y,b,b)}for(x=216;x<=246;x++){b=String.fromCharCode(x);a(n,s,y,b,b)}for(x=248;x<=255;x++){b=String.fromCharCode(x);a(n,s,y,b,b)}for(x=1040;x<=1103;x++){b=String.fromCharCode(x);a(n,s,y,b,b)}a(n,s,y,"\u2013","\u2013");a(n,s,y,"\u2014","\u2014");a(n,s,y,"\u2018","\u2018");a(n,s,y,"\u2019","\u2019");a(n,s,y,"\u201c","\u201c");a(n,s,y,"\u201d","\u201d")},{}],24:[function(e,t,r){var a=/[\uAC00-\uD7AF]/;var i=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/;t.exports={cjkRegex:i,hangulRegex:a}},{}],25:[function(e,t,r){var a=Array.prototype.indexOf;var i=function(e,t){if(e==null){return-1}if(a&&e.indexOf===a){return e.indexOf(t)}var r=0;var i=e.length;for(;r<i;r++){if(e[r]===t){return r}}return-1};var n=function(e,t){return i(e,t)!==-1};var s=function(e,t){return e===undefined?t:e};var l=/([A-Z])/g;var o=function(e){return e.replace(l,"-$1").toLowerCase()};var u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};var p=/[&><"']/g;function h(e){return u[e]}function c(e){return(""+e).replace(p,h)}var m;if(typeof document!=="undefined"){var f=document.createElement("span");if("textContent"in f){m=function(e,t){e.textContent=t}}else{m=function(e,t){e.innerText=t}}}function v(e){m(e,"")}t.exports={contains:n,deflt:s,escape:c,hyphenate:o,indexOf:i,setTextContent:m,clearNode:v}},{}]},{},[1])(1)});
+(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.katex=e()}})(function(){var e,t,r;return function e(t,r,a){function n(l,s){if(!r[l]){if(!t[l]){var o=typeof require=="function"&&require;if(!s&&o)return o(l,!0);if(i)return i(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[l]={exports:{}};t[l][0].call(c.exports,function(e){var r=t[l][1][e];return n(r?r:e)},c,c.exports,e,t,r,a)}return r[l].exports}var i=typeof require=="function"&&require;for(var l=0;l<a.length;l++)n(a[l]);return n}({1:[function(e,t,r){"use strict";var a=e("./src/ParseError");var n=v(a);var i=e("./src/Settings");var l=v(i);var s=e("./src/buildTree");var o=v(s);var u=e("./src/parseTree");var c=v(u);var f=e("./src/utils");var h=v(f);function v(e){return e&&e.__esModule?e:{default:e}}var d=function e(t,r,a){h.default.clearNode(r);var n=new l.default(a);var i=(0,c.default)(t,n);var s=(0,o.default)(i,t,n).toNode();r.appendChild(s)};if(typeof document!=="undefined"){if(document.compatMode!=="CSS1Compat"){typeof console!=="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your "+"website has a suitable doctype.");d=function e(){throw new n.default("KaTeX doesn't work in quirks mode.")}}}var p=function e(t,r){var a=new l.default(r);var n=(0,c.default)(t,a);return(0,o.default)(n,t,a).toMarkup()};var m=function e(t,r){var a=new l.default(r);return(0,c.default)(t,a)};t.exports={render:d,renderToString:p,__parse:m,ParseError:n.default}},{"./src/ParseError":29,"./src/Settings":32,"./src/buildTree":37,"./src/parseTree":46,"./src/utils":51}],2:[function(e,t,r){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:true}},{"core-js/library/fn/json/stringify":6}],3:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:true}},{"core-js/library/fn/object/define-property":7}],4:[function(e,t,r){"use strict";r.__esModule=true;r.default=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}},{}],5:[function(e,t,r){"use strict";r.__esModule=true;var a=e("../core-js/object/define-property");var n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;(0,n.default)(e,a.key,a)}}return function(t,r,a){if(r)e(t.prototype,r);if(a)e(t,a);return t}}()},{"../core-js/object/define-property":3}],6:[function(e,t,r){var a=e("../../modules/_core"),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function e(t){return n.stringify.apply(n,arguments)}},{"../../modules/_core":10}],7:[function(e,t,r){e("../../modules/es6.object.define-property");var a=e("../../modules/_core").Object;t.exports=function e(t,r,n){return a.defineProperty(t,r,n)}},{"../../modules/_core":10,"../../modules/es6.object.define-property":23}],8:[function(e,t,r){t.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},{}],9:[function(e,t,r){var a=e("./_is-object");t.exports=function(e){if(!a(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":19}],10:[function(e,t,r){var a=t.exports={version:"2.4.0"};if(typeof __e=="number")__e=a},{}],11:[function(e,t,r){var a=e("./_a-function");t.exports=function(e,t,r){a(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":8}],12:[function(e,t,r){t.exports=!e("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":15}],13:[function(e,t,r){var a=e("./_is-object"),n=e("./_global").document,i=a(n)&&a(n.createElement);t.exports=function(e){return i?n.createElement(e):{}}},{"./_global":16,"./_is-object":19}],14:[function(e,t,r){var a=e("./_global"),n=e("./_core"),i=e("./_ctx"),l=e("./_hide"),s="prototype";var o=function(e,t,r){var u=e&o.F,c=e&o.G,f=e&o.S,h=e&o.P,v=e&o.B,d=e&o.W,p=c?n:n[t]||(n[t]={}),m=p[s],g=c?a:f?a[t]:(a[t]||{})[s],y,x,w;if(c)r=t;for(y in r){x=!u&&g&&g[y]!==undefined;if(x&&y in p)continue;w=x?g[y]:r[y];p[y]=c&&typeof g[y]!="function"?r[y]:v&&x?i(w,a):d&&g[y]==w?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,a)}return e.apply(this,arguments)};t[s]=e[s];return t}(w):h&&typeof w=="function"?i(Function.call,w):w;if(h){(p.virtual||(p.virtual={}))[y]=w;if(e&o.R&&m&&!m[y])l(m,y,w)}}};o.F=1;o.G=2;o.S=4;o.P=8;o.B=16;o.W=32;o.U=64;o.R=128;t.exports=o},{"./_core":10,"./_ctx":11,"./_global":16,"./_hide":17}],15:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return true}}},{}],16:[function(e,t,r){var a=t.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=a},{}],17:[function(e,t,r){var a=e("./_object-dp"),n=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return a.f(e,t,n(1,r))}:function(e,t,r){e[t]=r;return e}},{"./_descriptors":12,"./_object-dp":20,"./_property-desc":21}],18:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":12,"./_dom-create":13,"./_fails":15}],19:[function(e,t,r){t.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},{}],20:[function(e,t,r){var a=e("./_an-object"),n=e("./_ie8-dom-define"),i=e("./_to-primitive"),l=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function e(t,r,s){a(t);r=i(r,true);a(s);if(n)try{return l(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");if("value"in s)t[r]=s.value;return t}},{"./_an-object":9,"./_descriptors":12,"./_ie8-dom-define":18,"./_to-primitive":22}],21:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},{}],22:[function(e,t,r){var a=e("./_is-object");t.exports=function(e,t){if(!a(e))return e;var r,n;if(t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;if(typeof(r=e.valueOf)=="function"&&!a(n=r.call(e)))return n;if(!t&&typeof(r=e.toString)=="function"&&!a(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":19}],23:[function(e,t,r){var a=e("./_export");a(a.S+a.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":12,"./_export":14,"./_object-dp":20}],24:[function(e,t,r){"use strict";function a(e){if(!e.__matchAtRelocatable){var t=e.source+"|()";var r="g"+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"");e.__matchAtRelocatable=new RegExp(t,r)}return e.__matchAtRelocatable}function n(e,t,r){if(e.global||e.sticky){throw new Error("matchAt(...): Only non-global regexes are supported")}var n=a(e);n.lastIndex=r;var i=n.exec(t);if(i[i.length-1]==null){i.length=i.length-1;return i}else{return null}}t.exports=n},{}],25:[function(e,t,r){"use strict";var a=Object.prototype.hasOwnProperty;var n=Object.prototype.propertyIsEnumerable;function i(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function l(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var a=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(a.join("")!=="0123456789"){return false}var n={};"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e});if(Object.keys(Object.assign({},n)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}t.exports=l()?Object.assign:function(e,t){var r;var l=i(e);var s;for(var o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var u in r){if(a.call(r,u)){l[u]=r[u]}}if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var c=0;c<s.length;c++){if(n.call(r,s[c])){l[s[c]]=r[s[c]]}}}}return l}},{}],26:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=f(a);var i=e("babel-runtime/helpers/createClass");var l=f(i);var s=e("match-at");var o=f(s);var u=e("./ParseError");var c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,r,a,i){(0,n.default)(this,e);this.text=t;this.start=r;this.end=a;this.lexer=i}(0,l.default)(e,[{key:"range",value:function t(r,a){if(r.lexer!==this.lexer){return new e(a)}return new e(a,this.start,r.end,this.lexer)}}]);return e}();var v=new RegExp("([ \r\n\t]+)|"+"([!-\\[\\]-\u2027\u202a-\ud7ff\uf900-\uffff]"+"|[\ud800-\udbff][\udc00-\udfff]"+"|\\\\(?:[a-zA-Z]+|[^\ud800-\udfff])"+")");var d=function(){function e(t){(0,n.default)(this,e);this.input=t;this.pos=0}(0,l.default)(e,[{key:"lex",value:function e(){var t=this.input;var r=this.pos;if(r===t.length){return new h("EOF",r,r,this)}var a=(0,o.default)(v,t,r);if(a===null){throw new c.default("Unexpected character: '"+t[r]+"'",new h(t[r],r,r+1,this))}var n=a[2]||" ";var i=this.pos;this.pos+=a[0].length;var l=this.pos;return new h(n,i,l,this)}}]);return e}();t.exports=d},{"./ParseError":29,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5,"match-at":24}],27:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=p(a);var i=e("babel-runtime/helpers/createClass");var l=p(i);var s=e("./Lexer");var o=p(s);var u=e("./macros");var c=p(u);var f=e("./ParseError");var h=p(f);var v=e("object-assign");var d=p(v);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(){function e(t,r){(0,n.default)(this,e);this.lexer=new o.default(t);this.macros=(0,d.default)({},c.default,r);this.stack=[];this.discardedWhiteSpace=[]}(0,l.default)(e,[{key:"nextToken",value:function e(){for(;;){if(this.stack.length===0){this.stack.push(this.lexer.lex())}var t=this.stack.pop();var r=t.text;if(!(r.charAt(0)==="\\"&&this.macros.hasOwnProperty(r))){return t}var a=void 0;var n=this.macros[r];if(typeof n==="string"){var i=0;if(n.indexOf("#")!==-1){var l=n.replace(/##/g,"");while(l.indexOf("#"+(i+1))!==-1){++i}}var s=new o.default(n);n=[];a=s.lex();while(a.text!=="EOF"){n.push(a);a=s.lex()}n.reverse();n.numArgs=i;this.macros[r]=n}if(n.numArgs){var u=[];var c=void 0;for(c=0;c<n.numArgs;++c){var f=this.get(true);if(f.text==="{"){var v=[];var d=1;while(d!==0){a=this.get(false);v.push(a);if(a.text==="{"){++d}else if(a.text==="}"){--d}else if(a.text==="EOF"){throw new h.default("End of input in macro argument",f)}}v.pop();v.reverse();u[c]=v}else if(f.text==="EOF"){throw new h.default("End of input expecting macro argument",t)}else{u[c]=[f]}}n=n.slice();for(c=n.length-1;c>=0;--c){a=n[c];if(a.text==="#"){if(c===0){throw new h.default("Incomplete placeholder at end of macro body",a)}a=n[--c];if(a.text==="#"){n.splice(c+1,1)}else if(/^[1-9]$/.test(a.text)){n.splice.apply(n,[c,2].concat(u[a.text-1]))}else{throw new h.default("Not a valid argument number",a)}}}}this.stack=this.stack.concat(n)}}},{key:"get",value:function e(t){this.discardedWhiteSpace=[];var r=this.nextToken();if(t){while(r.text===" "){this.discardedWhiteSpace.push(r);r=this.nextToken()}}return r}},{key:"unget",value:function e(t){this.stack.push(t);while(this.discardedWhiteSpace.length!==0){this.stack.push(this.discardedWhiteSpace.pop())}}}]);return e}();t.exports=m},{"./Lexer":26,"./ParseError":29,"./macros":44,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5,"object-assign":25}],28:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=u(a);var i=e("babel-runtime/helpers/createClass");var l=u(i);var s=e("./fontMetrics");var o=u(s);function u(e){return e&&e.__esModule?e:{default:e}}var c=6;var f=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]];var h=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488];var v=function e(t,r){return r.size<2?t:f[t-1][r.size-1]};var d=function(){function e(t){(0,n.default)(this,e);this.style=t.style;this.color=t.color;this.size=t.size||c;this.textSize=t.textSize||this.size;this.phantom=t.phantom;this.font=t.font;this.sizeMultiplier=h[this.size-1];this._fontMetrics=null}(0,l.default)(e,[{key:"extend",value:function t(r){var a={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font};for(var n in r){if(r.hasOwnProperty(n)){a[n]=r[n]}}return new e(a)}},{key:"havingStyle",value:function e(t){if(this.style===t){return this}else{return this.extend({style:t,size:v(this.textSize,t)})}}},{key:"havingCrampedStyle",value:function e(){return this.havingStyle(this.style.cramp())}},{key:"havingSize",value:function e(t){if(this.size===t&&this.textSize===t){return this}else{return this.extend({style:this.style.text(),size:t,textSize:t})}}},{key:"havingBaseStyle",value:function e(t){t=t||this.style.text();var r=v(c,t);if(this.size===r&&this.textSize===c&&this.style===t){return this}else{return this.extend({style:t,size:r,baseSize:c})}}},{key:"withColor",value:function e(t){return this.extend({color:t})}},{key:"withPhantom",value:function e(){return this.extend({phantom:true})}},{key:"withFont",value:function e(t){return this.extend({font:t||this.font})}},{key:"sizingClasses",value:function e(t){if(t.size!==this.size){return["sizing","reset-size"+t.size,"size"+this.size]}else{return[]}}},{key:"baseSizingClasses",value:function e(){if(this.size!==c){return["sizing","reset-size"+this.size,"size"+c]}else{return[]}}},{key:"fontMetrics",value:function e(){if(!this._fontMetrics){this._fontMetrics=o.default.getFontMetrics(this.size)}return this._fontMetrics}},{key:"getColor",value:function t(){if(this.phantom){return"transparent"}else{return e.colorMap[this.color]||this.color}}}]);return e}();d.colorMap={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#ccfaff","katex-blueB":"#80f6ff","katex-blueC":"#63d9ea","katex-blueD":"#11accd","katex-blueE":"#0c7f99","katex-tealA":"#94fff5","katex-tealB":"#26edd5","katex-tealC":"#01d1c1","katex-tealD":"#01a995","katex-tealE":"#208170","katex-greenA":"#b6ffb0","katex-greenB":"#8af281","katex-greenC":"#74cf70","katex-greenD":"#1fab54","katex-greenE":"#0d923f","katex-goldA":"#ffd0a9","katex-goldB":"#ffbb71","katex-goldC":"#ff9c39","katex-goldD":"#e07d10","katex-goldE":"#a75a05","katex-redA":"#fca9a9","katex-redB":"#ff8482","katex-redC":"#f9685d","katex-redD":"#e84d39","katex-redE":"#bc2612","katex-maroonA":"#ffbde0","katex-maroonB":"#ff92c6","katex-maroonC":"#ed5fa6","katex-maroonD":"#ca337c","katex-maroonE":"#9e034e","katex-purpleA":"#ddd7ff","katex-purpleB":"#c6b9fc","katex-purpleC":"#aa87ff","katex-purpleD":"#7854ab","katex-purpleE":"#543b78","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#f6f7f7","katex-grayB":"#f0f1f2","katex-grayC":"#e3e5e6","katex-grayD":"#d6d8da","katex-grayE":"#babec2","katex-grayF":"#888d93","katex-grayG":"#626569","katex-grayH":"#3b3e40","katex-grayI":"#21242c","katex-kaBlue":"#314453","katex-kaGreen":"#71B307"};d.BASESIZE=c;t.exports=d},{"./fontMetrics":41,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],29:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,r){(0,n.default)(this,e);var a="KaTeX parse error: "+t;var i=void 0;var l=void 0;if(r&&r.lexer&&r.start<=r.end){var s=r.lexer.input;i=r.start;l=r.end;if(i===s.length){a+=" at end of input: "}else{a+=" at position "+(i+1)+": "}var o=s.slice(i,l).replace(/[^]/g,"$&\u0332");var u=void 0;if(i>15){u="\u2026"+s.slice(i-15,i)}else{u=s.slice(0,i)}var c=void 0;if(l+15<s.length){c=s.slice(l,l+15)+"\u2026"}else{c=s.slice(l)}a+=u+o+c}var f=new Error(a);f.name="ParseError";f.__proto__=e.prototype;f.position=i;return f};l.prototype.__proto__=Error.prototype;t.exports=l},{"babel-runtime/helpers/classCallCheck":4}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var a=e("babel-runtime/helpers/classCallCheck");var n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,r,a,i,l){(0,n.default)(this,e);this.type=t;this.value=r;this.mode=a;if(i&&(!l||l.lexer===i.lexer)){this.lexer=i.lexer;this.start=i.start;this.end=(l||i).end}};r.default=l},{"babel-runtime/helpers/classCallCheck":4}],31:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=z(a);var i=e("babel-runtime/helpers/createClass");var l=z(i);var s=e("./functions");var o=z(s);var u=e("./environments");var c=z(u);var f=e("./MacroExpander");var h=z(f);var v=e("./symbols");var d=z(v);var p=e("./utils");var m=z(p);var g=e("./units");var y=z(g);var x=e("./unicodeRegexes");var w=e("./ParseNode");var b=z(w);var k=e("./ParseError");var M=z(k);function z(e){return e&&e.__esModule?e:{default:e}}function S(e,t,r){this.result=e;this.isFunction=t;this.token=r}var A=function(){function e(t,r){(0,n.default)(this,e);this.gullet=new h.default(t,r.macros);if(r.colorIsTextColor){this.gullet.macros["\\color"]="\\textcolor"}this.settings=r;this.leftrightDepth=0}(0,l.default)(e,[{key:"expect",value:function e(t,r){if(this.nextToken.text!==t){throw new M.default("Expected '"+t+"', got '"+this.nextToken.text+"'",this.nextToken)}if(r!==false){this.consume()}}},{key:"consume",value:function e(){this.nextToken=this.gullet.get(this.mode==="math")}},{key:"switchMode",value:function e(t){this.gullet.unget(this.nextToken);this.mode=t;this.consume()}},{key:"parse",value:function e(){this.mode="math";this.consume();var e=this.parseInput();return e}},{key:"parseInput",value:function e(){var t=this.parseExpression(false);this.expect("EOF",false);return t}},{key:"parseExpression",value:function t(r,a){var n=[];while(true){var i=this.nextToken;if(e.endOfExpression.indexOf(i.text)!==-1){break}if(a&&i.text===a){break}if(r&&o.default[i.text]&&o.default[i.text].infix){break}var l=this.parseAtom();if(!l){if(!this.settings.throwOnError&&i.text[0]==="\\"){var s=this.handleUnsupportedCmd();n.push(s);continue}break}n.push(l)}return this.handleInfixNodes(n)}},{key:"handleInfixNodes",value:function e(t){var r=-1;var a=void 0;for(var n=0;n<t.length;n++){var i=t[n];if(i.type==="infix"){if(r!==-1){throw new M.default("only one infix operator per group",i.value.token)}r=n;a=i.value.replaceWith}}if(r!==-1){var l=void 0;var s=void 0;var o=t.slice(0,r);var u=t.slice(r+1);if(o.length===1&&o[0].type==="ordgroup"){l=o[0]}else{l=new b.default("ordgroup",o,this.mode)}if(u.length===1&&u[0].type==="ordgroup"){s=u[0]}else{s=new b.default("ordgroup",u,this.mode)}var c=this.callFunction(a,[l,s],null);return[new b.default(c.type,c,this.mode)]}else{return t}}},{key:"handleSupSubscript",value:function t(r){var a=this.nextToken;var n=a.text;this.consume();var i=this.parseGroup();if(!i){if(!this.settings.throwOnError&&this.nextToken.text[0]==="\\"){return this.handleUnsupportedCmd()}else{throw new M.default("Expected group after '"+n+"'",a)}}else if(i.isFunction){var l=o.default[i.result].greediness;if(l>e.SUPSUB_GREEDINESS){return this.parseFunction(i)}else{throw new M.default("Got function '"+i.result+"' with no arguments "+"as "+r,a)}}else{return i.result}}},{key:"handleUnsupportedCmd",value:function e(){var t=this.nextToken.text;var r=[];for(var a=0;a<t.length;a++){r.push(new b.default("textord",t[a],"text"))}var n=new b.default("text",{body:r,type:"text"},this.mode);var i=new b.default("color",{color:this.settings.errorColor,value:[n],type:"color"},this.mode);this.consume();return i}},{key:"parseAtom",value:function e(){var t=this.parseImplicitGroup();if(this.mode==="text"){return t}var r=void 0;var a=void 0;while(true){var n=this.nextToken;if(n.text==="\\limits"||n.text==="\\nolimits"){if(!t||t.type!=="op"){throw new M.default("Limit controls must follow a math operator",n)}else{var i=n.text==="\\limits";t.value.limits=i;t.value.alwaysHandleSupSub=true}this.consume()}else if(n.text==="^"){if(r){throw new M.default("Double superscript",n)}r=this.handleSupSubscript("superscript")}else if(n.text==="_"){if(a){throw new M.default("Double subscript",n)}a=this.handleSupSubscript("subscript")}else if(n.text==="'"){if(r){throw new M.default("Double superscript",n)}var l=new b.default("textord","\\prime",this.mode);var s=[l];this.consume();while(this.nextToken.text==="'"){s.push(l);this.consume()}if(this.nextToken.text==="^"){s.push(this.handleSupSubscript("superscript"))}r=new b.default("ordgroup",s,this.mode)}else{break}}if(r||a){return new b.default("supsub",{base:t,sup:r,sub:a},this.mode)}else{return t}}},{key:"parseImplicitGroup",value:function t(){var r=this.parseSymbol();if(r==null){return this.parseFunction()}var a=r.result;if(a==="\\left"){var n=this.parseFunction(r);++this.leftrightDepth;var i=this.parseExpression(false);--this.leftrightDepth;this.expect("\\right",false);var l=this.parseFunction();return new b.default("leftright",{body:i,left:n.value.value,right:l.value.value},this.mode)}else if(a==="\\begin"){var s=this.parseFunction(r);var o=s.value.name;if(!c.default.hasOwnProperty(o)){throw new M.default("No such environment: "+o,s.value.nameGroup)}var u=c.default[o];var f=this.parseArguments("\\begin{"+o+"}",u);var h={mode:this.mode,envName:o,parser:this,positions:f.pop()};var v=u.handler(h,f);this.expect("\\end",false);var d=this.nextToken;var p=this.parseFunction();if(p.value.name!==o){throw new M.default("Mismatch: \\begin{"+o+"} matched "+"by \\end{"+p.value.name+"}",d)}v.position=p.position;return v}else if(m.default.contains(e.sizeFuncs,a)){this.consumeSpaces();var g=this.parseExpression(false);return new b.default("sizing",{size:m.default.indexOf(e.sizeFuncs,a)+1,value:g},this.mode)}else if(m.default.contains(e.styleFuncs,a)){this.consumeSpaces();var y=this.parseExpression(true);return new b.default("styling",{style:a.slice(1,a.length-5),value:y},this.mode)}else if(a in e.oldFontFuncs){var x=e.oldFontFuncs[a];this.consumeSpaces();var w=this.parseExpression(true);if(x.slice(0,4)==="text"){return new b.default("text",{style:x,body:new b.default("ordgroup",w,this.mode)},this.mode)}else{return new b.default("font",{font:x,body:new b.default("ordgroup",w,this.mode)},this.mode)}}else if(a==="\\color"){var k=this.parseColorGroup(false);if(!k){throw new M.default("\\color not followed by color")}var z=this.parseExpression(true);return new b.default("color",{type:"color",color:k.result.value,value:z},this.mode)}else if(a==="$"){if(this.mode==="math"){throw new M.default("$ within math mode")}this.consume();var S=this.mode;this.switchMode("math");var A=this.parseExpression(false,"$");this.expect("$",true);this.switchMode(S);return new b.default("styling",{style:"text",value:A},"math")}else{return this.parseFunction(r)}}},{key:"parseFunction",value:function e(t){if(!t){t=this.parseGroup()}if(t){if(t.isFunction){var r=t.result;var a=o.default[r];if(this.mode==="text"&&!a.allowedInText){throw new M.default("Can't use function '"+r+"' in text mode",t.token)}else if(this.mode==="math"&&a.allowedInMath===false){throw new M.default("Can't use function '"+r+"' in math mode",t.token)}var n=this.parseArguments(r,a);var i=t.token;var l=this.callFunction(r,n,n.pop(),i);return new b.default(l.type,l,this.mode)}else{return t.result}}else{return null}}},{key:"callFunction",value:function e(t,r,a,n){var i={funcName:t,parser:this,positions:a,token:n};return o.default[t].handler(i,r)}},{key:"parseArguments",value:function e(t,r){var a=r.numArgs+r.numOptionalArgs;if(a===0){return[[this.pos]]}var n=r.greediness;var i=[this.pos];var l=[];for(var s=0;s<a;s++){var u=this.nextToken;var c=r.argTypes&&r.argTypes[s];var f=void 0;if(s<r.numOptionalArgs){if(c){f=this.parseGroupOfType(c,true)}else{f=this.parseGroup(true)}if(!f){l.push(null);i.push(this.pos);continue}}else{if(c){f=this.parseGroupOfType(c)}else{f=this.parseGroup()}if(!f){if(!this.settings.throwOnError&&this.nextToken.text[0]==="\\"){f=new S(this.handleUnsupportedCmd(this.nextToken.text),false)}else{throw new M.default("Expected group after '"+t+"'",u)}}}var h=void 0;if(f.isFunction){var v=o.default[f.result].greediness;if(v>n){h=this.parseFunction(f)}else{throw new M.default("Got function '"+f.result+"' as "+"argument to '"+t+"'",u)}}else{h=f.result}l.push(h);i.push(this.pos)}l.push(i);return l}},{key:"parseGroupOfType",value:function e(t,r){var a=this.mode;if(t==="original"){t=a}if(t==="color"){return this.parseColorGroup(r)}if(t==="size"){return this.parseSizeGroup(r)}this.switchMode(t);if(t==="text"){this.consumeSpaces()}var n=this.parseGroup(r);this.switchMode(a);return n}},{key:"consumeSpaces",value:function e(){while(this.nextToken.text===" "){this.consume()}}},{key:"parseStringGroup",value:function e(t,r){if(r&&this.nextToken.text!=="["){return null}var a=this.mode;this.mode="text";this.expect(r?"[":"{");var n="";var i=this.nextToken;var l=i;while(this.nextToken.text!==(r?"]":"}")){if(this.nextToken.text==="EOF"){throw new M.default("Unexpected end of input in "+t,i.range(this.nextToken,n))}l=this.nextToken;n+=l.text;this.consume()}this.mode=a;this.expect(r?"]":"}");return i.range(l,n)}},{key:"parseRegexGroup",value:function e(t,r){var a=this.mode;this.mode="text";var n=this.nextToken;var i=n;var l="";while(this.nextToken.text!=="EOF"&&t.test(l+this.nextToken.text)){i=this.nextToken;l+=i.text;this.consume()}if(l===""){throw new M.default("Invalid "+r+": '"+n.text+"'",n)}this.mode=a;return n.range(i,l)}},{key:"parseColorGroup",value:function e(t){var r=this.parseStringGroup("color",t);if(!r){return null}var a=/^(#[a-z0-9]+|[a-z]+)$/i.exec(r.text);if(!a){throw new M.default("Invalid color: '"+r.text+"'",r)}return new S(new b.default("color",a[0],this.mode),false)}},{key:"parseSizeGroup",value:function e(t){var r=void 0;if(!t&&this.nextToken.text!=="{"){r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")}else{r=this.parseStringGroup("size",t)}if(!r){return null}var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!a){throw new M.default("Invalid size: '"+r.text+"'",r)}var n={number:+(a[1]+a[2]),unit:a[3]};if(!y.default.validUnit(n)){throw new M.default("Invalid unit: '"+n.unit+"'",r)}return new S(new b.default("size",n,this.mode),false)}},{key:"parseGroup",value:function e(t){var r=this.nextToken;if(this.nextToken.text===(t?"[":"{")){this.consume();var a=this.parseExpression(false,t?"]":null);var n=this.nextToken;this.expect(t?"]":"}");if(this.mode==="text"){this.formLigatures(a)}return new S(new b.default("ordgroup",a,this.mode,r,n),false)}else{return t?null:this.parseSymbol()}}},{key:"formLigatures",value:function e(t){var r=t.length-1;for(var a=0;a<r;++a){var n=t[a];var i=n.value;if(i==="-"&&t[a+1].value==="-"){if(a+1<r&&t[a+2].value==="-"){t.splice(a,3,new b.default("textord","---","text",n,t[a+2]));r-=2}else{t.splice(a,2,new b.default("textord","--","text",n,t[a+1]));r-=1}}if((i==="'"||i==="`")&&t[a+1].value===i){t.splice(a,2,new b.default("textord",i+i,"text",n,t[a+1]));r-=1}}}},{key:"parseSymbol",value:function e(){var t=this.nextToken;if(o.default[t.text]){this.consume();return new S(t.text,true,t)}else if(d.default[this.mode][t.text]){this.consume();return new S(new b.default(d.default[this.mode][t.text].group,t.text,this.mode,t),false,t)}else if(this.mode==="text"&&x.cjkRegex.test(t.text)){this.consume();return new S(new b.default("textord",t.text,this.mode,t),false,t)}else if(t.text==="$"){return new S(t.text,false,t)}else{return null}}}]);return e}();A.endOfExpression=["}","\\end","\\right","&","\\\\","\\cr"];A.SUPSUB_GREEDINESS=1;A.sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];A.styleFuncs=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];A.oldFontFuncs={"\\rm":"mathrm","\\sf":"mathsf","\\tt":"mathtt","\\bf":"mathbf","\\it":"mathit"};A.prototype.ParseNode=b.default;t.exports=A},{"./MacroExpander":27,"./ParseError":29,"./ParseNode":30,"./environments":40,"./functions":43,"./symbols":48,"./unicodeRegexes":49,"./units":50,"./utils":51,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],32:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=s(a);var i=e("./utils");var l=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){(0,n.default)(this,e);t=t||{};this.displayMode=l.default.deflt(t.displayMode,false);this.throwOnError=l.default.deflt(t.throwOnError,true);this.errorColor=l.default.deflt(t.errorColor,"#cc0000");this.macros=t.macros||{};this.colorIsTextColor=l.default.deflt(t.colorIsTextColor,false)};t.exports=o},{"./utils":51,"babel-runtime/helpers/classCallCheck":4}],33:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=s(a);var i=e("babel-runtime/helpers/createClass");var l=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,a){(0,n.default)(this,e);this.id=t;this.size=r;this.cramped=a}(0,l.default)(e,[{key:"sup",value:function e(){return g[y[this.id]]}},{key:"sub",value:function e(){return g[x[this.id]]}},{key:"fracNum",value:function e(){return g[w[this.id]]}},{key:"fracDen",value:function e(){return g[b[this.id]]}},{key:"cramp",value:function e(){return g[k[this.id]]}},{key:"text",value:function e(){return g[M[this.id]]}},{key:"isTight",value:function e(){return this.size>=2}}]);return e}();var u=0;var c=1;var f=2;var h=3;var v=4;var d=5;var p=6;var m=7;var g=[new o(u,0,false),new o(c,0,true),new o(f,1,false),new o(h,1,true),new o(v,2,false),new o(d,2,true),new o(p,3,false),new o(m,3,true)];var y=[v,d,v,d,p,m,p,m];var x=[d,d,d,d,m,m,m,m];var w=[f,h,v,d,p,m,p,m];var b=[h,h,d,d,m,m,m,m];var k=[c,c,h,h,d,d,m,m];var M=[u,c,f,h,f,h,f,h];t.exports={DISPLAY:g[u],TEXT:g[f],SCRIPT:g[v],SCRIPTSCRIPT:g[p]}},{"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],34:[function(e,t,r){"use strict";var a=e("./domTree");var n=f(a);var i=e("./fontMetrics");var l=f(i);var s=e("./symbols");var o=f(s);var u=e("./utils");var c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var h=["\\imath","\\jmath","\\pounds"];var v=function e(t,r,a){if(o.default[a][t]&&o.default[a][t].replace){t=o.default[a][t].replace}return{value:t,metrics:l.default.getCharacterMetrics(t,r)}};var d=function e(t,r,a,i,l){var s=v(t,r,a);var o=s.metrics;t=s.value;var u=void 0;if(o){var c=o.italic;if(a==="text"){c=0}u=new n.default.symbolNode(t,o.height,o.depth,c,o.skew,l)}else{typeof console!=="undefined"&&console.warn("No character metrics for '"+t+"' in style '"+r+"'");u=new n.default.symbolNode(t,0,0,0,0,l)}if(i){u.maxFontSize=i.sizeMultiplier;if(i.style.isTight()){u.classes.push("mtight")}if(i.getColor()){u.style.color=i.getColor()}}return u};var p=function e(t,r,a,n){if(t==="\\"||o.default[r][t].font==="main"){return d(t,"Main-Regular",r,a,n)}else{return d(t,"AMS-Regular",r,a,n.concat(["amsrm"]))}};var m=function e(t,r,a,n,i){if(i==="mathord"){var l=g(t,r,a,n);return d(t,l.fontName,r,a,n.concat([l.fontClass]))}else if(i==="textord"){var s=o.default[r][t]&&o.default[r][t].font;if(s==="ams"){return d(t,"AMS-Regular",r,a,n.concat(["amsrm"]))}else{return d(t,"Main-Regular",r,a,n.concat(["mathrm"]))}}else{throw new Error("unexpected type: "+i+" in mathDefault")}};var g=function e(t,r,a,n){if(/[0-9]/.test(t.charAt(0))||c.default.contains(h,t)){
+return{fontName:"Main-Italic",fontClass:"mainit"}}else{return{fontName:"Math-Italic",fontClass:"mathit"}}};var y=function e(t,r,a){var n=t.mode;var i=t.value;var l=["mord"];var s=r.font;if(s){var o=void 0;if(s==="mathit"||c.default.contains(h,i)){o=g(i,n,r,l)}else{o=S[s]}if(v(i,o.fontName,n).metrics){return d(i,o.fontName,n,r,l.concat([o.fontClass||s]))}else{return m(i,n,r,l,a)}}else{return m(i,n,r,l,a)}};var x=function e(t){var r=0;var a=0;var n=0;if(t.children){for(var i=0;i<t.children.length;i++){if(t.children[i].height>r){r=t.children[i].height}if(t.children[i].depth>a){a=t.children[i].depth}if(t.children[i].maxFontSize>n){n=t.children[i].maxFontSize}}}t.height=r;t.depth=a;t.maxFontSize=n};var w=function e(t,r,a){var i=new n.default.span(t,r,a);x(i);return i};var b=function e(t,r){t.children=r.concat(t.children);x(t)};var k=function e(t){var r=new n.default.documentFragment(t);x(r);return r};var M=function e(t,r,a,i){var l=void 0;var s=void 0;var o=void 0;if(r==="individualShift"){var u=t;t=[u[0]];l=-u[0].shift-u[0].elem.depth;s=l;for(o=1;o<u.length;o++){var c=-u[o].shift-s-u[o].elem.depth;var f=c-(u[o-1].elem.height+u[o-1].elem.depth);s=s+c;t.push({type:"kern",size:f});t.push(u[o])}}else if(r==="top"){var h=a;for(o=0;o<t.length;o++){if(t[o].type==="kern"){h-=t[o].size}else{h-=t[o].elem.height+t[o].elem.depth}}l=h}else if(r==="bottom"){l=-a}else if(r==="shift"){l=-t[0].elem.depth-a}else if(r==="firstBaseline"){l=-t[0].elem.depth}else{l=0}var v=0;for(o=0;o<t.length;o++){if(t[o].type==="elem"){var d=t[o].elem;v=Math.max(v,d.maxFontSize,d.height)}}v+=2;var p=w(["pstrut"],[]);p.style.height=v+"em";var m=[];var g=l;var y=l;s=l;for(o=0;o<t.length;o++){if(t[o].type==="kern"){s+=t[o].size}else{var x=t[o].elem;var b=w([],[p,x]);b.style.top=-v-s-x.depth+"em";if(t[o].marginLeft){b.style.marginLeft=t[o].marginLeft}if(t[o].marginRight){b.style.marginRight=t[o].marginRight}m.push(b);s+=x.height+x.depth}g=Math.min(g,s);y=Math.max(y,s)}var k=w(["vlist"],m);k.style.height=y+"em";var M=void 0;if(g<0){var z=w(["vlist"],[]);z.style.height=-g+"em";var S=w(["vlist-s"],[new n.default.symbolNode("\u200b")]);M=[w(["vlist-r"],[k,S]),w(["vlist-r"],[z])]}else{M=[w(["vlist-r"],[k])]}var A=w(["vlist-t"],M);if(M.length===2){A.classes.push("vlist-t2")}A.height=y;A.depth=-g;return A};var z={"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}};var S={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};t.exports={fontMap:S,makeSymbol:d,mathsym:p,makeSpan:w,makeFragment:k,makeVList:M,makeOrd:y,prependChildren:b,spacingFunctions:z}},{"./domTree":39,"./fontMetrics":41,"./symbols":48,"./utils":51}],35:[function(e,t,r){"use strict";var a=e("babel-runtime/core-js/json/stringify");var n=b(a);var i=e("./ParseError");var l=b(i);var s=e("./Style");var o=b(s);var u=e("./buildCommon");var c=b(u);var f=e("./delimiter");var h=b(f);var v=e("./domTree");var d=b(v);var p=e("./units");var m=b(p);var g=e("./utils");var y=b(g);var x=e("./stretchy");var w=b(x);function b(e){return e&&e.__esModule?e:{default:e}}var k=function e(t){return t instanceof d.default.span&&t.classes[0]==="mspace"};var M=function e(t){return t&&t.classes[0]==="mbin"};var z=function e(t,r){if(t){return y.default.contains(["mbin","mopen","mrel","mop","mpunct"],t.classes[0])}else{return r}};var S=function e(t,r){if(t){return y.default.contains(["mrel","mclose","mpunct"],t.classes[0])}else{return r}};var A=function e(t,r){var a=r;while(a<t.length&&k(t[a])){a++}if(a===r){return null}else{return t.splice(r,a-r)}};var C=function e(t,r,a){var n=[];for(var i=0;i<t.length;i++){var l=t[i];var s=L(l,r);if(s instanceof d.default.documentFragment){Array.prototype.push.apply(n,s.children)}else{n.push(s)}}for(var o=0;o<n.length;o++){var f=A(n,o);if(f){if(o<n.length){if(n[o]instanceof d.default.symbolNode){n[o]=(0,u.makeSpan)([].concat(n[o].classes),[n[o]])}c.default.prependChildren(n[o],f)}else{Array.prototype.push.apply(n,f);break}}}for(var h=0;h<n.length;h++){if(M(n[h])&&(z(n[h-1],a)||S(n[h+1],a))){n[h].classes[0]="mord"}}for(var v=0;v<n.length;v++){if(n[v].value==="\u0338"&&v+1<n.length){var p=n.slice(v,v+2);p[0].classes=["mainrm"];p[0].style.position="absolute";p[0].style.right="0";var m=n[v+1].classes;var g=(0,u.makeSpan)(m,p);if(m.indexOf("mord")!==-1){g.style.paddingLeft="0.277771em"}g.style.position="relative";n.splice(v,2,g)}}return n};var T=function e(t){if(t instanceof d.default.documentFragment){if(t.children.length){return e(t.children[t.children.length-1])}}else{if(y.default.contains(["mord","mop","mbin","mrel","mopen","mclose","mpunct","minner"],t.classes[0])){return t.classes[0]}}return null};var N=function e(t,r){if(!t.value.base){return false}else{var a=t.value.base;if(a.type==="op"){return a.value.limits&&(r.style.size===o.default.DISPLAY.size||a.value.alwaysHandleSupSub)}else if(a.type==="accent"){return q(a.value.base)}else if(a.type==="horizBrace"){var n=t.value.sub?false:true;return n===a.value.isOver}else{return null}}};var R=function e(t){if(!t){return false}else if(t.type==="ordgroup"){if(t.value.length===1){return e(t.value[0])}else{return t}}else if(t.type==="color"){if(t.value.value.length===1){return e(t.value.value[0])}else{return t}}else if(t.type==="font"){return e(t.value.body)}else{return t}};var q=function e(t){var r=R(t);return r.type==="mathord"||r.type==="textord"||r.type==="bin"||r.type==="rel"||r.type==="inner"||r.type==="open"||r.type==="close"||r.type==="punct"};var _=function e(t,r){var a=["nulldelimiter"].concat(t.baseSizingClasses());return(0,u.makeSpan)(r.concat(a))};var E={};E.mathord=function(e,t){return c.default.makeOrd(e,t,"mathord")};E.textord=function(e,t){return c.default.makeOrd(e,t,"textord")};E.bin=function(e,t){return c.default.mathsym(e.value,e.mode,t,["mbin"])};E.rel=function(e,t){return c.default.mathsym(e.value,e.mode,t,["mrel"])};E.open=function(e,t){return c.default.mathsym(e.value,e.mode,t,["mopen"])};E.close=function(e,t){return c.default.mathsym(e.value,e.mode,t,["mclose"])};E.inner=function(e,t){return c.default.mathsym(e.value,e.mode,t,["minner"])};E.punct=function(e,t){return c.default.mathsym(e.value,e.mode,t,["mpunct"])};E.ordgroup=function(e,t){return(0,u.makeSpan)(["mord"],C(e.value,t,true),t)};E.text=function(e,t){var r=t.withFont(e.value.style);var a=C(e.value.body,r,true);for(var n=0;n<a.length-1;n++){if(a[n].tryCombine(a[n+1])){a.splice(n+1,1);n--}}return(0,u.makeSpan)(["mord","text"],a,r)};E.color=function(e,t){var r=C(e.value.value,t.withColor(e.value.color),false);return new c.default.makeFragment(r)};E.supsub=function(e,t){if(N(e,t)){return E[e.value.base.type](e,t)}var r=L(e.value.base,t);var a=void 0;var n=void 0;var i=t.fontMetrics();var l=void 0;var s=0;var f=0;if(e.value.sup){l=t.havingStyle(t.style.sup());a=L(e.value.sup,l,t);if(!q(e.value.base)){s=r.height-l.fontMetrics().supDrop*l.sizeMultiplier/t.sizeMultiplier}}if(e.value.sub){l=t.havingStyle(t.style.sub());n=L(e.value.sub,l,t);if(!q(e.value.base)){f=r.depth+l.fontMetrics().subDrop*l.sizeMultiplier/t.sizeMultiplier}}var h=void 0;if(t.style===o.default.DISPLAY){h=i.sup1}else if(t.style.cramped){h=i.sup3}else{h=i.sup2}var v=t.sizeMultiplier;var p=.5/i.ptPerEm/v+"em";var m=void 0;if(!e.value.sup){f=Math.max(f,i.sub1,n.height-.8*i.xHeight);var g=[{type:"elem",elem:n,marginRight:p}];if(r instanceof d.default.symbolNode){g[0].marginLeft=-r.italic+"em"}m=c.default.makeVList(g,"shift",f,t)}else if(!e.value.sub){s=Math.max(s,h,a.depth+.25*i.xHeight);m=c.default.makeVList([{type:"elem",elem:a,marginRight:p}],"shift",-s,t)}else{s=Math.max(s,h,a.depth+.25*i.xHeight);f=Math.max(f,i.sub2);var y=i.defaultRuleThickness;if(s-a.depth-(n.height-f)<4*y){f=4*y-(s-a.depth)+n.height;var x=.8*i.xHeight-(s-a.depth);if(x>0){s+=x;f-=x}}var w=[{type:"elem",elem:n,shift:f,marginRight:p},{type:"elem",elem:a,shift:-s,marginRight:p}];if(r instanceof d.default.symbolNode){w[0].marginLeft=-r.italic+"em"}m=c.default.makeVList(w,"individualShift",null,t)}var b=T(r)||"mord";return(0,u.makeSpan)([b],[r,(0,u.makeSpan)(["msupsub"],[m])],t)};E.genfrac=function(e,t){var r=t.style;if(e.value.size==="display"){r=o.default.DISPLAY}else if(e.value.size==="text"){r=o.default.TEXT}var a=r.fracNum();var n=r.fracDen();var i=void 0;i=t.havingStyle(a);var l=L(e.value.numer,i,t);i=t.havingStyle(n);var s=L(e.value.denom,i,t);var f=void 0;var v=void 0;var d=void 0;if(e.value.hasBarLine){f=B("frac-line",t);v=f.height;d=f.height}else{f=null;v=0;d=t.fontMetrics().defaultRuleThickness}var p=void 0;var m=void 0;var g=void 0;if(r.size===o.default.DISPLAY.size){p=t.fontMetrics().num1;if(v>0){m=3*d}else{m=7*d}g=t.fontMetrics().denom1}else{if(v>0){p=t.fontMetrics().num2;m=d}else{p=t.fontMetrics().num3;m=3*d}g=t.fontMetrics().denom2}var y=void 0;if(v===0){var x=p-l.depth-(s.height-g);if(x<m){p+=.5*(m-x);g+=.5*(m-x)}y=c.default.makeVList([{type:"elem",elem:s,shift:g},{type:"elem",elem:l,shift:-p}],"individualShift",null,t)}else{var w=t.fontMetrics().axisHeight;if(p-l.depth-(w+.5*v)<m){p+=m-(p-l.depth-(w+.5*v))}if(w-.5*v-(s.height-g)<m){g+=m-(w-.5*v-(s.height-g))}var b=-(w-.5*v);y=c.default.makeVList([{type:"elem",elem:s,shift:g},{type:"elem",elem:f,shift:b},{type:"elem",elem:l,shift:-p}],"individualShift",null,t)}i=t.havingStyle(r);y.height*=i.sizeMultiplier/t.sizeMultiplier;y.depth*=i.sizeMultiplier/t.sizeMultiplier;var k=void 0;if(r.size===o.default.DISPLAY.size){k=t.fontMetrics().delim1}else{k=t.fontMetrics().delim2}var M=void 0;var z=void 0;if(e.value.leftDelim==null){M=_(t,["mopen"])}else{M=h.default.customSizedDelim(e.value.leftDelim,k,true,t.havingStyle(r),e.mode,["mopen"])}if(e.value.rightDelim==null){z=_(t,["mclose"])}else{z=h.default.customSizedDelim(e.value.rightDelim,k,true,t.havingStyle(r),e.mode,["mclose"])}return(0,u.makeSpan)(["mord"].concat(i.sizingClasses(t)),[M,(0,u.makeSpan)(["mfrac"],[y]),z],t)};E.array=function(e,t){var r=void 0;var a=void 0;var n=e.value.body.length;var i=0;var s=new Array(n);var o=1/t.fontMetrics().ptPerEm;var f=5*o;var h=12*o;var v=3*o;var d=y.default.deflt(e.value.arraystretch,1);var p=d*h;var g=.7*p;var x=.3*p;var w=0;for(r=0;r<e.value.body.length;++r){var b=e.value.body[r];var k=g;var M=x;if(i<b.length){i=b.length}var z=new Array(b.length);for(a=0;a<b.length;++a){var S=L(b[a],t);if(M<S.depth){M=S.depth}if(k<S.height){k=S.height}z[a]=S}var A=0;if(e.value.rowGaps[r]){A=m.default.calculateSize(e.value.rowGaps[r].value,t);if(A>0){A+=x;if(M<A){M=A}A=0}}if(e.value.addJot){M+=v}z.height=k;z.depth=M;w+=k;z.pos=w;w+=M+A;s[r]=z}var C=w/2+t.fontMetrics().axisHeight;var T=e.value.cols||[];var N=[];var R=void 0;var q=void 0;for(a=0,q=0;a<i||q<T.length;++a,++q){var _=T[q]||{};var E=true;while(_.type==="separator"){if(!E){R=(0,u.makeSpan)(["arraycolsep"],[]);R.style.width=t.fontMetrics().doubleRuleSep+"em";N.push(R)}if(_.separator==="|"){var B=(0,u.makeSpan)(["vertical-separator"],[]);B.style.height=w+"em";B.style.verticalAlign=-(w-C)+"em";N.push(B)}else{throw new l.default("Invalid separator type: "+_.separator)}q++;_=T[q]||{};E=false}if(a>=i){continue}var O=void 0;if(a>0||e.value.hskipBeforeAndAfter){O=y.default.deflt(_.pregap,f);if(O!==0){R=(0,u.makeSpan)(["arraycolsep"],[]);R.style.width=O+"em";N.push(R)}}var P=[];for(r=0;r<n;++r){var F=s[r];var H=F[a];if(!H){continue}var D=F.pos-C;H.depth=F.depth;H.height=F.height;P.push({type:"elem",elem:H,shift:D})}P=c.default.makeVList(P,"individualShift",null,t);P=(0,u.makeSpan)(["col-align-"+(_.align||"c")],[P]);N.push(P);if(a<i-1||e.value.hskipBeforeAndAfter){O=y.default.deflt(_.postgap,f);if(O!==0){R=(0,u.makeSpan)(["arraycolsep"],[]);R.style.width=O+"em";N.push(R)}}}s=(0,u.makeSpan)(["mtable"],N);return(0,u.makeSpan)(["mord"],[s],t)};E.spacing=function(e,t){if(e.value==="\\ "||e.value==="\\space"||e.value===" "||e.value==="~"){if(e.mode==="text"){return c.default.makeOrd(e,t,"textord")}else{return(0,u.makeSpan)(["mspace"],[c.default.mathsym(e.value,e.mode,t)],t)}}else{return(0,u.makeSpan)(["mspace",c.default.spacingFunctions[e.value].className],[],t)}};E.llap=function(e,t){var r=(0,u.makeSpan)(["inner"],[L(e.value.body,t)]);var a=(0,u.makeSpan)(["fix"],[]);return(0,u.makeSpan)(["mord","llap"],[r,a],t)};E.rlap=function(e,t){var r=(0,u.makeSpan)(["inner"],[L(e.value.body,t)]);var a=(0,u.makeSpan)(["fix"],[]);return(0,u.makeSpan)(["mord","rlap"],[r,a],t)};E.op=function(e,t){var r=void 0;var a=void 0;var n=false;if(e.type==="supsub"){r=e.value.sup;a=e.value.sub;e=e.value.base;n=true}var i=t.style;var l=["\\smallint"];var s=false;if(i.size===o.default.DISPLAY.size&&e.value.symbol&&!y.default.contains(l,e.value.body)){s=true}var f=void 0;if(e.value.symbol){var h=s?"Size2-Regular":"Size1-Regular";f=c.default.makeSymbol(e.value.body,h,"math",t,["mop","op-symbol",s?"large-op":"small-op"])}else if(e.value.value){var v=C(e.value.value,t,true);if(v.length===1&&v[0]instanceof d.default.symbolNode){f=v[0];f.classes[0]="mop"}else{f=(0,u.makeSpan)(["mop"],v,t)}}else{var p=[];for(var m=1;m<e.value.body.length;m++){p.push(c.default.mathsym(e.value.body[m],e.mode))}f=(0,u.makeSpan)(["mop"],p,t)}var g=0;var x=0;if(f instanceof d.default.symbolNode){g=(f.height-f.depth)/2-t.fontMetrics().axisHeight;x=f.italic}if(n){f=(0,u.makeSpan)([],[f]);var w=void 0;var b=void 0;var k=void 0;var M=void 0;var z=void 0;if(r){z=t.havingStyle(i.sup());w=L(r,z,t);b=Math.max(t.fontMetrics().bigOpSpacing1,t.fontMetrics().bigOpSpacing3-w.depth)}if(a){z=t.havingStyle(i.sub());k=L(a,z,t);M=Math.max(t.fontMetrics().bigOpSpacing2,t.fontMetrics().bigOpSpacing4-k.height)}var S=void 0;var A=void 0;var T=void 0;if(!r){A=f.height-g;S=c.default.makeVList([{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:k,marginLeft:-x+"em"},{type:"kern",size:M},{type:"elem",elem:f}],"top",A,t)}else if(!a){T=f.depth+g;S=c.default.makeVList([{type:"elem",elem:f},{type:"kern",size:b},{type:"elem",elem:w,marginLeft:x+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}],"bottom",T,t)}else if(!r&&!a){return f}else{T=t.fontMetrics().bigOpSpacing5+k.height+k.depth+M+f.depth+g;S=c.default.makeVList([{type:"kern",size:t.fontMetrics().bigOpSpacing5},{type:"elem",elem:k,marginLeft:-x+"em"},{type:"kern",size:M},{type:"elem",elem:f},{type:"kern",size:b},{type:"elem",elem:w,marginLeft:x+"em"},{type:"kern",size:t.fontMetrics().bigOpSpacing5}],"bottom",T,t)}return(0,u.makeSpan)(["mop","op-limits"],[S],t)}else{if(g){f.style.position="relative";f.style.top=g+"em"}return f}};E.mod=function(e,t){var r=[];if(e.value.modType==="bmod"){if(!t.style.isTight()){r.push((0,u.makeSpan)(["mspace","negativemediumspace"],[],t))}r.push((0,u.makeSpan)(["mspace","thickspace"],[],t))}else if(t.style.size===o.default.DISPLAY.size){r.push((0,u.makeSpan)(["mspace","quad"],[],t))}else if(e.value.modType==="mod"){r.push((0,u.makeSpan)(["mspace","twelvemuspace"],[],t))}else{r.push((0,u.makeSpan)(["mspace","eightmuspace"],[],t))}if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(c.default.mathsym("(",e.mode))}if(e.value.modType!=="pod"){var a=[c.default.mathsym("m",e.mode),c.default.mathsym("o",e.mode),c.default.mathsym("d",e.mode)];if(e.value.modType==="bmod"){r.push((0,u.makeSpan)(["mbin"],a,t));r.push((0,u.makeSpan)(["mspace","thickspace"],[],t));if(!t.style.isTight()){r.push((0,u.makeSpan)(["mspace","negativemediumspace"],[],t))}}else{Array.prototype.push.apply(r,a);r.push((0,u.makeSpan)(["mspace","sixmuspace"],[],t))}}if(e.value.value){Array.prototype.push.apply(r,C(e.value.value,t,false))}if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(c.default.mathsym(")",e.mode))}return c.default.makeFragment(r)};E.katex=function(e,t){var r=(0,u.makeSpan)(["k"],[c.default.mathsym("K",e.mode)],t);var a=(0,u.makeSpan)(["a"],[c.default.mathsym("A",e.mode)],t);a.height=(a.height+.2)*.75;a.depth=(a.height-.2)*.75;var n=(0,u.makeSpan)(["t"],[c.default.mathsym("T",e.mode)],t);var i=(0,u.makeSpan)(["e"],[c.default.mathsym("E",e.mode)],t);i.height=i.height-.2155;i.depth=i.depth+.2155;var l=(0,u.makeSpan)(["x"],[c.default.mathsym("X",e.mode)],t);return(0,u.makeSpan)(["mord","katex-logo"],[r,a,n,i,l],t)};var B=function e(t,r,a){var n=(0,u.makeSpan)([t],[],r);n.height=a||r.fontMetrics().defaultRuleThickness;n.style.borderBottomWidth=n.height+"em";n.maxFontSize=1;return n};E.overline=function(e,t){var r=L(e.value.body,t.havingCrampedStyle());var a=B("overline-line",t);var n=c.default.makeVList([{type:"elem",elem:r},{type:"kern",size:3*a.height},{type:"elem",elem:a},{type:"kern",size:a.height}],"firstBaseline",null,t);return(0,u.makeSpan)(["mord","overline"],[n],t)};E.underline=function(e,t){var r=L(e.value.body,t);var a=B("underline-line",t);var n=c.default.makeVList([{type:"kern",size:a.height},{type:"elem",elem:a},{type:"kern",size:3*a.height},{type:"elem",elem:r}],"top",r.height,t);return(0,u.makeSpan)(["mord","underline"],[n],t)};E.sqrt=function(e,t){var r=L(e.value.body,t.havingCrampedStyle());if(r instanceof d.default.documentFragment){r=(0,u.makeSpan)([],[r],t)}var a=t.fontMetrics();var n=a.defaultRuleThickness;var i=n;if(t.style.id<o.default.TEXT.id){i=t.fontMetrics().xHeight}var l=n+i/4;var s=(r.height+r.depth+l+n)*t.sizeMultiplier;var f=h.default.customSizedDelim("\\surd",s,false,t,e.mode);var v=t.fontMetrics().sqrtRuleThickness*f.sizeMultiplier;var p=f.height-v;if(p>r.height+r.depth+l){l=(l+p-r.height-r.depth)/2}var m=f.height-r.height-l-v;var g=void 0;if(r.height===0&&r.depth===0){g=(0,u.makeSpan)()}else{r.style.paddingLeft=f.surdWidth+"em";g=c.default.makeVList([{type:"elem",elem:r},{type:"kern",size:-(r.height+m)},{type:"elem",elem:f},{type:"kern",size:v}],"firstBaseline",null,t);g.children[0].children[0].classes.push("svg-align")}if(!e.value.index){return(0,u.makeSpan)(["mord","sqrt"],[g],t)}else{var y=t.havingStyle(o.default.SCRIPTSCRIPT);var x=L(e.value.index,y,t);var w=.6*(g.height-g.depth);var b=c.default.makeVList([{type:"elem",elem:x}],"shift",-w,t);var k=(0,u.makeSpan)(["root"],[b]);return(0,u.makeSpan)(["mord","sqrt"],[k,g],t)}};function O(e,t,r){var a=C(e,t,false);var n=t.sizeMultiplier/r.sizeMultiplier;for(var i=0;i<a.length;i++){var l=y.default.indexOf(a[i].classes,"sizing");if(l<0){Array.prototype.push.apply(a[i].classes,t.sizingClasses(r))}else if(a[i].classes[l+1]==="reset-size"+t.size){a[i].classes[l+1]="reset-size"+r.size}a[i].height*=n;a[i].depth*=n}return c.default.makeFragment(a)}E.sizing=function(e,t){var r=t.havingSize(e.value.size);return O(e.value.value,r,t)};E.styling=function(e,t){var r={display:o.default.DISPLAY,text:o.default.TEXT,script:o.default.SCRIPT,scriptscript:o.default.SCRIPTSCRIPT};var a=r[e.value.style];var n=t.havingStyle(a);return O(e.value.value,n,t)};E.font=function(e,t){var r=e.value.font;return L(e.value.body,t.withFont(r))};E.delimsizing=function(e,t){var r=e.value.value;if(r==="."){return(0,u.makeSpan)([e.value.mclass])}return h.default.sizedDelim(r,e.value.size,t,e.mode,[e.value.mclass])};E.leftright=function(e,t){var r=C(e.value.body,t,true);var a=0;var n=0;var i=false;for(var l=0;l<r.length;l++){if(r[l].isMiddle){i=true}else{a=Math.max(r[l].height,a);n=Math.max(r[l].depth,n)}}a*=t.sizeMultiplier;n*=t.sizeMultiplier;var s=void 0;if(e.value.left==="."){s=_(t,["mopen"])}else{s=h.default.leftRightDelim(e.value.left,a,n,t,e.mode,["mopen"])}r.unshift(s);if(i){for(var o=1;o<r.length;o++){var f=r[o];if(f.isMiddle){r[o]=h.default.leftRightDelim(f.isMiddle.value,a,n,f.isMiddle.options,e.mode,[]);var v=A(f.children,0);if(v){c.default.prependChildren(r[o],v)}}}}var d=void 0;if(e.value.right==="."){d=_(t,["mclose"])}else{d=h.default.leftRightDelim(e.value.right,a,n,t,e.mode,["mclose"])}r.push(d);return(0,u.makeSpan)(["minner"],r,t)};E.middle=function(e,t){var r=void 0;if(e.value.value==="."){r=_(t,[])}else{r=h.default.sizedDelim(e.value.value,1,t,e.mode,[]);r.isMiddle={value:e.value.value,options:t}}return r};E.rule=function(e,t){var r=(0,u.makeSpan)(["mord","rule"],[],t);var a=0;if(e.value.shift){a=m.default.calculateSize(e.value.shift,t)}var n=m.default.calculateSize(e.value.width,t);var i=m.default.calculateSize(e.value.height,t);r.style.borderRightWidth=n+"em";r.style.borderTopWidth=i+"em";r.style.bottom=a+"em";r.width=n;r.height=i+a;r.depth=-a;r.maxFontSize=i*1.125*t.sizeMultiplier;return r};E.kern=function(e,t){var r=(0,u.makeSpan)(["mord","rule"],[],t);if(e.value.dimension){var a=m.default.calculateSize(e.value.dimension,t);r.style.marginLeft=a+"em"}return r};E.accent=function(e,t){var r=e.value.base;var a=void 0;if(e.type==="supsub"){var n=e;e=n.value.base;r=e.value.base;n.value.base=r;a=L(n,t)}var i=L(r,t.havingCrampedStyle());var l=e.value.isShifty&&q(r);var s=0;if(l){var o=R(r);var f=L(o,t.havingCrampedStyle());s=f.skew}var h=Math.min(i.height,t.fontMetrics().xHeight);var v=void 0;if(!e.value.isStretchy){var d=c.default.makeSymbol(e.value.label,"Main-Regular",e.mode,t);d.italic=0;var p=null;if(e.value.label==="\\vec"){p="accent-vec"}else if(e.value.label==="\\H"){p="accent-hungarian"}v=(0,u.makeSpan)([],[d]);v=(0,u.makeSpan)(["accent-body",p],[v]);v.style.marginLeft=2*s+"em";v=c.default.makeVList([{type:"elem",elem:i},{type:"kern",size:-h},{type:"elem",elem:v}],"firstBaseline",null,t)}else{v=w.default.svgSpan(e,t);v=c.default.makeVList([{type:"elem",elem:i},{type:"elem",elem:v}],"firstBaseline",null,t);var m=v.children[0].children[0].children[1];m.classes.push("svg-align");if(s>0){m.style.width="calc(100% - "+2*s+"em)";m.style.marginLeft=2*s+"em"}}var g=(0,u.makeSpan)(["mord","accent"],[v],t);if(a){a.children[0]=g;a.height=Math.max(g.height,a.height);a.classes[0]="mord";return a}else{return g}};E.horizBrace=function(e,t){var r=t.style;var a=e.type==="supsub";var n=void 0;var i=void 0;if(a){if(e.value.sup){i=t.havingStyle(r.sup());n=L(e.value.sup,i,t)}else{i=t.havingStyle(r.sub());n=L(e.value.sub,i,t)}e=e.value.base}var l=L(e.value.base,t.havingBaseStyle(o.default.DISPLAY));var s=w.default.svgSpan(e,t);var f=void 0;if(e.value.isOver){f=c.default.makeVList([{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:s}],"firstBaseline",null,t);f.children[0].children[0].children[1].classes.push("svg-align")}else{f=c.default.makeVList([{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:l}],"bottom",l.depth+.1+s.height,t);f.children[0].children[0].children[0].classes.push("svg-align")}if(a){var h=(0,u.makeSpan)(["mord",e.value.isOver?"mover":"munder"],[f],t);if(e.value.isOver){f=c.default.makeVList([{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:n}],"firstBaseline",null,t)}else{f=c.default.makeVList([{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:h}],"bottom",h.depth+.2+n.height,t)}}return(0,u.makeSpan)(["mord",e.value.isOver?"mover":"munder"],[f],t)};E.accentUnder=function(e,t){var r=L(e.value.body,t);var a=w.default.svgSpan(e,t);var n=/tilde/.test(e.value.label)?.12:0;var i=c.default.makeVList([{type:"elem",elem:a},{type:"kern",size:n},{type:"elem",elem:r}],"bottom",a.height+n,t);i.children[0].children[0].children[0].classes.push("svg-align");return(0,u.makeSpan)(["mord","accentunder"],[i],t)};E.enclose=function(e,t){var r=L(e.value.body,t);var a=e.value.label.substr(1);var n=t.sizeMultiplier;var i=void 0;var l=0;var s=0;if(a==="sout"){i=(0,u.makeSpan)(["stretchy","sout"]);i.height=t.fontMetrics().defaultRuleThickness/n;s=-.5*t.fontMetrics().xHeight}else{r.classes.push(a==="fbox"?"boxpad":"cancel-pad");var o=q(e.value.body);l=a==="fbox"?.34:o?.2:0;s=r.depth+l;i=w.default.encloseSpan(r,a,l,t)}var f=c.default.makeVList([{type:"elem",elem:r,shift:0},{type:"elem",elem:i,shift:s}],"individualShift",null,t);if(a!=="fbox"){f.children[0].children[0].children[1].classes.push("svg-align")}if(/cancel/.test(a)){return(0,u.makeSpan)(["mord","cancel-lap"],[f],t)}else{return(0,u.makeSpan)(["mord"],[f],t)}};E.xArrow=function(e,t){var r=t.style;var a=t.havingStyle(r.sup());var n=L(e.value.body,a,t);n.classes.push("x-arrow-pad");var i=void 0;if(e.value.below){a=t.havingStyle(r.sub());i=L(e.value.below,a,t);i.classes.push("x-arrow-pad")}var l=w.default.svgSpan(e,t);var s=-t.fontMetrics().axisHeight+l.depth;var o=-t.fontMetrics().axisHeight-l.height-.111;var f=void 0;if(e.value.below){var h=-t.fontMetrics().axisHeight+i.height+l.height+.111;f=c.default.makeVList([{type:"elem",elem:n,shift:o},{type:"elem",elem:l,shift:s},{type:"elem",elem:i,shift:h}],"individualShift",null,t)}else{f=c.default.makeVList([{type:"elem",elem:n,shift:o},{type:"elem",elem:l,shift:s}],"individualShift",null,t)}f.children[0].children[0].children[1].classes.push("svg-align");return(0,u.makeSpan)(["mrel","x-arrow"],[f],t)};E.phantom=function(e,t){var r=C(e.value.value,t.withPhantom(),false);return new c.default.makeFragment(r)};E.mclass=function(e,t){var r=C(e.value.value,t,true);return(0,u.makeSpan)([e.value.mclass],r,t)};var L=function e(t,r,a){if(!t){return(0,u.makeSpan)()}if(E[t.type]){var n=E[t.type](t,r);if(a&&r.size!==a.size){n=(0,u.makeSpan)(r.sizingClasses(a),[n],r);var i=r.sizeMultiplier/a.sizeMultiplier;n.height*=i;n.depth*=i}return n}else{throw new l.default("Got group of unknown type: '"+t.type+"'")}};var P=function e(t,r){t=JSON.parse((0,n.default)(t));var a=C(t,r,true);var i=(0,u.makeSpan)(["base"],a,r);var l=(0,u.makeSpan)(["strut"]);var s=(0,u.makeSpan)(["strut","bottom"]);l.style.height=i.height+"em";s.style.height=i.height+i.depth+"em";s.style.verticalAlign=-i.depth+"em";var o=(0,u.makeSpan)(["katex-html"],[l,s,i]);o.setAttribute("aria-hidden","true");return o};t.exports=P},{"./ParseError":29,"./Style":33,"./buildCommon":34,"./delimiter":38,"./domTree":39,"./stretchy":47,"./units":50,"./utils":51,"babel-runtime/core-js/json/stringify":2}],36:[function(e,t,r){"use strict";var a=e("./buildCommon");var n=x(a);var i=e("./fontMetrics");var l=x(i);var s=e("./mathMLTree");var o=x(s);var u=e("./ParseError");var c=x(u);var f=e("./Style");var h=x(f);var v=e("./symbols");var d=x(v);var p=e("./utils");var m=x(p);var g=e("./stretchy");var y=x(g);function x(e){return e&&e.__esModule?e:{default:e}}var w=function e(t,r){if(d.default[r][t]&&d.default[r][t].replace){t=d.default[r][t].replace}return new o.default.TextNode(t)};var b=function e(t,r){var n=r.font;if(!n){return null}var i=t.mode;if(n==="mathit"){return"italic"}var s=t.value;if(m.default.contains(["\\imath","\\jmath"],s)){return null}if(d.default[i][s]&&d.default[i][s].replace){s=d.default[i][s].replace}var o=a.fontMap[n].fontName;if(l.default.getCharacterMetrics(s,o)){return a.fontMap[r.font].variant}return null};var k={};var M={mi:"italic",mn:"normal",mtext:"normal"};k.mathord=function(e,t){var r=new o.default.MathNode("mi",[w(e.value,e.mode)]);var a=b(e,t)||"italic";if(a!==M[r.type]){r.setAttribute("mathvariant",a)}return r};k.textord=function(e,t){var r=w(e.value,e.mode);var a=b(e,t)||"normal";var n=void 0;if(e.mode==="text"){n=new o.default.MathNode("mtext",[r])}else if(/[0-9]/.test(e.value)){n=new o.default.MathNode("mn",[r])}else if(e.value==="\\prime"){n=new o.default.MathNode("mo",[r])}else{n=new o.default.MathNode("mi",[r])}if(a!==M[n.type]){n.setAttribute("mathvariant",a)}return n};k.bin=function(e){var t=new o.default.MathNode("mo",[w(e.value,e.mode)]);return t};k.rel=function(e){var t=new o.default.MathNode("mo",[w(e.value,e.mode)]);return t};k.open=function(e){var t=new o.default.MathNode("mo",[w(e.value,e.mode)]);return t};k.close=function(e){var t=new o.default.MathNode("mo",[w(e.value,e.mode)]);return t};k.inner=function(e){var t=new o.default.MathNode("mo",[w(e.value,e.mode)]);return t};k.punct=function(e){var t=new o.default.MathNode("mo",[w(e.value,e.mode)]);t.setAttribute("separator","true");return t};k.ordgroup=function(e,t){var r=z(e.value,t);var a=new o.default.MathNode("mrow",r);return a};k.text=function(e,t){var r=e.value.body;var a=[];var n=null;for(var i=0;i<r.length;i++){var l=S(r[i],t);if(l.type==="mtext"&&n!=null){Array.prototype.push.apply(n.children,l.children)}else{a.push(l);if(l.type==="mtext"){n=l}}}if(a.length===1){return a[0]}else{return new o.default.MathNode("mrow",a)}};k.color=function(e,t){var r=z(e.value.value,t);var a=new o.default.MathNode("mstyle",r);a.setAttribute("mathcolor",e.value.color);return a};k.supsub=function(e,t){var r=false;var a=void 0;var n=void 0;if(e.value.base){if(e.value.base.value.type==="horizBrace"){n=e.value.sup?true:false;if(n===e.value.base.value.isOver){r=true;a=e.value.base.value.isOver}}}var i=true;var l=[S(e.value.base,t,i)];if(e.value.sub){l.push(S(e.value.sub,t,i))}if(e.value.sup){l.push(S(e.value.sup,t,i))}var s=void 0;if(r){s=a?"mover":"munder"}else if(!e.value.sub){s="msup"}else if(!e.value.sup){s="msub"}else{var u=e.value.base;if(u&&u.value.limits&&t.style===h.default.DISPLAY){s="munderover"}else{s="msubsup"}}var c=new o.default.MathNode(s,l);return c};k.genfrac=function(e,t){var r=new o.default.MathNode("mfrac",[S(e.value.numer,t),S(e.value.denom,t)]);if(!e.value.hasBarLine){r.setAttribute("linethickness","0px")}if(e.value.leftDelim!=null||e.value.rightDelim!=null){var a=[];if(e.value.leftDelim!=null){var n=new o.default.MathNode("mo",[new o.default.TextNode(e.value.leftDelim)]);n.setAttribute("fence","true");a.push(n)}a.push(r);if(e.value.rightDelim!=null){var i=new o.default.MathNode("mo",[new o.default.TextNode(e.value.rightDelim)]);i.setAttribute("fence","true");a.push(i)}var l=new o.default.MathNode("mrow",a);return l}return r};k.array=function(e,t){return new o.default.MathNode("mtable",e.value.body.map(function(e){return new o.default.MathNode("mtr",e.map(function(e){return new o.default.MathNode("mtd",[S(e,t)])}))}))};k.sqrt=function(e,t){var r=void 0;if(e.value.index){r=new o.default.MathNode("mroot",[S(e.value.body,t),S(e.value.index,t)])}else{r=new o.default.MathNode("msqrt",[S(e.value.body,t)])}return r};k.leftright=function(e,t){var r=z(e.value.body,t);if(e.value.left!=="."){var a=new o.default.MathNode("mo",[w(e.value.left,e.mode)]);a.setAttribute("fence","true");r.unshift(a)}if(e.value.right!=="."){var n=new o.default.MathNode("mo",[w(e.value.right,e.mode)]);n.setAttribute("fence","true");r.push(n)}var i=new o.default.MathNode("mrow",r);return i};k.middle=function(e,t){var r=new o.default.MathNode("mo",[w(e.value.middle,e.mode)]);r.setAttribute("fence","true");return r};k.accent=function(e,t){var r=void 0;if(e.value.isStretchy){r=y.default.mathMLnode(e.value.label)}else{r=new o.default.MathNode("mo",[w(e.value.label,e.mode)])}var a=new o.default.MathNode("mover",[S(e.value.base,t),r]);a.setAttribute("accent","true");return a};k.spacing=function(e){var t=void 0;if(e.value==="\\ "||e.value==="\\space"||e.value===" "||e.value==="~"){t=new o.default.MathNode("mtext",[new o.default.TextNode("\xa0")])}else{t=new o.default.MathNode("mspace");t.setAttribute("width",n.default.spacingFunctions[e.value].size)}return t};k.op=function(e,t){var r=void 0;if(e.value.symbol){r=new o.default.MathNode("mo",[w(e.value.body,e.mode)])}else if(e.value.value){r=new o.default.MathNode("mo",z(e.value.value,t))}else{r=new o.default.MathNode("mi",[new o.default.TextNode(e.value.body.slice(1))])}return r};k.mod=function(e,t){var r=[];if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(new o.default.MathNode("mo",[w("(",e.mode)]))}if(e.value.modType!=="pod"){r.push(new o.default.MathNode("mo",[w("mod",e.mode)]))}if(e.value.value){var a=new o.default.MathNode("mspace");a.setAttribute("width","0.333333em");r.push(a);r=r.concat(z(e.value.value,t))}if(e.value.modType==="pod"||e.value.modType==="pmod"){r.push(new o.default.MathNode("mo",[w(")",e.mode)]));
+}return new o.default.MathNode("mo",r)};k.katex=function(e){var t=new o.default.MathNode("mtext",[new o.default.TextNode("KaTeX")]);return t};k.font=function(e,t){var r=e.value.font;return S(e.value.body,t.withFont(r))};k.delimsizing=function(e){var t=[];if(e.value.value!=="."){t.push(w(e.value.value,e.mode))}var r=new o.default.MathNode("mo",t);if(e.value.mclass==="mopen"||e.value.mclass==="mclose"){r.setAttribute("fence","true")}else{r.setAttribute("fence","false")}return r};k.styling=function(e,t){var r={display:h.default.DISPLAY,text:h.default.TEXT,script:h.default.SCRIPT,scriptscript:h.default.SCRIPTSCRIPT};var a=r[e.value.style];var n=t.havingStyle(a);var i=z(e.value.value,n);var l=new o.default.MathNode("mstyle",i);var s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]};var u=s[e.value.style];l.setAttribute("scriptlevel",u[0]);l.setAttribute("displaystyle",u[1]);return l};k.sizing=function(e,t){var r=t.havingSize(e.value.size);var a=z(e.value.value,r);var n=new o.default.MathNode("mstyle",a);n.setAttribute("mathsize",r.sizeMultiplier+"em");return n};k.overline=function(e,t){var r=new o.default.MathNode("mo",[new o.default.TextNode("\u203e")]);r.setAttribute("stretchy","true");var a=new o.default.MathNode("mover",[S(e.value.body,t),r]);a.setAttribute("accent","true");return a};k.underline=function(e,t){var r=new o.default.MathNode("mo",[new o.default.TextNode("\u203e")]);r.setAttribute("stretchy","true");var a=new o.default.MathNode("munder",[S(e.value.body,t),r]);a.setAttribute("accentunder","true");return a};k.accentUnder=function(e,t){var r=y.default.mathMLnode(e.value.label);var a=new o.default.MathNode("munder",[S(e.value.body,t),r]);a.setAttribute("accentunder","true");return a};k.enclose=function(e,t){var r=new o.default.MathNode("menclose",[S(e.value.body,t)]);var a="";switch(e.value.label){case"\\bcancel":a="downdiagonalstrike";break;case"\\sout":a="horizontalstrike";break;case"\\fbox":a="box";break;default:a="updiagonalstrike"}r.setAttribute("notation",a);return r};k.horizBrace=function(e,t){var r=y.default.mathMLnode(e.value.label);return new o.default.MathNode(e.value.isOver?"mover":"munder",[S(e.value.base,t),r])};k.xArrow=function(e,t){var r=y.default.mathMLnode(e.value.label);var a=void 0;var n=void 0;if(e.value.body){var i=S(e.value.body,t);if(e.value.below){n=S(e.value.below,t);a=new o.default.MathNode("munderover",[r,n,i])}else{a=new o.default.MathNode("mover",[r,i])}}else if(e.value.below){n=S(e.value.below,t);a=new o.default.MathNode("munder",[r,n])}else{a=new o.default.MathNode("mover",[r])}return a};k.rule=function(e){var t=new o.default.MathNode("mrow");return t};k.kern=function(e){var t=new o.default.MathNode("mrow");return t};k.llap=function(e,t){var r=new o.default.MathNode("mpadded",[S(e.value.body,t)]);r.setAttribute("lspace","-1width");r.setAttribute("width","0px");return r};k.rlap=function(e,t){var r=new o.default.MathNode("mpadded",[S(e.value.body,t)]);r.setAttribute("width","0px");return r};k.phantom=function(e,t){var r=z(e.value.value,t);return new o.default.MathNode("mphantom",r)};k.mclass=function(e,t){var r=z(e.value.value,t);return new o.default.MathNode("mstyle",r)};var z=function e(t,r){var a=[];for(var n=0;n<t.length;n++){var i=t[n];a.push(S(i,r))}return a};var S=function e(t,r){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!t){return new o.default.MathNode("mrow")}if(k[t.type]){var n=k[t.type](t,r);if(a){if(n.type==="mrow"&&n.children.length===1){return n.children[0]}}return n}else{throw new c.default("Got group of unknown type: '"+t.type+"'")}};var A=function e(t,r,n){var i=z(t,n);var l=new o.default.MathNode("mrow",i);var s=new o.default.MathNode("annotation",[new o.default.TextNode(r)]);s.setAttribute("encoding","application/x-tex");var u=new o.default.MathNode("semantics",[l,s]);var c=new o.default.MathNode("math",[u]);return(0,a.makeSpan)(["katex-mathml"],[c])};t.exports=A},{"./ParseError":29,"./Style":33,"./buildCommon":34,"./fontMetrics":41,"./mathMLTree":45,"./stretchy":47,"./symbols":48,"./utils":51}],37:[function(e,t,r){"use strict";var a=e("./buildHTML");var n=d(a);var i=e("./buildMathML");var l=d(i);var s=e("./buildCommon");var o=e("./Options");var u=d(o);var c=e("./Settings");var f=d(c);var h=e("./Style");var v=d(h);function d(e){return e&&e.__esModule?e:{default:e}}var p=function e(t,r,a){a=a||new f.default({});var i=v.default.TEXT;if(a.displayMode){i=v.default.DISPLAY}var o=new u.default({style:i});var c=(0,l.default)(t,r,o);var h=(0,n.default)(t,o);var d=(0,s.makeSpan)(["katex"],[c,h]);if(a.displayMode){return(0,s.makeSpan)(["katex-display"],[d])}else{return d}};t.exports=p},{"./Options":28,"./Settings":32,"./Style":33,"./buildCommon":34,"./buildHTML":35,"./buildMathML":36}],38:[function(e,t,r){"use strict";var a=e("./ParseError");var n=p(a);var i=e("./Style");var l=p(i);var s=e("./buildCommon");var o=p(s);var u=e("./fontMetrics");var c=p(u);var f=e("./symbols");var h=p(f);var v=e("./utils");var d=p(v);function p(e){return e&&e.__esModule?e:{default:e}}var m=function e(t,r){if(h.default.math[t]&&h.default.math[t].replace){return c.default.getCharacterMetrics(h.default.math[t].replace,r)}else{return c.default.getCharacterMetrics(t,r)}};var g=function e(t,r,a,n){var i=a.havingBaseStyle(r);var l=(0,s.makeSpan)((n||[]).concat(i.sizingClasses(a)),[t],a);l.delimSizeMultiplier=i.sizeMultiplier/a.sizeMultiplier;l.height*=l.delimSizeMultiplier;l.depth*=l.delimSizeMultiplier;l.maxFontSize=i.sizeMultiplier;return l};var y=function e(t,r,a){var n=r.havingBaseStyle(a);var i=(1-r.sizeMultiplier/n.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter");t.style.top=i+"em";t.height-=i;t.depth+=i};var x=function e(t,r,a,n,i,l){var s=o.default.makeSymbol(t,"Main-Regular",i,n);var u=g(s,r,n,l);if(a){y(u,n,r)}return u};var w=function e(t,r,a,n){return o.default.makeSymbol(t,"Size"+r+"-Regular",a,n)};var b=function e(t,r,a,n,i,o){var u=w(t,r,i,n);var c=g((0,s.makeSpan)(["delimsizing","size"+r],[u],n),l.default.TEXT,n,o);if(a){y(c,n,l.default.TEXT)}return c};var k=function e(t,r,a){var n=void 0;if(r==="Size1-Regular"){n="delim-size1"}else if(r==="Size4-Regular"){n="delim-size4"}var i=(0,s.makeSpan)(["delimsizinginner",n],[(0,s.makeSpan)([],[o.default.makeSymbol(t,r,a)])]);return{type:"elem",elem:i}};var M=function e(t,r,a,n,i,u){var c=void 0;var f=void 0;var h=void 0;var v=void 0;c=h=v=t;f=null;var d="Size1-Regular";if(t==="\\uparrow"){h=v="\u23d0"}else if(t==="\\Uparrow"){h=v="\u2016"}else if(t==="\\downarrow"){c=h="\u23d0"}else if(t==="\\Downarrow"){c=h="\u2016"}else if(t==="\\updownarrow"){c="\\uparrow";h="\u23d0";v="\\downarrow"}else if(t==="\\Updownarrow"){c="\\Uparrow";h="\u2016";v="\\Downarrow"}else if(t==="["||t==="\\lbrack"){c="\u23a1";h="\u23a2";v="\u23a3";d="Size4-Regular"}else if(t==="]"||t==="\\rbrack"){c="\u23a4";h="\u23a5";v="\u23a6";d="Size4-Regular"}else if(t==="\\lfloor"){h=c="\u23a2";v="\u23a3";d="Size4-Regular"}else if(t==="\\lceil"){c="\u23a1";h=v="\u23a2";d="Size4-Regular"}else if(t==="\\rfloor"){h=c="\u23a5";v="\u23a6";d="Size4-Regular"}else if(t==="\\rceil"){c="\u23a4";h=v="\u23a5";d="Size4-Regular"}else if(t==="("){c="\u239b";h="\u239c";v="\u239d";d="Size4-Regular"}else if(t===")"){c="\u239e";h="\u239f";v="\u23a0";d="Size4-Regular"}else if(t==="\\{"||t==="\\lbrace"){c="\u23a7";f="\u23a8";v="\u23a9";h="\u23aa";d="Size4-Regular"}else if(t==="\\}"||t==="\\rbrace"){c="\u23ab";f="\u23ac";v="\u23ad";h="\u23aa";d="Size4-Regular"}else if(t==="\\lgroup"){c="\u23a7";v="\u23a9";h="\u23aa";d="Size4-Regular"}else if(t==="\\rgroup"){c="\u23ab";v="\u23ad";h="\u23aa";d="Size4-Regular"}else if(t==="\\lmoustache"){c="\u23a7";v="\u23ad";h="\u23aa";d="Size4-Regular"}else if(t==="\\rmoustache"){c="\u23ab";v="\u23a9";h="\u23aa";d="Size4-Regular"}var p=m(c,d);var y=p.height+p.depth;var x=m(h,d);var w=x.height+x.depth;var b=m(v,d);var M=b.height+b.depth;var z=0;var S=1;if(f!==null){var A=m(f,d);z=A.height+A.depth;S=2}var C=y+M+z;var T=Math.ceil((r-C)/(S*w));var N=C+T*S*w;var R=n.fontMetrics().axisHeight;if(a){R*=n.sizeMultiplier}var q=N/2-R;var _=[];_.push(k(v,d,i));if(f===null){for(var E=0;E<T;E++){_.push(k(h,d,i))}}else{for(var B=0;B<T;B++){_.push(k(h,d,i))}_.push(k(f,d,i));for(var O=0;O<T;O++){_.push(k(h,d,i))}}_.push(k(c,d,i));var L=n.havingBaseStyle(l.default.TEXT);var P=o.default.makeVList(_,"bottom",q,L);return g((0,s.makeSpan)(["delimsizing","mult"],[P],L),l.default.TEXT,n,u)};var z={main:"<svg viewBox='0 0 400000 1000' preserveAspectRatio='xMinYMin\nslice'><path d='M95 622c-2.667 0-7.167-2.667-13.5\n-8S72 604 72 600c0-2 .333-3.333 1-4 1.333-2.667 23.833-20.667 67.5-54s\n65.833-50.333 66.5-51c1.333-1.333 3-2 5-2 4.667 0 8.667 3.333 12 10l173\n378c.667 0 35.333-71 104-213s137.5-285 206.5-429S812 17.333 812 14c5.333\n-9.333 12-14 20-14h399166v40H845.272L620 507 385 993c-2.667 4.667-9 7-19\n7-6 0-10-1-12-3L160 575l-65 47zM834 0h399166v40H845z'/></svg>",1:"<svg viewBox='0 0 400000 1200' preserveAspectRatio='xMinYMin\nslice'><path d='M263 601c.667 0 18 39.667 52 119s68.167\n 158.667 102.5 238 51.833 119.333 52.5 120C810 373.333 980.667 17.667 982 11\nc4.667-7.333 11-11 19-11h398999v40H1012.333L741 607c-38.667 80.667-84 175-136\n 283s-89.167 185.333-111.5 232-33.833 70.333-34.5 71c-4.667 4.667-12.333 7-23\n 7l-12-1-109-253c-72.667-168-109.333-252-110-252-10.667 8-22 16.667-34 26-22\n 17.333-33.333 26-34 26l-26-26 76-59 76-60zM1001 0h398999v40H1012z'/></svg>",2:"<svg viewBox='0 0 400000 1800' preserveAspectRatio='xMinYMin\nslice'><path d='M1001 0h398999v40H1013.084S929.667 308 749\n 880s-277 876.333-289 913c-4.667 4.667-12.667 7-24 7h-12c-1.333-3.333-3.667\n-11.667-7-25-35.333-125.333-106.667-373.333-214-744-10 12-21 25-33 39l-32 39\nc-6-5.333-15-14-27-26l25-30c26.667-32.667 52-63 76-91l52-60 208 722c56-175.333\n 126.333-397.333 211-666s153.833-488.167 207.5-658.5C944.167 129.167 975 32.667\n 983 10c4-6.667 10-10 18-10zm0 0h398999v40H1013z'/></svg>",3:"<svg viewBox='0 0 400000 2400' preserveAspectRatio='xMinYMin\nslice'><path d='M424 2398c-1.333-.667-38.5-172-111.5-514\nS202.667 1370.667 202 1370c0-2-10.667 14.333-32 49-4.667 7.333-9.833 15.667\n-15.5 25s-9.833 16-12.5 20l-5 7c-4-3.333-8.333-7.667-13-13l-13-13 76-122 77-121\n 209 968c0-2 84.667-361.667 254-1079C896.333 373.667 981.667 13.333 983 10\nc4-6.667 10-10 18-10h398999v40H1014.622S927.332 418.667 742 1206c-185.333\n 787.333-279.333 1182.333-282 1185-2 6-10 9-24 9-8 0-12-.667-12-2z\nM1001 0h398999v40H1014z'/></svg>",4:"<svg viewBox='0 0 400000 3000' preserveAspectRatio='xMinYMin\nslice'><path d='M473 2713C812.333 913.667 982.333 13 983 11\nc3.333-7.333 9.333-11 18-11h399110v40H1017.698S927.168 518 741.5 1506C555.833\n 2494 462 2989 460 2991c-2 6-10 9-24 9-8 0-12-.667-12-2s-5.333-32-16-92c-50.667\n-293.333-119.667-693.333-207-1200 0-1.333-5.333 8.667-16 30l-32 64-16 33-26-26\n 76-153 77-151c.667.667 35.667 202 105 604 67.333 400.667 102 602.667 104 606z\nM1001 0h398999v40H1017z'/></svg>",tall:"l-4 4-4 4c-.667.667-2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1h\n-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170c-4-3.333-8.333\n-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667 219 661 l218 661z\nM702 0H400000v40H742z'/></svg>"};var S=function e(t,r,a){var n=o.default.makeSpan([],[],a);var i=a.sizeMultiplier;if(r.type==="small"){var l=a.havingBaseStyle(r.style);i=l.sizeMultiplier/a.sizeMultiplier;n.height=1*i;n.style.height=n.height+"em";n.surdWidth=.833*i;n.innerHTML="<svg width='100%' height='"+n.height+"em'>\n            "+z["main"]+"</svg>"}else if(r.type==="large"){n.height=N[r.size]/i;n.style.height=n.height+"em";n.surdWidth=1/i;n.innerHTML='<svg width="100%" height="'+n.height+'em">\n            '+z[r.size]+"</svg>"}else{n.height=t/i;n.style.height=n.height+"em";n.surdWidth=1.056/i;var s=Math.floor(n.height*1e3);var u=s-54;n.innerHTML="<svg width='100%' height='"+n.height+"em'>\n            <svg viewBox='0 0 400000 "+s+"'\n            preserveAspectRatio='xMinYMax slice'>\n            <path d='M702 0H400000v40H742v"+u+"\n            "+z["tall"]+"</svg>"}n.sizeMultiplier=i;return n};var A=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"];var C=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"];var T=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"];var N=[0,1.2,1.8,2.4,3];var R=function e(t,r,a,i,l){if(t==="<"||t==="\\lt"){t="\\langle"}else if(t===">"||t==="\\gt"){t="\\rangle"}if(d.default.contains(A,t)||d.default.contains(T,t)){return b(t,r,false,a,i,l)}else if(d.default.contains(C,t)){return M(t,N[r],false,a,i,l)}else{throw new n.default("Illegal delimiter: '"+t+"'")}};var q=[{type:"small",style:l.default.SCRIPTSCRIPT},{type:"small",style:l.default.SCRIPT},{type:"small",style:l.default.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}];var _=[{type:"small",style:l.default.SCRIPTSCRIPT},{type:"small",style:l.default.SCRIPT},{type:"small",style:l.default.TEXT},{type:"stack"}];var E=[{type:"small",style:l.default.SCRIPTSCRIPT},{type:"small",style:l.default.SCRIPT},{type:"small",style:l.default.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];var B=function e(t){if(t.type==="small"){return"Main-Regular"}else if(t.type==="large"){return"Size"+t.size+"-Regular"}else if(t.type==="stack"){return"Size4-Regular"}};var O=function e(t,r,a,n){var i=Math.min(2,3-n.style.size);for(var l=i;l<a.length;l++){if(a[l].type==="stack"){break}var s=m(t,B(a[l]));var o=s.height+s.depth;if(a[l].type==="small"){var u=n.havingBaseStyle(a[l].style);o*=u.sizeMultiplier}if(o>r){return a[l]}}return a[a.length-1]};var L=function e(t,r,a,n,i,l){if(t==="<"||t==="\\lt"){t="\\langle"}else if(t===">"||t==="\\gt"){t="\\rangle"}var s=void 0;if(d.default.contains(T,t)){s=q}else if(d.default.contains(A,t)){s=E}else{s=_}var o=O(t,r,s,n);if(t==="\\surd"){return S(r,o,n)}else{if(o.type==="small"){return x(t,o.style,a,n,i,l)}else if(o.type==="large"){return b(t,o.size,a,n,i,l)}else if(o.type==="stack"){return M(t,r,a,n,i,l)}}};var P=function e(t,r,a,n,i,l){var s=n.fontMetrics().axisHeight*n.sizeMultiplier;var o=901;var u=5/n.fontMetrics().ptPerEm;var c=Math.max(r-s,a+s);var f=Math.max(c/500*o,2*c-u);return L(t,f,true,n,i,l)};t.exports={sizedDelim:R,customSizedDelim:L,leftRightDelim:P}},{"./ParseError":29,"./Style":33,"./buildCommon":34,"./fontMetrics":41,"./symbols":48,"./utils":51}],39:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=f(a);var i=e("babel-runtime/helpers/createClass");var l=f(i);var s=e("./unicodeRegexes");var o=f(s);var u=e("./utils");var c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var h=function e(t){t=t.slice();for(var r=t.length-1;r>=0;r--){if(!t[r]){t.splice(r,1)}}return t.join(" ")};var v=function(){function e(t,r,a){(0,n.default)(this,e);this.classes=t||[];this.children=r||[];this.height=0;this.depth=0;this.maxFontSize=0;this.style={};this.attributes={};this.innerHTML;if(a){if(a.style.isTight()){this.classes.push("mtight")}if(a.getColor()){this.style.color=a.getColor()}}}(0,l.default)(e,[{key:"setAttribute",value:function e(t,r){this.attributes[t]=r}},{key:"tryCombine",value:function e(t){return false}},{key:"toNode",value:function e(){var t=document.createElement("span");t.className=h(this.classes);for(var r in this.style){if(Object.prototype.hasOwnProperty.call(this.style,r)){t.style[r]=this.style[r]}}for(var a in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,a)){t.setAttribute(a,this.attributes[a])}}if(this.innerHTML){t.innerHTML=this.innerHTML}for(var n=0;n<this.children.length;n++){t.appendChild(this.children[n].toNode())}return t}},{key:"toMarkup",value:function e(){var t="<span";if(this.classes.length){t+=' class="';t+=c.default.escape(h(this.classes));t+='"'}var r="";for(var a in this.style){if(this.style.hasOwnProperty(a)){r+=c.default.hyphenate(a)+":"+this.style[a]+";"}}if(r){t+=' style="'+c.default.escape(r)+'"'}for(var n in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,n)){t+=" "+n+'="';t+=c.default.escape(this.attributes[n]);t+='"'}}t+=">";if(this.innerHTML){t+=this.innerHTML}for(var i=0;i<this.children.length;i++){t+=this.children[i].toMarkup()}t+="</span>";return t}}]);return e}();var d=function(){function e(t){(0,n.default)(this,e);this.children=t||[];this.height=0;this.depth=0;this.maxFontSize=0}(0,l.default)(e,[{key:"toNode",value:function e(){var t=document.createDocumentFragment();for(var r=0;r<this.children.length;r++){t.appendChild(this.children[r].toNode())}return t}},{key:"toMarkup",value:function e(){var t="";for(var r=0;r<this.children.length;r++){t+=this.children[r].toMarkup()}return t}}]);return e}();var p={"\xee":"\u0131\u0302","\xef":"\u0131\u0308","\xed":"\u0131\u0301","\xec":"\u0131\u0300"};var m=function(){function e(t,r,a,i,l,s,u){(0,n.default)(this,e);this.value=t||"";this.height=r||0;this.depth=a||0;this.italic=i||0;this.skew=l||0;this.classes=s||[];this.style=u||{};this.maxFontSize=0;if(o.default.cjkRegex.test(t)){if(o.default.hangulRegex.test(t)){this.classes.push("hangul_fallback")}else{this.classes.push("cjk_fallback")}}if(/[\xee\xef\xed\xec]/.test(this.value)){this.value=p[this.value]}}(0,l.default)(e,[{key:"tryCombine",value:function t(r){if(!r||!(r instanceof e)||this.italic>0||h(this.classes)!==h(r.classes)||this.skew!==r.skew||this.maxFontSize!==r.maxFontSize){return false}for(var a in this.style){if(this.style.hasOwnProperty(a)&&this.style[a]!==r.style[a]){return false}}for(var n in r.style){if(r.style.hasOwnProperty(n)&&this.style[n]!==r.style[n]){return false}}this.value+=r.value;this.height=Math.max(this.height,r.height);this.depth=Math.max(this.depth,r.depth);this.italic=r.italic;return true}},{key:"toNode",value:function e(){var t=document.createTextNode(this.value);var r=null;if(this.italic>0){r=document.createElement("span");r.style.marginRight=this.italic+"em"}if(this.classes.length>0){r=r||document.createElement("span");r.className=h(this.classes)}for(var a in this.style){if(this.style.hasOwnProperty(a)){r=r||document.createElement("span");r.style[a]=this.style[a]}}if(r){r.appendChild(t);return r}else{return t}}},{key:"toMarkup",value:function e(){var t=false;var r="<span";if(this.classes.length){t=true;r+=' class="';r+=c.default.escape(h(this.classes));r+='"'}var a="";if(this.italic>0){a+="margin-right:"+this.italic+"em;"}for(var n in this.style){if(this.style.hasOwnProperty(n)){a+=c.default.hyphenate(n)+":"+this.style[n]+";"}}if(a){t=true;r+=' style="'+c.default.escape(a)+'"'}var i=c.default.escape(this.value);if(t){r+=">";r+=i;r+="</span>";return r}else{return i}}}]);return e}();t.exports={span:v,documentFragment:d,symbolNode:m}},{"./unicodeRegexes":49,"./utils":51,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],40:[function(e,t,r){"use strict";var a=e("./ParseNode");var n=s(a);var i=e("./ParseError");var l=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var a=[];var i=[a];var s=[];while(true){var o=e.parseExpression(false,null);o=new n.default("ordgroup",o,e.mode);if(r){o=new n.default("styling",{style:r,value:[o]},e.mode)}a.push(o);var u=e.nextToken.text;if(u==="&"){e.consume()}else if(u==="\\end"){break}else if(u==="\\\\"||u==="\\cr"){var c=e.parseFunction();s.push(c.value.size);a=[];i.push(a)}else{throw new l.default("Expected & or \\\\ or \\end",e.nextToken)}}t.body=i;t.rowGaps=s;return new n.default(t.type,t,e.mode)}function u(e,r,a){if(typeof e==="string"){e=[e]}if(typeof r==="number"){r={numArgs:r}}var n={numArgs:r.numArgs||0,argTypes:r.argTypes,greediness:1,allowedInText:!!r.allowedInText,numOptionalArgs:r.numOptionalArgs||0,handler:a};for(var i=0;i<e.length;++i){t.exports[e[i]]=n}}function c(e){if(e.substr(0,1)==="d"){return"display"}else{return"text"}}u(["array","darray"],{numArgs:1},function(e,t){var r=t[0];r=r.value.map?r.value:[r];var a=r.map(function(e){var t=e.value;if("lcr".indexOf(t)!==-1){return{type:"align",align:t}}else if(t==="|"){return{type:"separator",separator:"|"}}throw new l.default("Unknown column alignment: "+e.value,e)});var n={type:"array",cols:a,hskipBeforeAndAfter:true};n=o(e.parser,n,c(e.envName));return n});u(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],{},function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName];var r={type:"array",hskipBeforeAndAfter:false};r=o(e.parser,r,c(e.envName));if(t){r=new n.default("leftright",{body:[r],left:t[0],right:t[1]},e.mode)}return r});u(["cases","dcases"],{},function(e){var t={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]};t=o(e.parser,t,c(e.envName));t=new n.default("leftright",{body:[t],left:"\\{",right:"."},e.mode);return t});u("aligned",{},function(e){var t={type:"array",cols:[],addJot:true};t=o(e.parser,t,"display");var r=new n.default("ordgroup",[],e.mode);var a=0;t.value.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var n=e[t].value.value[0];n.value.unshift(r)}if(a<e.length){a=e.length}});for(var i=0;i<a;++i){var l="r";var s=0;if(i%2===1){l="l"}else if(i>0){s=2}t.value.cols[i]={type:"align",align:l,pregap:s,postgap:0}}return t});u("gathered",{},function(e){var t={type:"array",cols:[{type:"align",align:"c"}],addJot:true};t=o(e.parser,t,"display");return t})},{"./ParseError":29,"./ParseNode":30}],41:[function(e,t,r){"use strict";var a=e("./unicodeRegexes");var n=e("./fontMetricsData");var i=l(n);function l(e){return e&&e.__esModule?e:{default:e}}var s={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2]};var o={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"A","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"o","\xdf":"B","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"a","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"o","\xff":"y","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041a":"K","\u041b":"N","\u041c":"M","\u041d":"H","\u041e":"O","\u041f":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042a":"B","\u042b":"X","\u042c":"B","\u042d":"3","\u042e":"X","\u042f":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043a":"n","\u043b":"n","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044a":"a","\u044b":"m","\u044c":"a","\u044d":"e","\u044e":"m","\u044f":"r"};var u=function e(t,r){var n=t.charCodeAt(0);if(t[0]in o){n=o[t[0]].charCodeAt(0)}else if(a.cjkRegex.test(t[0])){n="M".charCodeAt(0)}var l=i.default[r][n];if(l){return{depth:l[0],height:l[1],italic:l[2],skew:l[3],width:l[4]}}};var c={};var f=function e(t){var r=void 0;if(t>=5){r=0}else if(t>=3){r=1}else{r=2}if(!c[r]){var a=c[r]={};for(var n in s){if(s.hasOwnProperty(n)){a[n]=s[n][r]}}a.cssEmPerMu=a.quad/18}return c[r]};t.exports={getFontMetrics:f,getCharacterMetrics:u}},{"./fontMetricsData":42,"./unicodeRegexes":49}],42:[function(e,t,r){"use strict";t.exports={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],
+58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}}},{}],43:[function(e,t,r){"use strict";var a=e("./utils");var n=u(a);var i=e("./ParseError");var l=u(i);var s=e("./ParseNode");var o=u(s);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,r,a){if(typeof e==="string"){e=[e]}if(typeof r==="number"){r={numArgs:r}}var n={numArgs:r.numArgs,argTypes:r.argTypes,greediness:r.greediness===undefined?1:r.greediness,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,handler:a};for(var i=0;i<e.length;++i){t.exports[e[i]]=n}}var f=function e(t){if(t.type==="ordgroup"){return t.value}else{return[t]}};c("\\sqrt",{numArgs:1,numOptionalArgs:1},function(e,t){var r=t[0];var a=t[1];return{type:"sqrt",body:a,index:r}});var h={"\\text":undefined,"\\textrm":"mathrm","\\textsf":"mathsf","\\texttt":"mathtt","\\textnormal":"mathrm","\\textbf":"mathbf","\\textit":"textit"};c(["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textit"],{
+numArgs:1,argTypes:["text"],greediness:2,allowedInText:true},function(e,t){var r=t[0];return{type:"text",body:f(r),style:h[e.funcName]}});c("\\textcolor",{numArgs:2,allowedInText:true,greediness:3,argTypes:["color","original"]},function(e,t){var r=t[0];var a=t[1];return{type:"color",color:r.value,value:f(a)}});c("\\color",{numArgs:1,allowedInText:true,greediness:3,argTypes:["color"]},null);c("\\overline",{numArgs:1},function(e,t){var r=t[0];return{type:"overline",body:r}});c("\\underline",{numArgs:1},function(e,t){var r=t[0];return{type:"underline",body:r}});c("\\rule",{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},function(e,t){var r=t[0];var a=t[1];var n=t[2];return{type:"rule",shift:r&&r.value,width:a.value,height:n.value}});c(["\\kern","\\mkern"],{numArgs:1,argTypes:["size"]},function(e,t){return{type:"kern",dimension:t[0].value}});c("\\KaTeX",{numArgs:0},function(e){return{type:"katex"}});c("\\phantom",{numArgs:1},function(e,t){var r=t[0];return{type:"phantom",value:f(r)}});c(["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],{numArgs:1},function(e,t){var r=t[0];return{type:"mclass",mclass:"m"+e.funcName.substr(5),value:f(r)}});c("\\stackrel",{numArgs:2},function(e,t){var r=t[0];var a=t[1];var n=new o.default("op",{type:"op",limits:true,alwaysHandleSupSub:true,symbol:false,value:f(a)},a.mode);var i=new o.default("supsub",{base:n,sup:r,sub:null},r.mode);return{type:"mclass",mclass:"mrel",value:[i]}});c("\\bmod",{numArgs:0},function(e,t){return{type:"mod",modType:"bmod",value:null}});c(["\\pod","\\pmod","\\mod"],{numArgs:1},function(e,t){var r=t[0];return{type:"mod",modType:e.funcName.substr(1),value:f(r)}});var v={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};var d=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","<",">","\\langle","\\rangle","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];var p={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};c(["\\blue","\\orange","\\pink","\\red","\\green","\\gray","\\purple","\\blueA","\\blueB","\\blueC","\\blueD","\\blueE","\\tealA","\\tealB","\\tealC","\\tealD","\\tealE","\\greenA","\\greenB","\\greenC","\\greenD","\\greenE","\\goldA","\\goldB","\\goldC","\\goldD","\\goldE","\\redA","\\redB","\\redC","\\redD","\\redE","\\maroonA","\\maroonB","\\maroonC","\\maroonD","\\maroonE","\\purpleA","\\purpleB","\\purpleC","\\purpleD","\\purpleE","\\mintA","\\mintB","\\mintC","\\grayA","\\grayB","\\grayC","\\grayD","\\grayE","\\grayF","\\grayG","\\grayH","\\grayI","\\kaBlue","\\kaGreen"],{numArgs:1,allowedInText:true,greediness:3},function(e,t){var r=t[0];return{type:"color",color:"katex-"+e.funcName.slice(1),value:f(r)}});c(["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],{numArgs:0},function(e){return{type:"op",limits:false,symbol:false,body:e.funcName}});c(["\\det","\\gcd","\\inf","\\lim","\\liminf","\\limsup","\\max","\\min","\\Pr","\\sup"],{numArgs:0},function(e){return{type:"op",limits:true,symbol:false,body:e.funcName}});c(["\\int","\\iint","\\iiint","\\oint"],{numArgs:0},function(e){return{type:"op",limits:false,symbol:true,body:e.funcName}});c(["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint"],{numArgs:0},function(e){return{type:"op",limits:true,symbol:true,body:e.funcName}});c("\\mathop",{numArgs:1},function(e,t){var r=t[0];return{type:"op",limits:false,symbol:false,value:f(r)}});c(["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac"],{numArgs:2,greediness:2},function(e,t){var r=t[0];var a=t[1];var n=void 0;var i=null;var l=null;var s="auto";switch(e.funcName){case"\\dfrac":case"\\frac":case"\\tfrac":n=true;break;case"\\\\atopfrac":n=false;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=false;i="(";l=")";break;default:throw new Error("Unrecognized genfrac command")}switch(e.funcName){case"\\dfrac":case"\\dbinom":s="display";break;case"\\tfrac":case"\\tbinom":s="text";break}return{type:"genfrac",numer:r,denom:a,hasBarLine:n,leftDelim:i,rightDelim:l,size:s}});c(["\\llap","\\rlap"],{numArgs:1,allowedInText:true},function(e,t){var r=t[0];return{type:e.funcName.slice(1),body:r}});var m=function e(t,r){if(n.default.contains(d,t.value)){return t}else{throw new l.default("Invalid delimiter: '"+t.value+"' after '"+r.funcName+"'",t)}};c(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],{numArgs:1},function(e,t){var r=m(t[0],e);return{type:"delimsizing",size:v[e.funcName].size,mclass:v[e.funcName].mclass,value:r.value}});c(["\\left","\\right"],{numArgs:1},function(e,t){var r=m(t[0],e);return{type:"leftright",value:r.value}});c("\\middle",{numArgs:1},function(e,t){var r=m(t[0],e);if(!e.parser.leftrightDepth){throw new l.default("\\middle without preceding \\left",r)}return{type:"middle",value:r.value}});c(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],0,null);c(["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],0,null);c(["\\rm","\\sf","\\tt","\\bf","\\it"],0,null);c(["\\mathrm","\\mathit","\\mathbf","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],{numArgs:1,greediness:2},function(e,t){var r=t[0];var a=e.funcName;if(a in p){a=p[a]}return{type:"font",font:a.slice(1),body:r}});c(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],{numArgs:1},function(e,t){var r=t[0];var a=!n.default.contains(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot"],e.funcName);var i=!a||n.default.contains(["\\widehat","\\widetilde"],e.funcName);return{type:"accent",label:e.funcName,isStretchy:a,isShifty:i,value:f(r),base:r}});c(["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v"],{numArgs:1,allowedInText:true,allowedInMath:false},function(e,t){var r=t[0];return{type:"accent",label:e.funcName,isStretchy:false,isShifty:true,value:f(r),base:r}});c(["\\overbrace","\\underbrace"],{numArgs:1},function(e,t){var r=t[0];return{type:"horizBrace",label:e.funcName,isOver:/^\\over/.test(e.funcName),base:r}});c(["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\undertilde"],{numArgs:1},function(e,t){var r=t[0];return{type:"accentUnder",label:e.funcName,value:f(r),body:r}});c(["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xLongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xLongequal","\\xtofrom"],{numArgs:1,numOptionalArgs:1},function(e,t){var r=t[0];var a=t[1];return{type:"xArrow",label:e.funcName,body:a,below:r}});c(["\\cancel","\\bcancel","\\xcancel","\\sout","\\fbox"],{numArgs:1},function(e,t){var r=t[0];return{type:"enclose",label:e.funcName,body:r}});c(["\\over","\\choose","\\atop"],{numArgs:0,infix:true},function(e){var t=void 0;switch(e.funcName){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",replaceWith:t,token:e.token}});c(["\\\\","\\cr"],{numArgs:0,numOptionalArgs:1,argTypes:["size"]},function(e,t){var r=t[0];return{type:"cr",size:r}});c(["\\begin","\\end"],{numArgs:1,argTypes:["text"]},function(e,t){var r=t[0];if(r.type!=="ordgroup"){throw new l.default("Invalid environment name",r)}var a="";for(var n=0;n<r.value.length;++n){a+=r.value[n].value}return{type:"environment",name:a,nameGroup:r}})},{"./ParseError":29,"./ParseNode":30,"./utils":51}],44:[function(e,t,r){"use strict";function a(e,r){t.exports[e]=r}a("\\bgroup","{");a("\\egroup","}");a("\\begingroup","{");a("\\endgroup","}");a("\\mkern","\\kern");a("\\overset","\\mathop{#2}\\limits^{#1}");a("\\underset","\\mathop{#2}\\limits_{#1}");a("\\boxed","\\fbox{\\displaystyle{#1}}");a("\\iff","\\;\\Longleftrightarrow\\;");a("\\implies","\\;\\Longrightarrow\\;");a("\\impliedby","\\;\\Longleftarrow\\;");a("\\ordinarycolon",":");a("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");a("\\dblcolon","\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon");a("\\coloneqq","\\vcentcolon\\mathrel{\\mkern-1.2mu}=");a("\\Coloneqq","\\dblcolon\\mathrel{\\mkern-1.2mu}=");a("\\coloneq","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}");a("\\Coloneq","\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}");a("\\eqqcolon","=\\mathrel{\\mkern-1.2mu}\\vcentcolon");a("\\Eqqcolon","=\\mathrel{\\mkern-1.2mu}\\dblcolon");a("\\eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon");a("\\Eqcolon","\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon");a("\\colonapprox","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx");a("\\Colonapprox","\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx");a("\\colonsim","\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim");a("\\Colonsim","\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim");a("\\ratio","\\vcentcolon");a("\\coloncolon","\\dblcolon");a("\\colonequals","\\coloneqq");a("\\coloncolonequals","\\Coloneqq");a("\\equalscolon","\\eqqcolon");a("\\equalscoloncolon","\\Eqqcolon");a("\\colonminus","\\coloneq");a("\\coloncolonminus","\\Coloneq");a("\\minuscolon","\\eqcolon");a("\\minuscoloncolon","\\Eqcolon");a("\\coloncolonapprox","\\Colonapprox");a("\\coloncolonsim","\\Colonsim");a("\\simcolon","\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon");a("\\simcoloncolon","\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon");a("\\approxcolon","\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon");a("\\approxcoloncolon","\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon")},{}],45:[function(e,t,r){"use strict";var a=e("babel-runtime/helpers/classCallCheck");var n=u(a);var i=e("babel-runtime/helpers/createClass");var l=u(i);var s=e("./utils");var o=u(s);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,r){(0,n.default)(this,e);this.type=t;this.attributes={};this.children=r||[]}(0,l.default)(e,[{key:"setAttribute",value:function e(t,r){this.attributes[t]=r}},{key:"toNode",value:function e(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,r)){t.setAttribute(r,this.attributes[r])}}for(var a=0;a<this.children.length;a++){t.appendChild(this.children[a].toNode())}return t}},{key:"toMarkup",value:function e(){var t="<"+this.type;for(var r in this.attributes){if(Object.prototype.hasOwnProperty.call(this.attributes,r)){t+=" "+r+'="';t+=o.default.escape(this.attributes[r]);t+='"'}}t+=">";for(var a=0;a<this.children.length;a++){t+=this.children[a].toMarkup()}t+="</"+this.type+">";return t}}]);return e}();var f=function(){function e(t){(0,n.default)(this,e);this.text=t}(0,l.default)(e,[{key:"toNode",value:function e(){return document.createTextNode(this.text)}},{key:"toMarkup",value:function e(){return o.default.escape(this.text)}}]);return e}();t.exports={MathNode:c,TextNode:f}},{"./utils":51,"babel-runtime/helpers/classCallCheck":4,"babel-runtime/helpers/createClass":5}],46:[function(e,t,r){"use strict";var a=e("./Parser");var n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,r){if(!(typeof t==="string"||t instanceof String)){throw new TypeError("KaTeX can only parse string typed expression")}var a=new n.default(t,r);return a.parse()};t.exports=l},{"./Parser":31}],47:[function(e,t,r){"use strict";var a=e("./buildCommon");var n=e("./mathMLTree");var i=e("./utils");var l={widehat:"^",widetilde:"~",undertilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23b5",overbrace:"\u23de",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xLongequal:"=",xtofrom:"\u21c4"};var s=function e(t){var r=new n.MathNode("mo",[new n.TextNode(l[t.substr(1)])]);r.setAttribute("stretchy","true");return r};var o={overleftarrow:[.522,0,"leftarrow",.5],underleftarrow:[.522,0,"leftarrow",.5],xleftarrow:[.261,.261,"leftarrow",.783],overrightarrow:[.522,0,"rightarrow",.5],underrightarrow:[.522,0,"rightarrow",.5],xrightarrow:[.261,.261,"rightarrow",.783],overbrace:[.548,0,"overbrace",1.6],underbrace:[.548,0,"underbrace",1.6],overleftrightarrow:[.522,0,"leftrightarrow",.5],underleftrightarrow:[.522,0,"leftrightarrow",.5],xleftrightarrow:[.261,.261,"leftrightarrow",.783],Overrightarrow:[.56,0,"doublerightarrow",.5],xLeftarrow:[.28,.28,"doubleleftarrow",.783],xRightarrow:[.28,.28,"doublerightarrow",.783],xLeftrightarrow:[.28,.28,"doubleleftrightarrow",.955],overleftharpoon:[.522,0,"leftharpoon",.5],overrightharpoon:[.522,0,"rightharpoon",.5],xleftharpoonup:[.261,.261,"leftharpoon",.783],xrightharpoonup:[.261,.261,"rightharpoon",.783],xhookleftarrow:[.261,.261,"hookleftarrow",.87],xhookrightarrow:[.261,.261,"hookrightarrow",.87],overlinesegment:[.414,0,"linesegment",.5],underlinesegment:[.414,0,"linesegment",.5],xmapsto:[.261,.261,"mapsto",.783],xrightharpoondown:[.261,.261,"rightharpoondown",.783],xleftharpoondown:[.261,.261,"leftharpoondown",.783],xrightleftharpoons:[.358,.358,"rightleftharpoons",.716],xleftrightharpoons:[.358,.358,"leftrightharpoons",.716],overgroup:[.342,0,"overgroup",.87],undergroup:[.342,0,"undergroup",.87],xtwoheadleftarrow:[.167,.167,"twoheadleftarrow",.86],xtwoheadrightarrow:[.167,.167,"twoheadrightarrow",.86],xLongequal:[.167,.167,"longequal",.5],xtofrom:[.264,.264,"tofrom",.86]};var u={doubleleftarrow:"<path d='M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z'/>",doublerightarrow:"<path d='M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z'/>",leftarrow:"<path d='M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z'/>",rightarrow:"<path d='M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z'/>"};var c={bcancel:"<line x1='0' y1='0' x2='100%' y2='100%' stroke-width='0.046em'/>",cancel:"<line x1='0' y1='100%' x2='100%' y2='0' stroke-width='0.046em'/>",doubleleftarrow:"><svg viewBox='0 0 400000 549'\npreserveAspectRatio='xMinYMin slice'>"+u["doubleleftarrow"]+"</svg>",doubleleftrightarrow:"><svg width='50.1%' viewBox='0 0 400000 549'\npreserveAspectRatio='xMinYMin slice'>"+u["doubleleftarrow"]+"</svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 549' preserveAspectRatio='xMaxYMin\n slice'>"+u["doublerightarrow"]+"</svg>",doublerightarrow:"><svg viewBox='0 0 400000 549'\npreserveAspectRatio='xMaxYMin slice'>"+u["doublerightarrow"]+"</svg>",hookleftarrow:"><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'>"+u["leftarrow"]+"</svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'><path d='M399859 241c-764 0 0 0 0 0 40-3.3 68.7\n -15.7 86-37 10-12 15-25.3 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5\n -23-17.3-1.3-26-8-26-20 0-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21\n 16.7 14 11.2 21 33.5 21 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z\n M0 281v-40h399859v40z'/></svg>",hookrightarrow:"><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'><path d='M400000 281\nH103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5-83.5C70.8 58.2 104 47 142 47\nc16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3-68.7 15.7-86 37-10 12-15 25.3\n-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21 71.5 23h399859zM103 281v-40\nh399897v40z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMaxYMin slice'>"+u["rightarrow"]+"</svg>",leftarrow:"><svg viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin\n slice'>"+u["leftarrow"]+"</svg>",leftharpoon:"><svg viewBox='0 0 400000 522' preserveAspectRatio='xMinYMin\n slice'><path d='M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z'/></svg>",leftharpoondown:"><svg viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'><path d=\"M7 241c-4 4-6.333 8.667-7 14\n 0 5.333.667 9 2 11s5.333 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667\n 6.333 16.333 9 17 2 .667 5 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21\n -32-87.333-82.667-157.667-152-211l-3-3h399907v-40z\nM93 281 H400000 v-40L7 241z\"/></svg>",leftrightarrow:"><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'>"+u["leftarrow"]+"</svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'>"+u["rightarrow"]+"</svg>",leftrightharpoons:"><svg width='50.1%' viewBox='0 0 400000 716'\npreserveAspectRatio='xMinYMin slice'><path d='M0 267c.7 5.3\n 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52\n 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8\n 16c-42 98.7-107.3 174.7-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26\nv40h399900v-40zM0 435v40h400000v-40zm0 0v40h400000v-40z'/></svg>\n<svg x='50%' width='50%' viewBox='0 0 400000 716' preserveAspectRatio='xMaxYMin\n slice'><path d='M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z'/></svg>",linesegment:"><svg width='50.1%' viewBox='0 0 400000 414'\npreserveAspectRatio='xMinYMin slice'><path d='M40 187V40H0\nv334h40V227h399960v-40zm0 0V40H0v334h40V227h399960v-40z'/></svg><svg x='50%'\nwidth='50%' viewBox='0 0 400000 414' preserveAspectRatio='xMaxYMin slice'>\n<path d='M0 187v40h399960v147h40V40h-40v147zm0\n 0v40h399960v147h40V40h-40v147z'/></svg>",longequal:" viewBox='0 0 100 334' preserveAspectRatio='none'>\n<path d='M0 50h100v40H0zm0 194h100v40H0z'/>",mapsto:"><svg width='50.1%' viewBox='0 0 400000 522'\npreserveAspectRatio='xMinYMin slice'><path d='M40 241c740\n 0 0 0 0 0v-75c0-40.7-.2-64.3-.5-71-.3-6.7-2.2-11.7-5.5-15-4-4-8.7-6-14-6-5.3 0\n-10 2-14 6C2.7 83.3.8 91.3.5 104 .2 116.7 0 169 0 261c0 114 .7 172.3 2 175 4 8\n 10 12 18 12 5.3 0 10-2 14-6 3.3-3.3 5.2-8.3 5.5-15 .3-6.7.5-30.3.5-71v-75\nh399960zm0 0v40h399960v-40z'/></svg><svg x='50%' width='50%' viewBox='0 0\n 400000 522' preserveAspectRatio='xMaxYMin slice'>"+u["rightarrow"]+"</svg>",overbrace:"><svg width='25.5%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMinYMin slice'><path d='M6 548l-6-6\nv-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117-45 179-50h399577v120H403\nc-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7 5-6 9-10 13-.7 1-7.3 1-20 1\nH6z'/></svg><svg x='25%' width='50%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMidYMin slice'><path d='M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z'/></svg>\n<svg x='74.9%' width='24.1%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMaxYMin slice'><path d='M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z'/></svg>",overgroup:"><svg width='50.1%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMinYMin slice'><path d='M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMaxYMin slice'><path d='M0 80h399565\nc371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0 3-1 3-3v-38\nc-76-158-257-219-435-219H0z'/></svg>",rightarrow:"><svg viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'>"+u["rightarrow"]+"</svg>",rightharpoon:"><svg viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin\n slice'><path d='M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z'/></svg>",rightharpoondown:"><svg viewBox='0 0 400000 522'\npreserveAspectRatio='xMaxYMin slice'><path d='M399747 511\nc0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217\n 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3\n -10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3\n 8.7-5 14-5 16zM0 241v40h399900v-40z'/></svg>",rightleftharpoons:"><svg width='50%' viewBox='0 0 400000 716'\npreserveAspectRatio='xMinYMin slice'><path d='M7 435c-4 4\n-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12 10c90.7 54 156 130 196 228 3.3 10.7 6.3\n 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7\n-157.7-152-211l-3-3h399907v-40H7zm93 0v40h399900v-40zM0 241v40h399900v-40z\nm0 0v40h399900v-40z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 716'\npreserveAspectRatio='xMaxYMin slice'><path d='M0 241v40\nh399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3\n-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42\n 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5zm0 0v40h399900v-40z\n m100 194v40h399900v-40zm0 0v40h399900v-40z'/></svg>",tilde1:" viewBox='0 0 600 260' preserveAspectRatio='none'>\n<path d='M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z'/>",tilde2:" viewBox='0 0 1033 286' preserveAspectRatio='none'>\n<path d='M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z'/>",tilde3:" viewBox='0 0 2339 306' preserveAspectRatio='none'>\n<path d='M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z'/>",tilde4:" viewBox='0 0 2340 312' preserveAspectRatio='none'>\n<path d='M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z'/>",tofrom:"><svg width='50.1%' viewBox='0 0 400000 528'\npreserveAspectRatio='xMinYMin slice'><path d='M0 147h400000\nv40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37\n-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8c28.7-32 52-65.7 70-101 10.7-23.3\n 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3 68 321 0 361zm0-174v-40h399900\nv40zm100 154v40h399900v-40z'/></svg><svg x='50%' width='50%' viewBox='0 0\n 400000 528' preserveAspectRatio='xMaxYMin slice'><path\nd='M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7\n 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32-52 65.7-70 101-10.7\n 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142-167z\n M100 147v40h399900v-40zM0 341v40h399900v-40z'/></svg>",twoheadleftarrow:"><svg viewBox='0 0 400000 334'\npreserveAspectRatio='xMinYMin slice'><path d='M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z'/>\n</svg>",twoheadrightarrow:"><svg viewBox='0 0 400000 334'\npreserveAspectRatio='xMaxYMin slice'><path d='M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z'/>\n</svg>",underbrace:"><svg width='25.1%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17\nc12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13 35.313 51.3 80.813 93.8 136.5 127.5\n 55.688 33.7 117.188 55.8 184.5 66.5.688 0 2 .3 4 1 18.688 2.7 76 4.3 172 5\nh399450v120H429l-6-1c-124.688-8-235-61.7-331-161C60.687 138.7 32.312 99.3 7 54\nL0 41V6z'/></svg><svg x='25%' width='50%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMidYMin slice'><path d='M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg>\n<svg x='74.9%' width='25.1%' viewBox='0 0 400000 548'\npreserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6\nv35l-6 11c-56 104-135.3 181.3-238 232-57.3 28.7-117 45-179 50H-300V214h399897\nc43.3-7 81-15 113-26 100.7-33 179.7-91 237-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1\nh17z'/></svg>",undergroup:"><svg width='50.1%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMinYMin slice'><path d='M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z'/></svg><svg x='50%' width='50%' viewBox='0 0 400000 342'\npreserveAspectRatio='xMaxYMin slice'><path d='M0 262h399565\nc371 0 266.7-149.4 414-180 5.9-1.2 18 0 18 0 2 0 3 1 3 3v38c-76 158-257\n 219-435 219H0z'/></svg>",widehat1:" viewBox='0 0 1062 239' preserveAspectRatio='none'>\n<path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/>",widehat2:" viewBox='0 0 2364 300' preserveAspectRatio='none'>\n<path d='M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/>",widehat3:" viewBox='0 0 2364 360' preserveAspectRatio='none'>\n<path d='M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/>",widehat4:" viewBox='0 0 2364 420' preserveAspectRatio='none'>\n<path d='M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z'/>",xcancel:"<line x1='0' y1='0' x2='100%' y2='100%' stroke-width='0.046em'/>\n<line x1='0' y1='100%' x2='100%' y2='0' stroke-width='0.046em'/>"};var f=function e(t,r){var n=t.value.label.substr(1);var l=0;var s=0;var u="";var f=0;if(i.contains(["widehat","widetilde","undertilde"],n)){var h=t.value.value.length;if(h>5){l=.312;u=(n==="widehat"?"widehat":"tilde")+"4"}else{var v=[1,1,2,2,3,3][h];if(n==="widehat"){l=[0,.24,.3,.3,.36,.36][h];u="widehat"+v}else{l=[0,.26,.3,.3,.34,.34][h];u="tilde"+v}}}else{var d=o[n];l=d[0];s=d[1];u=d[2];f=d[3]}var p=a.makeSpan([],[],r);p.height=l;p.depth=s;var m=l+s;p.style.height=m+"em";if(f>0){p.style.minWidth=f+"em"}p.innerHTML="<svg width='100%' height='"+m+"em'"+c[u]+"</svg>";return p};var h=function e(t,r,n,i){var l=void 0;var s=t.height+t.depth+2*n;if(r==="fbox"){l=a.makeSpan(["stretchy",r],[],i);if(i.color){l.style.borderColor=i.getColor()}}else{l=a.makeSpan([],[],i);l.innerHTML="<svg width='100%' height='"+s+"em'>"+c[r]+"</svg>"}l.height=s;l.style.height=s+"em";return l};t.exports={encloseSpan:h,mathMLnode:s,svgSpan:f}},{"./buildCommon":34,"./mathMLTree":45,"./utils":51}],48:[function(e,t,r){"use strict";t.exports={math:{},text:{}};function a(e,r,a,n,i,l){t.exports[e][i]={
+font:r,group:a,replace:n};if(l){t.exports[e][n]=t.exports[e][i]}}var n="math";var i="text";var l="main";var s="ams";var o="accent";var u="bin";var c="close";var f="inner";var h="mathord";var v="op";var d="open";var p="punct";var m="rel";var g="spacing";var y="textord";a(n,l,m,"\u2261","\\equiv");a(n,l,m,"\u227a","\\prec");a(n,l,m,"\u227b","\\succ");a(n,l,m,"\u223c","\\sim");a(n,l,m,"\u22a5","\\perp");a(n,l,m,"\u2aaf","\\preceq");a(n,l,m,"\u2ab0","\\succeq");a(n,l,m,"\u2243","\\simeq");a(n,l,m,"\u2223","\\mid");a(n,l,m,"\u226a","\\ll");a(n,l,m,"\u226b","\\gg");a(n,l,m,"\u224d","\\asymp");a(n,l,m,"\u2225","\\parallel");a(n,l,m,"\u22c8","\\bowtie");a(n,l,m,"\u2323","\\smile");a(n,l,m,"\u2291","\\sqsubseteq");a(n,l,m,"\u2292","\\sqsupseteq");a(n,l,m,"\u2250","\\doteq");a(n,l,m,"\u2322","\\frown");a(n,l,m,"\u220b","\\ni");a(n,l,m,"\u221d","\\propto");a(n,l,m,"\u22a2","\\vdash");a(n,l,m,"\u22a3","\\dashv");a(n,l,m,"\u220b","\\owns");a(n,l,p,".","\\ldotp");a(n,l,p,"\u22c5","\\cdotp");a(n,l,y,"#","\\#");a(i,l,y,"#","\\#");a(n,l,y,"&","\\&");a(i,l,y,"&","\\&");a(n,l,y,"\u2135","\\aleph");a(n,l,y,"\u2200","\\forall");a(n,l,y,"\u210f","\\hbar");a(n,l,y,"\u2203","\\exists");a(n,l,y,"\u2207","\\nabla");a(n,l,y,"\u266d","\\flat");a(n,l,y,"\u2113","\\ell");a(n,l,y,"\u266e","\\natural");a(n,l,y,"\u2663","\\clubsuit");a(n,l,y,"\u2118","\\wp");a(n,l,y,"\u266f","\\sharp");a(n,l,y,"\u2662","\\diamondsuit");a(n,l,y,"\u211c","\\Re");a(n,l,y,"\u2661","\\heartsuit");a(n,l,y,"\u2111","\\Im");a(n,l,y,"\u2660","\\spadesuit");a(n,l,y,"\u2020","\\dag");a(i,l,y,"\u2020","\\dag");a(i,l,y,"\u2020","\\textdagger");a(n,l,y,"\u2021","\\ddag");a(i,l,y,"\u2021","\\ddag");a(i,l,y,"\u2020","\\textdaggerdbl");a(n,l,c,"\u23b1","\\rmoustache");a(n,l,d,"\u23b0","\\lmoustache");a(n,l,c,"\u27ef","\\rgroup");a(n,l,d,"\u27ee","\\lgroup");a(n,l,u,"\u2213","\\mp");a(n,l,u,"\u2296","\\ominus");a(n,l,u,"\u228e","\\uplus");a(n,l,u,"\u2293","\\sqcap");a(n,l,u,"\u2217","\\ast");a(n,l,u,"\u2294","\\sqcup");a(n,l,u,"\u25ef","\\bigcirc");a(n,l,u,"\u2219","\\bullet");a(n,l,u,"\u2021","\\ddagger");a(n,l,u,"\u2240","\\wr");a(n,l,u,"\u2a3f","\\amalg");a(n,l,m,"\u27f5","\\longleftarrow");a(n,l,m,"\u21d0","\\Leftarrow");a(n,l,m,"\u27f8","\\Longleftarrow");a(n,l,m,"\u27f6","\\longrightarrow");a(n,l,m,"\u21d2","\\Rightarrow");a(n,l,m,"\u27f9","\\Longrightarrow");a(n,l,m,"\u2194","\\leftrightarrow");a(n,l,m,"\u27f7","\\longleftrightarrow");a(n,l,m,"\u21d4","\\Leftrightarrow");a(n,l,m,"\u27fa","\\Longleftrightarrow");a(n,l,m,"\u21a6","\\mapsto");a(n,l,m,"\u27fc","\\longmapsto");a(n,l,m,"\u2197","\\nearrow");a(n,l,m,"\u21a9","\\hookleftarrow");a(n,l,m,"\u21aa","\\hookrightarrow");a(n,l,m,"\u2198","\\searrow");a(n,l,m,"\u21bc","\\leftharpoonup");a(n,l,m,"\u21c0","\\rightharpoonup");a(n,l,m,"\u2199","\\swarrow");a(n,l,m,"\u21bd","\\leftharpoondown");a(n,l,m,"\u21c1","\\rightharpoondown");a(n,l,m,"\u2196","\\nwarrow");a(n,l,m,"\u21cc","\\rightleftharpoons");a(n,s,m,"\u226e","\\nless");a(n,s,m,"\ue010","\\nleqslant");a(n,s,m,"\ue011","\\nleqq");a(n,s,m,"\u2a87","\\lneq");a(n,s,m,"\u2268","\\lneqq");a(n,s,m,"\ue00c","\\lvertneqq");a(n,s,m,"\u22e6","\\lnsim");a(n,s,m,"\u2a89","\\lnapprox");a(n,s,m,"\u2280","\\nprec");a(n,s,m,"\u22e0","\\npreceq");a(n,s,m,"\u22e8","\\precnsim");a(n,s,m,"\u2ab9","\\precnapprox");a(n,s,m,"\u2241","\\nsim");a(n,s,m,"\ue006","\\nshortmid");a(n,s,m,"\u2224","\\nmid");a(n,s,m,"\u22ac","\\nvdash");a(n,s,m,"\u22ad","\\nvDash");a(n,s,m,"\u22ea","\\ntriangleleft");a(n,s,m,"\u22ec","\\ntrianglelefteq");a(n,s,m,"\u228a","\\subsetneq");a(n,s,m,"\ue01a","\\varsubsetneq");a(n,s,m,"\u2acb","\\subsetneqq");a(n,s,m,"\ue017","\\varsubsetneqq");a(n,s,m,"\u226f","\\ngtr");a(n,s,m,"\ue00f","\\ngeqslant");a(n,s,m,"\ue00e","\\ngeqq");a(n,s,m,"\u2a88","\\gneq");a(n,s,m,"\u2269","\\gneqq");a(n,s,m,"\ue00d","\\gvertneqq");a(n,s,m,"\u22e7","\\gnsim");a(n,s,m,"\u2a8a","\\gnapprox");a(n,s,m,"\u2281","\\nsucc");a(n,s,m,"\u22e1","\\nsucceq");a(n,s,m,"\u22e9","\\succnsim");a(n,s,m,"\u2aba","\\succnapprox");a(n,s,m,"\u2246","\\ncong");a(n,s,m,"\ue007","\\nshortparallel");a(n,s,m,"\u2226","\\nparallel");a(n,s,m,"\u22af","\\nVDash");a(n,s,m,"\u22eb","\\ntriangleright");a(n,s,m,"\u22ed","\\ntrianglerighteq");a(n,s,m,"\ue018","\\nsupseteqq");a(n,s,m,"\u228b","\\supsetneq");a(n,s,m,"\ue01b","\\varsupsetneq");a(n,s,m,"\u2acc","\\supsetneqq");a(n,s,m,"\ue019","\\varsupsetneqq");a(n,s,m,"\u22ae","\\nVdash");a(n,s,m,"\u2ab5","\\precneqq");a(n,s,m,"\u2ab6","\\succneqq");a(n,s,m,"\ue016","\\nsubseteqq");a(n,s,u,"\u22b4","\\unlhd");a(n,s,u,"\u22b5","\\unrhd");a(n,s,m,"\u219a","\\nleftarrow");a(n,s,m,"\u219b","\\nrightarrow");a(n,s,m,"\u21cd","\\nLeftarrow");a(n,s,m,"\u21cf","\\nRightarrow");a(n,s,m,"\u21ae","\\nleftrightarrow");a(n,s,m,"\u21ce","\\nLeftrightarrow");a(n,s,m,"\u25b3","\\vartriangle");a(n,s,y,"\u210f","\\hslash");a(n,s,y,"\u25bd","\\triangledown");a(n,s,y,"\u25ca","\\lozenge");a(n,s,y,"\u24c8","\\circledS");a(n,s,y,"\xae","\\circledR");a(i,s,y,"\xae","\\circledR");a(n,s,y,"\u2221","\\measuredangle");a(n,s,y,"\u2204","\\nexists");a(n,s,y,"\u2127","\\mho");a(n,s,y,"\u2132","\\Finv");a(n,s,y,"\u2141","\\Game");a(n,s,y,"k","\\Bbbk");a(n,s,y,"\u2035","\\backprime");a(n,s,y,"\u25b2","\\blacktriangle");a(n,s,y,"\u25bc","\\blacktriangledown");a(n,s,y,"\u25a0","\\blacksquare");a(n,s,y,"\u29eb","\\blacklozenge");a(n,s,y,"\u2605","\\bigstar");a(n,s,y,"\u2222","\\sphericalangle");a(n,s,y,"\u2201","\\complement");a(n,s,y,"\xf0","\\eth");a(n,s,y,"\u2571","\\diagup");a(n,s,y,"\u2572","\\diagdown");a(n,s,y,"\u25a1","\\square");a(n,s,y,"\u25a1","\\Box");a(n,s,y,"\u25ca","\\Diamond");a(n,s,y,"\xa5","\\yen");a(n,s,y,"\u2713","\\checkmark");a(i,s,y,"\u2713","\\checkmark");a(n,s,y,"\u2136","\\beth");a(n,s,y,"\u2138","\\daleth");a(n,s,y,"\u2137","\\gimel");a(n,s,y,"\u03dd","\\digamma");a(n,s,y,"\u03f0","\\varkappa");a(n,s,d,"\u250c","\\ulcorner");a(n,s,c,"\u2510","\\urcorner");a(n,s,d,"\u2514","\\llcorner");a(n,s,c,"\u2518","\\lrcorner");a(n,s,m,"\u2266","\\leqq");a(n,s,m,"\u2a7d","\\leqslant");a(n,s,m,"\u2a95","\\eqslantless");a(n,s,m,"\u2272","\\lesssim");a(n,s,m,"\u2a85","\\lessapprox");a(n,s,m,"\u224a","\\approxeq");a(n,s,u,"\u22d6","\\lessdot");a(n,s,m,"\u22d8","\\lll");a(n,s,m,"\u2276","\\lessgtr");a(n,s,m,"\u22da","\\lesseqgtr");a(n,s,m,"\u2a8b","\\lesseqqgtr");a(n,s,m,"\u2251","\\doteqdot");a(n,s,m,"\u2253","\\risingdotseq");a(n,s,m,"\u2252","\\fallingdotseq");a(n,s,m,"\u223d","\\backsim");a(n,s,m,"\u22cd","\\backsimeq");a(n,s,m,"\u2ac5","\\subseteqq");a(n,s,m,"\u22d0","\\Subset");a(n,s,m,"\u228f","\\sqsubset");a(n,s,m,"\u227c","\\preccurlyeq");a(n,s,m,"\u22de","\\curlyeqprec");a(n,s,m,"\u227e","\\precsim");a(n,s,m,"\u2ab7","\\precapprox");a(n,s,m,"\u22b2","\\vartriangleleft");a(n,s,m,"\u22b4","\\trianglelefteq");a(n,s,m,"\u22a8","\\vDash");a(n,s,m,"\u22aa","\\Vvdash");a(n,s,m,"\u2323","\\smallsmile");a(n,s,m,"\u2322","\\smallfrown");a(n,s,m,"\u224f","\\bumpeq");a(n,s,m,"\u224e","\\Bumpeq");a(n,s,m,"\u2267","\\geqq");a(n,s,m,"\u2a7e","\\geqslant");a(n,s,m,"\u2a96","\\eqslantgtr");a(n,s,m,"\u2273","\\gtrsim");a(n,s,m,"\u2a86","\\gtrapprox");a(n,s,u,"\u22d7","\\gtrdot");a(n,s,m,"\u22d9","\\ggg");a(n,s,m,"\u2277","\\gtrless");a(n,s,m,"\u22db","\\gtreqless");a(n,s,m,"\u2a8c","\\gtreqqless");a(n,s,m,"\u2256","\\eqcirc");a(n,s,m,"\u2257","\\circeq");a(n,s,m,"\u225c","\\triangleq");a(n,s,m,"\u223c","\\thicksim");a(n,s,m,"\u2248","\\thickapprox");a(n,s,m,"\u2ac6","\\supseteqq");a(n,s,m,"\u22d1","\\Supset");a(n,s,m,"\u2290","\\sqsupset");a(n,s,m,"\u227d","\\succcurlyeq");a(n,s,m,"\u22df","\\curlyeqsucc");a(n,s,m,"\u227f","\\succsim");a(n,s,m,"\u2ab8","\\succapprox");a(n,s,m,"\u22b3","\\vartriangleright");a(n,s,m,"\u22b5","\\trianglerighteq");a(n,s,m,"\u22a9","\\Vdash");a(n,s,m,"\u2223","\\shortmid");a(n,s,m,"\u2225","\\shortparallel");a(n,s,m,"\u226c","\\between");a(n,s,m,"\u22d4","\\pitchfork");a(n,s,m,"\u221d","\\varpropto");a(n,s,m,"\u25c0","\\blacktriangleleft");a(n,s,m,"\u2234","\\therefore");a(n,s,m,"\u220d","\\backepsilon");a(n,s,m,"\u25b6","\\blacktriangleright");a(n,s,m,"\u2235","\\because");a(n,s,m,"\u22d8","\\llless");a(n,s,m,"\u22d9","\\gggtr");a(n,s,u,"\u22b2","\\lhd");a(n,s,u,"\u22b3","\\rhd");a(n,s,m,"\u2242","\\eqsim");a(n,l,m,"\u22c8","\\Join");a(n,s,m,"\u2251","\\Doteq");a(n,s,u,"\u2214","\\dotplus");a(n,s,u,"\u2216","\\smallsetminus");a(n,s,u,"\u22d2","\\Cap");a(n,s,u,"\u22d3","\\Cup");a(n,s,u,"\u2a5e","\\doublebarwedge");a(n,s,u,"\u229f","\\boxminus");a(n,s,u,"\u229e","\\boxplus");a(n,s,u,"\u22c7","\\divideontimes");a(n,s,u,"\u22c9","\\ltimes");a(n,s,u,"\u22ca","\\rtimes");a(n,s,u,"\u22cb","\\leftthreetimes");a(n,s,u,"\u22cc","\\rightthreetimes");a(n,s,u,"\u22cf","\\curlywedge");a(n,s,u,"\u22ce","\\curlyvee");a(n,s,u,"\u229d","\\circleddash");a(n,s,u,"\u229b","\\circledast");a(n,s,u,"\u22c5","\\centerdot");a(n,s,u,"\u22ba","\\intercal");a(n,s,u,"\u22d2","\\doublecap");a(n,s,u,"\u22d3","\\doublecup");a(n,s,u,"\u22a0","\\boxtimes");a(n,s,m,"\u21e2","\\dashrightarrow");a(n,s,m,"\u21e0","\\dashleftarrow");a(n,s,m,"\u21c7","\\leftleftarrows");a(n,s,m,"\u21c6","\\leftrightarrows");a(n,s,m,"\u21da","\\Lleftarrow");a(n,s,m,"\u219e","\\twoheadleftarrow");a(n,s,m,"\u21a2","\\leftarrowtail");a(n,s,m,"\u21ab","\\looparrowleft");a(n,s,m,"\u21cb","\\leftrightharpoons");a(n,s,m,"\u21b6","\\curvearrowleft");a(n,s,m,"\u21ba","\\circlearrowleft");a(n,s,m,"\u21b0","\\Lsh");a(n,s,m,"\u21c8","\\upuparrows");a(n,s,m,"\u21bf","\\upharpoonleft");a(n,s,m,"\u21c3","\\downharpoonleft");a(n,s,m,"\u22b8","\\multimap");a(n,s,m,"\u21ad","\\leftrightsquigarrow");a(n,s,m,"\u21c9","\\rightrightarrows");a(n,s,m,"\u21c4","\\rightleftarrows");a(n,s,m,"\u21a0","\\twoheadrightarrow");a(n,s,m,"\u21a3","\\rightarrowtail");a(n,s,m,"\u21ac","\\looparrowright");a(n,s,m,"\u21b7","\\curvearrowright");a(n,s,m,"\u21bb","\\circlearrowright");a(n,s,m,"\u21b1","\\Rsh");a(n,s,m,"\u21ca","\\downdownarrows");a(n,s,m,"\u21be","\\upharpoonright");a(n,s,m,"\u21c2","\\downharpoonright");a(n,s,m,"\u21dd","\\rightsquigarrow");a(n,s,m,"\u21dd","\\leadsto");a(n,s,m,"\u21db","\\Rrightarrow");a(n,s,m,"\u21be","\\restriction");a(n,l,y,"\u2018","`");a(n,l,y,"$","\\$");a(i,l,y,"$","\\$");a(i,l,y,"$","\\textdollar");a(n,l,y,"%","\\%");a(i,l,y,"%","\\%");a(n,l,y,"_","\\_");a(i,l,y,"_","\\_");a(i,l,y,"_","\\textunderscore");a(n,l,y,"\u2220","\\angle");a(n,l,y,"\u221e","\\infty");a(n,l,y,"\u2032","\\prime");a(n,l,y,"\u25b3","\\triangle");a(n,l,y,"\u0393","\\Gamma",true);a(n,l,y,"\u0394","\\Delta",true);a(n,l,y,"\u0398","\\Theta",true);a(n,l,y,"\u039b","\\Lambda",true);a(n,l,y,"\u039e","\\Xi",true);a(n,l,y,"\u03a0","\\Pi",true);a(n,l,y,"\u03a3","\\Sigma",true);a(n,l,y,"\u03a5","\\Upsilon",true);a(n,l,y,"\u03a6","\\Phi",true);a(n,l,y,"\u03a8","\\Psi",true);a(n,l,y,"\u03a9","\\Omega",true);a(n,l,y,"\xac","\\neg");a(n,l,y,"\xac","\\lnot");a(n,l,y,"\u22a4","\\top");a(n,l,y,"\u22a5","\\bot");a(n,l,y,"\u2205","\\emptyset");a(n,s,y,"\u2205","\\varnothing");a(n,l,h,"\u03b1","\\alpha",true);a(n,l,h,"\u03b2","\\beta",true);a(n,l,h,"\u03b3","\\gamma",true);a(n,l,h,"\u03b4","\\delta",true);a(n,l,h,"\u03f5","\\epsilon",true);a(n,l,h,"\u03b6","\\zeta",true);a(n,l,h,"\u03b7","\\eta",true);a(n,l,h,"\u03b8","\\theta",true);a(n,l,h,"\u03b9","\\iota",true);a(n,l,h,"\u03ba","\\kappa",true);a(n,l,h,"\u03bb","\\lambda",true);a(n,l,h,"\u03bc","\\mu",true);a(n,l,h,"\u03bd","\\nu",true);a(n,l,h,"\u03be","\\xi",true);a(n,l,h,"\u03bf","\\omicron",true);a(n,l,h,"\u03c0","\\pi",true);a(n,l,h,"\u03c1","\\rho",true);a(n,l,h,"\u03c3","\\sigma",true);a(n,l,h,"\u03c4","\\tau",true);a(n,l,h,"\u03c5","\\upsilon",true);a(n,l,h,"\u03d5","\\phi",true);a(n,l,h,"\u03c7","\\chi",true);a(n,l,h,"\u03c8","\\psi",true);a(n,l,h,"\u03c9","\\omega",true);a(n,l,h,"\u03b5","\\varepsilon",true);a(n,l,h,"\u03d1","\\vartheta",true);a(n,l,h,"\u03d6","\\varpi",true);a(n,l,h,"\u03f1","\\varrho",true);a(n,l,h,"\u03c2","\\varsigma",true);a(n,l,h,"\u03c6","\\varphi",true);a(n,l,u,"\u2217","*");a(n,l,u,"+","+");a(n,l,u,"\u2212","-");a(n,l,u,"\u22c5","\\cdot");a(n,l,u,"\u2218","\\circ");a(n,l,u,"\xf7","\\div");a(n,l,u,"\xb1","\\pm");a(n,l,u,"\xd7","\\times");a(n,l,u,"\u2229","\\cap");a(n,l,u,"\u222a","\\cup");a(n,l,u,"\u2216","\\setminus");a(n,l,u,"\u2227","\\land");a(n,l,u,"\u2228","\\lor");a(n,l,u,"\u2227","\\wedge");a(n,l,u,"\u2228","\\vee");a(n,l,y,"\u221a","\\surd");a(n,l,d,"(","(");a(n,l,d,"[","[");a(n,l,d,"\u27e8","\\langle");a(n,l,d,"\u2223","\\lvert");a(n,l,d,"\u2225","\\lVert");a(n,l,c,")",")");a(n,l,c,"]","]");a(n,l,c,"?","?");a(n,l,c,"!","!");a(n,l,c,"\u27e9","\\rangle");a(n,l,c,"\u2223","\\rvert");a(n,l,c,"\u2225","\\rVert");a(n,l,m,"=","=");a(n,l,m,"<","<");a(n,l,m,">",">");a(n,l,m,":",":");a(n,l,m,"\u2248","\\approx");a(n,l,m,"\u2245","\\cong");a(n,l,m,"\u2265","\\ge");a(n,l,m,"\u2265","\\geq");a(n,l,m,"\u2190","\\gets");a(n,l,m,">","\\gt");a(n,l,m,"\u2208","\\in");a(n,l,m,"\u2209","\\notin");a(n,l,m,"\u0338","\\not");a(n,l,m,"\u2282","\\subset");a(n,l,m,"\u2283","\\supset");a(n,l,m,"\u2286","\\subseteq");a(n,l,m,"\u2287","\\supseteq");a(n,s,m,"\u2288","\\nsubseteq");a(n,s,m,"\u2289","\\nsupseteq");a(n,l,m,"\u22a8","\\models");a(n,l,m,"\u2190","\\leftarrow");a(n,l,m,"\u2264","\\le");a(n,l,m,"\u2264","\\leq");a(n,l,m,"<","\\lt");a(n,l,m,"\u2260","\\ne");a(n,l,m,"\u2260","\\neq");a(n,l,m,"\u2192","\\rightarrow");a(n,l,m,"\u2192","\\to");a(n,s,m,"\u2271","\\ngeq");a(n,s,m,"\u2270","\\nleq");a(n,l,g,null,"\\!");a(n,l,g,"\xa0","\\ ");a(n,l,g,"\xa0","~");a(n,l,g,null,"\\,");a(n,l,g,null,"\\:");a(n,l,g,null,"\\;");a(n,l,g,null,"\\enspace");a(n,l,g,null,"\\qquad");a(n,l,g,null,"\\quad");a(n,l,g,"\xa0","\\space");a(n,l,p,",",",");a(n,l,p,";",";");a(n,l,p,":","\\colon");a(n,s,u,"\u22bc","\\barwedge");a(n,s,u,"\u22bb","\\veebar");a(n,l,u,"\u2299","\\odot");a(n,l,u,"\u2295","\\oplus");a(n,l,u,"\u2297","\\otimes");a(n,l,y,"\u2202","\\partial");a(n,l,u,"\u2298","\\oslash");a(n,s,u,"\u229a","\\circledcirc");a(n,s,u,"\u22a1","\\boxdot");a(n,l,u,"\u25b3","\\bigtriangleup");a(n,l,u,"\u25bd","\\bigtriangledown");a(n,l,u,"\u2020","\\dagger");a(n,l,u,"\u22c4","\\diamond");a(n,l,u,"\u22c6","\\star");a(n,l,u,"\u25c3","\\triangleleft");a(n,l,u,"\u25b9","\\triangleright");a(n,l,d,"{","\\{");a(i,l,y,"{","\\{");a(i,l,y,"{","\\textbraceleft");a(n,l,c,"}","\\}");a(i,l,y,"}","\\}");a(i,l,y,"}","\\textbraceright");a(n,l,d,"{","\\lbrace");a(n,l,c,"}","\\rbrace");a(n,l,d,"[","\\lbrack");a(n,l,c,"]","\\rbrack");a(i,l,y,"<","\\textless");a(i,l,y,">","\\textgreater");a(n,l,d,"\u230a","\\lfloor");a(n,l,c,"\u230b","\\rfloor");a(n,l,d,"\u2308","\\lceil");a(n,l,c,"\u2309","\\rceil");a(n,l,y,"\\","\\backslash");a(n,l,y,"\u2223","|");a(n,l,y,"\u2223","\\vert");a(i,l,y,"|","\\textbar");a(n,l,y,"\u2225","\\|");a(n,l,y,"\u2225","\\Vert");a(i,l,y,"\u2225","\\textbardbl");a(n,l,m,"\u2191","\\uparrow");a(n,l,m,"\u21d1","\\Uparrow");a(n,l,m,"\u2193","\\downarrow");a(n,l,m,"\u21d3","\\Downarrow");a(n,l,m,"\u2195","\\updownarrow");a(n,l,m,"\u21d5","\\Updownarrow");a(n,l,v,"\u2210","\\coprod");a(n,l,v,"\u22c1","\\bigvee");a(n,l,v,"\u22c0","\\bigwedge");a(n,l,v,"\u2a04","\\biguplus");a(n,l,v,"\u22c2","\\bigcap");a(n,l,v,"\u22c3","\\bigcup");a(n,l,v,"\u222b","\\int");a(n,l,v,"\u222b","\\intop");a(n,l,v,"\u222c","\\iint");a(n,l,v,"\u222d","\\iiint");a(n,l,v,"\u220f","\\prod");a(n,l,v,"\u2211","\\sum");a(n,l,v,"\u2a02","\\bigotimes");a(n,l,v,"\u2a01","\\bigoplus");a(n,l,v,"\u2a00","\\bigodot");a(n,l,v,"\u222e","\\oint");a(n,l,v,"\u2a06","\\bigsqcup");a(n,l,v,"\u222b","\\smallint");a(i,l,f,"\u2026","\\textellipsis");a(n,l,f,"\u2026","\\mathellipsis");a(i,l,f,"\u2026","\\ldots",true);a(n,l,f,"\u2026","\\ldots",true);a(n,l,f,"\u22ef","\\cdots",true);a(n,l,f,"\u22f1","\\ddots",true);a(n,l,y,"\u22ee","\\vdots",true);a(n,l,o,"\xb4","\\acute");a(n,l,o,"`","\\grave");a(n,l,o,"\xa8","\\ddot");a(n,l,o,"~","\\tilde");a(n,l,o,"\xaf","\\bar");a(n,l,o,"\u02d8","\\breve");a(n,l,o,"\u02c7","\\check");a(n,l,o,"^","\\hat");a(n,l,o,"\u20d7","\\vec");a(n,l,o,"\u02d9","\\dot");a(n,l,h,"\u0131","\\imath");a(n,l,h,"\u0237","\\jmath");a(i,l,o,"\u02ca","\\'");a(i,l,o,"\u02cb","\\`");a(i,l,o,"\u02c6","\\^");a(i,l,o,"\u02dc","\\~");a(i,l,o,"\u02c9","\\=");a(i,l,o,"\u02d8","\\u");a(i,l,o,"\u02d9","\\.");a(i,l,o,"\u02da","\\r");a(i,l,o,"\u02c7","\\v");a(i,l,o,"\xa8",'\\"');a(i,l,o,"\u030b","\\H");a(i,l,y,"\u2013","--");a(i,l,y,"\u2013","\\textendash");a(i,l,y,"\u2014","---");a(i,l,y,"\u2014","\\textemdash");a(i,l,y,"\u2018","`");a(i,l,y,"\u2018","\\textquoteleft");a(i,l,y,"\u2019","'");a(i,l,y,"\u2019","\\textquoteright");a(i,l,y,"\u201c","``");a(i,l,y,"\u201c","\\textquotedblleft");a(i,l,y,"\u201d","''");a(i,l,y,"\u201d","\\textquotedblright");a(n,l,y,"\xb0","\\degree");a(i,l,y,"\xb0","\\degree");a(n,l,h,"\xa3","\\pounds");a(n,l,h,"\xa3","\\mathsterling");a(i,l,h,"\xa3","\\pounds");a(i,l,h,"\xa3","\\textsterling");a(n,s,y,"\u2720","\\maltese");a(i,s,y,"\u2720","\\maltese");a(i,l,g,"\xa0","\\ ");a(i,l,g,"\xa0"," ");a(i,l,g,"\xa0","~");var x='0123456789/@."';for(var w=0;w<x.length;w++){var b=x.charAt(w);a(n,l,y,b,b)}var k='0123456789!@*()-=+[]<>|";:?/.,';for(var M=0;M<k.length;M++){var z=k.charAt(M);a(i,l,y,z,z)}var S="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var A=0;A<S.length;A++){var C=S.charAt(A);a(n,l,h,C,C);a(i,l,y,C,C)}for(var T=192;T<=214;T++){var N=String.fromCharCode(T);a(n,l,h,N,N);a(i,l,y,N,N)}for(var R=216;R<=246;R++){var q=String.fromCharCode(R);a(n,l,h,q,q);a(i,l,y,q,q)}for(var _=248;_<=255;_++){var E=String.fromCharCode(_);a(n,l,h,E,E);a(i,l,y,E,E)}for(var B=1040;B<=1103;B++){var O=String.fromCharCode(B);a(i,l,y,O,O)}a(i,l,y,"\u2013","\u2013");a(i,l,y,"\u2014","\u2014");a(i,l,y,"\u2018","\u2018");a(i,l,y,"\u2019","\u2019");a(i,l,y,"\u201c","\u201c");a(i,l,y,"\u201d","\u201d")},{}],49:[function(e,t,r){"use strict";var a=/[\uAC00-\uD7AF]/;var n=/[\u3000-\u30FF\u4E00-\u9FAF\uAC00-\uD7AF\uFF00-\uFF60]/;t.exports={cjkRegex:n,hangulRegex:a}},{}],50:[function(e,t,r){"use strict";var a=e("./ParseError");var n=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var l={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800};var s={ex:true,em:true,mu:true};var o=function e(t){if(t.unit){t=t.unit}return t in l||t in s||t==="ex"};var u=function e(t,r){var a=void 0;if(t.unit in l){a=l[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier}else if(t.unit==="mu"){a=r.fontMetrics().cssEmPerMu}else{var i=void 0;if(r.style.isTight()){i=r.havingStyle(r.style.text())}else{i=r}if(t.unit==="ex"){a=i.fontMetrics().xHeight}else if(t.unit==="em"){a=i.fontMetrics().quad}else{throw new n.default("Invalid unit: '"+t.unit+"'")}if(i!==r){a*=i.sizeMultiplier/r.sizeMultiplier}}return t.number*a};t.exports={validUnit:o,calculateSize:u}},{"./ParseError":29}],51:[function(e,t,r){"use strict";var a=Array.prototype.indexOf;var n=function e(t,r){if(t==null){return-1}if(a&&t.indexOf===a){return t.indexOf(r)}var n=t.length;for(var i=0;i<n;i++){if(t[i]===r){return i}}return-1};var i=function e(t,r){return n(t,r)!==-1};var l=function e(t,r){return t===undefined?r:t};var s=/([A-Z])/g;var o=function e(t){return t.replace(s,"-$1").toLowerCase()};var u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};var c=/[&><"']/g;function f(e){return u[e]}function h(e){return(""+e).replace(c,f)}var v=void 0;if(typeof document!=="undefined"){var d=document.createElement("span");if("textContent"in d){v=function e(t,r){t.textContent=r}}else{v=function e(t,r){t.innerText=r}}}function p(e){v(e,"")}t.exports={contains:i,deflt:l,escape:h,hyphenate:o,indexOf:n,setTextContent:v,clearNode:p}},{}]},{},[1])(1)});
diff --git a/assets/bower_components/webfontloader/CONTRIBUTING.md b/assets/bower_components/webfontloader/CONTRIBUTING.md
deleted file mode 100644
index e1592325..00000000
--- a/assets/bower_components/webfontloader/CONTRIBUTING.md
+++ /dev/null
@@ -1,53 +0,0 @@
-# Contributing
-
-Please open [an issue](https://github.com/typekit/webfontloader/issues) if you find or suspect any problems. Sample pages and test cases are greatly appreciated.
-
-## Development requirements
-
-You'll need a few rubygems to run the tests, demo server, and other rake tasks, which should be installed with [Bundler](http://gembundler.com/).
-
-    $ gem install bundler
-    $ bundle install
-
-To run the tests in a headless WebKit you will also need to have [PhantomJS](http://www.phantomjs.org) installed. You can install PhantomJS by downloading a binary or using HomeBrew.
-
-    $ brew install phantomjs
-
-## Building
-
-To build a JS file from source, just run rake:
-
-    $ rake
-
-If you want to build a JS file with only specific modules you can specify them on the command line:
-
-    $ rake compile['custom google typekit']
-
-This will compile a JS file with only the `custom`, `google` and `typekit` modules. The available modules are: `custom`, `google`, `typekit`, `ascender`, `monotype`, `fontdeck`. By default all modules are included.
-
-## Demos
-
-A full suite of demo pages is included in this source. Here you can find some
-live examples using the JS and CSS events. Run the demo server with:
-
-    $ rake demo
-
-You can also run the demos with uncompressed, debuggable code to aid in
-development. Just start the server in dev mode:
-
-    $ rake demodev
-
-Browse the demos [source code](http://github.com/typekit/webfontloader/blob/master/lib/webfontloader/demo/public).
-
-## Testing
-
-Web Font Loader has an extensive test suite that runs via Jasmine. The test suite
-should be passing before submitting a pull request, and new tests should be added for any new functionality.
-
-To run tests, open up `spec/index.html` in a browser and check the results. The
-test suite will run automatically. Again, before submitting a pull request
-please run the test suite in multiple browsers and list them in the pull request.
-
-To run tests in a headless WebKit using [PhantomJS](http://www.phantomjs.org) run:
-
-    $ rake test
diff --git a/assets/bower_components/webfontloader/README.md b/assets/bower_components/webfontloader/README.md
deleted file mode 100644
index 097b841e..00000000
--- a/assets/bower_components/webfontloader/README.md
+++ /dev/null
@@ -1,394 +0,0 @@
-# Web Font Loader
-
-Web Font Loader gives you added control when using linked fonts via `@font-face`. It provides a common interface to loading fonts regardless of the source, then adds a standard set of events you may use to control the loading experience. The Web Font Loader is able to load fonts from [Google Fonts](http://www.google.com/fonts/), [Typekit](http://www.typekit.com/),  [Fonts.com](http://www.fonts.com/), and [Fontdeck](http://fontdeck.com/), as well as self-hosted web fonts. It is co-developed by [Google](http://www.google.com/) and [Typekit](http://www.typekit.com).
-
-[![Build Status](https://travis-ci.org/typekit/webfontloader.svg?branch=master)](https://travis-ci.org/typekit/webfontloader)
-
-## Contents
-
-* [Get started](#get-started)
-* [Configuration](#configuration)
-    * [Events](#events)
-    * [Timeout](#timeouts)
-    * [Iframes](#iframes)
-* [Modules](#modules)
-    * [Adobe Edge Web Fonts](#adobe-edge-web-fonts)
-    * [Custom](#custom)
-    * [Fontdeck](#fontdeck)
-    * [Fonts.com](#fontscom)
-    * [Google](#google)
-    * [Typekit](#typekit)
-* [Browser support](#browser-support)
-* [License](#copyright-and-license)
-
-## Get Started
-
-To use the Web Font Loader library, just include it in your page and tell it which fonts to load. For example, you could load fonts from [Google Fonts](http://www.google.com/fonts/) using the Web Font Loader hosted on [Google Hosted Libraries](https://developers.google.com/speed/libraries/) using the following code.
-
-```html
-<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
-<script>
-  WebFont.load({
-    google: {
-      families: ['Droid Sans', 'Droid Serif']
-    }
-  });
-</script>
-```
-
-Alternatively, you can link to the latest `1.x` version of the Web Font Loader by using `https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js` as the `script` source. Note that the version in this url is less specific. It will always load the latest `1.x` version, but it also has a shorter cache time to ensure that your page gets updates in a timely manner. For performance reasons, we recommend using an explicit version number (such as `1.6.26`) in urls when using the Web Font Loader in production. You can manually update the Web Font Loader version number in the url when you want to adopt a new version.
-
-Web Font Loader is also available on the [jsDelivr](http://www.jsdelivr.com/projects/webfontloader) & [CDNJS](https://cdnjs.com/libraries/webfont) CDNs.
-
-It is also possible to use the Web Font Loader asynchronously. For example, to load [Typekit](http://www.typekit.com) fonts asynchronously, you could use the following code.
-
-```html
-<script>
-   WebFontConfig = {
-      typekit: { id: 'xxxxxx' }
-   };
-
-   (function(d) {
-      var wf = d.createElement('script'), s = d.scripts[0];
-      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js';
-      wf.async = true;
-      s.parentNode.insertBefore(wf, s);
-   })(document);
-</script>
-```
-
-Using the Web Font Loader asynchronously avoids blocking your page while loading the JavaScript. Be aware that if the script is used asynchronously, the rest of the page might render before the Web Font Loader is loaded and executed, which can cause a [Flash of Unstyled Text (FOUT)](http://help.typekit.com/customer/portal/articles/6852).
-
-The FOUT can be more easily avoided when loading the Web Font Loader synchronously, as it will automatically set the `wf-loading` class on the HTML element as soon as `Webfont.load` has been called. The browser will wait for the script to load before continuing to load the rest of the content, FOUT is avoided.
-
-Web Font Loader is also available on npm as a CommonJS module. Just `npm install webfontloader` and then require it in your code.
-
-```js
-  var WebFont = require('webfontloader');
-
-  WebFont.load({
-    google: {
-      families: ['Droid Sans', 'Droid Serif']
-    }
-  });
-```
-
-## Configuration
-
-The Web Font Loader configuration is defined by a global variable named `WebFontConfig`, or passed directly to the `WebFont.load` method. It defines which fonts to load from each web font provider and gives you the option to specify callbacks for certain events. When using the asynchronous approach, you must define the global variable `WebFontConfig` before the code that loads the Web Font Loader (as in the example above).
-
-### Events
-
-Web Font Loader provides an event system that developers can hook into. It gives you notifications of the font loading sequence in both CSS and JavaScript.
-
-  * `loading` - This event is triggered when all fonts have been requested.
-  * `active` - This event is triggered when the fonts have rendered.
-  * `inactive` - This event is triggered when the browser does not support linked fonts *or* if none of the fonts could be loaded.
-  * `fontloading` - This event is triggered once for each font that's loaded.
-  * `fontactive` - This event is triggered once for each font that renders.
-  * `fontinactive` - This event is triggered if the font can't be loaded.
-
-CSS events are implemented as classes on the `html` element. The following classes are set on the `html` element:
-
-```css
-.wf-loading
-.wf-active
-.wf-inactive
-.wf-<familyname>-<fvd>-loading
-.wf-<familyname>-<fvd>-active
-.wf-<familyname>-<fvd>-inactive
-```
-
-The `<familyname>` placeholder will be replaced by a sanitized version of the name of each font family. Spaces and underscores are removed from the name, and all characters are converted to lower case. For example, `Droid Sans` becomes `droidsans`. The `<fvd>` placeholder is a [Font Variation Description](https://github.com/typekit/fvd). Put simply, it's a shorthand for describing the style and weight of a particular font. Here are a few examples:
-
-```css
-/* n4 */
-@font-face { font-style: normal; font-weight: normal; }
-
-/* i7 */
-@font-face { font-style: italic; font-weight: bold; }
-```
-
-Keep in mind that `font-weight: normal` maps to `font-weight: 400` and `font-weight: bold` maps to `font-weight: 700`. If no style/weight is specified, the default `n4` (`font-style: normal; font-weight: normal;`) will be used.
-
-If fonts are loaded multiple times on a single page, the CSS classes continue to update to reflect the current state of the page. The global `wf-loading` class is applied whenever fonts are being requested (even if other fonts are already active or inactive). The `wf-inactive` class is applied only if none of the fonts on the page have rendered. Otherwise, the `wf-active` class is applied (even if some fonts are inactive).
-
-JavaScript events are implemented as callback functions on the `WebFontConfig` configuration object.
-
-```javascript
-WebFontConfig = {
-  loading: function() {},
-  active: function() {},
-  inactive: function() {},
-  fontloading: function(familyName, fvd) {},
-  fontactive: function(familyName, fvd) {},
-  fontinactive: function(familyName, fvd) {}
-};
-```
-
-The `fontloading`, `fontactive` and `fontinactive` callbacks are passed the family name and font variation description of the font that concerns the event.
-
-It is possible to disable setting classes on the HTML element by setting the `classes` configuration parameter to `false` (defaults to `true`).
-
-```javascript
-WebFontConfig = {
-  classes: false
-};
-```
-
-You can also disable font events (callbacks) by setting the `events` parameter to `false` (defaults to `true`).
-
-```javascript
-WebFontConfig = {
-  events: false
-};
-```
-
-If both events and classes are disabled, the Web Font Loader does not perform font watching and only acts as a way to insert @font-face rules in the document.
-
-### Timeouts
-
-Since the Internet is not 100% reliable, it's possible that a font will fail to load. The `fontinactive` event will be triggered after 5 seconds if the font fails to render. If *at least* one font successfully renders, the `active` event will be triggered, else the `inactive` event will be triggered.
-
-You can change the default timeout by using the `timeout` option on the `WebFontConfig` object.
-
-```javascript
-WebFontConfig = {
-  google: {
-    families: ['Droid Sans']
-  },
-  timeout: 2000 // Set the timeout to two seconds
-};
-```
-
-The timeout value should be in milliseconds, and defaults to 3000 milliseconds (3 seconds) if not supplied.
-
-### Iframes
-
-Usually, it's easiest to include a copy of Web Font Loader in every window where fonts are needed, so that each window manages its own fonts. However, if you need to have a single window manage fonts for multiple same-origin child windows or iframes that are built up using JavaScript, Web Font Loader supports that as well. Just use the optional `context` configuration option and give it a reference to the target window for loading:
-
-```javascript
-WebFontConfig = {
-  google: {
-    families: ['Droid Sans']
-  },
-  context: frames['my-child']
-};
-```
-
-This is an advanced configuration option that isn't needed for most use cases.
-
-## Modules
-
-Web Font Loader provides a module system so that any web font provider can contribute code that allows their fonts to be loaded. This makes it possible to use multiple web font providers at the same time. The specifics of each provider currently supported by the library are documented here.
-
-### Adobe Edge Web Fonts
-
-When using [Adobe Edge Web Fonts](https://edgewebfonts.adobe.com/), you can use the `typekit` module by passing in a catenated list of fonts in the `id` parameter and set the `api` parameter to point to the Edge Web Fonts URL.
-
-```javascript
-WebFontConfig = {
-  typekit: {
-    id: 'adamina;advent-pro',
-    api: '//use.edgefonts.net'
-  }
-};
-```
-
-### Custom
-
-To load fonts from any external stylesheet, use the `custom` module. Here you'll
-need to specify the font family names you're trying to load, and optionally the url of the stylesheet that provides the `@font-face` declarations for those fonts.
-
-You can specify a specific font variation or set of variations to load and watch
-by appending the variations separated by commas to the family name separated by
-a colon. Variations are specified using [FVD notation](https://github.com/typekit/fvd).
-
-```javascript
-WebFontConfig = {
-  custom: {
-    families: ['My Font', 'My Other Font:n4,i4,n7'],
-    urls: ['/fonts.css']
-  }
-};
-```
-
-In this example, the `fonts.css` file might look something like this:
-
-```css
-@font-face {
-  font-family: 'My Font';
-  src: ...;
-}
-@font-face {
-  font-family: 'My Other Font';
-  font-style: normal;
-  font-weight: normal; /* or 400 */
-  src: ...;
-}
-@font-face {
-  font-family: 'My Other Font';
-  font-style: italic;
-  font-weight: normal; /* or 400 */
-  src: ...;
-}
-@font-face {
-  font-family: 'My Other Font';
-  font-style: normal;
-  font-weight: bold; /* or 700 */
-  src: ...;
-}
-```
-
-If your fonts are already included in another stylesheet you can also leave out the `urls` array and just specify font family names to start font loading. As long as the names match those that are declared in the `families` array, the proper loading classes will be applied to the html element.
-
-```html
-<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.10/webfont.js"></script>
-<script>
-  WebFont.load({
-    custom: {
-      families: ['My Font']
-    }
-  });
-</script>
-
-<style type="text/css">
-  @font-face {
-    font-family:"My Font";
-    src:url("assets/fonts/my_font.woff") format("woff");
-  }
-</style>
-```
-
-The custom module also supports customizing the test strings that are used to determine whether or not a font has loaded. This can be used to load fonts with custom subsets or glyphs in the private use unicode area.
-
-```javascript
-WebFontConfig = {
-  custom: {
-    families: ['My Font'],
-    testStrings: {
-      'My Font': '\uE003\uE005'
-    }
-  }
-};
-```
-
-Tests strings should be specified on a per font basis and contain at least one character. If not specified the default test string (`BESbswy`) is used.
-
-### Fontdeck
-
-To use the [Fontdeck](http://fontdeck.com/) module, specify the ID of your website. You can find this ID on the website page within your account settings.
-
-```javascript
-WebFontConfig = {
-  fontdeck: {
-    id: 'xxxxx'
-  }
-};
-```
-
-### Fonts.com
-
-When using [Fonts.com web fonts](http://www.fonts.com/web-fonts/) specify your Project ID.
-
-```javascript
-WebFontConfig = {
-  monotype: {
-    projectId: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx',
-    version: 12345, // (optional, flushes the CDN cache)
-    loadAllFonts: true //(optional, loads all project fonts)
-  }
-};
-```
-
-The Fonts.com module has an optional `version` option which acts as a cache-buster, optional `loadAllFonts` loads all project fonts. By default, Fonts.com module loads only fonts used on the page.
-
-### Google
-
-Using [Google's Font API](https://code.google.com/apis/webfonts/docs/getting_started.html), name the font families you'd like to load. You can use the same [syntax](https://developers.google.com/fonts/docs/getting_started#Syntax) as in the Font API to specify styles. Please note that the Google module does not support the FVD syntax that is used in the custom module. 
-
-```javascript
-WebFontConfig = {
-  google: {
-    families: ['Droid Sans', 'Droid Serif:bold']
-  }
-};
-```
-
-Sometimes the font you requested doesn't come in the default weight (e.g. 400) and you need to explicitly request the variation you want for font events to work (e.g. `300`, `700`, etc.):
-
-```javascript
-WebFontConfig = {
-  google: {
-    families: ['Open Sans Condensed:300,700']
-  }
-};
-```
-
-If you need to specify character subsets other than the default (e.g.: greek script in addition to latin), you must append the subset string to the requested family string after a colon. The subset string should follow the [Google documentation](https://developers.google.com/fonts/docs/getting_started#Subsets) (subset names separated by commas):
-
-```javascript
-WebFontConfig = {
-  google: {
-    families: ['Open Sans Condensed:300,700:latin,greek']
-  }
-};
-```
-
-You can also supply the `text` parameter to perform character subsetting:
-
-```javascript
-WebFontConfig = {
-  google: {
-    families: ['Droid Sans', 'Droid Serif'],
-    text: 'abcdefghijklmnopqrstuvwxyz!'
-  }
-};
-```
-
-The `text` subsetting functionality is only available for the Google module.
-
-### Typekit
-
-When using [Typekit](http://www.typekit.com), specify the Kit to retrieve by its ID. You can find the Kit ID within Typekit's Kit Editor interface.
-
-```javascript
-WebFontConfig = {
-  typekit: {
-    id: 'xxxxxx'
-  }
-};
-```
-
-**FYI:** Typekit's own JavaScript is built using the Web Font Loader library and already provides all of the same font event functionality. If you're using Typekit, you should use their embed codes directly unless you also need to load web fonts from other providers on the same page.
-
-## Browser Support
-
-Every web browser has varying levels of support for fonts linked via `@font-face`. Web Font Loader determines support for web fonts is using the browser's user agent string. The user agent string may claim to support a web font format when it in fact does not. This is especially noticeable on mobile browsers with a "Desktop" mode, which usually identify as Chrome on Linux. In this case a web font provider may decide to send WOFF fonts to the device because the real desktop Chrome supports it, while the mobile browser does not. The Web Font Loader is not designed to handle these cases and it defaults to believing what's in the user agent string. Web font providers can build on top of the basic Web Font Loader functionality to handle these special cases individually.
-
-If Web Font Loader determines that the current browser does not support `@font-face`, the `inactive` event will be triggered.
-
-When loading fonts from multiple providers, each provider may or may not support a given browser. If Web Font Loader determines that the current browser can support `@font-face`, and *at least* one provider is able to serve fonts, the fonts from that provider will be loaded. When finished, the `active` event will be triggered.
-
-For fonts loaded from supported providers, the `fontactive` event will be triggered. For fonts loaded from a provider that *does not* support the current browser, the `fontinactive` event will be triggered.
-
-For example:
-
-```javascript
-WebFontConfig = {
-  providerA: 'Family1',
-  providerB: 'Family2'
-};
-```
-
-If `providerA` can serve fonts to a browser, but `providerB` cannot, The `fontinactive` event will be triggered for `Family2`. The `fontactive` event will be triggered for `Family1` once it loads, as will the `active` event.
-
-## Copyright and License
-
-Web Font Loader Copyright (c) 2010-2017 Adobe Systems Incorporated, Google Incorporated.
-
-Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.  You may obtain a copy of the License at
-
-    http://www.apache.org/licenses/LICENSE-2.0
-
-Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
diff --git a/assets/css/hydejack-7.3.0.css b/assets/css/hydejack-7.3.0.css
new file mode 100644
index 00000000..4168532f
--- /dev/null
+++ b/assets/css/hydejack-7.3.0.css
@@ -0,0 +1,3 @@
+---
+---
+{% capture include_to_scssify %}{% include styles/style.scss %}{% endcapture %}{% include header.txt %}{{ include_to_scssify | scssify }}
diff --git a/assets/css/hydejack.css b/assets/css/hydejack.css
deleted file mode 100644
index f8fc3ace..00000000
--- a/assets/css/hydejack.css
+++ /dev/null
@@ -1,4 +0,0 @@
----
----
-{% capture include_to_scssify %}{% include styles/style.scss %}{% endcapture %}
-{% include header.txt %}{{ include_to_scssify | scssify }}
diff --git a/assets/icons/favicon.ico b/assets/icons/favicon.ico
index 6d0a168e..9720ae00 100644
Binary files a/assets/icons/favicon.ico and b/assets/icons/favicon.ico differ
diff --git a/assets/icons/icon.png b/assets/icons/icon.png
index c0ae90e6..1ee72106 100644
Binary files a/assets/icons/icon.png and b/assets/icons/icon.png differ
diff --git a/assets/icons/icon@0,25x.png b/assets/icons/icon@0,25x.png
index e2498903..437e3ae9 100644
Binary files a/assets/icons/icon@0,25x.png and b/assets/icons/icon@0,25x.png differ
diff --git a/assets/icons/icon@0,5x.png b/assets/icons/icon@0,5x.png
index 2a4c3258..5f68e08b 100644
Binary files a/assets/icons/icon@0,5x.png and b/assets/icons/icon@0,5x.png differ
diff --git a/assets/icons/icon@0,75x.png b/assets/icons/icon@0,75x.png
index 8f889de4..6d3afb26 100644
Binary files a/assets/icons/icon@0,75x.png and b/assets/icons/icon@0,75x.png differ
diff --git a/assets/icons/icon@2x.png b/assets/icons/icon@2x.png
index cfb7f591..c8830fbc 100644
Binary files a/assets/icons/icon@2x.png and b/assets/icons/icon@2x.png differ
diff --git a/assets/icons/icon@3x.png b/assets/icons/icon@3x.png
index aecb5238..b7cb7be3 100644
Binary files a/assets/icons/icon@3x.png and b/assets/icons/icon@3x.png differ
diff --git a/assets/img/COLOURlovers.com-Hydejack.png b/assets/img/COLOURlovers.com-Hydejack.png
new file mode 100644
index 00000000..23062b5b
Binary files /dev/null and b/assets/img/COLOURlovers.com-Hydejack.png differ
diff --git a/assets/img/caleb-george-old.jpg b/assets/img/caleb-george-old.jpg
new file mode 100644
index 00000000..afdcda25
Binary files /dev/null and b/assets/img/caleb-george-old.jpg differ
diff --git a/assets/img/caleb-george.jpg b/assets/img/caleb-george.jpg
new file mode 100644
index 00000000..81c21972
Binary files /dev/null and b/assets/img/caleb-george.jpg differ
diff --git a/assets/img/default-1.jpg b/assets/img/default-1.jpg
index 814e3842..d56a6548 100644
Binary files a/assets/img/default-1.jpg and b/assets/img/default-1.jpg differ
diff --git a/assets/img/docs/google-fonts.png b/assets/img/docs/google-fonts.png
index 2edde383..f55ce950 100644
Binary files a/assets/img/docs/google-fonts.png and b/assets/img/docs/google-fonts.png differ
diff --git a/assets/img/hyde-1.jpg b/assets/img/hyde-1.jpg
index b9ba827c..bf2b9f26 100644
Binary files a/assets/img/hyde-1.jpg and b/assets/img/hyde-1.jpg differ
diff --git a/assets/img/me.jpg b/assets/img/me.jpg
deleted file mode 100644
index fea14b9f..00000000
Binary files a/assets/img/me.jpg and /dev/null differ
diff --git a/assets/img/me@2x.jpg b/assets/img/me@2x.jpg
deleted file mode 100644
index 6b0322cd..00000000
Binary files a/assets/img/me@2x.jpg and /dev/null differ
diff --git a/assets/img/oldschool-1.jpg b/assets/img/oldschool-1.jpg
index f2c5ea7e..397903c2 100644
Binary files a/assets/img/oldschool-1.jpg and b/assets/img/oldschool-1.jpg differ
diff --git a/assets/img/oldschool-bg.jpg b/assets/img/oldschool-bg.jpg
index dd3aaa02..c0bc57a4 100644
Binary files a/assets/img/oldschool-bg.jpg and b/assets/img/oldschool-bg.jpg differ
diff --git a/assets/img/pretentious-1.jpg b/assets/img/pretentious-1.jpg
index 67e2d7f1..18fa0826 100644
Binary files a/assets/img/pretentious-1.jpg and b/assets/img/pretentious-1.jpg differ
diff --git a/assets/img/pretentious-bg.jpg b/assets/img/pretentious-bg.jpg
index 0cb664f6..54c00569 100644
Binary files a/assets/img/pretentious-bg.jpg and b/assets/img/pretentious-bg.jpg differ
diff --git a/assets/img/projects/base-blue.jpg b/assets/img/projects/base-blue.jpg
index 5ee4d747..e139a7df 100644
Binary files a/assets/img/projects/base-blue.jpg and b/assets/img/projects/base-blue.jpg differ
diff --git a/assets/img/projects/base-blue@0,25x.jpg b/assets/img/projects/base-blue@0,25x.jpg
index 2f4f4b49..700a1c8c 100644
Binary files a/assets/img/projects/base-blue@0,25x.jpg and b/assets/img/projects/base-blue@0,25x.jpg differ
diff --git a/assets/img/projects/base-blue@0,5x.jpg b/assets/img/projects/base-blue@0,5x.jpg
index cdf84440..b290196a 100644
Binary files a/assets/img/projects/base-blue@0,5x.jpg and b/assets/img/projects/base-blue@0,5x.jpg differ
diff --git a/assets/img/projects/base-brown.jpg b/assets/img/projects/base-brown.jpg
index 33ed0c14..d59f4d7c 100644
Binary files a/assets/img/projects/base-brown.jpg and b/assets/img/projects/base-brown.jpg differ
diff --git a/assets/img/projects/base-brown@0,25x.jpg b/assets/img/projects/base-brown@0,25x.jpg
index 760a9f5a..8cc085f5 100644
Binary files a/assets/img/projects/base-brown@0,25x.jpg and b/assets/img/projects/base-brown@0,25x.jpg differ
diff --git a/assets/img/projects/base-brown@0,5x.jpg b/assets/img/projects/base-brown@0,5x.jpg
index cc6eba00..bfec3a1d 100644
Binary files a/assets/img/projects/base-brown@0,5x.jpg and b/assets/img/projects/base-brown@0,5x.jpg differ
diff --git a/assets/img/projects/base-cyan.jpg b/assets/img/projects/base-cyan.jpg
index 665d2270..1a799515 100644
Binary files a/assets/img/projects/base-cyan.jpg and b/assets/img/projects/base-cyan.jpg differ
diff --git a/assets/img/projects/base-cyan@0,25x.jpg b/assets/img/projects/base-cyan@0,25x.jpg
index 06d307a0..ed1574ce 100644
Binary files a/assets/img/projects/base-cyan@0,25x.jpg and b/assets/img/projects/base-cyan@0,25x.jpg differ
diff --git a/assets/img/projects/base-cyan@0,5x.jpg b/assets/img/projects/base-cyan@0,5x.jpg
index fefa52b4..dfff4b41 100644
Binary files a/assets/img/projects/base-cyan@0,5x.jpg and b/assets/img/projects/base-cyan@0,5x.jpg differ
diff --git a/assets/img/projects/base-green.jpg b/assets/img/projects/base-green.jpg
index ad85615c..07be226c 100644
Binary files a/assets/img/projects/base-green.jpg and b/assets/img/projects/base-green.jpg differ
diff --git a/assets/img/projects/base-green@0,25x.jpg b/assets/img/projects/base-green@0,25x.jpg
index c4a17a8a..f29aa5e8 100644
Binary files a/assets/img/projects/base-green@0,25x.jpg and b/assets/img/projects/base-green@0,25x.jpg differ
diff --git a/assets/img/projects/base-green@0,5x.jpg b/assets/img/projects/base-green@0,5x.jpg
index 363ac442..a3c54b45 100644
Binary files a/assets/img/projects/base-green@0,5x.jpg and b/assets/img/projects/base-green@0,5x.jpg differ
diff --git a/assets/img/projects/base-magenta.jpg b/assets/img/projects/base-magenta.jpg
index 4563e3a1..e84a9454 100644
Binary files a/assets/img/projects/base-magenta.jpg and b/assets/img/projects/base-magenta.jpg differ
diff --git a/assets/img/projects/base-magenta@0,25x.jpg b/assets/img/projects/base-magenta@0,25x.jpg
index 86518f61..215565d5 100644
Binary files a/assets/img/projects/base-magenta@0,25x.jpg and b/assets/img/projects/base-magenta@0,25x.jpg differ
diff --git a/assets/img/projects/base-magenta@0,5x.jpg b/assets/img/projects/base-magenta@0,5x.jpg
index d6a71657..af89d003 100644
Binary files a/assets/img/projects/base-magenta@0,5x.jpg and b/assets/img/projects/base-magenta@0,5x.jpg differ
diff --git a/assets/img/projects/base-orange.jpg b/assets/img/projects/base-orange.jpg
index 039c3766..88425452 100644
Binary files a/assets/img/projects/base-orange.jpg and b/assets/img/projects/base-orange.jpg differ
diff --git a/assets/img/projects/base-orange@0,25x.jpg b/assets/img/projects/base-orange@0,25x.jpg
index 55c13a48..0d2cda4b 100644
Binary files a/assets/img/projects/base-orange@0,25x.jpg and b/assets/img/projects/base-orange@0,25x.jpg differ
diff --git a/assets/img/projects/base-orange@0,5x.jpg b/assets/img/projects/base-orange@0,5x.jpg
index 1e7561b4..f4f790d0 100644
Binary files a/assets/img/projects/base-orange@0,5x.jpg and b/assets/img/projects/base-orange@0,5x.jpg differ
diff --git a/assets/img/projects/base-red.jpg b/assets/img/projects/base-red.jpg
index 4b7d9ea1..b2e32a25 100644
Binary files a/assets/img/projects/base-red.jpg and b/assets/img/projects/base-red.jpg differ
diff --git a/assets/img/projects/base-red@0,25x.jpg b/assets/img/projects/base-red@0,25x.jpg
index d1f036a9..ff6fc53c 100644
Binary files a/assets/img/projects/base-red@0,25x.jpg and b/assets/img/projects/base-red@0,25x.jpg differ
diff --git a/assets/img/projects/base-red@0,5x.jpg b/assets/img/projects/base-red@0,5x.jpg
index 62cf64fe..8b463566 100644
Binary files a/assets/img/projects/base-red@0,5x.jpg and b/assets/img/projects/base-red@0,5x.jpg differ
diff --git a/assets/img/projects/base-yellow.jpg b/assets/img/projects/base-yellow.jpg
index d4b2e49d..1ad8779e 100644
Binary files a/assets/img/projects/base-yellow.jpg and b/assets/img/projects/base-yellow.jpg differ
diff --git a/assets/img/projects/base-yellow@0,25x.jpg b/assets/img/projects/base-yellow@0,25x.jpg
index 972a2f4c..16c307ad 100644
Binary files a/assets/img/projects/base-yellow@0,25x.jpg and b/assets/img/projects/base-yellow@0,25x.jpg differ
diff --git a/assets/img/projects/base-yellow@0,5x.jpg b/assets/img/projects/base-yellow@0,5x.jpg
index 159647d7..a8526461 100644
Binary files a/assets/img/projects/base-yellow@0,5x.jpg and b/assets/img/projects/base-yellow@0,5x.jpg differ
diff --git a/assets/img/projects/default.jpg b/assets/img/projects/default.jpg
index 6656dc70..80706cbc 100644
Binary files a/assets/img/projects/default.jpg and b/assets/img/projects/default.jpg differ
diff --git a/assets/img/projects/default@0,25x.jpg b/assets/img/projects/default@0,25x.jpg
index 425cef7c..4fa36e62 100644
Binary files a/assets/img/projects/default@0,25x.jpg and b/assets/img/projects/default@0,25x.jpg differ
diff --git a/assets/img/projects/default@0,5x.jpg b/assets/img/projects/default@0,5x.jpg
index aa9d9556..53a5fba0 100644
Binary files a/assets/img/projects/default@0,5x.jpg and b/assets/img/projects/default@0,5x.jpg differ
diff --git a/assets/img/projects/hyde.jpg b/assets/img/projects/hyde.jpg
index 094fcd1d..dabd12d6 100644
Binary files a/assets/img/projects/hyde.jpg and b/assets/img/projects/hyde.jpg differ
diff --git a/assets/img/projects/hyde@0,25x.jpg b/assets/img/projects/hyde@0,25x.jpg
index e3b1051c..dd72473e 100644
Binary files a/assets/img/projects/hyde@0,25x.jpg and b/assets/img/projects/hyde@0,25x.jpg differ
diff --git a/assets/img/projects/hyde@0,5x.jpg b/assets/img/projects/hyde@0,5x.jpg
index 3e1e80f3..b40323c8 100644
Binary files a/assets/img/projects/hyde@0,5x.jpg and b/assets/img/projects/hyde@0,5x.jpg differ
diff --git a/assets/img/projects/oldschool.jpg b/assets/img/projects/oldschool.jpg
index 3d012b86..db8d96db 100644
Binary files a/assets/img/projects/oldschool.jpg and b/assets/img/projects/oldschool.jpg differ
diff --git a/assets/img/projects/oldschool@0,25x.jpg b/assets/img/projects/oldschool@0,25x.jpg
index 6a970960..5b3cdbc6 100644
Binary files a/assets/img/projects/oldschool@0,25x.jpg and b/assets/img/projects/oldschool@0,25x.jpg differ
diff --git a/assets/img/projects/oldschool@0,5x.jpg b/assets/img/projects/oldschool@0,5x.jpg
index 21ebd5c3..60216be2 100644
Binary files a/assets/img/projects/oldschool@0,5x.jpg and b/assets/img/projects/oldschool@0,5x.jpg differ
diff --git a/assets/img/projects/pretentious.jpg b/assets/img/projects/pretentious.jpg
index 427204ad..d0447b26 100644
Binary files a/assets/img/projects/pretentious.jpg and b/assets/img/projects/pretentious.jpg differ
diff --git a/assets/img/projects/pretentious@0,25x.jpg b/assets/img/projects/pretentious@0,25x.jpg
index d7ee0612..50aeaa54 100644
Binary files a/assets/img/projects/pretentious@0,25x.jpg and b/assets/img/projects/pretentious@0,25x.jpg differ
diff --git a/assets/img/projects/pretentious@0,5x.jpg b/assets/img/projects/pretentious@0,5x.jpg
index 889e88b2..51630964 100644
Binary files a/assets/img/projects/pretentious@0,5x.jpg and b/assets/img/projects/pretentious@0,5x.jpg differ
diff --git a/assets/img/sidebar-bg.jpg b/assets/img/sidebar-bg.jpg
index 50c1b3c8..e1003f04 100644
Binary files a/assets/img/sidebar-bg.jpg and b/assets/img/sidebar-bg.jpg differ
diff --git a/assets/js/hydejack-7.3.0.js b/assets/js/hydejack-7.3.0.js
new file mode 100644
index 00000000..2ed7eb07
--- /dev/null
+++ b/assets/js/hydejack-7.3.0.js
@@ -0,0 +1,14 @@
+/*!
+ *  __  __                __                                     __
+ * /\ \/\ \              /\ \             __                    /\ \
+ * \ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
+ *  \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
+ *   \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
+ *    \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
+ *     \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
+ *                 /\___/                \ \____/
+ *                 \/__/                  \/___/
+ *
+ * Powered by Hydejack v7.3.0 <https://qwtel.com/hydejack/>
+ */
+!function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return o(r||t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,r){function o(t,e){return(void 0===t?"undefined":n(t))===e}function i(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,r){return e+r.toUpperCase()}).replace(/^-/,"")}function s(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):_?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function a(t,r,n,o){var i,a,c,u,l="modernizr",f=s("div"),p=function(){var t=e.body;return t||((t=s(_?"svg":"body")).fake=!0),t}();if(parseInt(n,10))for(;n--;)(c=s("div")).id=o?o[n]:l+(n+1),f.appendChild(c);return i=s("style"),i.type="text/css",i.id="s"+l,(p.fake?p:f).appendChild(i),p.appendChild(f),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),f.id=l,p.fake&&(p.style.background="",p.style.overflow="hidden",u=g.style.overflow,g.style.overflow="hidden",g.appendChild(p)),a=r(f,t),p.fake?(p.parentNode.removeChild(p),g.style.overflow=u,g.offsetHeight):f.parentNode.removeChild(f),!!a}function c(t,e){return!!~(""+t).indexOf(e)}function u(t,e){return function(){return t.apply(e,arguments)}}function l(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(e,n){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(l(e[o]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var i=[];o--;)i.push("("+l(e[o])+":"+n+")");return i=i.join(" or "),a("@supports ("+i+") { #modernizr { position: absolute; } }",function(e){return"absolute"==function(e,r,n){var o;if("getComputedStyle"in t){o=getComputedStyle.call(t,e,r);var i=t.console;null!==o?n&&(o=o.getPropertyValue(n)):i&&i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else o=!r&&e.currentStyle&&e.currentStyle[n];return o}(e,null,"position")})}return r}function p(t,e,n,a,l){var p=t.charAt(0).toUpperCase()+t.slice(1),h=(t+" "+x.join(p+" ")+p).split(" ");return o(e,"string")||o(e,"undefined")?function(t,e,n,a){function u(){p&&(delete E.style,delete E.modElem)}if(a=!o(a,"undefined")&&a,!o(n,"undefined")){var l=f(t,n);if(!o(l,"undefined"))return l}for(var p,h,d,b,y,m=["modernizr","tspan","samp"];!E.style&&m.length;)p=!0,E.modElem=s(m.shift()),E.style=E.modElem.style;for(d=t.length,h=0;h<d;h++)if(b=t[h],y=E.style[b],c(b,"-")&&(b=i(b)),E.style[b]!==r){if(a||o(n,"undefined"))return u(),"pfx"!=e||b;try{E.style[b]=n}catch(t){}if(E.style[b]!=y)return u(),"pfx"!=e||b}return u(),!1}(h,e,a,l):(h=(t+" "+O.join(p+" ")+p).split(" "),function(t,e,r){var n;for(var i in t)if(t[i]in e)return!1===r?t[i]:(n=e[t[i]],o(n,"function")?u(n,r||e):n);return!1}(h,e,n))}function h(t,e,n){return p(t,r,r,e,n)}var d=[],b={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!1},_q:[],on:function(t,e){var r=this;setTimeout(function(){e(r[t])},0)},addTest:function(t,e,r){d.push({name:t,fn:e,options:r})},addAsyncTest:function(t){d.push({name:null,fn:t})}},y=function(){};y.prototype=b,(y=new y).addTest("customevent","CustomEvent"in t&&"function"==typeof t.CustomEvent),y.addTest("eventlistener","addEventListener"in t),y.addTest("queryselector","querySelector"in e&&"querySelectorAll"in e),y.addTest("history",function(){var e=navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")||"file:"===location.protocol)&&(t.history&&"pushState"in t.history)}),y.addTest("promises",function(){return"Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),"function"==typeof e}()});var m=[],v=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=v;var g=e.documentElement;y.addTest("classlist","classList"in g),y.addTest("documentfragment",function(){return"createDocumentFragment"in e&&"appendChild"in g});var _="svg"===g.nodeName.toLowerCase();y.addTest("csspointerevents",function(){var t=s("a").style;return t.cssText="pointer-events:auto","auto"===t.pointerEvents}),y.addTest("opacity",function(){var t=s("a").style;return t.cssText=v.join("opacity:.55;"),/^0.55$/.test(t.opacity)}),y.addTest("cssremunit",function(){var t=s("a").style;try{t.fontSize="3rem"}catch(t){}return/rem/.test(t.fontSize)}),y.addTest("template","content"in s("template"));var w=b.testStyles=a;y.addTest("touchevents",function(){var r;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch)r=!0;else{var n=["@media (",v.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");w(n,function(t){r=9===t.offsetTop})}return r});var x=b._config.usePrefixes?"Moz O ms Webkit".split(" "):[];b._cssomPrefixes=x;var S=function(e){var n,o=v.length,i=t.CSSRule;if(void 0===i)return r;if(!e)return!1;if(e=e.replace(/^@/,""),(n=e.replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+e;for(var s=0;s<o;s++){var a=v[s];if(a.toUpperCase()+"_"+n in i)return"@-"+a.toLowerCase()+"-"+e}return!1};b.atRule=S;var O=b._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];b._domPrefixes=O;var j={elem:s("modernizr")};y._q.push(function(){delete j.elem});var E={style:j.elem.style};y._q.unshift(function(){delete E.style}),b.testAllProps=p;var T=b.prefixed=function(t,e,r){return 0===t.indexOf("@")?S(t):(-1!=t.indexOf("-")&&(t=i(t)),e?p(t,e,r):p(t,"pfx"))};y.addTest("requestanimationframe",!!T("requestAnimationFrame",t),{aliases:["raf"]}),y.addTest("matchmedia",!!T("matchMedia",t)),b.testAllProps=h,y.addTest("cssanimations",h("animationName","a",!0)),y.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&h("transform","scale(1)",!0)}),function(){var t,e,r,n,i,s;for(var a in d)if(d.hasOwnProperty(a)){if(t=[],(e=d[a]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(r=0;r<e.options.aliases.length;r++)t.push(e.options.aliases[r].toLowerCase());for(n=o(e.fn,"function")?e.fn():e.fn,i=0;i<t.length;i++)1===(s=t[i].split(".")).length?y[s[0]]=n:(!y[s[0]]||y[s[0]]instanceof Boolean||(y[s[0]]=new Boolean(y[s[0]])),y[s[0]][s[1]]=n),m.push((n?"":"no-")+s.join("-"))}}(),delete b.addTest,delete b.addAsyncTest;for(var A=0;A<y._q.length;A++)y._q[A]();t.Modernizr=y}(window,document)},{}],2:[function(t,e,r){"use strict";console.log(" __  __                __                                     __         \r\n/\\ \\/\\ \\              /\\ \\             __                    /\\ \\        \r\n\\ \\ \\_\\ \\   __  __    \\_\\ \\      __   /\\_\\      __       ___ \\ \\ \\/'\\    \r\n \\ \\  _  \\ /\\ \\/\\ \\   /'_` \\   /'__`\\ \\/\\ \\   /'__`\\    /'___\\\\ \\ , <    \r\n  \\ \\ \\ \\ \\\\ \\ \\_\\ \\ /\\ \\L\\ \\ /\\  __/  \\ \\ \\ /\\ \\L\\.\\_ /\\ \\__/ \\ \\ \\\\`\\  \r\n   \\ \\_\\ \\_\\\\/`____ \\\\ \\___,_\\\\ \\____\\ _\\ \\ \\\\ \\__/.\\_\\\\ \\____\\ \\ \\_\\ \\_\\\r\n    \\/_/\\/_/ `/___/> \\\\/__,_ / \\/____//\\ \\_\\ \\\\/__/\\/_/ \\/____/  \\/_/\\/_/\r\n                /\\___/                \\ \\____/                           \r\n                \\/__/                  \\/___/                            \n\n"),console.log("Powered by Hydejack v7.3.0 <https://qwtel.com/hydejack/>")},{}],3:[function(t,e,r){(function(e){"use strict";function n(){this.style.display="",this.style.visibility=""}Object.defineProperty(r,"__esModule",{value:!0}),r.unhide=r.isFirefoxIOS=r.isUCBrowser=r.isMobileSafari=r.isSafari=void 0,r.hasFeatures=function(t){var r=!0;return t.forEach(function(t){var n=window.Modernizr[t];!n&&e.env.DEBUG&&console.warn("Feature '"+t+"' missing!"),r=r&&n}),r},r.show=function(){this.style.display="block",this.style.visibility="visible"},r.hide=function(){this.style.display="none",this.style.visibility="hidden"},r.unshow=n,r.empty=function(){for(;this.firstChild;)this.removeChild(this.firstChild)},r.animate=function(t,e,r){return o.Observable.create(function(n){var o=t.animate(e,r);return o.addEventListener("finish",function(t){n.next(t),requestAnimationFrame(n.complete.bind(n))}),function(){"finished"!==o.playState&&o.cancel()}})},r.getResolvablePromise=function(){var t=void 0,e=void 0,r=new Promise(function(r,n){t=r,e=n});return r.resolve=t,r.reject=e,r},t("core-js/fn/function/bind");var o=t("rxjs/Observable"),i=navigator.userAgent.toLowerCase(),s=r.isSafari=i.indexOf("safari")>0&&i.indexOf("chrome")<0;r.isMobileSafari=s&&i.indexOf("mobile")>0,r.isUCBrowser=i.indexOf("ucbrowser")>0,r.isFirefoxIOS=i.indexOf("fxios")>0&&i.indexOf("safari")>0,r.unhide=n}).call(this,t("_process"))},{_process:139,"core-js/fn/function/bind":24,"rxjs/Observable":142}],4:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.background,r=t.color,n=t.image,o=t.overlay;return""+r+(n||e)+(""===o?"overlay":"")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/find"),t("core-js/fn/function/bind");var a=n(t("color")),c=t("rxjs/Observable"),u=t("rxjs/observable/empty"),l=t("rxjs/observable/fromEvent"),f=t("rxjs/observable/of"),p=t("rxjs/operator/finally"),h=t("rxjs/operator/take"),d=t("rxjs/operator/map"),b=n(t("elem-dataset")),y=t("./common"),m=Array.prototype.find,v=.8,g=function(){function t(e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=document.getElementById("_main"),i=document.getElementById("_pageStyle"),s=(r=document.styleSheets,m).call(r,function(t){return t.ownerNode===i})||{};this.sidebar=document.getElementById("_sidebar"),this.fadeDuration=e,this.rules=s.cssRules||s.rules,this.prevHash=o((0,b.default)(n)),this.themeColor=document.querySelector('meta[name="theme-color"]')}return s(t,[{key:"fetchImage",value:function(t){var e,r=(0,b.default)(t),n=r.background,i=r.color,s=r.image,a=r.overlay,y=o(r);return y===this.prevHash?u.empty.call(c.Observable):(e=function(t){var e,r=t.background,n=t.image;if(r||!n||""===n||"none"===n||n===this.prevImage)return f.of.call(c.Observable,{});var o=new Image,i=(e=(e=l.fromEvent.call(c.Observable,o,"load"),h.take).call(e,1),p._finally).call(e,function(){o.src=""});return o.src=n,i}.call(this,r),d.map).call(e,function(){var t=document.createElement("div");return t.classList.add("sidebar-bg"),"none"!==s&&""===a&&t.classList.add("sidebar-overlay"),n?t.style.background=n:(t.style.backgroundColor=i,""!==s&&"none"!==s&&(t.style.backgroundImage="url("+s+")")),[t,r,y]})}},{key:"fade",value:function(t,e){var r,n=i(t,1)[0],o=i(e,3),s=o[0],c=o[1],u=o[2];return n.parentNode.insertBefore(s,n.nextElementSibling),function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).color,e=void 0===t?"#4fb1ba":t;if(this.themeColor&&(this.themeColor.content=e),this.rules)try{var r=(0,a.default)(e),n=r.darken(.1);this.rules[0].style.color=e,this.rules[0].style.borderColor=r.fade(v).string(),this.rules[1].style.borderColor=e,this.rules[2].style.outlineColor=e,this.rules[3].style.backgroundColor=e,this.rules[3].style.borderColor=e,this.rules[4].style.boxShadow="0 0 0 3px "+r.fade(.5),this.rules[5].style.backgroundColor=n,this.rules[5].style.borderColor=n,this.rules[6].style.backgroundColor=e,this.rules[6].style.borderColor=e,this.rules[7].style.backgroundColor=n,this.rules[7].style.borderColor=n,this.rules[this.rules.length-1].style.backgroundColor=e}catch(t){console.error(t)}}.call(this,c),this.prevHash=u,(r=(0,y.animate)(s,[{opacity:0},{opacity:1}],{duration:this.fadeDuration}),p._finally).call(r,function(){return n.parentNode.removeChild(n)})}}]),t}();r.default=g},{"./common":3,color:18,"core-js/fn/array/find":19,"core-js/fn/function/bind":24,"elem-dataset":119,"rxjs/Observable":142,"rxjs/observable/empty":167,"rxjs/observable/fromEvent":169,"rxjs/observable/of":172,"rxjs/operator/finally":181,"rxjs/operator/map":182,"rxjs/operator/take":195}],5:[function(t,e,r){"use strict";function n(){return l.isMobileSafari&&!navigator.standalone?[35,135]:[0,150]}t("core-js/fn/function/bind");var o=t("hy-drawer/src/common"),i=t("hy-drawer/src/vanilla"),s=t("hy-drawer/src/webcomponent"),a=t("rxjs/Observable"),c=t("rxjs/operator/debounceTime"),u=t("rxjs/observable/fromEvent"),l=t("./common"),f=new o.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(i.VANILLA_FEATURE_TESTS),["cssremunit","classlist","eventlistener","matchmedia"])),p="(min-width: 64em)";if(!window._noDrawer&&(0,l.hasFeatures)(f)&&!l.isUCBrowser){var h,d=document.getElementsByTagName("hy-drawer")[0],b=document.getElementById("_menu");window._isDesktop=window.matchMedia(p).matches,window._drawer="customElements"in window&&"attachShadow"in Element.prototype?function(t){return window._isDesktop&&t.setAttribute("opened",""),window._isDesktop&&t.setAttribute("persistent",""),t.setAttribute("align","left"),t.setAttribute("range",n().join(",")),t.setAttribute("threshold",l.isSafari?0:10),t.setAttribute("prevent-default",""),customElements.define("hy-drawer",s.HTMLDrawerElement),t}(d):function(t){return new i.Drawer(t,{opened:window._isDesktop,persistent:window._isDesktop,align:"left",range:n(),threshold:l.isSafari?0:10,preventDefault:!0})}(d),d.classList.add("loaded"),b.addEventListener("click",function(t){window._isDesktop||(t.preventDefault(),window._drawer.toggle())}),(h=u.fromEvent.call(a.Observable,window,"resize",{passive:!0}),c.debounceTime).call(h,100).subscribe(function(){var t=window.matchMedia(p).matches;window._isDesktop!==t&&(window._isDesktop=t,window._drawer.persistent=t,window._drawer.opened=t)})}},{"./common":3,"core-js/fn/function/bind":24,"hy-drawer/src/common":127,"hy-drawer/src/vanilla":130,"hy-drawer/src/webcomponent":131,"rxjs/Observable":142,"rxjs/observable/fromEvent":169,"rxjs/operator/debounceTime":176}],6:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r,n){var l=s.filter.call(t,function(t){var e=t.flipType;return!u.includes(e)});return i.merge.call(o.Observable,(0,a.default)(t,e,r,n),(0,c.default)(t,e,r,n),l)},t("core-js/fn/array/includes"),t("core-js/fn/function/bind");var o=t("rxjs/Observable"),i=t("rxjs/observable/merge"),s=t("rxjs/operator/filter"),a=n(t("./title")),c=n(t("./project")),u=["title","projects"]},{"./project":7,"./title":8,"core-js/fn/array/includes":22,"core-js/fn/function/bind":24,"rxjs/Observable":142,"rxjs/observable/merge":170,"rxjs/operator/filter":180}],7:[function(t,e,r){"use strict";function n(t,e,r,n){var b,y=this,m=n.animationMain,v=n.settings;if(!m)return t;var g=(b=l.filter.call(t,function(t){return"project"===t.flipType}),f.switchMap).call(b,function(t){var e,r=t.anchor,n=r.querySelector(".project-card-img");if(!r||!n)return a.of.call(i.Observable,{});var o=m.querySelector(".page");if(!o)return a.of.call(i.Observable,{});var s=r.parentNode.querySelector(".project-card-title"),u=s&&s.textContent||"|",l=document.createElement("h1");l.classList.add("page-title"),l.style.opacity=0,l.textContent=u;var f=document.createElement("div");f.classList.add("post-date"),f.classList.add("heading"),f.style.opacity=0,f.textContent="|",d.empty.call(o),o.appendChild(l),o.appendChild(f);var p=document.createElement("div");p.classList.add("sixteen-nine"),n.parentNode.insertBefore(p,n),n.classList.add("lead"),n.style.transformOrigin="left top",o.appendChild(n),m.style.position="fixed",m.style.opacity=1;var h=p.getBoundingClientRect(),b=n.getBoundingClientRect(),y=[{transform:"translate3d("+(h.left-b.left)+"px, "+(h.top-b.top)+"px, 0) scale("+h.width/b.width+")"},{transform:"translate3d(0, 0, 0) scale(1)"}];return(e=(0,d.animate)(n,y,v),c._do).call(e,{complete:function(){m.style.position="absolute"}})});return f.switchMap.call(t,function(t){var n,b=t.flipType;return(n=l.filter.call(e,function(){return"project"===b}),f.switchMap).call(n,function(t){var e,n=o(t.replaceEls,1)[0].querySelector(".img");if(!n)return a.of.call(i.Observable,{});n.style.opacity=0;var l=n.querySelector("img");return(e=(e=(e=(e=function(t){var e;if(!t)return a.of.call(i.Observable,{});var r=new Image,n=(e=(e=s.fromEvent.call(i.Observable,r,"load"),p.take).call(e,1),u._finally).call(e,function(){r.src=""});return r.src=t.currentSrc||t.src,n}.call(y,l),h.zipProto).call(e,r),c._do).call(e,function(){n.style.opacity=1,m.style.opacity=0}),f.switchMap).call(e,function(){return l?(0,d.animate)(m,[{opacity:1},{opacity:0}],{duration:500}):a.of.call(i.Observable,{})}),u._finally).call(e,function(){m.style.opacity=0})})}).subscribe(),g}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default=n,t("core-js/fn/function/bind");var i=t("rxjs/Observable"),s=t("rxjs/observable/fromEvent"),a=t("rxjs/observable/of"),c=t("rxjs/operator/do"),u=t("rxjs/operator/finally"),l=t("rxjs/operator/filter"),f=t("rxjs/operator/switchMap"),p=t("rxjs/operator/take"),h=t("rxjs/operator/zip"),d=t("../common")},{"../common":3,"core-js/fn/function/bind":24,"rxjs/Observable":142,"rxjs/observable/fromEvent":169,"rxjs/observable/of":172,"rxjs/operator/do":178,"rxjs/operator/filter":180,"rxjs/operator/finally":181,"rxjs/operator/switchMap":194,"rxjs/operator/take":195,"rxjs/operator/zip":200}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default=function(t,e,r,d){var b,y=d.animationMain,m=d.settings;if(!y)return t;var v=(b=c.filter.call(t,function(t){return"title"===t.flipType}),l.switchMap).call(b,function(t){var e,r=t.anchor;if(!r)return i.of.call(o.Observable,{});var n=document.createElement("h1");n.classList.add("page-title"),n.textContent=r.textContent,n.style.transformOrigin="left top";var a=y.querySelector(".page");if(!a)return i.of.call(o.Observable,{});p.empty.call(a),a.appendChild(n),y.style.position="fixed",y.style.opacity=1;var c=r.getBoundingClientRect(),u=n.getBoundingClientRect(),l=parseInt(getComputedStyle(r).fontSize,10),f=parseInt(getComputedStyle(n).fontSize,10),h=c.left-u.left,d=c.top-u.top,b=l/f;r.style.opacity=0;var v=[{transform:"translate3d("+h+"px, "+d+"px, 0) scale("+b+")"},{transform:"translate3d(0, 0, 0) scale(1)"}];return(e=(0,p.animate)(n,v,m),s._do).call(e,{complete:function(){y.style.position="absolute"}})});return l.switchMap.call(t,function(t){var o,i=t.flipType;return(o=(o=(o=(o=c.filter.call(e,function(){return"title"===i}),u.map).call(o,function(t){var e=n(t.replaceEls,1)[0].querySelector(h);return e&&(e.style.opacity=0),e}),f.zipProto).call(o,r,function(t){return t}),s._do).call(o,function(t){t&&(t.style.opacity=1),y.style.opacity=0}),a._finally).call(o,function(){y.style.opacity=0})}).subscribe(),v},t("core-js/fn/function/bind");var o=t("rxjs/Observable"),i=t("rxjs/observable/of"),s=t("rxjs/operator/do"),a=t("rxjs/operator/finally"),c=t("rxjs/operator/filter"),u=t("rxjs/operator/map"),l=t("rxjs/operator/switchMap"),f=t("rxjs/operator/zip"),p=t("../common"),h=".page-title, .post-title"},{"../common":3,"core-js/fn/function/bind":24,"rxjs/Observable":142,"rxjs/observable/of":172,"rxjs/operator/do":178,"rxjs/operator/filter":180,"rxjs/operator/finally":181,"rxjs/operator/map":182,"rxjs/operator/switchMap":194,"rxjs/operator/zip":200}],9:[function(t,e,r){"use strict";t("web-animations-js"),t("../lib/modernizr-custom"),t("../lib/version"),t("./katex"),t("./drawer"),t("./push-state")},{"../lib/modernizr-custom":1,"../lib/version":2,"./drawer":5,"./katex":10,"./push-state":11,"web-animations-js":264}],10:[function(t,e,r){"use strict";function n(t,e){try{var r=t.previousElementSibling;!function(t,e){t.outerHTML=window.katex.renderToString(e,{displayMode:"math/tex; mode=display"===t.type})}(t,e),r&&r.classList&&r.classList.contains("MathJax_Preview")&&i.hide.call(r)}catch(t){console.error(t)}finally{t.style.willChange=""}}function o(){if(a){var t=document.querySelectorAll('script[type^="math/tex"]');t.length&&(c&&u?function(t){s.call(t,function(t){n(t,t.textContent.replace("% <![CDATA[","").replace("%]]>",""))})}(t):(loadJSDeferred(document.getElementById("_katexJS").href,function(){(c=!0)&&u&&o()}),loadCSS(document.getElementById("_katexCSS").href).onload=function(){u=!0,c&&u&&o()}))}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=o,t("core-js/fn/array/for-each");var i=t("./common"),s=Array.prototype.forEach,a=(0,i.hasFeatures)(["classlist","eventlistener","queryselector"]),c=!1,u=!1;o()},{"./common":3,"core-js/fn/array/for-each":20}],11:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e="#"+t.id,r=document.createElement("a"),n=document.createElement("span");n.textContent="Permalink",n.classList.add("sr-only"),r.appendChild(n),r.href=e,r.classList.add("permalink"),t.appendChild(r)}function i(t,e,r){var n;return(n=g._do.call(this,{error:(n=console).error.bind(n)}),v._catch).call(n,function(t,e){return e}).subscribe(t,e,r)}function s(t){return"push"===t||navigator.standalone||!N.isSafari}function a(){return!N.isSafari||!!navigator.standalone}var c=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t("core-js/fn/array/for-each"),t("core-js/fn/function/bind"),t("core-js/fn/object/assign"),t("core-js/fn/string/includes");var u=t("hy-push-state/src/common"),l=t("hy-push-state/src/vanilla"),f=t("hy-push-state/src/webcomponent"),p=t("rxjs/Observable"),h=t("rxjs/scheduler/animationFrame"),d=t("rxjs/observable/fromEvent"),b=t("rxjs/observable/merge"),y=t("rxjs/observable/of"),m=t("rxjs/observable/timer"),v=t("rxjs/operator/catch"),g=t("rxjs/operator/do"),_=t("rxjs/operator/debounceTime"),w=t("rxjs/operator/filter"),x=t("rxjs/operator/map"),S=t("rxjs/operator/mapTo"),O=t("rxjs/operator/mergeMap"),j=t("rxjs/operator/observeOn"),E=t("rxjs/operator/pairwise"),T=t("rxjs/operator/share"),A=t("rxjs/operator/startWith"),k=t("rxjs/operator/exhaustMap"),M=t("rxjs/operator/switchMap"),P=t("rxjs/operator/takeUntil"),C=t("rxjs/operator/zip"),N=t("./common"),R=n(t("./cross-fader")),F=n(t("./katex")),L=n(t("./flip")),I=new u.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(l.VANILLA_FEATURE_TESTS),["classlist","cssanimations","cssremunit","documentfragment","eventlistener","history","matchmedia","opacity","queryselector","requestanimationframe","template"])),D="_main",U="a[href]:not(.external):not(.no-push-state)",q='script:not([type^="math/tex"])',z=/^((?!(\/assets\/)).)*$/,H=250,B=[{opacity:1},{opacity:0}],W=[{opacity:0,transform:"translateY(-3rem)"},{opacity:1,transform:"translateY(0)"}],X={duration:H,easing:"cubic-bezier(0,0,0.32,1)"},V=Array.prototype.forEach,$=Object.assign.bind(Object);if(!window._noPushState&&(0,N.hasFeatures)(I)&&!N.isFirefoxIOS){var G,Y=!!navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,K=document.getElementsByTagName("hy-push-state")[0],J=document.querySelector(".navbar .content .nav-btn-bar"),Z=function(t){var e=document.getElementById("_animation-template"),r=document.importNode(e.content,!0);return t.parentNode.insertBefore(r,t),t.previousElementSibling}(K),Q=function(t){var e=document.getElementById("_loading-template"),r=document.importNode(e.content,!0);return t.appendChild(r),t.lastElementChild}(document.querySelector(".navbar .content"));Y&&function(t,e,r){var n=document.getElementById(e),o=document.importNode(n.content,!0);o.querySelector(".nav-btn").addEventListener("click",r),t.appendChild(o),t.lastElementChild}(J,"_back-template",function(){return window.history.back()});var tt=document.getElementById("_main");(G=tt.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]"),V).call(G,o),tt.classList.remove("fade-in");var et=(G=(G=d.fromEvent.call(p.Observable,K,"hy-push-state-start"),x.map).call(G,function(t){var e=t.detail;return $(e,{flipType:function(t){return t&&t.classList?t.classList.contains("flip-title")?"title":t.classList.contains("flip-project")?"project":t.getAttribute&&t.getAttribute("data-flip"):null}(e.anchor)})}),T.share).call(G),rt=(G=(G=d.fromEvent.call(p.Observable,K,"hy-push-state-ready"),x.map).call(G,function(t){return t.detail}),T.share).call(G),nt=(G=(G=d.fromEvent.call(p.Observable,K,"hy-push-state-after"),x.map).call(G,function(t){return t.detail}),T.share).call(G),ot=(G=(G=d.fromEvent.call(p.Observable,K,"hy-push-state-progress"),x.map).call(G,function(t){return t.detail}),T.share).call(G),it=(G=(G=d.fromEvent.call(p.Observable,K,"hy-push-state-networkerror"),x.map).call(G,function(t){return t.detail}),T.share).call(G),st=(G=(G=(G=(G=x.map.call(et,function(t){return $(t,{main:document.getElementById("_main")})}),g._do).call(G,function(t){var e=t.type,r=t.main;!window._isDesktop&&window._drawer.opened&&window._drawer.close(),s(e)&&(r.style.pointerEvents="none",r.style.opacity=0)}),k.exhaustMap).call(G,function(t){var e,r=t.type,n=t.main;return s(r)?(e=(0,N.animate)(n,B,X),S.mapTo).call(e,{main:n}):y.of.call(p.Observable,{main:n})}),g._do).call(G,function(t){var e=t.main;N.empty.call(e),window.scroll(window.pageXOffset,0)}),T.share).call(G);i.call(ot,function(){Q.style.display="block"}),i.call(rt,function(t){var e,r=c(t.replaceEls,1)[0];Q.style.display="none",r.classList.remove("fade-in"),(e=r.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]"),V).call(e,o),r.style.pointerEvents="none"});var at=(G=(G=M.switchMap.call(nt,function(t){var e,r=t.type,n=c(t.replaceEls,1)[0],o=t.flipType;return s(r)?(e=(0,N.animate)(n,W,X),S.mapTo).call(e,{main:n,flipType:o}):y.of.call(p.Observable,{main:n,flipType:o})}),g._do).call(G,function(t){t.main.style.pointerEvents=""}),T.share).call(G),ct=(G=(0,L.default)(et,rt,b.merge.call(p.Observable,at,it),{animationMain:Z,settings:X}),T.share).call(G);(G=(G=x.map.call(et,function(t){var e=(0,N.getResolvablePromise)();return t.waitUntil(e),e}),M.switchMap).call(G,function(t){var e;return(e=m.timer.call(p.Observable,H),C.zipProto).call(e,st,ct,function(){return t})}),i).call(G,function(t){return t.resolve()}),i.call(st),i.call(ct);var ut=new R.default(600);if((G=(G=(G=(G=M.switchMap.call(nt,function(t){var e,r=c(t.replaceEls,1)[0];return(e=(e=ut.fetchImage(r),C.zipProto).call(e,at,function(t){return t}),P.takeUntil).call(e,et)}),A.startWith).call(G,[document.querySelector(".sidebar-bg")]),E.pairwise).call(G),O.mergeMap).call(G,function(t){var e=c(t,2),r=e[0],n=e[1];return ut.fade(r,n)}),i).call(G),(G=(G=(G=g._do.call(at,F.default),w.filter).call(G,function(){return!!window.ga}),_.debounceTime).call(G,1e3),i).call(G,function(){window.ga("set","page",window.location.pathname),window.ga("send","pageview")}),i.call(it,function(t){var e,r=t.url;Q.style.display="none",(e=Z.querySelector(".page"),N.empty).call(e);var n=document.getElementById("_main");N.empty.call(n),n.style.pointerEvents="",n.style.opacity="",function(t,e){var r=e.pathname,n=document.getElementById("_error-template"),o=document.importNode(n.content,!0),i=o.querySelector(".this-link");i&&(i.href=r,i.textContent=r),t.appendChild(o),t.lastElementChild}(n,r)}),N.isSafari&&!navigator.standalone){var lt;(lt=(lt=d.fromEvent.call(p.Observable,window,"popstate"),w.filter).call(lt,function(){return window.history.state&&window.history.state["hy-push-state"]&&!window.history.state["hy-push-state"].hash}),i).call(lt,function(){var t=window.history.state["hy-push-state"].scrollHeight;document.body.style.minHeight=t+"px"}),(lt=(lt=b.merge.call(p.Observable,nt,ot,it),j.observeOn).call(lt,h.animationFrame),i).call(lt,function(){document.body.style.minHeight=""})}window._pushState="customElements"in window?function(t){return t.setAttribute("replace-ids",D),t.setAttribute("link-selector",U),t.setAttribute("duration",H),a()&&t.setAttribute("scroll-restoration",""),t.setAttribute("_href-regex",z),t.setAttribute("_script-selector",q),customElements.define("hy-push-state",f.HTMLPushStateElement),t}(K):function(t){return new l.PushState(t,{replaceIds:D.split(","),linkSelector:U,duration:H,scrollRestoration:a(),_hrefRegex:z,_scriptSelector:q})}(K)}},{"./common":3,"./cross-fader":4,"./flip":6,"./katex":10,"core-js/fn/array/for-each":20,"core-js/fn/function/bind":24,"core-js/fn/object/assign":26,"core-js/fn/string/includes":31,"hy-push-state/src/common":133,"hy-push-state/src/vanilla":136,"hy-push-state/src/webcomponent":137,"rxjs/Observable":142,"rxjs/observable/fromEvent":169,"rxjs/observable/merge":170,"rxjs/observable/of":172,"rxjs/observable/timer":173,"rxjs/operator/catch":174,"rxjs/operator/debounceTime":176,"rxjs/operator/do":178,"rxjs/operator/exhaustMap":179,"rxjs/operator/filter":180,"rxjs/operator/map":182,"rxjs/operator/mapTo":183,"rxjs/operator/mergeMap":185,"rxjs/operator/observeOn":186,"rxjs/operator/pairwise":187,"rxjs/operator/share":191,"rxjs/operator/startWith":193,"rxjs/operator/switchMap":194,"rxjs/operator/takeUntil":196,"rxjs/operator/zip":200,"rxjs/scheduler/animationFrame":237}],12:[function(t,e,r){"use strict";var n=[],o=function(t,e){var r=document.head||document.getElementsByTagName("head")[0],o=n[n.length-1];if(e=e||{},e.insertAt=e.insertAt||"bottom","top"===e.insertAt)o?o.nextSibling?r.insertBefore(t,o.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),n.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}};e.exports={createLink:function(t,e){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=t,n.rel="stylesheet";for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];n.setAttribute("data-"+o,i)}r.appendChild(n)},createStyle:function(t,e,r){r=r||{};var n=document.createElement("style");n.type="text/css";for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];n.setAttribute("data-"+i,s)}n.sheet?(n.innerHTML=t,n.sheet.cssText=t,o(n,{insertAt:r.insertAt})):n.styleSheet?(o(n,{insertAt:r.insertAt}),n.styleSheet.cssText=t):(n.appendChild(document.createTextNode(t)),o(n,{insertAt:r.insertAt}))}}},{}],13:[function(t,e,r){function n(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}var o=t("color-name"),i={};for(var s in o)o.hasOwnProperty(s)&&(i[o[s]]=s);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var c in a)if(a.hasOwnProperty(c)){if(!("channels"in a[c]))throw new Error("missing channels property: "+c);if(!("labels"in a[c]))throw new Error("missing channel labels property: "+c);if(a[c].labels.length!==a[c].channels)throw new Error("channel and label counts mismatch: "+c);var u=a[c].channels,l=a[c].labels;delete a[c].channels,delete a[c].labels,Object.defineProperty(a[c],"channels",{value:u}),Object.defineProperty(a[c],"labels",{value:l})}a.rgb.hsl=function(t){var e,r,n,o=t[0]/255,i=t[1]/255,s=t[2]/255,a=Math.min(o,i,s),c=Math.max(o,i,s),u=c-a;return c===a?e=0:o===c?e=(i-s)/u:i===c?e=2+(s-o)/u:s===c&&(e=4+(o-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+c)/2,r=c===a?0:n<=.5?u/(c+a):u/(2-c-a),[e,100*r,100*n]},a.rgb.hsv=function(t){var e,r,n,o=t[0],i=t[1],s=t[2],a=Math.min(o,i,s),c=Math.max(o,i,s),u=c-a;return r=0===c?0:u/c*1e3/10,c===a?e=0:o===c?e=(i-s)/u:i===c?e=2+(s-o)/u:s===c&&(e=4+(o-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=c/255*1e3/10,[e,r,n]},a.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],o=a.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[o,100*i,100*n]},a.rgb.cmyk=function(t){var e,r,n,o,i=t[0]/255,s=t[1]/255,a=t[2]/255;return o=Math.min(1-i,1-s,1-a),e=(1-i-o)/(1-o)||0,r=(1-s-o)/(1-o)||0,n=(1-a-o)/(1-o)||0,[100*e,100*r,100*n,100*o]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var r,s=1/0;for(var a in o)if(o.hasOwnProperty(a)){var c=n(t,o[a]);c<s&&(s=c,r=a)}return r},a.keyword.rgb=function(t){return o[t]},a.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},a.rgb.lab=function(t){var e,r,n,o=a.rgb.xyz(t),i=o[0],s=o[1],c=o[2];return i/=95.047,s/=100,c/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,c=c>.008856?Math.pow(c,1/3):7.787*c+16/116,e=116*s-16,r=500*(i-s),n=200*(s-c),[e,r,n]},a.hsl.rgb=function(t){var e,r,n,o,i,s=t[0]/360,a=t[1]/100,c=t[2]/100;if(0===a)return i=255*c,[i,i,i];e=2*c-(r=c<.5?c*(1+a):c+a-c*a),o=[0,0,0];for(var u=0;u<3;u++)(n=s+1/3*-(u-1))<0&&n++,n>1&&n--,i=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,o[u]=255*i;return o},a.hsl.hsv=function(t){var e,r,n=t[0],o=t[1]/100,i=t[2]/100,s=o,a=Math.max(i,.01);return i*=2,o*=i<=1?i:2-i,s*=a<=1?a:2-a,r=(i+o)/2,e=0===i?2*s/(a+s):2*o/(i+o),[n,100*e,100*r]},a.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,o=Math.floor(e)%6,i=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*i),c=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}},a.hsv.hsl=function(t){var e,r,n,o=t[0],i=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return n=(2-i)*s,e=(2-i)*a,r=i*a,r/=e<=1?e:2-e,r=r||0,n/=2,[o,100*r,100*n]},a.hwb.rgb=function(t){var e,r,n,o,i=t[0]/360,s=t[1]/100,a=t[2]/100,c=s+a;c>1&&(s/=c,a/=c),r=1-a,n=6*i-(e=Math.floor(6*i)),0!=(1&e)&&(n=1-n),o=s+n*(r-s);var u,l,f;switch(e){default:case 6:case 0:u=r,l=o,f=s;break;case 1:u=o,l=r,f=s;break;case 2:u=s,l=r,f=o;break;case 3:u=s,l=o,f=r;break;case 4:u=o,l=s,f=r;break;case 5:u=r,l=s,f=o}return[255*u,255*l,255*f]},a.cmyk.rgb=function(t){var e,r,n,o=t[0]/100,i=t[1]/100,s=t[2]/100,a=t[3]/100;return e=1-Math.min(1,o*(1-a)+a),r=1-Math.min(1,i*(1-a)+a),n=1-Math.min(1,s*(1-a)+a),[255*e,255*r,255*n]},a.xyz.rgb=function(t){var e,r,n,o=t[0]/100,i=t[1]/100,s=t[2]/100;return e=3.2406*o+-1.5372*i+-.4986*s,r=-.9689*o+1.8758*i+.0415*s,n=.0557*o+-.204*i+1.057*s,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,e=Math.min(Math.max(0,e),1),r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),[255*e,255*r,255*n]},a.xyz.lab=function(t){var e,r,n,o=t[0],i=t[1],s=t[2];return o/=95.047,i/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*i-16,r=500*(o-i),n=200*(i-s),[e,r,n]},a.lab.xyz=function(t){var e,r,n,o=t[0];e=t[1]/500+(r=(o+16)/116),n=r-t[2]/200;var i=Math.pow(r,3),s=Math.pow(e,3),a=Math.pow(n,3);return r=i>.008856?i:(r-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,n=a>.008856?a:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},a.lab.lch=function(t){var e,r,n,o=t[0],i=t[1],s=t[2];return e=Math.atan2(s,i),(r=360*e/2/Math.PI)<0&&(r+=360),n=Math.sqrt(i*i+s*s),[o,n,r]},a.lch.lab=function(t){var e,r,n,o=t[0],i=t[1];return n=t[2]/360*2*Math.PI,e=i*Math.cos(n),r=i*Math.sin(n),[o,e,r]},a.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],o=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}t-=16;var r;return[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map(function(t){return t+t}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},a.rgb.hcg=function(t){var e,r,n=t[0]/255,o=t[1]/255,i=t[2]/255,s=Math.max(Math.max(n,o),i),a=Math.min(Math.min(n,o),i),c=s-a;return e=c<1?a/(1-c):0,r=c<=0?0:s===n?(o-i)/c%6:s===o?2+(i-n)/c:4+(n-o)/c+4,r/=6,r%=1,[360*r,100*c,100*e]},a.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,o=0;return(n=r<.5?2*e*r:2*e*(1-r))<1&&(o=(r-.5*n)/(1-n)),[t[0],100*n,100*o]},a.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},a.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];var o=[0,0,0],i=e%1*6,s=i%1,a=1-s,c=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return c=(1-r)*n,[255*(r*o[0]+c),255*(r*o[1]+c),255*(r*o[2]+c)]},a.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},a.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},a.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},a.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,n=r-e,o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},{"color-name":16}],14:[function(t,e,r){var n=t("./conversions"),o=t("./route"),i={};Object.keys(n).forEach(function(t){i[t]={},Object.defineProperty(i[t],"channels",{value:n[t].channels}),Object.defineProperty(i[t],"labels",{value:n[t].labels});var e=o(t);Object.keys(e).forEach(function(r){var n=e[r];i[t][r]=function(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"==typeof r)for(var n=r.length,o=0;o<n;o++)r[o]=Math.round(r[o]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(n),i[t][r].raw=function(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)})}),e.exports=i},{"./conversions":13,"./route":15}],15:[function(t,e,r){function n(t){var e=function(){for(var t={},e=Object.keys(s),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),o=Object.keys(s[n]),i=o.length,a=0;a<i;a++){var c=o[a],u=e[c];-1===u.distance&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(c))}return e}function o(t,e){return function(r){return e(t(r))}}function i(t,e){for(var r=[e[t].parent,t],n=s[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=o(s[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}var s=t("./conversions");e.exports=function(t){for(var e=n(t),r={},o=Object.keys(e),s=o.length,a=0;a<s;a++){var c=o[a];null!==e[c].parent&&(r[c]=i(c,e))}return r}},{"./conversions":13}],16:[function(t,e,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],17:[function(t,e,r){function n(t,e,r){return Math.min(Math.max(e,t),r)}function o(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var i=t("color-name"),s=t("simple-swizzle"),a={};for(var c in i)i.hasOwnProperty(c)&&(a[i[c]]=c);var u=e.exports={to:{}};u.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=u.get.hsl(t),r="hsl";break;case"hwb":e=u.get.hwb(t),r="hwb";break;default:e=u.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},u.get.rgb=function(t){if(!t)return null;var e,r,o,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],r=0;r<3;r++){var a=2*r;s[r]=parseInt(e.slice(a,a+2),16)}o&&(s[3]=Math.round(parseInt(o,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],r=0;r<3;r++)s[r]=parseInt(e[r]+e[r],16);o&&(s[3]=Math.round(parseInt(o+o,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)s[r]=parseInt(e[r+1],0);e[4]&&(s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(s=i[e[1]])?(s[3]=1,s):null:null;for(r=0;r<3;r++)s[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(s[3]=parseFloat(e[4]))}for(r=0;r<3;r++)s[r]=n(s[r],0,255);return s[3]=n(s[3],0,1),s},u.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,n(parseFloat(e[2]),0,100),n(parseFloat(e[3]),0,100),n(isNaN(r)?1:r,0,1)]}return null},u.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,n(parseFloat(e[2]),0,100),n(parseFloat(e[3]),0,100),n(isNaN(r)?1:r,0,1)]}return null},u.to.hex=function(){var t=s(arguments);return"#"+o(t[0])+o(t[1])+o(t[2])+(t[3]<1?o(Math.round(255*t[3])):"")},u.to.rgb=function(){var t=s(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},u.to.rgb.percent=function(){var t=s(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},u.to.hsl=function(){var t=s(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},u.to.hwb=function(){var t=s(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},u.to.keyword=function(t){return a[t.slice(0,3)]}},{"color-name":16,"simple-swizzle":263}],18:[function(t,e,r){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(e&&e in f&&(e=null),e&&!(e in u))throw new Error("Unknown model: "+e);var r,o;if(t)if(t instanceof n)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var i=c.get(t);if(null===i)throw new Error("Unable to parse color from string: "+t);this.model=i.model,o=u[this.model].channels,this.color=i.value.slice(0,o),this.valpha="number"==typeof i.value[o]?i.value[o]:1}else if(t.length){this.model=e||"rgb",o=u[this.model].channels;var s=l.call(t,0,o);this.color=a(s,o),this.valpha="number"==typeof t[o]?t[o]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var b=d.sort().join("");if(!(b in p))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=p[b];var y=u[this.model].labels,m=[];for(r=0;r<y.length;r++)m.push(t[y[r]]);this.color=a(m)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(h[this.model])for(o=u[this.model].channels,r=0;r<o;r++){var v=h[this.model][r];v&&(this.color[r]=v(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function o(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function i(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(h[t]||(h[t]=[]))[e]=r}),t=t[0],function(n){var o;return arguments.length?(r&&(n=r(n)),o=this[t](),o.color[e]=n,o):(o=this[t]().color[e],r&&(o=r(o)),o)}}function s(t){return function(e){return Math.max(0,Math.min(t,e))}}function a(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}var c=t("color-string"),u=t("color-convert"),l=[].slice,f=["keyword","gray","hex"],p={};Object.keys(u).forEach(function(t){p[l.call(u[t].labels).sort().join("")]=t});var h={};n.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in c.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return c.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return c.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=u[this.model].channels,r=u[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new n(this.color.map(o(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new n(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:i("rgb",0,s(255)),green:i("rgb",1,s(255)),blue:i("rgb",2,s(255)),hue:i(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:i("hsl",1,s(100)),lightness:i("hsl",2,s(100)),saturationv:i("hsv",1,s(100)),value:i("hsv",2,s(100)),chroma:i("hcg",1,s(100)),gray:i("hcg",2,s(100)),white:i("hwb",1,s(100)),wblack:i("hwb",2,s(100)),cyan:i("cmyk",0,s(100)),magenta:i("cmyk",1,s(100)),yellow:i("cmyk",2,s(100)),black:i("cmyk",3,s(100)),x:i("xyz",0,s(100)),y:i("xyz",1,s(100)),z:i("xyz",2,s(100)),l:i("lab",0,s(100)),a:i("lab",1),b:i("lab",2),keyword:function(t){return arguments.length?new n(t):u[this.model].keyword(this.color)},hex:function(t){return arguments.length?new n(t):c.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return n.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){var r=t.rgb(),o=this.rgb(),i=void 0===e?.5:e,s=2*i-1,a=r.alpha()-o.alpha(),c=((s*a==-1?s:(s+a)/(1+s*a))+1)/2,u=1-c;return n.rgb(c*r.red()+u*o.red(),c*r.green()+u*o.green(),c*r.blue()+u*o.blue(),r.alpha()*i+o.alpha()*(1-i))}},Object.keys(u).forEach(function(t){if(-1===f.indexOf(t)){var e=u[t].channels;n.prototype[t]=function(){if(this.model===t)return new n(this);if(arguments.length)return new n(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new n(function(t){return Array.isArray(t)?t:[t]}(u[this.model][t].raw(this.color)).concat(r),t)},n[t]=function(r){return"number"==typeof r&&(r=a(l.call(arguments),e)),new n(r,t)}}}),e.exports=n},{"color-convert":14,"color-string":17}],19:[function(t,e,r){t("../../modules/es6.array.find"),e.exports=t("../../modules/_core").Array.find},{"../../modules/_core":43,"../../modules/es6.array.find":103}],20:[function(t,e,r){t("../../modules/es6.array.for-each"),e.exports=t("../../modules/_core").Array.forEach},{"../../modules/_core":43,"../../modules/es6.array.for-each":104}],21:[function(t,e,r){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/_core").Array.from},{"../../modules/_core":43,"../../modules/es6.array.from":105,"../../modules/es6.string.iterator":115}],22:[function(t,e,r){t("../../modules/es7.array.includes"),e.exports=t("../../modules/_core").Array.includes},{"../../modules/_core":43,"../../modules/es7.array.includes":117}],23:[function(t,e,r){t("../../modules/es6.array.map"),e.exports=t("../../modules/_core").Array.map},{"../../modules/_core":43,"../../modules/es6.array.map":106}],24:[function(t,e,r){t("../../modules/es6.function.bind"),e.exports=t("../../modules/_core").Function.bind},{"../../modules/_core":43,"../../modules/es6.function.bind":107}],25:[function(t,e,r){t("../../modules/es6.number.constructor"),e.exports=Number},{"../../modules/es6.number.constructor":108}],26:[function(t,e,r){t("../../modules/es6.object.assign"),e.exports=t("../../modules/_core").Object.assign},{"../../modules/_core":43,"../../modules/es6.object.assign":109}],27:[function(t,e,r){t("../../modules/es6.object.define-property");var n=t("../../modules/_core").Object;e.exports=function(t,e,r){return n.defineProperty(t,e,r)}},{"../../modules/_core":43,"../../modules/es6.object.define-property":110}],28:[function(t,e,r){t("../../modules/es6.object.keys"),e.exports=t("../../modules/_core").Object.keys},{"../../modules/_core":43,"../../modules/es6.object.keys":111}],29:[function(t,e,r){t("../../modules/es6.object.set-prototype-of"),e.exports=t("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":43,"../../modules/es6.object.set-prototype-of":112}],30:[function(t,e,r){t("../../modules/es6.reflect.construct"),e.exports=t("../../modules/_core").Reflect.construct},{"../../modules/_core":43,"../../modules/es6.reflect.construct":113}],31:[function(t,e,r){t("../../modules/es6.string.includes"),e.exports=t("../../modules/_core").String.includes},{"../../modules/_core":43,"../../modules/es6.string.includes":114}],32:[function(t,e,r){t("../../modules/es6.string.trim"),e.exports=t("../../modules/_core").String.trim},{"../../modules/_core":43,"../../modules/es6.string.trim":116}],33:[function(t,e,r){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],34:[function(t,e,r){var n=t("./_wks")("unscopables"),o=Array.prototype;void 0==o[n]&&t("./_hide")(o,n,{}),e.exports=function(t){o[n][t]=!0}},{"./_hide":55,"./_wks":101}],35:[function(t,e,r){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":63}],36:[function(t,e,r){var n=t("./_to-iobject"),o=t("./_to-length"),i=t("./_to-absolute-index");e.exports=function(t){return function(e,r,s){var a,c=n(e),u=o(c.length),l=i(s,u);if(t&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}}},{"./_to-absolute-index":94,"./_to-iobject":96,"./_to-length":97}],37:[function(t,e,r){var n=t("./_ctx"),o=t("./_iobject"),i=t("./_to-object"),s=t("./_to-length"),a=t("./_array-species-create");e.exports=function(t,e){var r=1==t,c=2==t,u=3==t,l=4==t,f=6==t,p=5==t||f,h=e||a;return function(e,a,d){for(var b,y,m=i(e),v=o(m),g=n(a,d,3),_=s(v.length),w=0,x=r?h(e,_):c?h(e,0):void 0;_>w;w++)if((p||w in v)&&(b=v[w],y=g(b,w,m),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return w;case 2:x.push(b)}else if(l)return!1;return f?-1:u||l?l:x}}},{"./_array-species-create":39,"./_ctx":45,"./_iobject":60,"./_to-length":97,"./_to-object":98}],38:[function(t,e,r){var n=t("./_is-object"),o=t("./_is-array"),i=t("./_wks")("species");e.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":62,"./_is-object":63,"./_wks":101}],39:[function(t,e,r){var n=t("./_array-species-constructor");e.exports=function(t,e){return new(n(t))(e)}},{"./_array-species-constructor":38}],40:[function(t,e,r){"use strict";var n=t("./_a-function"),o=t("./_is-object"),i=t("./_invoke"),s=[].slice,a={};e.exports=Function.bind||function(t){var e=n(this),r=s.call(arguments,1),c=function(){var n=r.concat(s.call(arguments));return this instanceof c?function(t,e,r){if(!(e in a)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,r)}(e,n.length,n):i(e,n,t)};return o(e.prototype)&&(c.prototype=e.prototype),c}},{"./_a-function":33,"./_invoke":59,"./_is-object":63}],41:[function(t,e,r){var n=t("./_cof"),o=t("./_wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:i?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},{"./_cof":42,"./_wks":101}],42:[function(t,e,r){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],43:[function(t,e,r){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],44:[function(t,e,r){"use strict";var n=t("./_object-dp"),o=t("./_property-desc");e.exports=function(t,e,r){e in t?n.f(t,e,o(0,r)):t[e]=r}},{"./_object-dp":73,"./_property-desc":83}],45:[function(t,e,r){var n=t("./_a-function");e.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":33}],46:[function(t,e,r){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],47:[function(t,e,r){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":52}],48:[function(t,e,r){var n=t("./_is-object"),o=t("./_global").document,i=n(o)&&n(o.createElement);e.exports=function(t){return i?o.createElement(t):{}}},{"./_global":53,"./_is-object":63}],49:[function(t,e,r){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],50:[function(t,e,r){var n=t("./_global"),o=t("./_core"),i=t("./_hide"),s=t("./_redefine"),a=t("./_ctx"),c=function(t,e,r){var u,l,f,p,h=t&c.F,d=t&c.G,b=t&c.S,y=t&c.P,m=t&c.B,v=d?n:b?n[e]||(n[e]={}):(n[e]||{}).prototype,g=d?o:o[e]||(o[e]={}),_=g.prototype||(g.prototype={});d&&(r=e);for(u in r)f=((l=!h&&v&&void 0!==v[u])?v:r)[u],p=m&&l?a(f,n):y&&"function"==typeof f?a(Function.call,f):f,v&&s(v,u,f,t&c.U),g[u]!=f&&i(g,u,p),y&&_[u]!=f&&(_[u]=f)};n.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},{"./_core":43,"./_ctx":45,"./_global":53,"./_hide":55,"./_redefine":84}],51:[function(t,e,r){var n=t("./_wks")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},{"./_wks":101}],52:[function(t,e,r){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],53:[function(t,e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],54:[function(t,e,r){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],55:[function(t,e,r){var n=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},{"./_descriptors":47,"./_object-dp":73,"./_property-desc":83}],56:[function(t,e,r){var n=t("./_global").document;e.exports=n&&n.documentElement},{"./_global":53}],57:[function(t,e,r){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":47,"./_dom-create":48,"./_fails":52}],58:[function(t,e,r){var n=t("./_is-object"),o=t("./_set-proto").set;e.exports=function(t,e,r){var i,s=e.constructor;return s!==r&&"function"==typeof s&&(i=s.prototype)!==r.prototype&&n(i)&&o&&o(t,i),t}},{"./_is-object":63,"./_set-proto":85}],59:[function(t,e,r){e.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],60:[function(t,e,r){var n=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./_cof":42}],61:[function(t,e,r){var n=t("./_iterators"),o=t("./_wks")("iterator"),i=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||i[o]===t)}},{"./_iterators":69,"./_wks":101}],62:[function(t,e,r){var n=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==n(t)}},{"./_cof":42}],63:[function(t,e,r){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],64:[function(t,e,r){var n=t("./_is-object"),o=t("./_cof"),i=t("./_wks")("match");e.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},{"./_cof":42,"./_is-object":63,"./_wks":101}],65:[function(t,e,r){var n=t("./_an-object");e.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},{"./_an-object":35}],66:[function(t,e,r){"use strict";var n=t("./_object-create"),o=t("./_property-desc"),i=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,r){t.prototype=n(s,{next:o(1,r)}),i(t,e+" Iterator")}},{"./_hide":55,"./_object-create":72,"./_property-desc":83,"./_set-to-string-tag":86,"./_wks":101}],67:[function(t,e,r){"use strict";var n=t("./_library"),o=t("./_export"),i=t("./_redefine"),s=t("./_hide"),a=t("./_has"),c=t("./_iterators"),u=t("./_iter-create"),l=t("./_set-to-string-tag"),f=t("./_object-gpo"),p=t("./_wks")("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(t,e,r,b,y,m,v){u(r,e,b);var g,_,w,x=function(t){if(!h&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},S=e+" Iterator",O="values"==y,j=!1,E=t.prototype,T=E[p]||E["@@iterator"]||y&&E[y],A=T||x(y),k=y?O?x("entries"):A:void 0,M="Array"==e?E.entries||T:T;if(M&&(w=f(M.call(new t)))!==Object.prototype&&w.next&&(l(w,S,!0),n||a(w,p)||s(w,p,d)),O&&T&&"values"!==T.name&&(j=!0,A=function(){return T.call(this)}),n&&!v||!h&&!j&&E[p]||s(E,p,A),c[e]=A,c[S]=d,y)if(g={values:O?A:x("values"),keys:m?A:x("keys"),entries:k},v)for(_ in g)_ in E||i(E,_,g[_]);else o(o.P+o.F*(h||j),e,g);return g}},{"./_export":50,"./_has":54,"./_hide":55,"./_iter-create":66,"./_iterators":69,"./_library":70,"./_object-gpo":78,"./_redefine":84,"./_set-to-string-tag":86,"./_wks":101}],68:[function(t,e,r){var n=t("./_wks")("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},t(i)}catch(t){}return r}},{"./_wks":101}],69:[function(t,e,r){e.exports={}},{}],70:[function(t,e,r){e.exports=!1},{}],71:[function(t,e,r){"use strict";var n=t("./_object-keys"),o=t("./_object-gops"),i=t("./_object-pie"),s=t("./_to-object"),a=t("./_iobject"),c=Object.assign;e.exports=!c||t("./_fails")(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var r=s(t),c=arguments.length,u=1,l=o.f,f=i.f;c>u;)for(var p,h=a(arguments[u++]),d=l?n(h).concat(l(h)):n(h),b=d.length,y=0;b>y;)f.call(h,p=d[y++])&&(r[p]=h[p]);return r}:c},{"./_fails":52,"./_iobject":60,"./_object-gops":77,"./_object-keys":80,"./_object-pie":81,"./_to-object":98}],72:[function(t,e,r){var n=t("./_an-object"),o=t("./_object-dps"),i=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),a=function(){},c=function(){var e,r=t("./_dom-create")("iframe"),n=i.length;for(r.style.display="none",t("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=n(t),r=new a,a.prototype=null,r[s]=t):r=c(),void 0===e?r:o(r,e)}},{"./_an-object":35,"./_dom-create":48,"./_enum-bug-keys":49,"./_html":56,"./_object-dps":74,"./_shared-key":87}],73:[function(t,e,r){var n=t("./_an-object"),o=t("./_ie8-dom-define"),i=t("./_to-primitive"),s=Object.defineProperty;r.f=t("./_descriptors")?Object.defineProperty:function(t,e,r){if(n(t),e=i(e,!0),n(r),o)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{"./_an-object":35,"./_descriptors":47,"./_ie8-dom-define":57,"./_to-primitive":99}],74:[function(t,e,r){var n=t("./_object-dp"),o=t("./_an-object"),i=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){o(t);for(var r,s=i(e),a=s.length,c=0;a>c;)n.f(t,r=s[c++],e[r]);return t}},{"./_an-object":35,"./_descriptors":47,"./_object-dp":73,"./_object-keys":80}],75:[function(t,e,r){var n=t("./_object-pie"),o=t("./_property-desc"),i=t("./_to-iobject"),s=t("./_to-primitive"),a=t("./_has"),c=t("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=t("./_descriptors")?u:function(t,e){if(t=i(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return o(!n.f.call(t,e),t[e])}},{"./_descriptors":47,"./_has":54,"./_ie8-dom-define":57,"./_object-pie":81,"./_property-desc":83,"./_to-iobject":96,"./_to-primitive":99}],76:[function(t,e,r){var n=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},{"./_enum-bug-keys":49,"./_object-keys-internal":79}],77:[function(t,e,r){r.f=Object.getOwnPropertySymbols},{}],78:[function(t,e,r){var n=t("./_has"),o=t("./_to-object"),i=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":54,"./_shared-key":87,"./_to-object":98}],79:[function(t,e,r){var n=t("./_has"),o=t("./_to-iobject"),i=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var r,a=o(t),c=0,u=[];for(r in a)r!=s&&n(a,r)&&u.push(r);for(;e.length>c;)n(a,r=e[c++])&&(~i(u,r)||u.push(r));return u}},{"./_array-includes":36,"./_has":54,"./_shared-key":87,"./_to-iobject":96}],80:[function(t,e,r){var n=t("./_object-keys-internal"),o=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return n(t,o)}},{"./_enum-bug-keys":49,"./_object-keys-internal":79}],81:[function(t,e,r){r.f={}.propertyIsEnumerable},{}],82:[function(t,e,r){var n=t("./_export"),o=t("./_core"),i=t("./_fails");e.exports=function(t,e){var r=(o.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./_core":43,"./_export":50,"./_fails":52}],83:[function(t,e,r){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],84:[function(t,e,r){var n=t("./_global"),o=t("./_hide"),i=t("./_has"),s=t("./_uid")("src"),a=Function.toString,c=(""+a).split("toString");t("./_core").inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,r,a){var u="function"==typeof r;u&&(i(r,"name")||o(r,"name",e)),t[e]!==r&&(u&&(i(r,s)||o(r,s,t[e]?""+t[e]:c.join(String(e)))),t===n?t[e]=r:a?t[e]?t[e]=r:o(t,e,r):(delete t[e],o(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},{"./_core":43,"./_global":53,"./_has":54,"./_hide":55,"./_uid":100}],85:[function(t,e,r){var n=t("./_is-object"),o=t("./_an-object"),i=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function(t,e){return i(t,e),r?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:i}},{"./_an-object":35,"./_ctx":45,"./_is-object":63,"./_object-gopd":75}],86:[function(t,e,r){var n=t("./_object-dp").f,o=t("./_has"),i=t("./_wks")("toStringTag");e.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},{"./_has":54,"./_object-dp":73,"./_wks":101}],87:[function(t,e,r){var n=t("./_shared")("keys"),o=t("./_uid");e.exports=function(t){return n[t]||(n[t]=o(t))}},{"./_shared":88,"./_uid":100}],88:[function(t,e,r){var n=t("./_global"),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(t){return o[t]||(o[t]={})}},{"./_global":53}],89:[function(t,e,r){"use strict";var n=t("./_fails");e.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":52}],90:[function(t,e,r){var n=t("./_to-integer"),o=t("./_defined");e.exports=function(t){return function(e,r){var i,s,a=String(o(e)),c=n(r),u=a.length;return c<0||c>=u?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):i:t?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},{"./_defined":46,"./_to-integer":95}],91:[function(t,e,r){var n=t("./_is-regexp"),o=t("./_defined");e.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(t))}},{"./_defined":46,"./_is-regexp":64}],92:[function(t,e,r){var n=t("./_export"),o=t("./_defined"),i=t("./_fails"),s=t("./_string-ws"),a="["+s+"]",c=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),l=function(t,e,r){var o={},a=i(function(){return!!s[t]()||"​"!="​"[t]()}),c=o[t]=a?e(f):s[t];r&&(o[r]=c),n(n.P+n.F*a,"String",o)},f=l.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};e.exports=l},{"./_defined":46,"./_export":50,"./_fails":52,"./_string-ws":93}],93:[function(t,e,r){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],94:[function(t,e,r){var n=t("./_to-integer"),o=Math.max,i=Math.min;e.exports=function(t,e){return(t=n(t))<0?o(t+e,0):i(t,e)}},{"./_to-integer":95}],95:[function(t,e,r){var n=Math.ceil,o=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},{}],96:[function(t,e,r){var n=t("./_iobject"),o=t("./_defined");e.exports=function(t){return n(o(t))}},{"./_defined":46,"./_iobject":60}],97:[function(t,e,r){var n=t("./_to-integer"),o=Math.min;e.exports=function(t){return t>0?o(n(t),9007199254740991):0}},{"./_to-integer":95}],98:[function(t,e,r){var n=t("./_defined");e.exports=function(t){return Object(n(t))}},{"./_defined":46}],99:[function(t,e,r){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":63}],100:[function(t,e,r){var n=0,o=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},{}],101:[function(t,e,r){var n=t("./_shared")("wks"),o=t("./_uid"),i=t("./_global").Symbol,s="function"==typeof i;(e.exports=function(t){return n[t]||(n[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=n},{"./_global":53,"./_shared":88,"./_uid":100}],102:[function(t,e,r){var n=t("./_classof"),o=t("./_wks")("iterator"),i=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[n(t)]}},{"./_classof":41,"./_core":43,"./_iterators":69,"./_wks":101}],103:[function(t,e,r){"use strict";var n=t("./_export"),o=t("./_array-methods")(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("find")},{"./_add-to-unscopables":34,"./_array-methods":37,"./_export":50}],104:[function(t,e,r){"use strict";var n=t("./_export"),o=t("./_array-methods")(0),i=t("./_strict-method")([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},{"./_array-methods":37,"./_export":50,"./_strict-method":89}],105:[function(t,e,r){"use strict";var n=t("./_ctx"),o=t("./_export"),i=t("./_to-object"),s=t("./_iter-call"),a=t("./_is-array-iter"),c=t("./_to-length"),u=t("./_create-property"),l=t("./core.get-iterator-method");o(o.S+o.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,o,f,p=i(t),h="function"==typeof this?this:Array,d=arguments.length,b=d>1?arguments[1]:void 0,y=void 0!==b,m=0,v=l(p);if(y&&(b=n(b,d>2?arguments[2]:void 0,2)),void 0==v||h==Array&&a(v))for(r=new h(e=c(p.length));e>m;m++)u(r,m,y?b(p[m],m):p[m]);else for(f=v.call(p),r=new h;!(o=f.next()).done;m++)u(r,m,y?s(f,b,[o.value,m],!0):o.value);return r.length=m,r}})},{"./_create-property":44,"./_ctx":45,"./_export":50,"./_is-array-iter":61,"./_iter-call":65,"./_iter-detect":68,"./_to-length":97,"./_to-object":98,"./core.get-iterator-method":102}],106:[function(t,e,r){"use strict";var n=t("./_export"),o=t("./_array-methods")(1);n(n.P+n.F*!t("./_strict-method")([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},{"./_array-methods":37,"./_export":50,"./_strict-method":89}],107:[function(t,e,r){var n=t("./_export");n(n.P,"Function",{bind:t("./_bind")})},{"./_bind":40,"./_export":50}],108:[function(t,e,r){"use strict";var n=t("./_global"),o=t("./_has"),i=t("./_cof"),s=t("./_inherit-if-required"),a=t("./_to-primitive"),c=t("./_fails"),u=t("./_object-gopn").f,l=t("./_object-gopd").f,f=t("./_object-dp").f,p=t("./_string-trim").trim,h=n.Number,d=h,b=h.prototype,y="Number"==i(t("./_object-create")(b)),m="trim"in String.prototype,v=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var r,n,o,i=(e=m?e.trim():p(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if((s=c.charCodeAt(u))<48||s>o)return NaN;return parseInt(c,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof h&&(y?c(function(){b.valueOf.call(r)}):"Number"!=i(r))?s(new d(v(e)),r,h):v(e)};for(var g,_=t("./_descriptors")?u(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)o(d,g=_[w])&&!o(h,g)&&f(h,g,l(d,g));h.prototype=b,b.constructor=h,t("./_redefine")(n,"Number",h)}},{"./_cof":42,"./_descriptors":47,"./_fails":52,"./_global":53,"./_has":54,"./_inherit-if-required":58,"./_object-create":72,"./_object-dp":73,"./_object-gopd":75,"./_object-gopn":76,"./_redefine":84,"./_string-trim":92,"./_to-primitive":99}],109:[function(t,e,r){var n=t("./_export");n(n.S+n.F,"Object",{assign:t("./_object-assign")})},{"./_export":50,"./_object-assign":71}],110:[function(t,e,r){var n=t("./_export");n(n.S+n.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":47,"./_export":50,"./_object-dp":73}],111:[function(t,e,r){var n=t("./_to-object"),o=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return o(n(t))}})},{"./_object-keys":80,"./_object-sap":82,"./_to-object":98}],112:[function(t,e,r){var n=t("./_export");n(n.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":50,"./_set-proto":85}],113:[function(t,e,r){var n=t("./_export"),o=t("./_object-create"),i=t("./_a-function"),s=t("./_an-object"),a=t("./_is-object"),c=t("./_fails"),u=t("./_bind"),l=(t("./_global").Reflect||{}).construct,f=c(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),p=!c(function(){l(function(){})});n(n.S+n.F*(f||p),"Reflect",{construct:function(t,e){i(t),s(e);var r=arguments.length<3?t:i(arguments[2]);if(p&&!f)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(u.apply(t,n))}var c=r.prototype,h=o(a(c)?c:Object.prototype),d=Function.apply.call(t,h,e);return a(d)?d:h}})},{"./_a-function":33,"./_an-object":35,"./_bind":40,"./_export":50,"./_fails":52,"./_global":53,"./_is-object":63,"./_object-create":72}],114:[function(t,e,r){"use strict";var n=t("./_export"),o=t("./_string-context");n(n.P+n.F*t("./_fails-is-regexp")("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"./_export":50,"./_fails-is-regexp":51,"./_string-context":91}],115:[function(t,e,r){"use strict";var n=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":67,"./_string-at":90}],116:[function(t,e,r){"use strict";t("./_string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./_string-trim":92}],117:[function(t,e,r){"use strict";var n=t("./_export"),o=t("./_array-includes")(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":34,"./_array-includes":36,"./_export":50}],118:[function(t,e,r){"use strict";e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("Expected a string");return e=void 0===e?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}},{}],119:[function(t,e,r){"use strict";e.exports=function(){var t=document.createElement("div");return t.setAttribute("data-a-b","c"),Boolean(t.dataset&&"c"===t.dataset.aB)}()?function(t){return t.dataset}:function(t){function e(){return this.value}function r(t,e){void 0===e?this.removeAttribute(t):this.setAttribute(t,e)}for(var n={},o=t.attributes,i=0,s=o.length;i<s;i++){var a=o[i];if(a){var c=a.name;if(0===c.indexOf("data-")){var u=c.slice(5).replace(/-./g,function(t){return t.charAt(1).toUpperCase()}),l=a.value;Object.defineProperty(n,u,{enumerable:!0,get:e.bind({value:l||""}),set:r.bind(t,c)})}}}return n}},{}],120:[function(t,e,r){"use strict";e.exports=function(t){if(0===(t=arguments.length>1?Array.from(arguments).map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):t.trim()).length)return"";if(1===t.length)return t.toLowerCase();if(/^[a-z0-9]+$/.test(t))return t;return t!==t.toLowerCase()&&(t=function(t){for(var e=!1,r=!1,n=!1,o=0;o<t.length;o++){var i=t[o];e&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(t=t.substr(0,o)+"-"+t.substr(o),e=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(t=t.substr(0,o-1)+"-"+t.substr(o-1),n=r,r=!1,e=!0):(e=i.toLowerCase()===i,n=r,r=i.toUpperCase()===i)}return t}(t)),t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()})}},{}],121:[function(t,e,r){(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.Set=r.string=r.regex=r.number=r.bool=r.arrayOf=r.array=void 0;var o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)};r.simpleType=function(t,e,r){return t&&t===i.bool?t(r):t?r?t(r):e:"boolean"==typeof e?(0,i.bool)(r):"number"==typeof e?r?(0,i.number)(r):e:"object"===(void 0===e?"undefined":o(e))&&e?r?(0,i.array)(r):e:"string"==typeof e?r?(0,i.string)(r):e:void 0};var i=t("./types");r.array=i.array,r.arrayOf=i.arrayOf,r.bool=i.bool,r.number=i.number,r.regex=i.regex,r.string=i.string;r.Set=e.Set&&1===new e.Set([1]).size?e.Set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=t.filter(function(e,r){return r===t.indexOf(e)}),t.size=t.length,t.has=function(e){return t.indexOf(e)>-1},t.add=function(e){return t.has(e)||(t.size++,t.push(e)),t},t.delete=function(e){var r=void 0;return(r=t.has(e))&&(t.size--,delete t[t.indexOf(e)]),r},t.keys=t.values=function(){return t[Symbol.iterator]()},t.clear=function(){for(;t.pop(););t.size=0},t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./types":125}],122:[function(t,e,r){(function(e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=this,e=this.constructor.sideEffects;Object.keys(this[p]).forEach(function(r){var n=e[r];(function(t,e){var r=this;Object.defineProperty(this,t,{get:function(){return r[p][t]},set:function(n){var o=r[p][t];r[u.sSetState](t,n),e&&e.call(r,n,o)},enumerable:!0,configurable:!0})}).call(t,r,n)})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return function(e){function r(){return n(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),a(r,[{key:u.sSetup,value:function(t,e){var r=this.constructor.defaults;return this[p]=Object.assign({},r,e),o.call(this),this[f]=this[u.sSetupDOM](t),this}},{key:u.sSetupDOM,value:function(t){return t}},{key:u.sGetRoot,value:function(){return this[f]}},{key:u.sGetEl,value:function(){return this[f]}},{key:u.sFire,value:function(t,e){var r=this.constructor.componentName,n=new CustomEvent(r+"-"+t,e);this.el.dispatchEvent(n)}},{key:u.sSetState,value:function(t,e){this[p][t]=e}},{key:"root",get:function(){return this[u.sGetRoot]()}},{key:"el",get:function(){return this[u.sGetEl]()}}]),r}()}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.COMPONENT_FEATURE_TESTS=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r.componentMixin=i,t("core-js/fn/array/for-each"),t("core-js/fn/object/assign"),t("core-js/fn/object/define-property"),t("core-js/fn/object/keys");var c=t("./common"),u=t("./symbols"),l=(r.COMPONENT_FEATURE_TESTS=new c.Set(["customevent"]),e.Symbol||function(t){return"_"+t}),f=l("root"),p=l("state"),h=function t(){n(this,t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common":121,"./symbols":124,"core-js/fn/array/for-each":20,"core-js/fn/object/assign":26,"core-js/fn/object/define-property":27,"core-js/fn/object/keys":28}],123:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,p.default)(t,"-");r&&(y=n),!0===e?this.setAttribute(n,""):!1===e||null===e||void 0===e||"object"===(void 0===e?"undefined":l(e))&&0===e.length?this.removeAttribute(n):e&&"object"===(void 0===e?"undefined":l(e))&&e.length>0&&e.join?this.setAttribute(n,e.join(",")):"string"!=typeof e&&"number"!=typeof e||this.setAttribute(n,e)}function i(t){return function(e){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),c(r,[{key:"connectedCallback",value:function(){this[d.sSetup]()}},{key:"attributeChangedCallback",value:function(t,e,r){if(y!==t){if(e!==r){var n=this.constructor,o=n.defaults,i=n.types,s=(0,f.default)(t),a=(0,h.simpleType)(i[s],o[s],r);null!=a&&(this[s]=a)}}else y=void 0}},{key:d.sSetup,value:function(){return u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),d.sSetup,this).call(this,this,function(){var t=this,e=this.constructor,r=e.defaults,n=e.types,o={};return Object.keys(r).forEach(function(e){var i=(0,p.default)(e,"-"),s=t.getAttribute(i),a=(0,h.simpleType)(n[e],r[e],s);null!=a&&(o[e]=a)}),o}.call(this)),function(){var t=this,e=this.constructor.defaults;Object.keys(e).forEach(function(e){return o.call(t,e,t[e])})}.call(this),this}},{key:d.sSetState,value:function(t,e){u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),d.sSetState,this).call(this,t,e),o.call(this,t,e,!0)}},{key:d.sSetupDOM,value:function(t){var e=this[d.sGetTemplate]();if(e){if("attachShadow"in Element.prototype)return t.attachShadow({mode:"open"}),t.shadowRoot.appendChild(e),t.shadowRoot;throw Error("ShadowDOM API not supported")}return t}},{key:d.sGetEl,value:function(){return this}},{key:d.sGetTemplate,value:function(){var t=this.constructor.componentName;return document.querySelector('link[href$="'+t+'.html"]').import.querySelector("#"+t+"-template").content.cloneNode(!0)}}],[{key:"getObservedAttributes",value:function(){var t=this.defaults;return Object.keys(t).map(function(t){return(0,p.default)(t,"-")})}}]),r}()}function s(){var t="function"==typeof window.HTMLElement?window.HTMLElement:function(){};return Reflect.construct(t,[],this.__proto__.constructor)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.CUSTOM_ELEMENT_FEATURE_TESTS=void 0;var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=function t(e,r,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,r);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},l="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)};r.customElementMixin=i,r.CustomElement=s,r.fragmentFromString=function(t){return document.createRange().createContextualFragment(t)},t("core-js/fn/array/for-each"),t("core-js/fn/array/map"),t("core-js/fn/number/constructor"),t("core-js/fn/object/keys"),t("core-js/fn/object/set-prototype-of"),t("core-js/fn/reflect/construct"),t("core-js/fn/string/trim");var f=n(t("camelcase")),p=n(t("decamelize")),h=t("./common"),d=t("./symbols"),b=t("./component"),y=(r.CUSTOM_ELEMENT_FEATURE_TESTS=new h.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(b.COMPONENT_FEATURE_TESTS),["template","customelements"])),void 0);Object.setPrototypeOf&&(Object.setPrototypeOf(s.prototype,HTMLElement.prototype),Object.setPrototypeOf(s,HTMLElement))},{"./common":121,"./component":122,"./symbols":124,camelcase:120,"core-js/fn/array/for-each":20,"core-js/fn/array/map":23,"core-js/fn/number/constructor":25,"core-js/fn/object/keys":28,"core-js/fn/object/set-prototype-of":29,"core-js/fn/reflect/construct":30,"core-js/fn/string/trim":32,decamelize:118}],124:[function(t,e,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=t.Symbol||function(t){return"_"+t};r.sSetup=e("setup"),r.sSetupDOM=e("setupDOM"),r.sGetRoot=e("getRoot"),r.sGetEl=e("getElement"),r.sFire=e("fire"),r.sSetState=e("setState"),r.sGetTemplate=e("getTemplate")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],125:[function(t,e,r){"use strict";function n(t){return t.trim().replace(/^\[?(.*?)\]?$/,"$1").split(",").map(function(t){return t.trim()})}Object.defineProperty(r,"__esModule",{value:!0}),r.array=n,r.arrayOf=function(t){return function(e){return n(e).map(t)}},r.string=function(t){return t},r.bool=function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&null!=t},r.number=function(t){return Number(t)},r.regex=function(t){var e=t.match(/^\/?(.*?)(\/([gimy]*))?$/);return new RegExp(e[1],e[3])},r.oneOf=function(t){return function(e){var r=t.indexOf(e);return r>-1?t[r]:null}}},{}],126:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sSetupDOM=r.sSetup=r.VanillaComponent=void 0;var n=t("./symbols");r.VanillaComponent=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this[n.sSetup](e,r)};r.sSetup=n.sSetup,r.sSetupDOM=n.sSetupDOM},{"./symbols":124}],127:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Set=void 0,r.createTween=function(t,e,r,o,i){return n.Observable.create(function(n){var s=void 0,a=requestAnimationFrame(function c(u){var l=u-(s=s||u);l<o?(n.next(t(l,e,r,o,i)),a=requestAnimationFrame(c)):(n.next(t(o,e,r,o,i)),a=requestAnimationFrame(function(){return n.complete()}))});return function(){a&&cancelAnimationFrame(a)}})},r.easeOutSine=function(t,e,r,n){return r*Math.sin(t/n*(Math.PI/2))+e};var n=t("rxjs/Observable"),o=t("hy-component/src/common");r.Set=o.Set},{"hy-component/src/common":121,"rxjs/Observable":142}],128:[function(t,e,r){(function(e){"use strict";function n(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(0===r.length){var o;return(o=(o=D.withLatestFrom.call(this,t),j.filter).call(o,function(t){return h(t,2)[1]}),E.map).call(o,function(t){return h(t,1)[0]})}var i;return(i=(i=D.withLatestFrom.call.apply(D.withLatestFrom,[this,t].concat(r)),j.filter).call(i,function(t){return function(t){return Array.isArray(t)?t:Array.from(t)}(t).slice(1).every(function(t){return t})}),E.map).call(i,function(t){return h(t,1)[0]})}function o(t){var e=this;return R.switchMap.call(t,function(t){return t?e:S.never.call(m.Observable)})}function i(){this[Q].style.willChange="transform",this[Z].style.willChange="opacity",this[Q].classList.remove("hy-drawer-opened"),this[b.sFire]("prepare")}function s(){return this.el.id||this.constructor.componentName}function a(t){if(this[Z].style.willChange="",this[Q].style.willChange="",t?(this[Z].style.pointerEvents="all",this[Q].classList.add("hy-drawer-opened")):(this[Z].style.pointerEvents="",this[Q].classList.remove("hy-drawer-opened")),this._backButton){var e=s.call(this),r="#"+e+"--opened";t&&window.location.hash!==r&&window.history.pushState(function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},e,!0),document.title,r),!t&&window.history.state&&window.history.state[s.call(this)]&&""!==window.location.hash&&window.history.back()}this[b.sFire]("transitioned",{detail:t})}function c(){var t,e=this;this[W]=new v.Subject,this[X]=new v.Subject,this[V]=new v.Subject,this[$]=new v.Subject,this[G]=new v.Subject,this[Y]=new v.Subject,this[K]=new v.Subject;var r=(t=(t=w.fromEvent.call(m.Observable,window,"resize",{passive:!0}),P.share).call(t),N.startWith).call(t,{});r.subscribe(function(){e.opened&&e[Q].classList.remove("hy-drawer-opened"),e[J]=function(){return-parseFloat(getComputedStyle(this[Q])[this.align])}.call(e),e.opened&&e[Q].classList.add("hy-drawer-opened")});var c=(t=(t=this[V],E.map).call(t,function(t){return!t}),P.share).call(t),u={},l=(t=(t=function(){var t;return(t=this[G],R.switchMap).call(t,function(t){var e,r=(e=(e=w.fromEvent.call(m.Observable,document,"touchstart",{passive:!0}),j.filter).call(e,function(t){return 1===t.touches.length}),E.map).call(e,function(t){return t.touches[0]});if(!t)return r;var n=(e=w.fromEvent.call(m.Observable,document,"mousedown"),O._do).call(e,function(t){return et(t,{event:t})});return x.merge.call(m.Observable,r,n)})}.call(this),n).call(t,c),P.share).call(t),f=_.defer.call(m.Observable,function(){var t;return(t=u.translateX$,E.map).call(t,function(t){return"left"===e.align?t>0:t<e[J]})}),p=(t=(t=(t=D.withLatestFrom.call(l,f),E.map).call(t,function(t){var r=h(t,2),n=r[0].clientX,o=r[1];return function(t,e){switch(this.align){case"left":return t>this.range[0]&&(e||t<this.range[1]);case"right":return t<window.innerWidth-this.range[0]&&(e||t>window.innerWidth-this.range[1]);default:throw Error()}}.call(e,n,o)}),O._do).call(t,function(t){t&&(e.mouseEvents&&e[Q].classList.add("hy-drawer-grabbing"),i.call(e))}),P.share).call(t),d=(t=(t=function(){var t;return(t=this[G],R.switchMap).call(t,function(t){var e,r=(e=(e=w.fromEvent.call(m.Observable,document,"touchend",{passive:!0}),j.filter).call(e,function(t){return 0===t.touches.length}),E.map).call(e,function(t){return t.changedTouches[0]});if(!t)return r;var n=w.fromEvent.call(m.Observable,document,"mouseup",{passive:!0});return x.merge.call(m.Observable,r,n)})}.call(this),n).call(t,c,p),P.share).call(t),y=(t=(t=function(t,e){var r;return(r=g.combineLatest.call(m.Observable,this[G],this[$]),R.switchMap).call(r,function(r){var n,i=h(r,2),s=i[0],a=i[1],c=(n=w.fromEvent.call(m.Observable,document,"touchmove",{passive:!a}),E.map).call(n,function(t){return et(t.touches[0],{event:t})});if(!s)return c;var u=(n=(n=w.fromEvent.call(m.Observable,document,"mousemove",{passive:!a}),o).call(n,x.merge.call(m.Observable,T.mapTo.call(t,!0),T.mapTo.call(e,!1))),E.map).call(n,function(t){return et(t,{event:t})});return x.merge.call(m.Observable,c,u)})}.call(this,l,d),n).call(t,c,p),P.share).call(t),B=(t=(t=(t=(t=function(t,e){var r=this;if(this.threshold){var n;return(n=(n=D.withLatestFrom.call(t,e),C.skipWhile).call(n,function(t){var e=h(t,2),n=e[0],o=n.clientX,i=n.clientY,s=e[1],a=s.clientX,c=s.clientY;return rt(c-i)<r.threshold&&rt(a-o)<r.threshold}),E.map).call(n,function(t){var e=h(t,2),r=e[0],n=r.clientX,o=r.clientY,i=e[1],s=i.clientX,a=i.clientY;return rt(s-n)>=rt(a-o)})}var o;return(o=D.withLatestFrom.call(t,e),E.map).call(o,function(t){var e=h(t,2),n=e[0],o=n.clientX,i=n.clientY,s=n.event,a=e[1],c=a.clientX,u=a.clientY,l=rt(c-o)>=rt(u-i);return r.preventDefault&&l&&s.preventDefault(),l})}.call(this,y,l),F.take).call(t,1),N.startWith).call(t,void 0),k.repeatWhen).call(t,function(){return d}),O._do).call(t,function(t){t&&(e[tt]&&(e[tt].style.overflow="hidden"),e[b.sFire]("slidestart",{detail:e.opened}))});u.translateX$=(t=_.defer.call(m.Observable,function(){var t;return x.merge.call(m.Observable,(t=(t=(t=n.call(y,B),O._do).call(t,function(t){var r=t.event;e.preventDefault&&r.preventDefault()}),D.withLatestFrom).call(t,l,u.startTranslateX$),E.map).call(t,function(t){var r=h(t,3),n=r[0].clientX,o=r[1].clientX,i=r[2];return function(t,e,r){switch(this.align){case"left":var n=r+(t-e);return ot(0,nt(this[J],n));case"right":var o=r+(t-e);return nt(0,ot(-this[J],o));default:throw Error()}}.call(e,n,o,i)}),u.tween$,(t=(t=g.combineLatest.call(m.Observable,e[W],e[X],r),O._do).call(t,function(t){var r=h(t,1)[0];return a.call(e,r)}),E.map).call(t,function(t){var r=h(t,2),n=r[0],o=r[1];return n?e[J]*("left"===o?1:-1):0}))}),P.share).call(t),u.startTranslateX$=(t=u.translateX$,M.sample).call(t,l);var it=(t=(t=(t=(t=(t=u.translateX$,I.timestamp).call(t),A.pairwise).call(t),j.filter).call(t,function(t){var e=h(t,2),r=e[0].timestamp;return e[1].timestamp-r>0}),E.map).call(t,function(t){var e=h(t,2),r=e[0],n=r.value,o=r.timestamp,i=e[1];return(i.value-n)/(i.timestamp-o)}),N.startWith).call(t,0),st=(t=(t=(t=(t=O._do.call(d,function(){e[Q].classList.remove("hy-drawer-grabbing")}),D.withLatestFrom).call(t,l,u.translateX$,it),j.filter).call(t,function(t){var e=h(t,3),r=e[0].clientX,n=e[1].clientX,o=e[2];return r!==n||o>0&&o<this[J]}.bind(this)),E.map).call(t,function(t){var e=h(t,4),r=e[2],n=e[3];switch(this.align){case"left":return n>H||!(n<-H)&&r>=this[J]/2;case"right":return-n>H||!(-n<-H)&&r<=-this[J]/2;default:throw Error()}}.bind(this)),O._do).call(t,function(t){return e[b.sFire]("slideend",{detail:t})}),at=x.merge.call(m.Observable,st,(t=this[K],O._do).call(t,i.bind(this)));if(u.tween$=(t=(t=O._do.call(at,function(t){e[b.sSetState]("opened",t),e[tt]&&!t&&(e[tt].style.overflow="")}),D.withLatestFrom).call(t,u.translateX$),R.switchMap).call(t,function(t){var r,n=h(t,2),o=n[0],i=n[1],s="left"===e.align?1:-1,a=(o?e[J]*s:0)-i,c=q+e[J]*z;return(r=(r=(r=(0,U.createTween)(U.easeOutSine,i,a,c),O._do).call(r,{complete:function(){return e[W].next(o)}}),L.takeUntil).call(r,l),L.takeUntil).call(r,e[X])}),u.translateX$.subscribe(function(t){var e="left"===this.align?1:-1,r=t/this[J]*e;this[Q].style.transform="translateX("+t+"px)",this[Z].style.opacity=r,this[b.sFire]("move",{detail:r})}.bind(this)),w.fromEvent.call(m.Observable,this[Z],"click").subscribe(function(){return e.close()}),c.subscribe(function(t){e[Z].style.display=t?"block":"none"}),this[X].subscribe(function(t){var r="left"===t?"right":"left";e[Q].classList.remove("hy-drawer-"+r),e[Q].classList.add("hy-drawer-"+t)}),(t=w.fromEvent.call(m.Observable,window,"popstate"),o).call(t,this[Y]).subscribe(function(){var t="#"+s.call(e)+"--opened",r=window.location.hash===t;r!==e.opened&&e[K].next(r)}),(t=this[G],R.switchMap).call(t,function(t){return t?e[Q].classList.add("hy-drawer-grab"):e[Q].classList.remove("hy-drawer-grab"),t?D.withLatestFrom.call(l,p):S.never.call(m.Observable)}).subscribe(function(t){var e=h(t,2),r=e[0].event;e[1]&&r&&r.preventDefault()}),this._backButton){var ct="#"+s.call(this)+"--opened";window.location.hash===ct&&this[b.sSetState]("opened",!0)}this[W].next(this.opened),this[X].next(this.align),this[V].next(this.persistent),this[$].next(this.preventDefault),this[G].next(this.mouseEvents),this[Y].next(this._backButton)}function u(t){return function(e){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":l(e))&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":l(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,(0,d.componentMixin)(t)),f(r,[{key:b.sSetup,value:function(t,e){return p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),b.sSetup,this).call(this,t,e),this[Z]=this.root.querySelector(".hy-drawer-scrim"),this[Q]=this.root.querySelector(".hy-drawer-content"),this._hideOverflow&&(this[tt]=document.querySelector(this._hideOverflow)),this[Q].classList.add("hy-drawer-"+this.align),c.call(this),this[b.sFire]("init",{detail:this.opened}),this}},{key:"open",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this[K].next(!0):this.opened=!0}},{key:"close",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this[K].next(!1):this.opened=!1}},{key:"toggle",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this[K].next(!this.opened):this.opened=!this.opened}}],[{key:"componentName",get:function(){return"hy-drawer"}},{key:"defaults",get:function(){return{opened:!1,align:"left",persistent:!1,range:[0,100],threshold:10,preventDefault:!1,mouseEvents:!1,_backButton:!1,_hideOverflow:null}}},{key:"types",get:function(){return{opened:y.bool,align:(0,y.oneOf)(["left","right"]),persistent:y.bool,range:(0,y.arrayOf)(y.number),threshold:y.number,preventDefault:y.bool,mouseEvents:y.bool,_backButton:y.bool,_hideOverflow:y.string}}},{key:"sideEffects",get:function(){return{opened:function(t){this[W].next(t)},align:function(t){this[X].next(t)},persistent:function(t){this[V].next(t)},preventDefault:function(t){this[$].next(t)},mouseEvents:function(t){this[G].next(t)},_backButton:function(t){this[Y].next(t)},_hideOverflow:function(t){this[tt]&&(this[tt].style.overflow=""),this[tt]=document.querySelector(t)}}}}]),r}()}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.sSetupDOM=r.sSetup=r.MIXIN_FEATURE_TESTS=void 0;var f=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),p=function t(e,r,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,r);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},h=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.drawerMixin=u,t("core-js/fn/array/from"),t("core-js/fn/function/bind"),t("core-js/fn/object/assign");var d=t("hy-component/src/component"),b=t("hy-component/src/symbols"),y=t("hy-component/src/types"),m=t("rxjs/Observable"),v=t("rxjs/Subject"),g=t("rxjs/observable/combineLatest"),_=t("rxjs/observable/defer"),w=t("rxjs/observable/fromEvent"),x=t("rxjs/observable/merge"),S=t("rxjs/observable/never"),O=t("rxjs/operator/do"),j=t("rxjs/operator/filter"),E=t("rxjs/operator/map"),T=t("rxjs/operator/mapTo"),A=t("rxjs/operator/pairwise"),k=t("rxjs/operator/repeatWhen"),M=t("rxjs/operator/sample"),P=t("rxjs/operator/share"),C=t("rxjs/operator/skipWhile"),N=t("rxjs/operator/startWith"),R=t("rxjs/operator/switchMap"),F=t("rxjs/operator/take"),L=t("rxjs/operator/takeUntil"),I=t("rxjs/operator/timestamp"),D=t("rxjs/operator/withLatestFrom"),U=t("../common");r.MIXIN_FEATURE_TESTS=new U.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(d.COMPONENT_FEATURE_TESTS),["eventlistener","queryselector","requestanimationframe","classlist","opacity","csstransforms","csspointerevents"]));r.sSetup=b.sSetup,r.sSetupDOM=b.sSetupDOM;var q=200,z=.15,H=.15,B=e.Symbol||function(t){return"_"+t},W=B("openedObservable"),X=B("alignObservable"),V=B("persistentObservable"),$=B("preventDefaultObservable"),G=B("mouseEventsObservable"),Y=B("backButtonObservable"),K=B("animateToObservable"),J=B("drawerWidth"),Z=B("scrimElement"),Q=B("contentElement"),tt=B("scrollElement"),et=Object.assign.bind(Object),rt=Math.abs.bind(Math),nt=Math.min.bind(Math),ot=Math.max.bind(Math)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common":127,"core-js/fn/array/from":21,"core-js/fn/function/bind":24,"core-js/fn/object/assign":26,"hy-component/src/component":122,"hy-component/src/symbols":124,"hy-component/src/types":125,"rxjs/Observable":142,"rxjs/Subject":146,"rxjs/observable/combineLatest":162,"rxjs/observable/defer":164,"rxjs/observable/fromEvent":169,"rxjs/observable/merge":170,"rxjs/observable/never":171,"rxjs/operator/do":178,"rxjs/operator/filter":180,"rxjs/operator/map":182,"rxjs/operator/mapTo":183,"rxjs/operator/pairwise":187,"rxjs/operator/repeatWhen":189,"rxjs/operator/sample":190,"rxjs/operator/share":191,"rxjs/operator/skipWhile":192,"rxjs/operator/startWith":193,"rxjs/operator/switchMap":194,"rxjs/operator/take":195,"rxjs/operator/takeUntil":196,"rxjs/operator/timestamp":197,"rxjs/operator/withLatestFrom":199}],129:[function(t,e,r){var n="@media screen {\n  .hy-drawer-scrim {\n    display: block;\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    z-index: 2;\n    pointer-events: none;\n    background: rgba(0, 0, 0, 0.5);\n    transform: translateX(0);\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  .hy-drawer-content {\n    position: fixed;\n    bottom: 0;\n    top: 0;\n    z-index: 3;\n    overflow-x: hidden;\n    overflow-y: auto;\n    contain: strict;\n    width: 300px;\n    background: #e8e8e8;\n    box-shadow: 0 0 15px rgba(0, 0, 0, 0.25);\n    transform: translateX(0);\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .hy-drawer-content.hy-drawer-left {\n    left: -300px;\n  }\n\n  .hy-drawer-content.hy-drawer-right {\n    right: -300px;\n  }\n\n  .hy-drawer-content.hy-drawer-left.hy-drawer-opened {\n    left: 0!important;\n    transform: translateX(0)!important;\n  }\n\n  .hy-drawer-content.hy-drawer-right.hy-drawer-opened {\n    right: 0!important;\n    transform: translateX(0)!important;\n  }\n\n  .hy-drawer-grab {\n    cursor: move;\n    cursor: -webkit-grab;\n    cursor: -moz-grab;\n    cursor: grab;\n  }\n\n  .hy-drawer-grabbing {\n    cursor: -webkit-grabbing;\n    cursor: -moz-grabbing;\n    cursor: grabbing;\n  }\n}\n@media print {\n  .hy-drawer-scrim {\n    display: none!important;\n  }\n\n  .hy-drawer-content {\n    transform: none!important;\n  }\n}\n";t("browserify-css").createStyle(n,{href:"node_modules/hy-drawer/src/style.css"},{insertAt:"bottom"}),e.exports=n},{"browserify-css":12}],130:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.Drawer=r.VANILLA_FEATURE_TESTS=void 0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/from");var i=t("hy-component/src/vanilla"),s=t("hy-component/src/symbols"),a=t("../common"),c=t("../mixin");t("../style.css");r.VANILLA_FEATURE_TESTS=new a.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(c.MIXIN_FEATURE_TESTS),["classlist"])),r.Drawer=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":n(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.drawerMixin)(i.VanillaComponent)),o(e,[{key:s.sSetupDOM,value:function(t){if(!t)throw Error("No element provided");var e=document.createElement("div"),r=document.createElement("div");for(e.classList.add("hy-drawer-scrim"),r.classList.add("hy-drawer-content");t.children.length>0;)r.appendChild(t.children[0]);return t.appendChild(e),t.appendChild(r),t}}]),e}()},{"../common":127,"../mixin":128,"../style.css":129,"core-js/fn/array/from":21,"hy-component/src/symbols":124,"hy-component/src/vanilla":126}],131:[function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.HTMLDrawerElement=r.WEBCOMPONENT_FEATURE_TESTS=void 0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/from");var s=t("hy-component/src/custom-element"),a=t("hy-component/src/symbols"),c=t("../common"),u=t("../mixin"),l=function(t){return t&&t.__esModule?t:{default:t}}(t("./template.html"));r.WEBCOMPONENT_FEATURE_TESTS=new c.Set([].concat(n(s.CUSTOM_ELEMENT_FEATURE_TESTS),n(u.MIXIN_FEATURE_TESTS))),r.HTMLDrawerElement=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.customElementMixin)((0,u.drawerMixin)(s.CustomElement))),i(e,[{key:a.sGetTemplate,value:function(){return(0,s.fragmentFromString)(l.default)}}],[{key:"observedAttributes",get:function(){return this.getObservedAttributes()}}]),e}()},{"../common":127,"../mixin":128,"./template.html":132,"core-js/fn/array/from":21,"hy-component/src/custom-element":123,"hy-component/src/symbols":124}],132:[function(t,e,r){e.exports='<div class="hy-drawer-scrim"></div>\n<div class="hy-drawer-content">\n  <slot></slot>\n</div>\n\n<style>\n  /* HACK: Hard-coded: ../style.css */\n  @media screen {\n    .hy-drawer-scrim {\n      display: block;\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      opacity: 0;\n      z-index: 2;\n      pointer-events: none;\n      background: rgba(0, 0, 0, 0.5);\n      transform: translateX(0);\n      -webkit-tap-highlight-color: transparent;\n    }\n\n    .hy-drawer-content {\n      position: fixed;\n      bottom: 0;\n      top: 0;\n      z-index: 3;\n      overflow-x: hidden;\n      overflow-y: auto;\n      transform: translateX(0);\n      contain: strict;\n      width: 300px;\n      background: #e8e8e8;\n      box-shadow: 0 0 15px rgba(0, 0, 0, 0.25);\n      -webkit-overflow-scrolling: touch;\n    }\n\n    .hy-drawer-content.hy-drawer-left {\n      left: -300px;\n    }\n\n    .hy-drawer-content.hy-drawer-right {\n      right: -300px;\n    }\n\n    .hy-drawer-content.hy-drawer-left.hy-drawer-opened {\n      left: 0!important;\n      transform: translateX(0)!important;\n    }\n\n    .hy-drawer-content.hy-drawer-right.hy-drawer-opened {\n      right: 0!important;\n      transform: translateX(0)!important;\n    }\n\n    .hy-drawer-grab {\n      cursor: move;\n      cursor: -webkit-grab;\n      cursor: -moz-grab;\n      cursor: grab;\n    }\n\n    .hy-drawer-grabbing {\n      cursor: -webkit-grabbing;\n      cursor: -moz-grabbing;\n      cursor: grabbing;\n    }\n  }\n\n  @media print {\n    .hy-drawer-scrim {\n      display: none!important;\n    }\n\n    .hy-drawer-content {\n      transform: none!important;\n    }\n  }\n\n  /* HACK: Hard-coded ./style.css */\n  @media screen {\n    :host {\n\n    }\n\n    .hy-drawer-content {\n      @apply --hy-drawer-content-container;\n      width: var(--hy-drawer-width, 300px);\n      background: var(--hy-drawer-background, #e8e8e8);\n      box-shadow: var(--hy-drawer-box-shadow, 0 0 15px rgba(0, 0, 0, 0.25));\n      z-index: var(--hy-drawer-z-index, 3);\n    }\n\n    .hy-drawer-content.hy-drawer-left {\n      left: calc(-1 * var(--hy-drawer-slide-width, var(--hy-drawer-width, 300px)));\n    }\n\n    .hy-drawer-content.hy-drawer-right {\n      right: calc(-1 * var(--hy-drawer-slide-width, var(--hy-drawer-width, 300px)));\n    }\n\n    .hy-drawer-scrim {\n      @apply --hy-drawer-scrim-container;\n      background: var(--hy-drawer-scrim-background, rgba(0, 0, 0, 0.5));\n      z-index: var(--hy-drawer-scrim-z-index, 2);\n    }\n  }\n</style>\n'},{}],133:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.matches=r.Set=void 0,r.matchesAncestors=function(t){for(var e=this;e!==document&&e!==document.documentElement;){var r;if((r=e,o).call(r,t))return e;e=e.parentNode}return null},r.isExternal=function(t){var e=t.protocol,r=t.host;return e!==window.location.protocol||r!==window.location.host},r.isHash=function(t){var e=t.hash,r=t.origin,n=t.pathname;return""!==e&&r===window.location.origin&&n===window.location.pathname},r.getScrollHeight=function(){var t=document.documentElement,e=document.body,r="scrollHeight";return t[r]||e[r]},r.getScrollLeft=function(){return window.pageXOffset||document.body.scrollLeft},r.getScrollTop=function(){return window.pageYOffset||document.body.scrollTop},r.fragmentFromString=function(t){return document.createRange().createContextualFragment(t)};var n=t("hy-component/src/common");r.Set=n.Set;var o=r.matches=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector},{"hy-component/src/common":121}],134:[function(t,e,r){(function(e){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){var e=this;return tt.switchMap.call(t,function(t){return t?D.never.call(P.Observable):e})}function i(t,e,r){var n,o=this;return(n=o,H._catch).call(n,function(t,e){return e}).subscribe(t,e,r)}function s(t,e){return t&&""===t.target&&(!e||-1!==t.href.search(e))}function a(){return this.el.id||this.constructor.componentName}function c(t){if(t){var e=document.getElementById(t.substr(1));e&&e.scrollIntoView()}else window.scroll(window.pageXOffset,0)}function u(){var t=a.call(this),e=window.history.state&&window.history.state[t]||{};null!=e.scrollTop?(document.body.style.minHeight=e.scrollHeight,window.scroll(window.pageXOffset,e.scrollTop)):e.hash&&c(window.location.hash)}function l(t){var e=t.type,r=t.replace,o=t.url,i=o.href,s=o.hash;if(e===ut||e===at){var c=a.call(this),u=r||i===window.location.href?"replaceState":"pushState";window.history[u](n({},c,{hash:!!s}),"",i)}}function f(){var t=function(t){var e=a.call(this);return mt(t,n({},e,mt(t[e]||{},{scrollTop:(0,st.getScrollTop)(),scrollHeight:(0,st.getScrollHeight)()})))}.call(this,window.history.state||{});window.history.replaceState(t,document.title,window.location)}function p(t){var e,r=this;return(e=(e=z.ajax.call(P.Observable,function(t){return{method:"GET",responseType:"text",url:t.url}}(t)),$.map).call(e,function(e){var r=e.response;return mt(t,{response:r})}),H._catch).call(e,function(e){return function(t,e){var r=e.status,n=e.xhr;return n&&n.response&&r>400?U.of.call(P.Observable,mt(t,{response:n.response})):U.of.call(P.Observable,mt(t,{error:e}))}.call(r,t,e)})}function h(t,e){var r,n=T(e,2),o=n[0],i=n[1];return(r=(r=function(t,e,r){return t.url.href===e.url.href&&null==e.error?U.of.call(P.Observable,e):et.take.call(r,1)}(o,i,t),$.map).call(r,function(t){return mt(t,o)}),it.zipProto).call(r,this[pt],function(t){return t})}function d(t){var e,r=T(t,2),n=r[0],o=r[1],i=document.write;return document.write=function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=document.createElement("noscript");i.innerHTML=r.join(),(t=i.childNodes,bt).call(t,function(t){o.parentNode.insertBefore(t,o)})},""!==n.src?P.Observable.create(function(t){n.addEventListener("load",function(e){document.write=i,t.complete(e)}),n.addEventListener("error",function(e){document.write=i,t.error(e)}),o.parentNode.insertBefore(n,o.nextElementSibling)}):(e=U.of.call(P.Observable,{}),B._do).call(e,function(){o.parentNode.insertBefore(n,o.nextElementSibling),document.write=i})}function b(t){return(t.querySelector("title")||{}).textContent}function y(t){if(this.replaceIds.length>0)return this.replaceIds.map(function(e){return t.getElementById(e)});var e=void 0;if(this.el.id)e=t.getElementById(this.el.id);else{var r,n=(r=document.getElementsByTagName(this.el.tagName),yt).call(r,this.el);e=t.querySelectorAll(this.el.tagName)[n]}return[e]}function m(t){var e=t.response,r=(0,st.fragmentFromString)(e),n=b.call(this,r),o=y.call(this,r);if(o.some(function(t){return null==t}))throw mt(t,{relaceElMissing:!0});var i=this._scriptSelector?function(t){var e=this,r=[];return t.forEach(function(t){var n;return(n=t.querySelectorAll(e._scriptSelector),bt).call(n,function(t){var e=[t,t.previousElementSibling];t.parentNode.removeChild(t),r.push(e)})}),r}.call(this,o):[];return mt(t,{title:n,replaceEls:o,scripts:i})}function v(t){this.replaceIds.length>0?function(t){this.replaceIds.map(function(t){return document.getElementById(t)}).forEach(function(e,r){e.parentNode.replaceChild(t[r],e)})}.call(this,t):function(t){var e=T(t,1)[0];this.el.innerHTML=e.innerHTML}.call(this,t)}function g(t){this[k.sFire]("load",{detail:t})}function _(t,e){return t.url.href===e.url.href&&t.error===e.error&&t.cacheNr===e.cacheNr}function w(t){var e=T(t,2),r=e[0].url.pathname,n=e[1],o=n.url,i=o.pathname,s=o.hash,a=n.type;return i===r&&(a===lt||a===ut&&""!==s)}function x(){var t,e=this,r=new C.Subject,b=new C.Subject;this[ht]=new C.Subject;var y={},x=(t=(t=V.filter.call(r,function(t){var e=t.metaKey,r=t.ctrlKey,n=t.currentTarget;return!e&&!r&&s(n,this._hrefRegex)&&!(0,st.isExternal)(n)}.bind(this)),$.map).call(t,function(t){return{type:ut,url:new URL(t.currentTarget.href),anchor:t.currentTarget,event:t,cacheNr:vt}}),B._do).call(t,function(t){t.event.preventDefault(),f.call(e)}),S=(t=(t=L.fromEvent.call(P.Observable,window,"popstate"),V.filter).call(t,function(){return window.history.state&&window.history.state[a.call(e)]}),$.map).call(t,function(t){return{type:lt,url:new URL(window.location),event:t,cacheNr:vt}}),O=(t=(t=(t=(t=I.merge.call(P.Observable,x,S,this[ht]),Q.startWith).call(t,{url:new URL(window.location)}),J.pairwise).call(t),Z.share).call(t),K.partition).call(t,w).map(function(t){var e;return(e=$.map.call(t,function(t){return T(t,2)[1]}),Z.share).call(e)}),j=T(O,2),E=j[0],A=j[1],M=(t=(t=R.defer.call(P.Observable,function(){var t;return I.merge.call(P.Observable,G.mapTo.call(A,!0),(t=y.fetch$,G.mapTo).call(t,!1))}),Q.startWith).call(t,!1),Z.share).call(t),D=(t=(t=o.call(b,M),V.filter).call(t,function(t){var e=t.currentTarget;return s(e,this._hrefRegex)&&!(0,st.isExternal)(e)&&!(0,st.isHash)(e)}.bind(this)),$.map).call(t,function(t){return{type:ct,url:new URL(t.currentTarget.href),anchor:t.currentTarget,event:t,cacheNr:vt}}),U=(t=(t=(t=(t=I.merge.call(P.Observable,D,A),X.distinctUntilChanged).call(t,_),tt.switchMap).call(t,p.bind(this)),Q.startWith).call(t,{url:{}}),Z.share).call(t);y.fetch$=(t=(t=(t=(t=B._do.call(A,l.bind(this)),B._do).call(t,function(t){var e=this;this[pt]=q.timer.call(P.Observable,this.duration),this[k.sFire]("start",{detail:mt(t,{waitUntil:function(t){e[pt]=t}})})}.bind(this)),ot.withLatestFrom).call(t,U),tt.switchMap).call(t,h.bind(this,U)),Z.share).call(t);var z=(t=y.fetch$,K.partition).call(t,function(t){return!t.error}),et=T(z,2),it=et[0],at=et[1],ft=(t=(t=(t=(t=(t=(t=(t=$.map.call(it,m.bind(this)),Y.observeOn).call(t,N.animationFrame),B._do).call(t,function(t){this[k.sFire]("ready",{detail:t})}.bind(this)),B._do).call(t,function(t){try{var e=t.title,r=t.replaceEls,n=t.type;document.title=e,n===ut&&window.history.replaceState(window.history.state,e,window.location),v.call(this,r)}catch(e){throw mt(t,{error:e})}}.bind(this)),B._do).call(t,function(t){this[k.sFire]("after",{detail:t})}.bind(this)),B._do).call(t,function(t){var e=t.type,r=t.url.hash;e===ut&&c(r),e===lt&&this.scrollRestoration&&u.call(this)}.bind(this)),B._do).call(t,{error:function(t){var e=t.relaceElMissing,r=t.url;e?(window.history.back(),setTimeout(function(){document.location.href=r},100)):this[k.sFire]("error",{detail:t})}.bind(this)}),H._catch).call(t,function(t,e){return e});if(this._scriptSelector){var dt;ft=(dt=(dt=(dt=ft,tt.switchMap).call(dt,function(t){var e,r=t.scripts;return(e=(e=(e=F.from.call(P.Observable,r),W.concatMap).call(e,d),H._catch).call(e,function(e){throw mt(t,{error:e})}),nt.toPromise).call(e).then(function(){return t})}.bind(this)),B._do).call(dt,{error:function(t){this[k.sFire]("error",{detail:t})}.bind(this)}),H._catch).call(dt,function(t,e){return e})}if((t=ft,i).call(t,g.bind(this)),i.call(E,function(t){var e=t.type,r=t.url,o=r.hash,i=r.href;if(e===ut){var s=a.call(this),u=mt(window.history.state,n({},s,mt(window.history.state[s],{hash:!0}))),l=n({},s,{hash:!0});window.history.replaceState(u,document.title,window.location.href),window.history.pushState(l,document.title,i)}c(o)}.bind(this)),i.call(at,function(t){this[k.sFire]("networkerror",{detail:t})}.bind(this)),(t=tt.switchMap.call(A,function(t){var r;return(r=(r=R.defer.call(P.Observable,function(){return e[pt]}),rt.takeUntil).call(r,y.fetch$),G.mapTo).call(r,t)}),i).call(t,function(t){this[k.sFire]("progress",{detail:t})}.bind(this)),"MutationObserver"in window&&"Set"in window){var yt,gt=new C.Subject,_t=new st.Set,wt=gt.next.bind(gt),xt=r.next.bind(r),St=b.next.bind(b),Ot=function(t){if(t instanceof Element){var r;(r=t.querySelectorAll(e.linkSelector),bt).call(r,function(t){_t.has(t)||(_t.add(t),t.addEventListener("click",xt),t.addEventListener("mouseenter",St,{passive:!0}),t.addEventListener("touchstart",St,{passive:!0}),t.addEventListener("focus",St,{passive:!0}))})}},jt=new MutationObserver(function(t){return bt.call(t,wt)});(yt=o.call(gt,M),i).call(yt,function(t){var r=t.addedNodes,n=t.removedNodes;bt.call(n,function(t){if(t instanceof Element){var r;(r=t.querySelectorAll(e.linkSelector),bt).call(r,function(t){_t.delete(t),t.removeEventListener("click",xt),t.removeEventListener("mouseenter",St,{passive:!0}),t.removeEventListener("touchstart",St,{passive:!0}),t.removeEventListener("focus",St,{passive:!0})})}}.bind(e)),bt.call(r,Ot.bind(e))}),jt.observe(this.el,{childList:!0,subtree:!0}),Ot.call(this,this.el)}else this.el.addEventListener("click",function(t){var n,o=(n=t.target,st.matchesAncestors).call(n,e.linkSelector);o&&o.href&&(t.currentTarget=o,r.next(t))})}function S(t){return function(e){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":O(e))&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":O(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,(0,A.componentMixin)(t)),j(r,[{key:k.sSetup,value:function(t,e){E(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),k.sSetup,this).call(this,t,e),"scrollRestoration"in window.history&&this.scrollRestoration&&(window.history.scrollRestoration="manual"),u.call(this),window.addEventListener("beforeunload",f.bind(this)),x.call(this);var n=new URL(window.location);return l.call(this,{type:at,replace:!0,url:n}),this[k.sFire]("init"),g.call(this,{type:at,title:b.call(this,document),replaceEls:y.call(this,document),url:n,cacheNr:vt}),this}},{key:k.sSetupDOM,value:function(t){return t}},{key:"assign",value:function(t){this[ht].next({type:ut,url:new URL(t,window.location),cacheNr:++vt})}},{key:"reload",value:function(){this[ht].next({type:ut,url:new URL(window.location.href),cacheNr:++vt,replace:!0})}},{key:"replace",value:function(t){this[ht].next({type:ut,url:new URL(t,window.location),cacheNr:++vt,replace:!0})}}],[{key:"componentName",get:function(){return"hy-push-state"}},{key:"defaults",get:function(){return{replaceIds:[],linkSelector:"a[href]:not(.no-push-state)",scrollRestoration:!1,duration:0,_hrefRegex:null,_scriptSelector:null}}},{key:"types",get:function(){return{replaceIds:M.array,linkSelector:M.string,scrollRestoration:M.bool,duration:M.number,_hrefRegex:M.regex,_scriptSelector:M.string}}},{key:"sideEffects",get:function(){return{}}}]),r}()}var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.POP=r.PUSH=r.HINT=r.INIT=r.sSetupDOM=r.sSetup=r.MIXIN_FEATURE_TESTS=void 0;var j=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),E=function t(e,r,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,r);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},T=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.pushStateMixin=S,t("core-js/fn/array/for-each"),t("core-js/fn/array/from"),t("core-js/fn/function/bind"),t("core-js/fn/object/assign");var A=t("hy-component/src/component"),k=t("hy-component/src/symbols"),M=t("hy-component/src/types"),P=t("rxjs/Observable"),C=t("rxjs/Subject"),N=t("rxjs/scheduler/animationFrame"),R=t("rxjs/observable/defer"),F=t("rxjs/observable/from"),L=t("rxjs/observable/fromEvent"),I=t("rxjs/observable/merge"),D=t("rxjs/observable/never"),U=t("rxjs/observable/of"),q=t("rxjs/observable/timer"),z=t("rxjs/observable/dom/ajax"),H=t("rxjs/operator/catch"),B=t("rxjs/operator/do"),W=t("rxjs/operator/concatMap"),X=t("rxjs/operator/distinctUntilChanged"),V=t("rxjs/operator/filter"),$=t("rxjs/operator/map"),G=t("rxjs/operator/mapTo"),Y=t("rxjs/operator/observeOn"),K=t("rxjs/operator/partition"),J=t("rxjs/operator/pairwise"),Z=t("rxjs/operator/share"),Q=t("rxjs/operator/startWith"),tt=t("rxjs/operator/switchMap"),et=t("rxjs/operator/take"),rt=t("rxjs/operator/takeUntil"),nt=t("rxjs/operator/toPromise"),ot=t("rxjs/operator/withLatestFrom"),it=t("rxjs/operator/zip");t("../url");var st=t("../common");r.MIXIN_FEATURE_TESTS=new st.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(A.COMPONENT_FEATURE_TESTS),["documentfragment","eventlistener","history","promises","queryselector","requestanimationframe"]));r.sSetup=k.sSetup,r.sSetupDOM=k.sSetupDOM;var at=r.INIT="init",ct=r.HINT="hint",ut=r.PUSH="push",lt=r.POP="pop",ft=e.Symbol||function(t){return"_"+t},pt=ft("animPromise"),ht=ft("reloadObservable"),dt=Array.prototype,bt=dt.forEach,yt=dt.indexOf,mt=Object.assign.bind(Object);DocumentFragment.prototype.getElementById=DocumentFragment.prototype.getElementById||function(t){return this.querySelector("#"+t)};var vt=1}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common":133,"../url":135,"core-js/fn/array/for-each":20,"core-js/fn/array/from":21,"core-js/fn/function/bind":24,"core-js/fn/object/assign":26,"hy-component/src/component":122,"hy-component/src/symbols":124,"hy-component/src/types":125,"rxjs/Observable":142,"rxjs/Subject":146,"rxjs/observable/defer":164,"rxjs/observable/dom/ajax":166,"rxjs/observable/from":168,"rxjs/observable/fromEvent":169,"rxjs/observable/merge":170,"rxjs/observable/never":171,"rxjs/observable/of":172,"rxjs/observable/timer":173,"rxjs/operator/catch":174,"rxjs/operator/concatMap":175,"rxjs/operator/distinctUntilChanged":177,"rxjs/operator/do":178,"rxjs/operator/filter":180,"rxjs/operator/map":182,"rxjs/operator/mapTo":183,"rxjs/operator/observeOn":186,"rxjs/operator/pairwise":187,"rxjs/operator/partition":188,"rxjs/operator/share":191,"rxjs/operator/startWith":193,"rxjs/operator/switchMap":194,"rxjs/operator/take":195,"rxjs/operator/takeUntil":196,"rxjs/operator/toPromise":198,"rxjs/operator/withLatestFrom":199,"rxjs/operator/zip":200,"rxjs/scheduler/animationFrame":237}],135:[function(t,e,r){"use strict";!function(){function t(t,e){if(!t)throw new TypeError("Invalid argument");var r=document.implementation.createHTMLDocument("");if(e){var n=r.createElement("base");n.href=e,r.head.appendChild(n)}var o=r.createElement("a");if(o.href=t,r.body.appendChild(o),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})}if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){t.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(t){this._anchorElement.href=t},get protocol(){return this._anchorElement.protocol},set protocol(t){this._anchorElement.protocol=t},get host(){return this._anchorElement.host},set host(t){this._anchorElement.host=t},get hostname(){return this._anchorElement.hostname},set hostname(t){this._anchorElement.hostname=t},get port(){return this._anchorElement.port},set port(t){this._anchorElement.port=t},get pathname(){return this._anchorElement.pathname},set pathname(t){this._anchorElement.pathname=t},get search(){return this._anchorElement.search},set search(t){this._anchorElement.search=t},get hash(){return this._anchorElement.hash},set hash(t){this._anchorElement.hash=t}};var e=window.URL||window.webkitURL||window.mozURL;t.createObjectURL=function(t){return e.createObjectURL.apply(e,arguments)},t.revokeObjectURL=function(t){return e.revokeObjectURL.apply(e,arguments)},Object.defineProperty(t.prototype,"toString",{enumerable:!1}),window.URL=t}}()},{}],136:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.PushState=r.VANILLA_FEATURE_TESTS=void 0,t("core-js/fn/array/from");var o=t("hy-component/src/vanilla"),i=t("../mixin");r.VANILLA_FEATURE_TESTS=i.MIXIN_FEATURE_TESTS,r.PushState=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":n(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,i.pushStateMixin)(o.VanillaComponent)),e}()},{"../mixin":134,"core-js/fn/array/from":21,"hy-component/src/vanilla":126}],137:[function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.HTMLPushStateElement=r.WEBCOMPONENT_FEATURE_TESTS=void 0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/from");var s=t("hy-component/src/custom-element"),a=t("hy-component/src/symbols"),c=t("../common"),u=t("../mixin");r.WEBCOMPONENT_FEATURE_TESTS=new c.Set([].concat(n(s.CUSTOM_ELEMENT_FEATURE_TESTS),n(u.MIXIN_FEATURE_TESTS))),r.HTMLPushStateElement=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":o(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":o(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.customElementMixin)((0,u.pushStateMixin)(s.CustomElement))),i(e,[{key:a.sGetTemplate,value:function(){return null}}],[{key:"observedAttributes",get:function(){return this.getObservedAttributes()}}]),e}()},{"../common":133,"../mixin":134,"core-js/fn/array/from":21,"hy-component/src/custom-element":123,"hy-component/src/symbols":124}],138:[function(t,e,r){"use strict";e.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},{}],139:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(){b&&h&&(b=!1,h.length?d=h.concat(d):y=-1,d.length&&a())}function a(){if(!b){var t=i(s);b=!0;for(var e=d.length;e;){for(h=d,d=[];++y<e;)h&&h[y].run();y=-1,e=d.length}h=null,b=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var h,d=[],b=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new c(t,e)),1!==d.length||b||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],140:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(t("./Subscriber").Subscriber);r.InnerSubscriber=o},{"./Subscriber":148}],141:[function(t,e,r){"use strict";var n=t("./Observable"),o=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();r.Notification=o},{"./Observable":142}],142:[function(t,e,r){"use strict";var n=t("./util/root"),o=t("./util/toSubscriber"),i=t("./symbol/observable"),s=t("./util/pipe"),a=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=o.toSubscriber(t,e,r);if(n?n.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var o;o=r.subscribe(function(e){if(o)try{t(e)}catch(t){n(t),o.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();r.Observable=a},{"./symbol/observable":240,"./util/pipe":258,"./util/root":259,"./util/toSubscriber":261}],143:[function(t,e,r){"use strict";r.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},{}],144:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(t("./Subscriber").Subscriber);r.OuterSubscriber=o},{"./Subscriber":148}],145:[function(t,e,r){"use strict";var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();r.Scheduler=n},{}],146:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("./Observable"),i=t("./Subscriber"),s=t("./Subscription"),a=t("./util/ObjectUnsubscribedError"),c=t("./SubjectSubscription"),u=t("./symbol/rxSubscriber"),l=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(i.Subscriber);r.SubjectSubscriber=l;var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[u.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(o.Observable);r.Subject=f;var p=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(f);r.AnonymousSubject=p},{"./Observable":142,"./SubjectSubscription":147,"./Subscriber":148,"./Subscription":149,"./symbol/rxSubscriber":241,"./util/ObjectUnsubscribedError":244}],147:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(t("./Subscription").Subscription);r.SubjectSubscription=o},{"./Subscription":149}],148:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./util/isFunction"),s=t("./Subscription"),a=t("./Observer"),c=t("./symbol/rxSubscriber"),u=function(t){function e(r,o,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!r){this.destination=a.empty;break}if("object"===(void 0===r?"undefined":n(r))){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,r,o,i)}}return o(e,t),e.prototype[c.rxSubscriber]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(s.Subscription);r.Subscriber=u;var l=function(t){function e(e,r,n,o){t.call(this),this._parentSubscriber=e;var s,c=this;i.isFunction(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a.empty&&(c=Object.create(r),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=s,this._error=n,this._complete=o}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},{"./Observer":143,"./Subscription":149,"./symbol/rxSubscriber":241,"./util/isFunction":251}],149:[function(t,e,r){"use strict";function n(t){return t.reduce(function(t,e){return t.concat(e instanceof l.UnsubscriptionError?e.errors:e)},[])}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./util/isArray"),s=t("./util/isObject"),a=t("./util/isFunction"),c=t("./util/tryCatch"),u=t("./util/errorObject"),l=t("./util/UnsubscriptionError"),f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,o=this._parents,f=this._unsubscribe,p=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,d=o?o.length:0;r;)r.remove(this),r=++h<d&&o[h]||null;if(a.isFunction(f)){(y=c.tryCatch(f).call(this))===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof l.UnsubscriptionError?n(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(p))for(h=-1,d=p.length;++h<d;){var b=p[h];if(s.isObject(b)){var y=c.tryCatch(b.unsubscribe).call(b);if(y===u.errorObject){e=!0,t=t||[];var m=u.errorObject.e;m instanceof l.UnsubscriptionError?t=t.concat(n(m.errors)):t.push(m)}}}if(e)throw new l.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(void 0===e?"undefined":o(e)){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();r.Subscription=f},{"./util/UnsubscriptionError":245,"./util/errorObject":246,"./util/isArray":248,"./util/isFunction":251,"./util/isObject":253,"./util/tryCatch":262}],150:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Observable"),i=t("./ScalarObservable"),s=t("./EmptyObservable"),a=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new s.EmptyObservable:1===n?new i.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,o=t.subscriber;o.closed||(r>=n?o.complete():(o.next(e[r]),t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.arrayLike,n=this.scheduler,o=r.length;if(n)return n.schedule(e.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:t});for(var i=0;i<o&&!t.closed;i++)t.next(r[i]);t.complete()},e}(o.Observable);r.ArrayLikeObservable=a},{"../Observable":142,"./EmptyObservable":154,"./ScalarObservable":160}],151:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Observable"),i=t("./ScalarObservable"),s=t("./EmptyObservable"),a=t("../util/isScheduler"),c=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];a.isScheduler(n)?t.pop():n=null;var o=t.length;return o>1?new e(t,n):1===o?new i.ScalarObservable(t[0],n):new s.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,o=t.subscriber;r>=n?o.complete():(o.next(e[r]),o.closed||(t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.array,n=r.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:r,index:0,count:n,subscriber:t});for(var i=0;i<n&&!t.closed;i++)t.next(r[i]);t.complete()},e}(o.Observable);r.ArrayObservable=c},{"../Observable":142,"../util/isScheduler":255,"./EmptyObservable":154,"./ScalarObservable":160}],152:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subject"),i=t("../Observable"),s=t("../Subscriber"),a=t("../Subscription"),c=t("../operators/refCount"),u=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return c.refCount()(this)},e}(i.Observable);r.ConnectableObservable=u;var l=u.prototype;r.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var f=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.SubjectSubscriber),p=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new p(t,r),o=e.subscribe(n);return n.closed||(n.connection=r.connect()),o}}(),function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(s.Subscriber))},{"../Observable":142,"../Subject":146,"../Subscriber":148,"../Subscription":149,"../operators/refCount":219}],153:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Observable"),i=t("../util/subscribeToResult"),s=t("../OuterSubscriber"),a=function(t){function e(e){t.call(this),this.observableFactory=e}return n(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new c(t,this.observableFactory)},e}(o.Observable);r.DeferObservable=a;var c=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return n(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(i.subscribeToResult(this,t))},e}(s.OuterSubscriber)},{"../Observable":142,"../OuterSubscriber":144,"../util/subscribeToResult":260}],154:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(t("../Observable").Observable);r.EmptyObservable=o},{"../Observable":142}],155:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Observable"),i=t("../util/tryCatch"),s=t("../util/isFunction"),a=t("../util/errorObject"),c=t("../Subscription"),u=Object.prototype.toString,l=function(t){function e(e,r,n,o){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=o}return n(e,t),e.create=function(t,r,n,o){return s.isFunction(n)&&(o=n,n=void 0),new e(t,r,o,n)},e.setupSubscription=function(t,r,n,o,i){var s;if(function(t){return!!t&&"[object NodeList]"===u.call(t)}(t)||function(t){return!!t&&"[object HTMLCollection]"===u.call(t)}(t))for(var a=0,l=t.length;a<l;a++)e.setupSubscription(t[a],r,n,o,i);else if(function(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var f=t;t.addEventListener(r,n,i),s=function(){return f.removeEventListener(r,n)}}else if(function(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var p=t;t.on(r,n),s=function(){return p.off(r,n)}}else{if(!function(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t))throw new TypeError("Invalid event target");var h=t;t.addListener(r,n),s=function(){return h.removeListener(r,n)}}o.add(new c.Subscription(s))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,o=this.options,s=this.selector;e.setupSubscription(r,n,s?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=i.tryCatch(s).apply(void 0,e);n===a.errorObject?t.error(a.errorObject.e):t.next(n)}:function(e){return t.next(e)},t,o)},e}(o.Observable);r.FromEventObservable=l},{"../Observable":142,"../Subscription":149,"../util/errorObject":246,"../util/isFunction":251,"../util/tryCatch":262}],156:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/isArray"),s=t("../util/isArrayLike"),a=t("../util/isPromise"),c=t("./PromiseObservable"),u=t("./IteratorObservable"),l=t("./ArrayObservable"),f=t("./ArrayLikeObservable"),p=t("../symbol/iterator"),h=t("../Observable"),d=t("../operators/observeOn"),b=t("../symbol/observable"),y=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return o(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[b.observable])return t instanceof h.Observable&&!r?t:new e(t,r);if(i.isArray(t))return new l.ArrayObservable(t,r);if(a.isPromise(t))return new c.PromiseObservable(t,r);if("function"==typeof t[p.iterator]||"string"==typeof t)return new u.IteratorObservable(t,r);if(s.isArrayLike(t))return new f.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&(void 0===t?"undefined":n(t))||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[b.observable]().subscribe(t):e[b.observable]().subscribe(new d.ObserveOnSubscriber(t,r,0))},e}(h.Observable);r.FromObservable=y},{"../Observable":142,"../operators/observeOn":216,"../symbol/iterator":239,"../symbol/observable":240,"../util/isArray":248,"../util/isArrayLike":249,"../util/isPromise":254,"./ArrayLikeObservable":150,"./ArrayObservable":151,"./IteratorObservable":157,"./PromiseObservable":159}],157:[function(t,e,r){"use strict";function n(t){var e=+t.length;return isNaN(e)?0:0!==e&&function(t){return"number"==typeof t&&i.root.isFinite(t)}(e)?(e=function(t){var e=+t;if(0===e)return e;if(isNaN(e))return e;return e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0?0:e>f?f:e:e}var o=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/root"),s=t("../Observable"),a=t("../symbol/iterator"),c=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[a.iterator];if(!e&&"string"==typeof t)return new u(t);if(!e&&void 0!==t.length)return new l(t);if(!e)throw new TypeError("object is not iterable");return t[a.iterator]()}(e)}return o(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,o=t.subscriber;if(r)o.error(t.error);else{var i=n.next();i.done?o.complete():(o.next(i.value),t.index=e+1,o.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var o=r.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(s.Observable);r.IteratorObservable=c;var u=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[a.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),l=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=n(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[a.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),f=Math.pow(2,53)-1},{"../Observable":142,"../symbol/iterator":239,"../util/root":259}],158:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Observable"),i=t("../util/noop"),s=function(t){function e(){t.call(this)}return n(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){i.noop()},e}(o.Observable);r.NeverObservable=s},{"../Observable":142,"../util/noop":256}],159:[function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function o(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../util/root"),a=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return i(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(n,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(i.schedule(n,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(i.schedule(o,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(t("../Observable").Observable);r.PromiseObservable=a},{"../Observable":142,"../util/root":259}],160:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;e?n.complete():(n.next(r),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t});t.next(r),t.closed||t.complete()},e}(t("../Observable").Observable);r.ScalarObservable=o},{"../Observable":142}],161:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/isNumeric"),i=t("../Observable"),s=t("../scheduler/async"),a=t("../util/isScheduler"),c=t("../util/isDate"),u=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,o.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):a.isScheduler(r)&&(n=r),a.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}},e.prototype._subscribe=function(t){var r=this.period,n=this.dueTime;return this.scheduler.schedule(e.dispatch,n,{index:0,period:r,subscriber:t})},e}(i.Observable);r.TimerObservable=u},{"../Observable":142,"../scheduler/async":238,"../util/isDate":250,"../util/isNumeric":252,"../util/isScheduler":255}],162:[function(t,e,r){"use strict";var n=t("../util/isScheduler"),o=t("../util/isArray"),i=t("./ArrayObservable"),s=t("../operators/combineLatest");r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,a=null;return n.isScheduler(t[t.length-1])&&(a=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new i.ArrayObservable(t,a).lift(new s.CombineLatestOperator(r))}},{"../operators/combineLatest":202,"../util/isArray":248,"../util/isScheduler":255,"./ArrayObservable":151}],163:[function(t,e,r){"use strict";var n=t("../util/isScheduler"),o=t("./of"),i=t("./from"),s=t("../operators/concatAll");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length||2===t.length&&n.isScheduler(t[1])?i.from(t[0]):s.concatAll()(o.of.apply(void 0,t))}},{"../operators/concatAll":203,"../util/isScheduler":255,"./from":168,"./of":172}],164:[function(t,e,r){"use strict";var n=t("./DeferObservable");r.defer=n.DeferObservable.create},{"./DeferObservable":153}],165:[function(t,e,r){"use strict";function n(t,e){return void 0===e&&(e=null),new v({method:"GET",url:t,headers:e})}function o(t,e,r){return new v({method:"POST",url:t,body:e,headers:r})}function i(t,e){return new v({method:"DELETE",url:t,headers:e})}function s(t,e,r){return new v({method:"PUT",url:t,body:e,headers:r})}function a(t,e,r){return new v({method:"PATCH",url:t,body:e,headers:r})}function c(t,e){return m(new v({method:"GET",url:t,responseType:"json",headers:e}))}function u(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var l=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},f=t("../../util/root"),p=t("../../util/tryCatch"),h=t("../../util/errorObject"),d=t("../../Observable"),b=t("../../Subscriber"),y=t("../../operators/map");r.ajaxGet=n,r.ajaxPost=o,r.ajaxDelete=i,r.ajaxPut=s,r.ajaxPatch=a;var m=y.map(function(t,e){return t.response});r.ajaxGetJSON=c;var v=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?function(){if(f.root.XMLHttpRequest)return new f.root.XMLHttpRequest;if(f.root.XDomainRequest)return new f.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}.call(this):function(){if(f.root.XMLHttpRequest)return new f.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new f.root.ActiveXObject(t))break}catch(t){}return new f.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);this.request=r}return l(e,t),e.prototype._subscribe=function(t){return new g(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=n,t.post=o,t.delete=i,t.put=s,t.patch=a,t.getJSON=c,t}(),e}(d.Observable);r.AjaxObservable=v;var g=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||f.root.FormData&&r.body instanceof f.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return l(e,t),e.prototype.next=function(t){this.done=!0;var e=this.xhr,r=this.request,n=this.destination,o=new _(t,e,r);n.next(o)},e.prototype.send=function(){var t=this.request,e=this.request,r=e.user,n=e.method,o=e.url,i=e.async,s=e.password,a=e.headers,c=e.body,u=t.createXHR,l=p.tryCatch(u).call(t);if(l===h.errorObject)this.error(h.errorObject.e);else{this.xhr=l,this.setupEvents(l,t);if((r?p.tryCatch(l.open).call(l,n,o,i,r,s):p.tryCatch(l.open).call(l,n,o,i))===h.errorObject)return this.error(h.errorObject.e),null;if(i&&(l.timeout=t.timeout,l.responseType=t.responseType),"withCredentials"in l&&(l.withCredentials=!!t.withCredentials),this.setHeaders(l,a),(c?p.tryCatch(l.send).call(l,c):p.tryCatch(l.send).call(l))===h.errorObject)return this.error(h.errorObject.e),null}return l},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(f.root.FormData&&t instanceof f.root.FormData)return t;if(e){var r=e.indexOf(";");-1!==r&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){function r(t){var e=r,n=e.subscriber,o=e.progressSubscriber,i=e.request;o&&o.error(t),n.error(new x(this,i))}function n(t){var e=n,r=e.subscriber,o=e.progressSubscriber,i=e.request;if(4===this.readyState){var s=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;0===s&&(s=a?200:0),200<=s&&s<300?(o&&o.complete(),r.next(t),r.complete()):(o&&o.error(t),r.error(new w("ajax error "+s,this,i)))}}var o=e.progressSubscriber;if(t.ontimeout=r,r.request=e,r.subscriber=this,r.progressSubscriber=o,t.upload&&"withCredentials"in t){if(o){var i;i=function(t){i.progressSubscriber.next(t)},f.root.XDomainRequest?t.onprogress=i:t.upload.onprogress=i,i.progressSubscriber=o}var s;s=function(t){var e=s,r=e.progressSubscriber,n=e.subscriber,o=e.request;r&&r.error(t),n.error(new w("ajax error",this,o))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=o}t.onreadystatechange=n,n.subscriber=this,n.progressSubscriber=o,n.request=e},e.prototype.unsubscribe=function(){var e=this.done,r=this.xhr;!e&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),t.prototype.unsubscribe.call(this)},e}(b.Subscriber);r.AjaxSubscriber=g;var _=function(){return function(t,e,r){this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.response=u(this.responseType,e)}}();r.AjaxResponse=_;var w=function(t){function e(e,r,n){t.call(this,e),this.message=e,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=u(this.responseType,r)}return l(e,t),e}(Error);r.AjaxError=w;var x=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return l(e,t),e}(w);r.AjaxTimeoutError=x},{"../../Observable":142,"../../Subscriber":148,"../../operators/map":210,"../../util/errorObject":246,"../../util/root":259,"../../util/tryCatch":262}],166:[function(t,e,r){"use strict";var n=t("./AjaxObservable");r.ajax=n.AjaxObservable.create},{"./AjaxObservable":165}],167:[function(t,e,r){"use strict";var n=t("./EmptyObservable");r.empty=n.EmptyObservable.create},{"./EmptyObservable":154}],168:[function(t,e,r){"use strict";var n=t("./FromObservable");r.from=n.FromObservable.create},{"./FromObservable":156}],169:[function(t,e,r){"use strict";var n=t("./FromEventObservable");r.fromEvent=n.FromEventObservable.create},{"./FromEventObservable":155}],170:[function(t,e,r){"use strict";var n=t("../operator/merge");r.merge=n.mergeStatic},{"../operator/merge":184}],171:[function(t,e,r){"use strict";var n=t("./NeverObservable");r.never=n.NeverObservable.create},{"./NeverObservable":158}],172:[function(t,e,r){"use strict";var n=t("./ArrayObservable");r.of=n.ArrayObservable.of},{"./ArrayObservable":151}],173:[function(t,e,r){"use strict";var n=t("./TimerObservable");r.timer=n.TimerObservable.create},{"./TimerObservable":161}],174:[function(t,e,r){"use strict";var n=t("../operators/catchError");r._catch=function(t){return n.catchError(t)(this)}},{"../operators/catchError":201}],175:[function(t,e,r){"use strict";var n=t("../operators/concatMap");r.concatMap=function(t,e){return n.concatMap(t,e)(this)}},{"../operators/concatMap":204}],176:[function(t,e,r){"use strict";var n=t("../scheduler/async"),o=t("../operators/debounceTime");r.debounceTime=function(t,e){return void 0===e&&(e=n.async),o.debounceTime(t,e)(this)}},{"../operators/debounceTime":205,"../scheduler/async":238}],177:[function(t,e,r){"use strict";var n=t("../operators/distinctUntilChanged");r.distinctUntilChanged=function(t,e){return n.distinctUntilChanged(t,e)(this)}},{"../operators/distinctUntilChanged":206}],178:[function(t,e,r){"use strict";var n=t("../operators/tap");r._do=function(t,e,r){return n.tap(t,e,r)(this)}},{"../operators/tap":228}],179:[function(t,e,r){"use strict";var n=t("../operators/exhaustMap");r.exhaustMap=function(t,e){return n.exhaustMap(t,e)(this)}},{"../operators/exhaustMap":207}],180:[function(t,e,r){"use strict";var n=t("../operators/filter");r.filter=function(t,e){return n.filter(t,e)(this)}},{"../operators/filter":208}],181:[function(t,e,r){"use strict";var n=t("../operators/finalize");r._finally=function(t){return n.finalize(t)(this)}},{"../operators/finalize":209}],182:[function(t,e,r){"use strict";var n=t("../operators/map");r.map=function(t,e){return n.map(t,e)(this)}},{"../operators/map":210}],183:[function(t,e,r){"use strict";var n=t("../operators/mapTo");r.mapTo=function(t){return n.mapTo(t)(this)}},{"../operators/mapTo":211}],184:[function(t,e,r){"use strict";var n=t("../operators/merge"),o=t("../operators/merge");r.mergeStatic=o.mergeStatic,r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.merge.apply(void 0,t)(this)}},{"../operators/merge":212}],185:[function(t,e,r){"use strict";var n=t("../operators/mergeMap");r.mergeMap=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(t,e,r)(this)}},{"../operators/mergeMap":214}],186:[function(t,e,r){"use strict";var n=t("../operators/observeOn");r.observeOn=function(t,e){return void 0===e&&(e=0),n.observeOn(t,e)(this)}},{"../operators/observeOn":216}],187:[function(t,e,r){"use strict";var n=t("../operators/pairwise");r.pairwise=function(){return n.pairwise()(this)}},{"../operators/pairwise":217}],188:[function(t,e,r){"use strict";var n=t("../operators/partition");r.partition=function(t,e){return n.partition(t,e)(this)}},{"../operators/partition":218}],189:[function(t,e,r){"use strict";var n=t("../operators/repeatWhen");r.repeatWhen=function(t){return n.repeatWhen(t)(this)}},{"../operators/repeatWhen":220}],190:[function(t,e,r){"use strict";var n=t("../operators/sample");r.sample=function(t){return n.sample(t)(this)}},{"../operators/sample":221}],191:[function(t,e,r){"use strict";var n=t("../operators/share");r.share=function(){return n.share()(this)}},{"../operators/share":222}],192:[function(t,e,r){"use strict";var n=t("../operators/skipWhile");r.skipWhile=function(t){return n.skipWhile(t)(this)}},{"../operators/skipWhile":223}],193:[function(t,e,r){"use strict";var n=t("../operators/startWith");r.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.startWith.apply(void 0,t)(this)}},{"../operators/startWith":224}],194:[function(t,e,r){"use strict";var n=t("../operators/switchMap");r.switchMap=function(t,e){return n.switchMap(t,e)(this)}},{"../operators/switchMap":225}],195:[function(t,e,r){"use strict";var n=t("../operators/take");r.take=function(t){return n.take(t)(this)}},{"../operators/take":226}],196:[function(t,e,r){"use strict";var n=t("../operators/takeUntil");r.takeUntil=function(t){return n.takeUntil(t)(this)}},{"../operators/takeUntil":227}],197:[function(t,e,r){"use strict";var n=t("../scheduler/async"),o=t("../operators/timestamp");r.timestamp=function(t){return void 0===t&&(t=n.async),o.timestamp(t)(this)}},{"../operators/timestamp":229,"../scheduler/async":238}],198:[function(t,e,r){"use strict";var n=t("../Observable");r.toPromise=n.Observable.prototype.toPromise},{"../Observable":142}],199:[function(t,e,r){"use strict";var n=t("../operators/withLatestFrom");r.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.withLatestFrom.apply(void 0,t)(this)}},{"../operators/withLatestFrom":230}],200:[function(t,e,r){"use strict";var n=t("../operators/zip");r.zipProto=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.zip.apply(void 0,t)(this)}},{"../operators/zip":231}],201:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),i=t("../util/subscribeToResult");r.catchError=function(t){return function(e){var r=new s(t),n=e.lift(r);return r.caught=n}};var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.selector,this.caught))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(i.subscribeToResult(this,r))}},e}(o.OuterSubscriber)},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],202:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../observable/ArrayObservable"),i=t("../util/isArray"),s=t("../OuterSubscriber"),a=t("../util/subscribeToResult"),c={};r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&i.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(new o.ArrayObservable([e].concat(t)),new u(r))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}();r.CombineLatestOperator=u;var l=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(a.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){var i=this.values,s=i[r],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;i[r]=e,0===a&&(this.project?this._tryProject(i):this.destination.next(i.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);r.CombineLatestSubscriber=l},{"../OuterSubscriber":144,"../observable/ArrayObservable":151,"../util/isArray":248,"../util/subscribeToResult":260}],203:[function(t,e,r){"use strict";var n=t("./mergeAll");r.concatAll=function(){return n.mergeAll(1)}},{"./mergeAll":213}],204:[function(t,e,r){"use strict";var n=t("./mergeMap");r.concatMap=function(t,e){return n.mergeMap(t,e,1)}},{"./mergeMap":214}],205:[function(t,e,r){"use strict";function n(t){t.debouncedNext()}var o=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),s=t("../scheduler/async");r.debounceTime=function(t,e){return void 0===e&&(e=s.async),function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(n,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.Subscriber)},{"../Subscriber":148,"../scheduler/async":238}],206:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),i=t("../util/tryCatch"),s=t("../util/errorObject");r.distinctUntilChanged=function(t,e){return function(r){return r.lift(new a(t,e))}};var a=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=i.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=i.tryCatch(this.compare)(this.key,e))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=e,this.destination.next(t))},e}(o.Subscriber)},{"../Subscriber":148,"../util/errorObject":246,"../util/tryCatch":262}],207:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),i=t("../util/subscribeToResult");r.exhaustMap=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(i.subscribeToResult(this,n,t,e))}catch(t){r.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){var i=this.resultSelector,s=this.destination;i?this.trySelectResult(t,e,r,n):s.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var o=this.resultSelector,i=this.destination;try{var s=o(t,e,r,n);i.next(s)}catch(t){i.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],208:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.filter=function(t,e){return function(r){return r.lift(new i(t,e))}};var i=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},{"../Subscriber":148}],209:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),i=t("../Subscription");r.finalize=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.callback))},t}(),a=function(t){function e(e,r){t.call(this,e),this.add(new i.Subscription(r))}return n(e,t),e}(o.Subscriber)},{"../Subscriber":148,"../Subscription":149}],210:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new i(t,e))}};var i=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();r.MapOperator=i;var s=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return n(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},{"../Subscriber":148}],211:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.mapTo=function(t){return function(e){return e.lift(new i(t))}};var i=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,r){t.call(this,e),this.value=r}return n(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},{"../Subscriber":148}],212:[function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,c=t[t.length-1];return a.isScheduler(c)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof c&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof o.Observable?t[0]:s.mergeAll(r)(new i.ArrayObservable(t,n))}var o=t("../Observable"),i=t("../observable/ArrayObservable"),s=t("./mergeAll"),a=t("../util/isScheduler");r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.apply(void 0,[e].concat(t)))}},r.mergeStatic=n},{"../Observable":142,"../observable/ArrayObservable":151,"../util/isScheduler":255,"./mergeAll":213}],213:[function(t,e,r){"use strict";var n=t("./mergeMap"),o=t("../util/identity");r.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,null,t)}},{"../util/identity":247,"./mergeMap":214}],214:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/subscribeToResult"),i=t("../OuterSubscriber");r.mergeMap=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof e&&(r=e,e=null),n.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector,this.concurrent))},t}();r.MergeMapOperator=s;var a=function(t){function e(e,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var o;try{o=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);r.MergeMapSubscriber=a},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],215:[function(t,e,r){"use strict";var n=t("../observable/ConnectableObservable");r.multicast=function(t,e){return function(r){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new o(i,e));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=i,s}};var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),o=r(n).subscribe(t);return o.add(e.subscribe(n)),o},t}();r.MulticastOperator=o},{"../observable/ConnectableObservable":152}],216:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),i=t("../Notification");r.observeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))},t}();r.ObserveOnOperator=s;var a=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return n(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(i.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(i.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete())},e}(o.Subscriber);r.ObserveOnSubscriber=a;var c=function(){return function(t,e){this.notification=t,this.destination=e}}();r.ObserveOnMessage=c},{"../Notification":141,"../Subscriber":148}],217:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.pairwise=function(){return function(t){return t.lift(new i)}};var i=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return n(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},{"../Subscriber":148}],218:[function(t,e,r){"use strict";var n=t("../util/not"),o=t("./filter");r.partition=function(t,e){return function(r){return[o.filter(t,e)(r),o.filter(n.not(t,e))(r)]}}},{"../util/not":257,"./filter":208}],219:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.refCount=function(){return function(t){return t.lift(new i(t))}};var i=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new s(t,r),o=e.subscribe(n);return n.closed||(n.connection=r.connect()),o},t}(),s=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(o.Subscriber)},{"../Subscriber":148}],220:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subject"),i=t("../util/tryCatch"),s=t("../util/errorObject"),a=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.repeatWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,e))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this.notifications,r=this.retries,n=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=e,this.retries=r,this.retriesSubscription=n,this},e.prototype.subscribeToRetries=function(){this.notifications=new o.Subject;var e=i.tryCatch(this.notifier)(this.notifications);if(e===s.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=c.subscribeToResult(this,e)},e}(a.OuterSubscriber)},{"../OuterSubscriber":144,"../Subject":146,"../util/errorObject":246,"../util/subscribeToResult":260,"../util/tryCatch":262}],221:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),i=t("../util/subscribeToResult");r.sample=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new a(t),n=e.subscribe(r);return n.add(i.subscribeToResult(r,this.notifier)),n},t}(),a=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return n(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],222:[function(t,e,r){"use strict";function n(){return new s.Subject}var o=t("./multicast"),i=t("./refCount"),s=t("../Subject");r.share=function(){return function(t){return i.refCount()(o.multicast(n)(t))}}},{"../Subject":146,"./multicast":215,"./refCount":219}],223:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.skipWhile=function(t){return function(e){return e.lift(new i(t))}};var i=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(o.Subscriber)},{"../Subscriber":148}],224:[function(t,e,r){"use strict";var n=t("../observable/ArrayObservable"),o=t("../observable/ScalarObservable"),i=t("../observable/EmptyObservable"),s=t("../observable/concat"),a=t("../util/isScheduler");r.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var r=t[t.length-1];a.isScheduler(r)?t.pop():r=null;var c=t.length;return 1===c?s.concat(new o.ScalarObservable(t[0],r),e):c>1?s.concat(new n.ArrayObservable(t,r),e):s.concat(new i.EmptyObservable(r),e)}}},{"../observable/ArrayObservable":151,"../observable/EmptyObservable":154,"../observable/ScalarObservable":160,"../observable/concat":163,"../util/isScheduler":255}],225:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),i=t("../util/subscribeToResult");r.switchMap=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=i.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,o){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var o;try{o=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e}(o.OuterSubscriber)},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],226:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),i=t("../util/ArgumentOutOfRangeError"),s=t("../observable/EmptyObservable");r.take=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new a(t))}};var a=function(){function t(t){if(this.total=t,this.total<0)throw new i.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},{"../Subscriber":148,"../observable/EmptyObservable":154,"../util/ArgumentOutOfRangeError":243}],227:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),i=t("../util/subscribeToResult");r.takeUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier))},t}(),a=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(i.subscribeToResult(this,r))}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],228:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber");r.tap=function(t,e,r){return function(n){return n.lift(new i(t,e,r))}};var i=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,r,n,i){t.call(this,e);var s=new o.Subscriber(r,n,i);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},{"../Subscriber":148}],229:[function(t,e,r){"use strict";var n=t("../scheduler/async"),o=t("./map");r.timestamp=function(t){return void 0===t&&(t=n.async),o.map(function(e){return new i(e,t.now())})};var i=function(){return function(t,e){this.value=t,this.timestamp=e}}();r.Timestamp=i},{"../scheduler/async":238,"./map":210}],230:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../OuterSubscriber"),i=t("../util/subscribeToResult");r.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new s(n,r))}};var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.observables,this.project))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.observables=r,this.project=n,this.toRespond=[];var o=r.length;this.values=new Array(o);for(s=0;s<o;s++)this.toRespond.push(s);for(var s=0;s<o;s++){var a=r[s];this.add(i.subscribeToResult(this,a,a,s))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.values[r]=e;var i=this.toRespond;if(i.length>0){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},{"../OuterSubscriber":144,"../util/subscribeToResult":260}],231:[function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new i.ArrayObservable(t).lift(new f(r))}var o=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../observable/ArrayObservable"),s=t("../util/isArray"),a=t("../Subscriber"),c=t("../OuterSubscriber"),u=t("../util/subscribeToResult"),l=t("../symbol/iterator");r.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.apply(void 0,[e].concat(t)))}},r.zipStatic=n;var f=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project))},t}();r.ZipOperator=f;var p=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return o(e,t),e.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new d(t)):"function"==typeof t[l.iterator]?e.push(new h(t[l.iterator]())):e.push(new b(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return}for(var o=!1,i=[],n=0;n<e;n++){var s=t[n],a=s.next();if(s.hasCompleted()&&(o=!0),a.done)return void r.complete();i.push(a.value)}this.project?this._tryProject(i):r.next(i),o&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.Subscriber);r.ZipSubscriber=p;var h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),b=function(t){function e(e,r,n){t.call(this,e),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return o(e,t),e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return u.subscribeToResult(this,this.observable,this,e)},e}(c.OuterSubscriber)},{"../OuterSubscriber":144,"../Subscriber":148,"../observable/ArrayObservable":151,"../symbol/iterator":239,"../util/isArray":248,"../util/subscribeToResult":260}],232:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(t("../Subscription").Subscription);r.Action=o},{"../Subscription":149}],233:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("./AsyncAction"),i=t("../util/AnimationFrame"),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(i.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0)},e}(o.AsyncAction);r.AnimationFrameAction=s},{"../util/AnimationFrame":242,"./AsyncAction":235}],234:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},e}(t("./AsyncScheduler").AsyncScheduler);r.AnimationFrameScheduler=o},{"./AsyncScheduler":236}],235:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/root"),i=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),o.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending?e:o.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(t("./Action").Action);r.AsyncAction=i},{"../util/root":259,"./Action":232}],236:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(t("../Scheduler").Scheduler);r.AsyncScheduler=o},{"../Scheduler":145}],237:[function(t,e,r){"use strict";var n=t("./AnimationFrameAction"),o=t("./AnimationFrameScheduler");r.animationFrame=new o.AnimationFrameScheduler(n.AnimationFrameAction)},{"./AnimationFrameAction":233,"./AnimationFrameScheduler":234}],238:[function(t,e,r){"use strict";var n=t("./AsyncAction"),o=t("./AsyncScheduler");r.async=new o.AsyncScheduler(n.AsyncAction)},{"./AsyncAction":235,"./AsyncScheduler":236}],239:[function(t,e,r){"use strict";function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var s=o[i];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}var o=t("../util/root");r.symbolIteratorPonyfill=n,r.iterator=n(o.root),r.$$iterator=r.iterator},{"../util/root":259}],240:[function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var o=t("../util/root");r.getSymbolObservable=n,r.observable=n(o.root),r.$$observable=r.observable},{"../util/root":259}],241:[function(t,e,r){"use strict";var n=t("../util/root").root.Symbol;r.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber},{"../util/root":259}],242:[function(t,e,r){"use strict";var n=t("./root"),o=function(){return function(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}}();r.RequestAnimationFrameDefinition=o,r.AnimationFrame=new o(n.root)},{"./root":259}],243:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.ArgumentOutOfRangeError=o},{}],244:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.ObjectUnsubscribedError=o},{}],245:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(e,t),e}(Error);r.UnsubscriptionError=o},{}],246:[function(t,e,r){"use strict";r.errorObject={e:{}}},{}],247:[function(t,e,r){"use strict";r.identity=function(t){return t}},{}],248:[function(t,e,r){"use strict";r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],249:[function(t,e,r){"use strict";r.isArrayLike=function(t){return t&&"number"==typeof t.length}},{}],250:[function(t,e,r){"use strict";r.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},{}],251:[function(t,e,r){"use strict";r.isFunction=function(t){return"function"==typeof t}},{}],252:[function(t,e,r){"use strict";var n=t("../util/isArray");r.isNumeric=function(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}},{"../util/isArray":248}],253:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.isObject=function(t){return null!=t&&"object"===(void 0===t?"undefined":n(t))}},{}],254:[function(t,e,r){"use strict";r.isPromise=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},{}],255:[function(t,e,r){"use strict";r.isScheduler=function(t){return t&&"function"==typeof t.schedule}},{}],256:[function(t,e,r){"use strict";r.noop=function(){}},{}],257:[function(t,e,r){"use strict";r.not=function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}},{}],258:[function(t,e,r){"use strict";function n(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:o.noop}var o=t("./noop");r.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n(t)},r.pipeFromArray=n},{"./noop":256}],259:[function(t,e,r){(function(t){"use strict";var e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=e||void 0!==t&&t||n;r.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],260:[function(t,e,r){"use strict";var n=t("./root"),o=t("./isArrayLike"),i=t("./isPromise"),s=t("./isObject"),a=t("../Observable"),c=t("../symbol/iterator"),u=t("../InnerSubscriber"),l=t("../symbol/observable");r.subscribeToResult=function(t,e,r,f){var p=new u.InnerSubscriber(t,r,f);if(p.closed)return null;if(e instanceof a.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):(p.syncErrorThrowable=!0,e.subscribe(p));if(o.isArrayLike(e)){for(var h=0,d=e.length;h<d&&!p.closed;h++)p.next(e[h]);p.closed||p.complete()}else{if(i.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){n.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[c.iterator])for(var b=e[c.iterator]();;){var y=b.next();if(y.done){p.complete();break}if(p.next(y.value),p.closed)break}else if(e&&"function"==typeof e[l.observable]){var m=e[l.observable]();if("function"==typeof m.subscribe)return m.subscribe(new u.InnerSubscriber(t,r,f));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(s.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(v))}}return null}},{"../InnerSubscriber":140,"../Observable":142,"../symbol/iterator":239,"../symbol/observable":240,"./isArrayLike":249,"./isObject":253,"./isPromise":254,"./root":259}],261:[function(t,e,r){"use strict";var n=t("../Subscriber"),o=t("../symbol/rxSubscriber"),i=t("../Observer");r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(i.empty)}},{"../Observer":143,"../Subscriber":148,"../symbol/rxSubscriber":241}],262:[function(t,e,r){"use strict";function n(){try{return o.apply(this,arguments)}catch(t){return i.errorObject.e=t,i.errorObject}}var o,i=t("./errorObject");r.tryCatch=function(t){return o=t,n}},{"./errorObject":246}],263:[function(t,e,r){"use strict";var n=t("is-arrayish"),o=Array.prototype.concat,i=Array.prototype.slice,s=e.exports=function(t){for(var e=[],r=0,s=t.length;r<s;r++){var a=t[r];n(a)?e=o.call(e,i.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},{"is-arrayish":138}],264:[function(t,e,r){!function(t,e){var r={},n={};!function(t,e){function r(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=h}function n(){return t.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function o(e,n,o){var i=new r;return n&&(i.fill="both",i.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(r){if("auto"!=e[r]){if(("number"==typeof i[r]||"duration"==r)&&("number"!=typeof e[r]||isNaN(e[r])))return;if("fill"==r&&-1==f.indexOf(e[r]))return;if("direction"==r&&-1==p.indexOf(e[r]))return;if("playbackRate"==r&&1!==e[r]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;i[r]=e[r]}}):i.duration=e,i}function i(t,e,r,n){return t<0||t>1||r<0||r>1?h:function(o){function i(t,e,r){return 3*t*(1-r)*(1-r)*r+3*e*(1-r)*r*r+r*r*r}if(o<=0){var s=0;return t>0?s=e/t:!e&&r>0&&(s=n/r),s*o}if(o>=1){var a=0;return r<1?a=(n-1)/(r-1):1==r&&t<1&&(a=(e-1)/(t-1)),1+a*(o-1)}for(var c=0,u=1;c<u;){var l=(c+u)/2,f=i(t,r,l);if(Math.abs(o-f)<1e-5)return i(e,n,l);f<o?c=l:u=l}return i(e,n,l)}}function s(t,e){return function(r){if(r>=1)return 1;var n=1/t;return(r+=e*n)-r%n}}function a(t){v||(v=document.createElement("div").style),v.animationTimingFunction="",v.animationTimingFunction=t;var e=v.animationTimingFunction;if(""==e&&n())throw new TypeError(t+" is not a valid value for easing");return e}function c(t){if("linear"==t)return h;var e=_.exec(t);if(e)return i.apply(this,e.slice(1).map(Number));var r=w.exec(t);return r?s(Number(r[1]),{start:d,middle:b,end:y}[r[2]]):m[t]||h}function u(t,e,r){if(null==e)return x;var n=r.delay+t+r.endDelay;return e<Math.min(r.delay,n)?S:e>=Math.min(r.delay+t,n)?O:j}function l(t,e,r){var n=u(t,e,r),o=function(t,e,r,n,o){switch(n){case S:return"backwards"==e||"both"==e?0:null;case j:return r-o;case O:return"forwards"==e||"both"==e?t:null;case x:return null}}(t,r.fill,e,n,r.delay);if(null===o)return null;var i=function(t,e,r,n,o){var i=o;return 0===t?e!==S&&(i+=r):i+=n/t,i}(r.duration,n,r.iterations,o,r.iterationStart),s=function(t,e,r,n,o,i){var s=t===1/0?e%1:t%1;return 0!==s||r!==O||0===n||0===o&&0!==i||(s=1),s}(i,r.iterationStart,n,r.iterations,o,r.duration),a=function(t,e,r,n){return t===O&&e===1/0?1/0:1===r?Math.floor(n)-1:Math.floor(n)}(n,r.iterations,s,i),c=function(t,e,r){var n=t;if("normal"!==t&&"reverse"!==t){var o=e;"alternate-reverse"===t&&(o+=1),n="normal",o!==1/0&&o%2!=0&&(n="reverse")}return"normal"===n?r:1-r}(r.direction,a,s);return r._easingFunction(c)}var f="backwards|forwards|both|none".split("|"),p="reverse|alternate|alternate-reverse".split("|"),h=function(t){return t};r.prototype={_setMember:function(e,r){this["_"+e]=r,this._effect&&(this._effect._timingInput[e]=r,this._effect._timing=t.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&n())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&n())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=c(a(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&n())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var d=1,b=.5,y=0,m={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":s(1,d),"step-middle":s(1,b),"step-end":s(1,y)},v=null,g="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",_=new RegExp("cubic-bezier\\("+g+","+g+","+g+","+g+"\\)"),w=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,x=0,S=1,O=2,j=3;t.cloneTimingInput=function(t){if("number"==typeof t)return t;var e={};for(var r in t)e[r]=t[r];return e},t.makeTiming=o,t.numericTimingToObject=function(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t},t.normalizeTimingInput=function(e,r){return e=t.numericTimingToObject(e),o(e,r)},t.calculateActiveDuration=function(t){return Math.abs(function(t){return 0===t.duration||0===t.iterations?0:t.duration*t.iterations}(t)/t.playbackRate)},t.calculateIterationProgress=l,t.calculatePhase=u,t.normalizeEasing=a,t.parseEasingFunction=c}(r),function(t,e){function r(t,e){return t in c?c[t][e]||e:e}function n(t,e,n){if(!function(t){return"display"===t||0===t.lastIndexOf("animation",0)||0===t.lastIndexOf("transition",0)}(t)){var o=i[t];if(o){s.style[t]=e;for(var a in o){var c=o[a],u=s.style[c];n[c]=r(c,u)}}else n[t]=r(t,e)}}function o(t){var e=[];for(var r in t)if(!(r in["easing","offset","composite"])){var n=t[r];Array.isArray(n)||(n=[n]);for(var o,i=n.length,s=0;s<i;s++)o={},o.offset="offset"in t?t.offset:1==i?1:s/(i-1),"easing"in t&&(o.easing=t.easing),"composite"in t&&(o.composite=t.composite),o[r]=n[s],e.push(o)}return e.sort(function(t,e){return t.offset-e.offset}),e}var i={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},s=document.createElementNS("http://www.w3.org/1999/xhtml","div"),a={thin:"1px",medium:"3px",thick:"5px"},c={borderBottomWidth:a,borderLeftWidth:a,borderRightWidth:a,borderTopWidth:a,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:a,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};t.convertToArrayForm=o,t.normalizeKeyframes=function(e){if(null==e)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&e[Symbol.iterator]&&(e=Array.from(e)),Array.isArray(e)||(e=o(e));for(var r=e.map(function(e){var r={};for(var o in e){var i=e[o];if("offset"==o){if(null!=i){if(i=Number(i),!isFinite(i))throw new TypeError("Keyframe offsets must be numbers.");if(i<0||i>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==o){if("add"==i||"accumulate"==i)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=i)throw new TypeError("Invalid composite mode "+i+".")}else i="easing"==o?t.normalizeEasing(i):""+i;n(o,i,r)}return void 0==r.offset&&(r.offset=null),void 0==r.easing&&(r.easing="linear"),r}),i=!0,s=-1/0,a=0;a<r.length;a++){var c=r[a].offset;if(null!=c){if(c<s)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");s=c}else i=!1}return r=r.filter(function(t){return t.offset>=0&&t.offset<=1}),i||function(){var t=r.length;null==r[t-1].offset&&(r[t-1].offset=1),t>1&&null==r[0].offset&&(r[0].offset=0);for(var e=0,n=r[0].offset,o=1;o<t;o++){var i=r[o].offset;if(null!=i){for(var s=1;s<o-e;s++)r[e+s].offset=n+(i-n)*s/(o-e);e=o,n=i}}}(),r}}(r),function(t){var e={};t.isDeprecated=function(t,r,n,o){var i=o?"are":"is",s=new Date,a=new Date(r);return a.setMonth(a.getMonth()+3),!(s<a&&(t in e||console.warn("Web Animations: "+t+" "+i+" deprecated and will stop working on "+a.toDateString()+". "+n),e[t]=!0,1))},t.deprecated=function(e,r,n,o){var i=o?"are":"is";if(t.isDeprecated(e,r,n,o))throw new Error(e+" "+i+" no longer supported. "+n)}}(r),function(){if(document.documentElement.animate){var t=document.documentElement.animate([],0),e=!0;if(t&&(e=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(r){void 0===t[r]&&(e=!0)})),!e)return}!function(t,e,r){e.convertEffectInput=function(r){var n=function(t){for(var e={},r=0;r<t.length;r++)for(var n in t[r])if("offset"!=n&&"easing"!=n&&"composite"!=n){var o={offset:t[r].offset,easing:t[r].easing,value:t[r][n]};e[n]=e[n]||[],e[n].push(o)}for(var i in e){var s=e[i];if(0!=s[0].offset||1!=s[s.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return e}(t.normalizeKeyframes(r)),o=function(r){var n=[];for(var o in r)for(var i=r[o],s=0;s<i.length-1;s++){var a=s,c=s+1,u=i[a].offset,l=i[c].offset,f=u,p=l;0==s&&(f=-1/0,0==l&&(c=a)),s==i.length-2&&(p=1/0,1==u&&(a=c)),n.push({applyFrom:f,applyTo:p,startOffset:i[a].offset,endOffset:i[c].offset,easingFunction:t.parseEasingFunction(i[a].easing),property:o,interpolation:e.propertyInterpolation(o,i[a].value,i[c].value)})}return n.sort(function(t,e){return t.startOffset-e.startOffset}),n}(n);return function(t,r){if(null!=r)o.filter(function(t){return r>=t.applyFrom&&r<t.applyTo}).forEach(function(n){var o=r-n.startOffset,i=n.endOffset-n.startOffset,s=0==i?0:n.easingFunction(o/i);e.apply(t,n.property,n.interpolation(s))});else for(var i in n)"offset"!=i&&"easing"!=i&&"composite"!=i&&e.clear(t,i)}}}(r,n),function(t,e,r){function n(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function o(t,e,r){i[r]=i[r]||[],i[r].push([t,e])}var i={};e.addPropertiesHandler=function(t,e,r){for(var i=0;i<r.length;i++)o(t,e,n(r[i]))};var s={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};e.propertyInterpolation=function(r,o,a){var c=r;/-/.test(r)&&!t.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(c=n(r)),"initial"!=o&&"initial"!=a||("initial"==o&&(o=s[c]),"initial"==a&&(a=s[c]));for(var u=o==a?[]:i[c],l=0;u&&l<u.length;l++){var f=u[l][0](o),p=u[l][0](a);if(void 0!==f&&void 0!==p){var h=u[l][1](f,p);if(h){var d=e.Interpolation.apply(null,h);return function(t){return 0==t?o:1==t?a:d(t)}}}}return e.Interpolation(!1,!0,function(t){return t?a:o})}}(r,n),function(t,e,r){e.KeyframeEffect=function(r,n,o,i){var s,a=function(e){var r=t.calculateActiveDuration(e),n=function(n){return t.calculateIterationProgress(r,n,e)};return n._totalDuration=e.delay+r+e.endDelay,n}(t.normalizeTimingInput(o)),c=e.convertEffectInput(n),u=function(){c(r,s)};return u._update=function(t){return null!==(s=a(t))},u._clear=function(){c(r,null)},u._hasSameTarget=function(t){return r===t},u._target=r,u._totalDuration=a._totalDuration,u._id=i,u}}(r,n),function(t,e){function r(t,e,r){r.enumerable=!0,r.configurable=!0,Object.defineProperty(t,e,r)}function n(t){this._element=t,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=t.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(t,e){return!(!e.namespaceURI||-1==e.namespaceURI.indexOf("/svg"))&&(i in t||(t[i]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(t.navigator.userAgent)),t[i])}(window,t),this._savedTransformAttr=null;for(var e=0;e<this._style.length;e++){var r=this._style[e];this._surrogateStyle[r]=this._style[r]}this._updateIndices()}function o(t){if(!t._webAnimationsPatchedStyle){var e=new n(t);try{r(t,"style",{get:function(){return e}})}catch(e){t.style._set=function(e,r){t.style[e]=r},t.style._clear=function(e){t.style[e]=""}}t._webAnimationsPatchedStyle=t.style}}var i="_webAnimationsUpdateSvgTransformAttr",s={cssText:1,length:1,parentRule:1},a={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},c={removeProperty:1,setProperty:1};n.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(t){for(var e={},r=0;r<this._surrogateStyle.length;r++)e[this._surrogateStyle[r]]=!0;this._surrogateStyle.cssText=t,this._updateIndices();for(r=0;r<this._surrogateStyle.length;r++)e[this._surrogateStyle[r]]=!0;for(var n in e)this._isAnimatedProperty[n]||this._style.setProperty(n,this._surrogateStyle.getPropertyValue(n))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(t){return function(){return this._surrogateStyle[t]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(e,r){this._style[e]=r,this._isAnimatedProperty[e]=!0,this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(e)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",t.transformToSvgMatrix(r)))},_clear:function(e){this._style[e]=this._surrogateStyle[e],this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(e)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[e]}};for(var u in a)n.prototype[u]=function(t,e){return function(){var r=this._surrogateStyle[t].apply(this._surrogateStyle,arguments);return e&&(this._isAnimatedProperty[arguments[0]]||this._style[t].apply(this._style,arguments),this._updateIndices()),r}}(u,u in c);for(var l in document.documentElement.style)l in s||l in a||function(t){r(n.prototype,t,{get:function(){return this._surrogateStyle[t]},set:function(e){this._surrogateStyle[t]=e,this._updateIndices(),this._isAnimatedProperty[t]||(this._style[t]=e)}})}(l);t.apply=function(e,r,n){o(e),e.style._set(t.propertyName(r),n)},t.clear=function(e,r){e._webAnimationsPatchedStyle&&e.style._clear(t.propertyName(r))}}(n),function(t){window.Element.prototype.animate=function(e,r){var n="";return r&&r.id&&(n=r.id),t.timeline._play(t.KeyframeEffect(this,e,r,n))}}(n),function(t,e){function r(t,e,n){if("number"==typeof t&&"number"==typeof e)return t*(1-n)+e*n;if("boolean"==typeof t&&"boolean"==typeof e)return n<.5?t:e;if(t.length==e.length){for(var o=[],i=0;i<t.length;i++)o.push(r(t[i],e[i],n));return o}throw"Mismatched interpolation arguments "+t+":"+e}n.Interpolation=function(t,e,n){return function(o){return n(r(t,e,o))}}}(),function(t,e){function r(e,r,n){var o=t.dot(e,r),i=[];if(1===(o=function(t,e,r){return Math.max(Math.min(t,r),e)}(o,-1,1)))i=e;else for(var s=Math.acos(o),a=1*Math.sin(n*s)/Math.sqrt(1-o*o),c=0;c<4;c++)i.push(e[c]*(Math.cos(n*s)-o*a)+r[c]*a);return i}var n=function(){function t(t,e){for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<4;n++)for(var o=0;o<4;o++)for(var i=0;i<4;i++)r[n][o]+=e[n][i]*t[i][o];return r}return function(e,r,n,o,i){for(var s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],a=0;a<4;a++)s[a][3]=i[a];for(a=0;a<3;a++)for(d=0;d<3;d++)s[3][a]+=e[d]*s[d][a];var c=o[0],u=o[1],l=o[2],f=o[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(u*u+l*l),p[0][1]=2*(c*u-l*f),p[0][2]=2*(c*l+u*f),p[1][0]=2*(c*u+l*f),p[1][1]=1-2*(c*c+l*l),p[1][2]=2*(u*l-c*f),p[2][0]=2*(c*l-u*f),p[2][1]=2*(u*l+c*f),p[2][2]=1-2*(c*c+u*u),s=t(s,p);var h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(n[2]&&(h[2][1]=n[2],s=t(s,h)),n[1]&&(h[2][1]=0,h[2][0]=n[0],s=t(s,h)),n[0]&&(h[2][0]=0,h[1][0]=n[0],s=t(s,h)),a=0;a<3;a++)for(var d=0;d<3;d++)s[a][d]*=r[a];return function(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}(s)?[s[0][0],s[0][1],s[1][0],s[1][1],s[3][0],s[3][1]]:s[0].concat(s[1],s[2],s[3])}}();t.composeMatrix=n,t.quat=r}(n),function(t,e,r){t.sequenceNumber=0;e.Animation=function(e){this.id="",e&&e._id&&(this.id=e._id),this._sequenceNumber=t.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=e,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},e.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,e.timeline._animations.push(this))},_tickCurrentTime:function(t,e){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(e.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),e.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),e.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var r=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)),null!=r&&(this.currentTime=r)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,e.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),e.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,e){"function"==typeof e&&"finish"==t&&this._finishHandlers.push(e)},removeEventListener:function(t,e){if("finish"==t){var r=this._finishHandlers.indexOf(e);r>=0&&this._finishHandlers.splice(r,1)}},_fireEvents:function(t){if(this._isFinished){if(!this._finishedFlag){var e=new function(t,e,r){this.target=t,this.currentTime=e,this.timelineTime=r,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}(this,this._currentTime,t),r=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){r.forEach(function(t){t.call(e.target,e)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(t,e){this._idle||this._paused||(null==this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)}}}(r,n),function(t,e,r){function n(t){var e=u;u=[],t<y.currentTime&&(t=y.currentTime),y._animations.sort(o),y._animations=a(t,!0,y._animations)[0],e.forEach(function(e){e[1](t)}),s(),f=void 0}function o(t,e){return t._sequenceNumber-e._sequenceNumber}function i(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function s(){d.forEach(function(t){t()}),d.length=0}function a(t,r,n){b=!0,h=!1,e.timeline.currentTime=t,p=!1;var o=[],i=[],s=[],a=[];return n.forEach(function(e){e._tick(t,r),e._inEffect?(i.push(e._effect),e._markTarget()):(o.push(e._effect),e._unmarkTarget()),e._needsTick&&(p=!0);var n=e._inEffect||e._needsTick;e._inTimeline=n,n?s.push(e):a.push(e)}),d.push.apply(d,o),d.push.apply(d,i),p&&requestAnimationFrame(function(){}),b=!1,[s,a]}var c=window.requestAnimationFrame,u=[],l=0;window.requestAnimationFrame=function(t){var e=l++;return 0==u.length&&c(n),u.push([e,t]),e},window.cancelAnimationFrame=function(t){u.forEach(function(e){e[0]==t&&(e[1]=function(){})})},i.prototype={_play:function(r){r._timing=t.normalizeTimingInput(r.timing);var n=new e.Animation(r);return n._idle=!1,n._timeline=this,this._animations.push(n),e.restart(),e.applyDirtiedAnimation(n),n}};var f=void 0,p=!1,h=!1;e.restart=function(){return p||(p=!0,requestAnimationFrame(function(){}),h=!0),h},e.applyDirtiedAnimation=function(t){if(!b){t._markTarget();var r=t._targetAnimations();r.sort(o),a(e.timeline.currentTime,!1,r.slice())[1].forEach(function(t){var e=y._animations.indexOf(t);-1!==e&&y._animations.splice(e,1)}),s()}};var d=[],b=!1,y=new i;e.timeline=y}(r,n),function(t,e){function r(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}function n(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function o(t){var e=t.rad||0;return((t.deg||0)/360+(t.grad||0)/400+(t.turn||0))*(2*Math.PI)+e}function i(t){switch(t.t){case"rotatex":i=o(t.d[0]);return[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":i=o(t.d[0]);return[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":i=o(t.d[0]);return[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var e=t.d[0],r=t.d[1],n=t.d[2],i=o(t.d[3]),s=e*e+r*r+n*n;if(0===s)e=1,r=0,n=0;else if(1!==s){var a=Math.sqrt(s);e/=a,r/=a,n/=a}var c=Math.sin(i/2),u=c*Math.cos(i/2),l=c*c;return[1-2*(r*r+n*n)*l,2*(e*r*l+n*u),2*(e*n*l-r*u),0,2*(e*r*l-n*u),1-2*(e*e+n*n)*l,2*(r*n*l+e*u),0,2*(e*n*l+r*u),2*(r*n*l-e*u),1-2*(e*e+r*r)*l,0,0,0,0,1];case"scale":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0],0,0,0,0,1];case"scale3d":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,t.d[2],0,0,0,0,1];case"skew":var f=o(t.d[0]),p=o(t.d[1]);return[1,Math.tan(p),0,0,Math.tan(f),1,0,0,0,0,1,0,0,0,0,1];case"skewx":i=o(t.d[0]);return[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":i=o(t.d[0]);return[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,r=t.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,r=t.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,n=t.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,r=t.d[1].px||0,n=t.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,t.d[0].px?-1/t.d[0].px:0,0,0,0,1];case"matrix":return[t.d[0],t.d[1],0,0,t.d[2],t.d[3],0,0,0,0,1,0,t.d[4],t.d[5],0,1];case"matrix3d":return t.d}}function s(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(i).reduce(n)}var a=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function e(t){var e=n(t);return[t[0]/e,t[1]/e,t[2]/e]}function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function o(t,e,r,n){return[r*t[0]+n*e[0],r*t[1]+n*e[1],r*t[2]+n*e[2]]}function i(i){var s=[i.slice(0,4),i.slice(4,8),i.slice(8,12),i.slice(12,16)];if(1!==s[3][3])return null;for(var a=[],c=0;c<4;c++)a.push(s[c].slice());for(c=0;c<3;c++)a[c][3]=0;if(0===t(a))return null;var u,l=[];s[0][3]||s[1][3]||s[2][3]?(l.push(s[0][3]),l.push(s[1][3]),l.push(s[2][3]),l.push(s[3][3]),u=function(t,e){for(var r=[],n=0;n<4;n++){for(var o=0,i=0;i<4;i++)o+=t[i]*e[i][n];r.push(o)}return r}(l,function(t){return[[t[0][0],t[1][0],t[2][0],t[3][0]],[t[0][1],t[1][1],t[2][1],t[3][1]],[t[0][2],t[1][2],t[2][2],t[3][2]],[t[0][3],t[1][3],t[2][3],t[3][3]]]}(function(e){for(var r=1/t(e),n=e[0][0],o=e[0][1],i=e[0][2],s=e[1][0],a=e[1][1],c=e[1][2],u=e[2][0],l=e[2][1],f=e[2][2],p=[[(a*f-c*l)*r,(i*l-o*f)*r,(o*c-i*a)*r,0],[(c*u-s*f)*r,(n*f-i*u)*r,(i*s-n*c)*r,0],[(s*l-a*u)*r,(u*o-n*l)*r,(n*a-o*s)*r,0]],h=[],d=0;d<3;d++){for(var b=0,y=0;y<3;y++)b+=e[3][y]*p[y][d];h.push(b)}return h.push(1),p.push(h),p}(a)))):u=[0,0,0,1];var f=s[3].slice(0,3),p=[];p.push(s[0].slice(0,3));var h=[];h.push(n(p[0])),p[0]=e(p[0]);var d=[];p.push(s[1].slice(0,3)),d.push(r(p[0],p[1])),p[1]=o(p[1],p[0],1,-d[0]),h.push(n(p[1])),p[1]=e(p[1]),d[0]/=h[1],p.push(s[2].slice(0,3)),d.push(r(p[0],p[2])),p[2]=o(p[2],p[0],1,-d[1]),d.push(r(p[1],p[2])),p[2]=o(p[2],p[1],1,-d[2]),h.push(n(p[2])),p[2]=e(p[2]),d[1]/=h[2],d[2]/=h[2];var b=function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}(p[1],p[2]);if(r(p[0],b)<0)for(c=0;c<3;c++)h[c]*=-1,p[c][0]*=-1,p[c][1]*=-1,p[c][2]*=-1;var y,m,v=p[0][0]+p[1][1]+p[2][2]+1;return v>1e-4?(y=.5/Math.sqrt(v),m=[(p[2][1]-p[1][2])*y,(p[0][2]-p[2][0])*y,(p[1][0]-p[0][1])*y,.25/y]):p[0][0]>p[1][1]&&p[0][0]>p[2][2]?(y=2*Math.sqrt(1+p[0][0]-p[1][1]-p[2][2]),m=[.25*y,(p[0][1]+p[1][0])/y,(p[0][2]+p[2][0])/y,(p[2][1]-p[1][2])/y]):p[1][1]>p[2][2]?(y=2*Math.sqrt(1+p[1][1]-p[0][0]-p[2][2]),m=[(p[0][1]+p[1][0])/y,.25*y,(p[1][2]+p[2][1])/y,(p[0][2]-p[2][0])/y]):(y=2*Math.sqrt(1+p[2][2]-p[0][0]-p[1][1]),m=[(p[0][2]+p[2][0])/y,(p[1][2]+p[2][1])/y,.25*y,(p[1][0]-p[0][1])/y]),[f,h,d,m,u]}return i}();t.dot=r,t.makeMatrixDecomposition=function(t){return[a(s(t))]},t.transformListToMatrix=s}(n),function(t){function e(t,e){var r=t.exec(e);if(r)return r=t.ignoreCase?r[0].toLowerCase():r[0],[r,e.substr(r.length)]}function r(t,e){var r=t(e=e.replace(/^\s*/,""));if(r)return[r[0],r[1].replace(/^\s*/,"")]}function n(t,e,r,n,o){for(var i=[],s=[],a=[],c=function(t,e){for(var r=t,n=e;r&&n;)r>n?r%=n:n%=r;return r=t*e/(r+n)}(n.length,o.length),u=0;u<c;u++){var l=e(n[u%n.length],o[u%o.length]);if(!l)return;i.push(l[0]),s.push(l[1]),a.push(l[2])}return[i,s,function(e){var n=e.map(function(t,e){return a[e](t)}).join(r);return t?t(n):n}]}t.consumeToken=e,t.consumeTrimmed=r,t.consumeRepeated=function(t,n,o){t=r.bind(null,t);for(var i=[];;){var s=t(o);if(!s)return[i,o];if(i.push(s[0]),o=s[1],!(s=e(n,o))||""==s[1])return[i,o];o=s[1]}},t.consumeParenthesised=function(t,e){for(var r=0,n=0;n<e.length&&(!/\s|,/.test(e[n])||0!=r);n++)if("("==e[n])r++;else if(")"==e[n]&&(0==--r&&n++,r<=0))break;var o=t(e.substr(0,n));return void 0==o?void 0:[o,e.substr(n)]},t.ignore=function(t){return function(e){var r=t(e);return r&&(r[0]=void 0),r}},t.optional=function(t,e){return function(r){return t(r)||[e,r]}},t.consumeList=function(e,r){for(var n=[],o=0;o<e.length;o++){var i=t.consumeTrimmed(e[o],r);if(!i||""==i[0])return;void 0!==i[0]&&n.push(i[0]),r=i[1]}if(""==r)return n},t.mergeNestedRepeated=n.bind(null,null),t.mergeWrappedNestedRepeated=n,t.mergeList=function(t,e,r){for(var n=[],o=[],i=[],s=0,a=0;a<r.length;a++)if("function"==typeof r[a]){var c=r[a](t[s],e[s++]);n.push(c[0]),o.push(c[1]),i.push(c[2])}else!function(t){n.push(!1),o.push(!1),i.push(function(){return r[t]})}(a);return[n,o,function(t){for(var e="",r=0;r<t.length;r++)e+=i[r](t[r]);return e}]}}(n),function(t){function e(e){var r={inset:!1,lengths:[],color:null},n=t.consumeRepeated(function(e){if(n=t.consumeToken(/^inset/i,e))return r.inset=!0,n;if(n=t.consumeLengthOrPercent(e))return r.lengths.push(n[0]),n;var n;return(n=t.consumeColor(e))?(r.color=n[0],n):void 0},/^/,e);if(n&&n[0].length)return[r,n[1]]}var r=function(e,r,n,o){function i(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var s=[],a=[],c=0;c<n.length||c<o.length;c++){var u=n[c]||i(o[c].inset),l=o[c]||i(n[c].inset);s.push(u),a.push(l)}return t.mergeNestedRepeated(e,r,s,a)}.bind(null,function(e,r){for(;e.lengths.length<Math.max(e.lengths.length,r.lengths.length);)e.lengths.push({px:0});for(;r.lengths.length<Math.max(e.lengths.length,r.lengths.length);)r.lengths.push({px:0});if(e.inset==r.inset&&!!e.color==!!r.color){for(var n,o=[],i=[[],0],s=[[],0],a=0;a<e.lengths.length;a++){var c=t.mergeDimensions(e.lengths[a],r.lengths[a],2==a);i[0].push(c[0]),s[0].push(c[1]),o.push(c[2])}if(e.color&&r.color){var u=t.mergeColors(e.color,r.color);i[1]=u[0],s[1]=u[1],n=u[2]}return[i,s,function(t){for(var r=e.inset?"inset ":" ",i=0;i<o.length;i++)r+=o[i](t[0][i])+" ";return n&&(r+=n(t[1])),r}]}},", ");t.addPropertiesHandler(function(r){var n=t.consumeRepeated(e,/^,/,r);if(n&&""==n[1])return n[0]},r,["box-shadow","text-shadow"])}(n),function(t,e){function r(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function n(t,e,r){return Math.min(e,Math.max(t,r))}function o(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return Number(t)}function i(t,e){return function(o,i){return[o,i,function(o){return r(n(t,e,o))}]}}function s(t){var e=t.trim().split(/\s*[\s,]\s*/);if(0!==e.length){for(var r=[],n=0;n<e.length;n++){var i=o(e[n]);if(void 0===i)return;r.push(i)}return r}}t.clamp=n,t.addPropertiesHandler(s,function(t,e){if(t.length==e.length)return[t,e,function(t){return t.map(r).join(" ")}]},["stroke-dasharray"]),t.addPropertiesHandler(o,i(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(o,i(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(o,function(t,e){if(0!=t)return i(0,1/0)(t,e)},["flex-grow","flex-shrink"]),t.addPropertiesHandler(o,function(t,e){return[t,e,function(t){return Math.round(n(1,1/0,t))}]},["orphans","widows"]),t.addPropertiesHandler(o,function(t,e){return[t,e,Math.round]},["z-index"]),t.parseNumber=o,t.parseNumberList=s,t.mergeNumbers=function(t,e){return[t,e,r]},t.numberToString=r}(n),function(t,e){n.addPropertiesHandler(String,function(t,e){if("visible"==t||"visible"==e)return[0,1,function(r){return r<=0?t:r>=1?e:"visible"}]},["visibility"])}(),function(t,e){function r(t){t=t.trim(),i.fillStyle="#000",i.fillStyle=t;var e=i.fillStyle;if(i.fillStyle="#fff",i.fillStyle=t,e==i.fillStyle){i.fillRect(0,0,1,1);var r=i.getImageData(0,0,1,1).data;i.clearRect(0,0,1,1);var n=r[3]/255;return[r[0]*n,r[1]*n,r[2]*n,n]}}function n(e,r){return[e,r,function(e){function r(t){return Math.max(0,Math.min(255,t))}if(e[3])for(var n=0;n<3;n++)e[n]=Math.round(r(e[n]/e[3]));return e[3]=t.numberToString(t.clamp(0,1,e[3])),"rgba("+e.join(",")+")"}]}var o=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");o.width=o.height=1;var i=o.getContext("2d");t.addPropertiesHandler(r,n,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),t.consumeColor=t.consumeParenthesised.bind(null,r),t.mergeColors=n}(n),function(t,e){function r(t){function e(){var e=s.exec(t);i=e?e[0]:void 0}function r(){if("("!==i)return function(){var t=Number(i);return e(),t}();e();var t=o();return")"!==i?NaN:(e(),t)}function n(){for(var t=r();"*"===i||"/"===i;){var n=i;e();var o=r();"*"===n?t*=o:t/=o}return t}function o(){for(var t=n();"+"===i||"-"===i;){var r=i;e();var o=n();"+"===r?t+=o:t-=o}return t}var i,s=/([\+\-\w\.]+|[\(\)\*\/])/g;return e(),o()}function n(t,e){if("0"==(e=e.trim().toLowerCase())&&"px".search(t)>=0)return{px:0};if(/^[^(]*$|^calc/.test(e)){var n={};e=(e=e.replace(/calc\(/g,"(")).replace(t,function(t){return n[t]=null,"U"+t});for(var o="U("+t.source+")",i=e.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+o,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),s=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],a=0;a<s.length;)s[a].test(i)?(i=i.replace(s[a],"$1"),a=0):a++;if("D"==i){for(var c in n){var u=r(e.replace(new RegExp("U"+c,"g"),"").replace(new RegExp(o,"g"),"*0"));if(!isFinite(u))return;n[c]=u}return n}}}function o(t,e){return i(t,e,!0)}function i(e,r,n){var o,i=[];for(o in e)i.push(o);for(o in r)i.indexOf(o)<0&&i.push(o);return e=i.map(function(t){return e[t]||0}),r=i.map(function(t){return r[t]||0}),[e,r,function(e){var r=e.map(function(r,o){return 1==e.length&&n&&(r=Math.max(r,0)),t.numberToString(r)+i[o]}).join(" + ");return e.length>1?"calc("+r+")":r}]}var s="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",a=n.bind(null,new RegExp(s,"g")),c=n.bind(null,new RegExp(s+"|%","g")),u=n.bind(null,/deg|rad|grad|turn/g);t.parseLength=a,t.parseLengthOrPercent=c,t.consumeLengthOrPercent=t.consumeParenthesised.bind(null,c),t.parseAngle=u,t.mergeDimensions=i;var l=t.consumeParenthesised.bind(null,a),f=t.consumeRepeated.bind(void 0,l,/^/),p=t.consumeRepeated.bind(void 0,f,/^,/);t.consumeSizePairList=p;var h=t.mergeNestedRepeated.bind(void 0,o," "),d=t.mergeNestedRepeated.bind(void 0,h,",");t.mergeNonNegativeSizePair=h,t.addPropertiesHandler(function(t){var e=p(t);if(e&&""==e[1])return e[0]},d,["background-size"]),t.addPropertiesHandler(c,o,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),t.addPropertiesHandler(c,i,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(n),function(t,e){function r(e){return t.consumeLengthOrPercent(e)||t.consumeToken(/^auto/,e)}function n(e){var n=t.consumeList([t.ignore(t.consumeToken.bind(null,/^rect/)),t.ignore(t.consumeToken.bind(null,/^\(/)),t.consumeRepeated.bind(null,r,/^,/),t.ignore(t.consumeToken.bind(null,/^\)/))],e);if(n&&4==n[0].length)return n[0]}var o=t.mergeWrappedNestedRepeated.bind(null,function(t){return"rect("+t+")"},function(e,r){return"auto"==e||"auto"==r?[!0,!1,function(n){var o=n?e:r;if("auto"==o)return"auto";var i=t.mergeDimensions(o,o);return i[2](i[0])}]:t.mergeDimensions(e,r)},", ");t.parseBox=n,t.mergeBoxes=o,t.addPropertiesHandler(n,o,["clip"])}(n),function(t,e){function r(t){return function(e){var r=0;return t.map(function(t){return t===u?e[r++]:t})}}function n(t){return t}function o(e){if("none"==(e=e.toLowerCase().trim()))return[];for(var r,n=/\s*(\w+)\(([^)]*)\)/g,o=[],i=0;r=n.exec(e);){if(r.index!=i)return;i=r.index+r[0].length;var s=r[1],a=p[s];if(!a)return;var c=r[2].split(","),u=a[0];if(u.length<c.length)return;for(var h=[],d=0;d<u.length;d++){var b,y=c[d],m=u[d];if(void 0===(b=y?{A:function(e){return"0"==e.trim()?f:t.parseAngle(e)},N:t.parseNumber,T:t.parseLengthOrPercent,L:t.parseLength}[m.toUpperCase()](y):{a:f,n:h[0],t:l}[m]))return;h.push(b)}if(o.push({t:s,d:h}),n.lastIndex==e.length)return o}}function i(t){return t.toFixed(6).replace(".000000","")}function s(e,r){if(e.decompositionPair!==r){e.decompositionPair=r;var n=t.makeMatrixDecomposition(e)}if(r.decompositionPair!==e){r.decompositionPair=e;var o=t.makeMatrixDecomposition(r)}return null==n[0]||null==o[0]?[[!1],[!0],function(t){return t?r[0].d:e[0].d}]:(n[0].push(0),o[0].push(1),[n,o,function(e){var r=t.quat(n[0][3],o[0][3],e[5]);return t.composeMatrix(e[0],e[1],e[2],r,e[4]).map(i).join(",")}])}function a(t){return t.replace(/[xy]/,"")}function c(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var u=null,l={px:0},f={deg:0},p={matrix:["NNNNNN",[u,u,0,0,u,u,0,0,0,0,1,0,u,u,0,1],n],matrix3d:["NNNNNNNNNNNNNNNN",n],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",r([u,u,1]),n],scalex:["N",r([u,1,1]),r([u,1])],scaley:["N",r([1,u,1]),r([1,u])],scalez:["N",r([1,1,u])],scale3d:["NNN",n],skew:["Aa",null,n],skewx:["A",null,r([u,f])],skewy:["A",null,r([f,u])],translate:["Tt",r([u,u,l]),n],translatex:["T",r([u,l,l]),r([u,l])],translatey:["T",r([l,u,l]),r([l,u])],translatez:["L",r([l,l,u])],translate3d:["TTL",n]};t.addPropertiesHandler(o,function(e,r){var n=t.makeMatrixDecomposition&&!0,o=!1;if(!e.length||!r.length)for(e.length||(o=!0,e=r,r=[]),y=0;y<e.length;y++){var i=e[y].t,u=e[y].d,l="scale"==i.substr(0,5)?1:0;r.push({t:i,d:u.map(function(t){if("number"==typeof t)return l;var e={};for(var r in t)e[r]=l;return e})})}var f=function(t,e){return"perspective"==t&&"perspective"==e||("matrix"==t||"matrix3d"==t)&&("matrix"==e||"matrix3d"==e)},h=[],d=[],b=[];if(e.length!=r.length){if(!n)return;h=[(T=s(e,r))[0]],d=[T[1]],b=[["matrix",[T[2]]]]}else for(var y=0;y<e.length;y++){var m=e[y].t,v=r[y].t,g=e[y].d,_=r[y].d,w=p[m],x=p[v];if(f(m,v)){if(!n)return;T=s([e[y]],[r[y]]),h.push(T[0]),d.push(T[1]),b.push(["matrix",[T[2]]])}else{if(m==v)i=m;else if(w[2]&&x[2]&&a(m)==a(v))i=a(m),g=w[2](g),_=x[2](_);else{if(!w[1]||!x[1]||c(m)!=c(v)){if(!n)return;h=[(T=s(e,r))[0]],d=[T[1]],b=[["matrix",[T[2]]]];break}i=c(m),g=w[1](g),_=x[1](_)}for(var S=[],O=[],j=[],E=0;E<g.length;E++){var T=("number"==typeof g[E]?t.mergeNumbers:t.mergeDimensions)(g[E],_[E]);S[E]=T[0],O[E]=T[1],j.push(T[2])}h.push(S),d.push(O),b.push([i,j])}}if(o){var A=h;h=d,d=A}return[h,d,function(t){return t.map(function(t,e){var r=t.map(function(t,r){return b[e][1][r](t)}).join(",");return"matrix"==b[e][0]&&16==r.split(",").length&&(b[e][0]="matrix3d"),b[e][0]+"("+r+")"}).join(" ")}]},["transform"]),t.transformToSvgMatrix=function(e){var r=t.transformListToMatrix(o(e));return"matrix("+i(r[0])+" "+i(r[1])+" "+i(r[4])+" "+i(r[5])+" "+i(r[12])+" "+i(r[13])+")"}}(n),function(t){function e(e){return e=100*Math.round(e/100),400===(e=t.clamp(100,900,e))?"normal":700===e?"bold":String(e)}t.addPropertiesHandler(function(t){var e=Number(t);if(!(isNaN(e)||e<100||e>900||e%100!=0))return e},function(t,r){return[t,r,e]},["font-weight"])}(n),function(t){function e(t){var e={};for(var r in t)e[r]=-t[r];return e}function r(e){return t.consumeToken(/^(left|center|right|top|bottom)\b/i,e)||t.consumeLengthOrPercent(e)}function n(e,n){var o=t.consumeRepeated(r,/^/,n);if(o&&""==o[1]){var s=o[0];if(s[0]=s[0]||"center",s[1]=s[1]||"center",3==e&&(s[2]=s[2]||{px:0}),s.length==e){if(/top|bottom/.test(s[0])||/left|right/.test(s[1])){var a=s[0];s[0]=s[1],s[1]=a}if(/left|right|center|Object/.test(s[0])&&/top|bottom|center|Object/.test(s[1]))return s.map(function(t){return"object"==typeof t?t:i[t]})}}}function o(n){var o=t.consumeRepeated(r,/^/,n);if(o){for(var s=o[0],a=[{"%":50},{"%":50}],c=0,u=!1,l=0;l<s.length;l++){var f=s[l];"string"==typeof f?(u=/bottom|right/.test(f),c={left:0,right:0,center:c,top:1,bottom:1}[f],a[c]=i[f],"center"==f&&c++):(u&&(f=e(f),f["%"]=(f["%"]||0)+100),a[c]=f,c++,u=!1)}return[a,o[1]]}}var i={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},s=t.mergeNestedRepeated.bind(null,t.mergeDimensions," ");t.addPropertiesHandler(n.bind(null,3),s,["transform-origin"]),t.addPropertiesHandler(n.bind(null,2),s,["perspective-origin"]),t.consumePosition=o,t.mergeOffsetList=s;var a=t.mergeNestedRepeated.bind(null,s,", ");t.addPropertiesHandler(function(e){var r=t.consumeRepeated(o,/^,/,e);if(r&&""==r[1])return r[0]},a,["background-position","object-position"])}(n),function(t){var e=t.consumeParenthesised.bind(null,t.parseLengthOrPercent),r=t.consumeRepeated.bind(void 0,e,/^/),n=t.mergeNestedRepeated.bind(void 0,t.mergeDimensions," "),o=t.mergeNestedRepeated.bind(void 0,n,",");t.addPropertiesHandler(function(n){var o=t.consumeToken(/^circle/,n);if(o&&o[0])return["circle"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),e,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],o[1]));var i=t.consumeToken(/^ellipse/,n);if(i&&i[0])return["ellipse"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),r,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],i[1]));var s=t.consumeToken(/^polygon/,n);return s&&s[0]?["polygon"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),t.optional(t.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),t.consumeSizePairList,t.ignore(t.consumeToken.bind(void 0,/^\)/))],s[1])):void 0},function(e,r){if(e[0]===r[0])return"circle"==e[0]?t.mergeList(e.slice(1),r.slice(1),["circle(",t.mergeDimensions," at ",t.mergeOffsetList,")"]):"ellipse"==e[0]?t.mergeList(e.slice(1),r.slice(1),["ellipse(",t.mergeNonNegativeSizePair," at ",t.mergeOffsetList,")"]):"polygon"==e[0]&&e[1]==r[1]?t.mergeList(e.slice(2),r.slice(2),["polygon(",e[1],o,")"]):void 0},["shape-outside"])}(n),function(t,e){function r(t,e){e.concat([t]).forEach(function(e){e in document.documentElement.style&&(n[t]=e),o[e]=t})}var n={},o={};r("transform",["webkitTransform","msTransform"]),r("transformOrigin",["webkitTransformOrigin"]),r("perspective",["webkitPerspective"]),r("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return n[t]||t},t.unprefixedPropertyName=function(t){return o[t]||t}}(n)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)t=function(){return performance.now()};else var t=function(){return Date.now()};var e=window.Element.prototype.animate;window.Element.prototype.animate=function(r,n){var o=e.call(this,r,n);o._cancelHandlers=[],o.oncancel=null;var i=o.cancel;o.cancel=function(){i.call(this);var e=new function(t,e,r){this.target=t,this.currentTime=e,this.timelineTime=r,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}(this,null,t()),r=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){r.forEach(function(t){t.call(e.target,e)})},0)};var s=o.addEventListener;o.addEventListener=function(t,e){"function"==typeof e&&"cancel"==t?this._cancelHandlers.push(e):s.call(this,t,e)};var a=o.removeEventListener;return o.removeEventListener=function(t,e){if("cancel"==t){var r=this._cancelHandlers.indexOf(e);r>=0&&this._cancelHandlers.splice(r,1)}else a.call(this,t,e)},o}}}(),function(t){var e=document.documentElement,r=null,n=!1;try{var o="0"==getComputedStyle(e).getPropertyValue("opacity")?"1":"0";(r=e.animate({opacity:[o,o]},{duration:1})).currentTime=0,n=getComputedStyle(e).getPropertyValue("opacity")==o}catch(t){}finally{r&&r.cancel()}if(!n){var i=window.Element.prototype.animate;window.Element.prototype.animate=function(e,r){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&e[Symbol.iterator]&&(e=Array.from(e)),Array.isArray(e)||null===e||(e=t.convertToArrayForm(e)),i.call(this,e,r)}}}(r),e.true={}}(0,function(){return this}())},{}]},{},[9]);
diff --git a/assets/js/hydejack.js b/assets/js/hydejack.js
deleted file mode 100644
index fb417cff..00000000
--- a/assets/js/hydejack.js
+++ /dev/null
@@ -1,14 +0,0 @@
-/*!
- *  __  __                __                                     __
- * /\ \/\ \              /\ \             __                    /\ \
- * \ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
- *  \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
- *   \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
- *    \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
- *     \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
- *                 /\___/                \ \____/
- *                 \/__/                  \/___/
- *
- * Powered by Hydejack v7.0.0 <https://qwtel.com/hydejack/>
- */
-!function t(e,r,n){function i(s,c){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return i(r||t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,r){function i(t,e){return(void 0===t?"undefined":n(t))===e}function o(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,r){return e+r.toUpperCase()}).replace(/^-/,"")}function s(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):O?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function c(){var t=e.body;return t||((t=s(O?"svg":"body")).fake=!0),t}function u(t,r,n,i){var o,u,a,l,h="modernizr",f=s("div"),p=c();if(parseInt(n,10))for(;n--;)(a=s("div")).id=i?i[n]:h+(n+1),f.appendChild(a);return o=s("style"),o.type="text/css",o.id="s"+h,(p.fake?p:f).appendChild(o),p.appendChild(f),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(e.createTextNode(t)),f.id=h,p.fake&&(p.style.background="",p.style.overflow="hidden",l=x.style.overflow,x.style.overflow="hidden",x.appendChild(p)),u=r(f,t),p.fake?(p.parentNode.removeChild(p),x.style.overflow=l,x.offsetHeight):f.parentNode.removeChild(f),!!u}function a(t,e){return!!~(""+t).indexOf(e)}function l(t,e){return function(){return t.apply(e,arguments)}}function h(t,e,r){var n;for(var o in t)if(t[o]in e)return!1===r?t[o]:(n=e[t[o]],i(n,"function")?l(n,r||e):n);return!1}function f(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function p(e,r,n){var i;if("getComputedStyle"in t){i=getComputedStyle.call(t,e,r);var o=t.console;null!==i?n&&(i=i.getPropertyValue(n)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!r&&e.currentStyle&&e.currentStyle[n];return i}function b(e,n){var i=e.length;if("CSS"in t&&"supports"in t.CSS){for(;i--;)if(t.CSS.supports(f(e[i]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var o=[];i--;)o.push("("+f(e[i])+":"+n+")");return o=o.join(" or "),u("@supports ("+o+") { #modernizr { position: absolute; } }",function(t){return"absolute"==p(t,null,"position")})}return r}function d(t,e,n,c){function u(){h&&(delete M.style,delete M.modElem)}if(c=!i(c,"undefined")&&c,!i(n,"undefined")){var l=b(t,n);if(!i(l,"undefined"))return l}for(var h,f,p,d,y,v=["modernizr","tspan","samp"];!M.style&&v.length;)h=!0,M.modElem=s(v.shift()),M.style=M.modElem.style;for(p=t.length,f=0;f<p;f++)if(d=t[f],y=M.style[d],a(d,"-")&&(d=o(d)),M.style[d]!==r){if(c||i(n,"undefined"))return u(),"pfx"!=e||d;try{M.style[d]=n}catch(t){}if(M.style[d]!=y)return u(),"pfx"!=e||d}return u(),!1}function y(t,e,r,n,o){var s=t.charAt(0).toUpperCase()+t.slice(1),c=(t+" "+T.join(s+" ")+s).split(" ");return i(e,"string")||i(e,"undefined")?d(c,e,n,o):(c=(t+" "+A.join(s+" ")+s).split(" "),h(c,e,r))}function v(t,e,n){return y(t,r,r,e,n)}var m=[],w={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!1},_q:[],on:function(t,e){var r=this;setTimeout(function(){e(r[t])},0)},addTest:function(t,e,r){m.push({name:t,fn:e,options:r})},addAsyncTest:function(t){m.push({name:null,fn:t})}},g=function(){};g.prototype=w,(g=new g).addTest("customevent","CustomEvent"in t&&"function"==typeof t.CustomEvent),g.addTest("eventlistener","addEventListener"in t),g.addTest("queryselector","querySelector"in e&&"querySelectorAll"in e),g.addTest("history",function(){var e=navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")||"file:"===location.protocol)&&(t.history&&"pushState"in t.history)}),g.addTest("promises",function(){return"Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),"function"==typeof e}()});var _=[],S=w._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];w._prefixes=S;var x=e.documentElement;g.addTest("classlist","classList"in x),g.addTest("documentfragment",function(){return"createDocumentFragment"in e&&"appendChild"in x});var O="svg"===x.nodeName.toLowerCase();g.addTest("csspointerevents",function(){var t=s("a").style;return t.cssText="pointer-events:auto","auto"===t.pointerEvents}),g.addTest("opacity",function(){var t=s("a").style;return t.cssText=S.join("opacity:.55;"),/^0.55$/.test(t.opacity)}),g.addTest("cssremunit",function(){var t=s("a").style;try{t.fontSize="3rem"}catch(t){}return/rem/.test(t.fontSize)}),g.addTest("template","content"in s("template"));var j=w.testStyles=u;g.addTest("touchevents",function(){var r;if("ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch)r=!0;else{var n=["@media (",S.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");j(n,function(t){r=9===t.offsetTop})}return r});var T=w._config.usePrefixes?"Moz O ms Webkit".split(" "):[];w._cssomPrefixes=T;var E=function(e){var n,i=S.length,o=t.CSSRule;if(void 0===o)return r;if(!e)return!1;if(e=e.replace(/^@/,""),(n=e.replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+e;for(var s=0;s<i;s++){var c=S[s];if(c.toUpperCase()+"_"+n in o)return"@-"+c.toLowerCase()+"-"+e}return!1};w.atRule=E;var A=w._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];w._domPrefixes=A;var k={elem:s("modernizr")};g._q.push(function(){delete k.elem});var M={style:k.elem.style};g._q.unshift(function(){delete M.style}),w.testAllProps=y;var P=w.prefixed=function(t,e,r){return 0===t.indexOf("@")?E(t):(-1!=t.indexOf("-")&&(t=o(t)),e?y(t,e,r):y(t,"pfx"))};g.addTest("requestanimationframe",!!P("requestAnimationFrame",t),{aliases:["raf"]}),g.addTest("matchmedia",!!P("matchMedia",t)),w.testAllProps=v,g.addTest("cssanimations",v("animationName","a",!0)),g.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&v("transform","scale(1)",!0)}),function(){var t,e,r,n,o,s;for(var c in m)if(m.hasOwnProperty(c)){if(t=[],(e=m[c]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(r=0;r<e.options.aliases.length;r++)t.push(e.options.aliases[r].toLowerCase());for(n=i(e.fn,"function")?e.fn():e.fn,o=0;o<t.length;o++)1===(s=t[o].split(".")).length?g[s[0]]=n:(!g[s[0]]||g[s[0]]instanceof Boolean||(g[s[0]]=new Boolean(g[s[0]])),g[s[0]][s[1]]=n),_.push((n?"":"no-")+s.join("-"))}}(),delete w.addTest,delete w.addAsyncTest;for(var C=0;C<g._q.length;C++)g._q[C]();t.Modernizr=g}(window,document)},{}],2:[function(t,e,r){"use strict";console.log(" __  __                __                                     __         \r\n/\\ \\/\\ \\              /\\ \\             __                    /\\ \\        \r\n\\ \\ \\_\\ \\   __  __    \\_\\ \\      __   /\\_\\      __       ___ \\ \\ \\/'\\    \r\n \\ \\  _  \\ /\\ \\/\\ \\   /'_` \\   /'__`\\ \\/\\ \\   /'__`\\    /'___\\\\ \\ , <    \r\n  \\ \\ \\ \\ \\\\ \\ \\_\\ \\ /\\ \\L\\ \\ /\\  __/  \\ \\ \\ /\\ \\L\\.\\_ /\\ \\__/ \\ \\ \\\\`\\  \r\n   \\ \\_\\ \\_\\\\/`____ \\\\ \\___,_\\\\ \\____\\ _\\ \\ \\\\ \\__/.\\_\\\\ \\____\\ \\ \\_\\ \\_\\\r\n    \\/_/\\/_/ `/___/> \\\\/__,_ / \\/____//\\ \\_\\ \\\\/__/\\/_/ \\/____/  \\/_/\\/_/\r\n                /\\___/                \\ \\____/                           \r\n                \\/__/                  \\/___/                            \n\n"),console.log("Powered by Hydejack v7.0.0 <https://qwtel.com/hydejack/>")},{}],3:[function(t,e,r){(function(e){"use strict";function n(){this.style.display="",this.style.visibility=""}Object.defineProperty(r,"__esModule",{value:!0}),r.unhide=r.isUCBrowser=r.isMobileSafari=r.isSafari=void 0,r.hasFeatures=function(t){var r=!0;return t.forEach(function(t){var n=window.Modernizr[t];!n&&e.env.DEBUG&&console.warn("Feature '"+t+"' missing!"),r=r&&n}),r},r.show=function(){this.style.display="block",this.style.visibility="visible"},r.hide=function(){this.style.display="none",this.style.visibility="hidden"},r.unshow=n,r.empty=function(){for(;this.firstChild;)this.removeChild(this.firstChild)},r.animate=function(t,e,r){return i.Observable.create(function(n){var i=t.animate(e,r);return i.addEventListener("finish",function(t){n.next(t),requestAnimationFrame(n.complete.bind(n))}),function(){"finished"!==i.playState&&i.cancel()}})},r.getResolvablePromise=function(){var t=void 0,e=void 0,r=new Promise(function(r,n){t=r,e=n});return r.resolve=t,r.reject=e,r},t("core-js/fn/function/bind");var i=t("rxjs/Observable"),o=navigator.userAgent.toLowerCase(),s=r.isSafari=o.indexOf("safari")>0&&o.indexOf("chrome")<0;r.isMobileSafari=s&&o.indexOf("mobile")>0,r.isUCBrowser=o.indexOf("ucbrowser")>0&&o.indexOf("chrome")>0,r.unhide=n}).call(this,t("_process"))},{_process:139,"core-js/fn/function/bind":24,"rxjs/Observable":144}],4:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).color,e=void 0===t?"#4fb1ba":t;if(this.themeColor&&(this.themeColor.content=e),this.rules)try{var r=(0,l.default)(e),n=r.darken(.1);this.rules[0].style.color=e,this.rules[0].style.borderColor=r.fade(_).string(),this.rules[1].style.borderColor=e,this.rules[2].style.outlineColor=e,this.rules[3].style.backgroundColor=e,this.rules[3].style.borderColor=e,this.rules[4].style.boxShadow="0 0 0 3px "+r.fade(.5),this.rules[5].style.backgroundColor=n,this.rules[5].style.borderColor=n,this.rules[6].style.backgroundColor=e,this.rules[6].style.borderColor=e,this.rules[7].style.backgroundColor=n,this.rules[7].style.borderColor=n,this.rules[this.rules.length-1].style.backgroundColor=e}catch(t){console.error(t)}}function s(t){var e=t.background,r=t.color,n=t.image,i=t.overlay;return""+r+(n||e)+(""===i?"overlay":"")}function c(t){var e,r=t.background,n=t.image;if(r||!n||""===n||"none"===n||n===this.prevImage)return b.of.call(h.Observable,{});var i=new Image,o=(e=(e=p.fromEvent.call(h.Observable,i,"load"),y.take).call(e,1),d._finally).call(e,function(){i.src=""});return i.src=n,o}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/find"),t("core-js/fn/function/bind");var l=n(t("color")),h=t("rxjs/Observable"),f=t("rxjs/observable/empty"),p=t("rxjs/observable/fromEvent"),b=t("rxjs/observable/of"),d=t("rxjs/operator/finally"),y=t("rxjs/operator/take"),v=t("rxjs/operator/map"),m=n(t("elem-dataset")),w=t("./common"),g=Array.prototype.find,_=.8,S=function(){function t(e){var r;i(this,t);var n=document.getElementById("_main"),o=document.getElementById("_pageStyle"),c=(r=document.styleSheets,g).call(r,function(t){return t.ownerNode===o})||{};this.sidebar=document.getElementById("_sidebar"),this.fadeDuration=e,this.rules=c.cssRules||c.rules,this.prevHash=s((0,m.default)(n)),this.themeColor=document.querySelector('meta[name="theme-color"]')}return a(t,[{key:"fetchImage",value:function(t){var e,r=(0,m.default)(t),n=r.background,i=r.color,o=r.image,u=r.overlay,a=s(r);return a===this.prevHash?f.empty.call(h.Observable):(e=c.call(this,r),v.map).call(e,function(){var t=document.createElement("div");return t.classList.add("sidebar-bg"),"none"!==o&&""===u&&t.classList.add("sidebar-overlay"),n?t.style.background=n:(t.style.backgroundColor=i,""!==o&&"none"!==o&&(t.style.backgroundImage="url("+o+")")),[t,r,a]})}},{key:"fade",value:function(t,e){var r,n=u(t,1)[0],i=u(e,3),s=i[0],c=i[1],a=i[2];return n.parentNode.insertBefore(s,n.nextElementSibling),o.call(this,c),this.prevHash=a,(r=(0,w.animate)(s,[{opacity:0},{opacity:1}],{duration:this.fadeDuration}),d._finally).call(r,function(){return n.parentNode.removeChild(n)})}}]),t}();r.default=S},{"./common":3,color:18,"core-js/fn/array/find":19,"core-js/fn/function/bind":24,"elem-dataset":119,"rxjs/Observable":144,"rxjs/observable/empty":170,"rxjs/observable/fromEvent":172,"rxjs/observable/of":175,"rxjs/operator/finally":185,"rxjs/operator/map":186,"rxjs/operator/take":199}],5:[function(t,e,r){"use strict";function n(){return a.isMobileSafari&&!navigator.standalone?[35,150]:[0,150]}t("core-js/fn/function/bind");var i=t("hy-drawer/src/vanilla"),o=t("hy-drawer/src/webcomponent"),s=t("rxjs/Observable"),c=t("rxjs/operator/debounceTime"),u=t("rxjs/observable/fromEvent"),a=t("./common"),l=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(i.VANILLA_FEATURE_TESTS),["cssremunit","classlist","eventlistener","matchmedia"]),h="(min-width: 64em)";if(!window._noDrawer&&(0,a.hasFeatures)(l)&&!a.isUCBrowser){var f,p=document.getElementsByTagName("hy-drawer")[0],b=document.getElementById("_menu");window._isDesktop=window.matchMedia(h).matches,window._drawer="customElements"in window&&"attachShadow"in Element.prototype?function(t){return window._isDesktop&&t.setAttribute("opened",""),window._isDesktop&&t.setAttribute("persistent",""),t.setAttribute("align","left"),t.setAttribute("range",n().join(",")),t.setAttribute("threshold",a.isSafari?0:10),t.setAttribute("prevent-default",""),customElements.define("hy-drawer",o.HTMLDrawerElement),t}(p):function(t){return new i.Drawer(t,{opened:window._isDesktop,persistent:window._isDesktop,align:"left",range:n(),threshold:a.isSafari?0:10,preventDefault:!0})}(p),p.classList.add("loaded"),b.addEventListener("click",function(t){window._isDesktop||(t.preventDefault(),window._drawer.toggle())}),(f=u.fromEvent.call(s.Observable,window,"resize",{passive:!0}),c.debounceTime).call(f,100).subscribe(function(){var t=window.matchMedia(h).matches;window._isDesktop!==t&&(window._isDesktop=t,window._drawer.persistent=t,window._drawer.opened=t)})}},{"./common":3,"core-js/fn/function/bind":24,"hy-drawer/src/vanilla":130,"hy-drawer/src/webcomponent":131,"rxjs/Observable":144,"rxjs/observable/fromEvent":172,"rxjs/operator/debounceTime":180}],6:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,e,r,n){var l=s.filter.call(t,function(t){var e=t.flipType;return!a.includes(e)});return o.merge.call(i.Observable,(0,c.default)(t,e,r,n),(0,u.default)(t,e,r,n),l)},t("core-js/fn/array/includes"),t("core-js/fn/function/bind");var i=t("rxjs/Observable"),o=t("rxjs/observable/merge"),s=t("rxjs/operator/filter"),c=n(t("./title")),u=n(t("./project")),a=["title","projects"]},{"./project":7,"./title":8,"core-js/fn/array/includes":22,"core-js/fn/function/bind":24,"rxjs/Observable":144,"rxjs/observable/merge":173,"rxjs/operator/filter":184}],7:[function(t,e,r){"use strict";function n(t){var e;if(!t)return c.of.call(o.Observable,{});var r=new Image,n=(e=(e=s.fromEvent.call(o.Observable,r,"load"),f.take).call(e,1),a._finally).call(e,function(){r.src=""});return r.src=t.currentSrc||t.src,n}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default=function(t,e,r,s){var f,d=this,y=s.animationMain,v=s.settings;if(!y)return t;var m=(f=l.filter.call(t,function(t){return"project"===t.flipType}),h.switchMap).call(f,function(t){var e,r=t.anchor,n=r.querySelector(".project-card-img");if(!r||!n)return c.of.call(o.Observable,{});var i=y.querySelector(".page");if(!i)return c.of.call(o.Observable,{});var s=r.parentNode.querySelector(".project-card-title"),a=s&&s.textContent||"|",l=document.createElement("h1");l.classList.add("page-title"),l.style.opacity=0,l.textContent=a;var h=document.createElement("div");h.classList.add("post-date"),h.classList.add("heading"),h.style.opacity=0,h.textContent="|",b.empty.call(i),i.appendChild(l),i.appendChild(h);var f=document.createElement("div");f.classList.add("sixteen-nine"),n.parentNode.insertBefore(f,n),n.classList.add("lead"),n.style.transformOrigin="left top",i.appendChild(n),y.style.position="fixed",y.style.opacity=1;var p=f.getBoundingClientRect(),d=n.getBoundingClientRect(),m=[{transform:"translate3d("+(p.left-d.left)+"px, "+(p.top-d.top)+"px, 0) scale("+p.width/d.width+")"},{transform:"translate3d(0, 0, 0) scale(1)"}];return(e=(0,b.animate)(n,m,v),u._do).call(e,{complete:function(){y.style.position="absolute"}})});return h.switchMap.call(t,function(t){var s,f=t.flipType;return(s=l.filter.call(e,function(){return"project"===f}),h.switchMap).call(s,function(t){var e,s=i(t.replaceEls,1)[0].querySelector(".img");if(!s)return c.of.call(o.Observable,{});s.style.opacity=0;var l=s.querySelector("img");return(e=(e=(e=(e=n.call(d,l),p.zipProto).call(e,r),u._do).call(e,function(){s.style.opacity=1,y.style.opacity=0}),h.switchMap).call(e,function(){return l?(0,b.animate)(y,[{opacity:1},{opacity:0}],{duration:500}):c.of.call(o.Observable,{})}),a._finally).call(e,function(){y.style.opacity=0})})}).subscribe(),m},t("core-js/fn/function/bind");var o=t("rxjs/Observable"),s=t("rxjs/observable/fromEvent"),c=t("rxjs/observable/of"),u=t("rxjs/operator/do"),a=t("rxjs/operator/finally"),l=t("rxjs/operator/filter"),h=t("rxjs/operator/switchMap"),f=t("rxjs/operator/take"),p=t("rxjs/operator/zip"),b=t("../common")},{"../common":3,"core-js/fn/function/bind":24,"rxjs/Observable":144,"rxjs/observable/fromEvent":172,"rxjs/observable/of":175,"rxjs/operator/do":182,"rxjs/operator/filter":184,"rxjs/operator/finally":185,"rxjs/operator/switchMap":198,"rxjs/operator/take":199,"rxjs/operator/zip":204}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.default=function(t,e,r,b){var d,y=b.animationMain,v=b.settings;if(!y)return t;var m=(d=u.filter.call(t,function(t){return"title"===t.flipType}),l.switchMap).call(d,function(t){var e,r=t.anchor;if(!r)return o.of.call(i.Observable,{});var n=document.createElement("h1");n.classList.add("page-title"),n.textContent=r.textContent,n.style.transformOrigin="left top";var c=y.querySelector(".page");if(!c)return o.of.call(i.Observable,{});f.empty.call(c),c.appendChild(n),y.style.position="fixed",y.style.opacity=1;var u=r.getBoundingClientRect(),a=n.getBoundingClientRect(),l=parseInt(getComputedStyle(r).fontSize,10),h=parseInt(getComputedStyle(n).fontSize,10),p=u.left-a.left,b=u.top-a.top,d=l/h;r.style.opacity=0;var m=[{transform:"translate3d("+p+"px, "+b+"px, 0) scale("+d+")"},{transform:"translate3d(0, 0, 0) scale(1)"}];return(e=(0,f.animate)(n,m,v),s._do).call(e,{complete:function(){y.style.position="absolute"}})});return l.switchMap.call(t,function(t){var i,o=t.flipType;return(i=(i=(i=(i=u.filter.call(e,function(){return"title"===o}),a.map).call(i,function(t){var e=n(t.replaceEls,1)[0].querySelector(p);return e&&(e.style.opacity=0),e}),h.zipProto).call(i,r,function(t){return t}),s._do).call(i,function(t){t&&(t.style.opacity=1),y.style.opacity=0}),c._finally).call(i,function(){y.style.opacity=0})}).subscribe(),m},t("core-js/fn/function/bind");var i=t("rxjs/Observable"),o=t("rxjs/observable/of"),s=t("rxjs/operator/do"),c=t("rxjs/operator/finally"),u=t("rxjs/operator/filter"),a=t("rxjs/operator/map"),l=t("rxjs/operator/switchMap"),h=t("rxjs/operator/zip"),f=t("../common"),p=".page-title, .post-title"},{"../common":3,"core-js/fn/function/bind":24,"rxjs/Observable":144,"rxjs/observable/of":175,"rxjs/operator/do":182,"rxjs/operator/filter":184,"rxjs/operator/finally":185,"rxjs/operator/map":186,"rxjs/operator/switchMap":198,"rxjs/operator/zip":204}],9:[function(t,e,r){"use strict";t("web-animations-js"),t("../lib/modernizr-custom"),t("../lib/version"),t("./katex"),t("./drawer"),t("./push-state")},{"../lib/modernizr-custom":1,"../lib/version":2,"./drawer":5,"./katex":10,"./push-state":11,"web-animations-js":347}],10:[function(t,e,r){"use strict";function n(t,e){t.outerHTML=window.katex.renderToString(e,{displayMode:"math/tex; mode=display"===t.type})}function i(t,e){try{var r=t.previousElementSibling;n(t,e),r&&r.classList&&r.classList.contains("MathJax_Preview")&&u.hide.call(r)}catch(t){console.error(t)}finally{t.style.willChange=""}}function o(t){return t.textContent.replace("% <![CDATA[","").replace("%]]>","")}function s(t){a.call(t,function(t){i(t,o(t))})}function c(){if(l){var t=document.querySelectorAll('script[type^="math/tex"]');t.length&&(h&&f?s(t):(loadJSDeferred(document.getElementById("_katexJS").href,function(){(h=!0)&&f&&c()}),loadCSS(document.getElementById("_katexCSS").href).onload=function(){f=!0,h&&f&&c()}))}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=c,t("core-js/fn/array/for-each");var u=t("./common"),a=Array.prototype.forEach,l=(0,u.hasFeatures)(["classlist","eventlistener","queryselector"]),h=!1,f=!1;c()},{"./common":3,"core-js/fn/array/for-each":20}],11:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t){var e="#"+t.id,r=document.createElement("a"),n=document.createElement("span");n.textContent="Permalink",n.classList.add("sr-only"),r.appendChild(n),r.href=e,r.classList.add("permalink"),t.appendChild(r)}function o(t,e,r){var n;return(n=g._do.call(this,{error:(n=console).error.bind(n)}),w._catch).call(n,function(t,e){return e}).subscribe(t,e,r)}function s(t,e){var r=e.pathname,n=document.getElementById("_error-template"),i=document.importNode(n.content,!0),o=i.querySelector(".this-link");return o&&(o.href=r,o.textContent=r),t.appendChild(i),t.lastElementChild}function c(t){return t&&t.classList?t.classList.contains("flip-title")?"title":t.classList.contains("flip-project")?"project":t.getAttribute&&t.getAttribute("data-flip"):null}function u(t){return"push"===t||navigator.standalone||!R.isSafari}function a(){return!R.isSafari||!!navigator.standalone}var l=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t("core-js/fn/array/for-each"),t("core-js/fn/function/bind"),t("core-js/fn/object/assign"),t("core-js/fn/string/includes");var h=t("hy-push-state/src/vanilla"),f=t("hy-push-state/src/webcomponent"),p=t("rxjs/Observable"),b=t("rxjs/scheduler/animationFrame"),d=t("rxjs/observable/fromEvent"),y=t("rxjs/observable/merge"),v=t("rxjs/observable/of"),m=t("rxjs/observable/timer"),w=t("rxjs/operator/catch"),g=t("rxjs/operator/do"),_=t("rxjs/operator/debounceTime"),S=t("rxjs/operator/filter"),x=t("rxjs/operator/map"),O=t("rxjs/operator/mapTo"),j=t("rxjs/operator/mergeMap"),T=t("rxjs/operator/observeOn"),E=t("rxjs/operator/pairwise"),A=t("rxjs/operator/share"),k=t("rxjs/operator/startWith"),M=t("rxjs/operator/exhaustMap"),P=t("rxjs/operator/switchMap"),C=t("rxjs/operator/takeUntil"),N=t("rxjs/operator/zip"),R=t("./common"),I=n(t("./cross-fader")),F=n(t("./katex")),L=n(t("./flip")),D=[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(h.VANILLA_FEATURE_TESTS),["classlist","cssanimations","cssremunit","documentfragment","eventlistener","history","matchmedia","opacity","queryselector","requestanimationframe","template"]),z="_main",U="a[href]:not(.external):not(.no-push-state)",V='script:not([type^="math/tex"])',q=/^((?!(\/assets\/)).)*$/,W=250,B=[{opacity:1},{opacity:0}],H=[{opacity:0,transform:"translateY(-3rem)"},{opacity:1,transform:"translateY(0)"}],X={duration:W,easing:"cubic-bezier(0,0,0.32,1)"},$=Array.prototype.forEach,Y=Object.assign.bind(Object);if(!window._noPushState&&(0,R.hasFeatures)(D)){var G,K=!!navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,J=document.getElementsByTagName("hy-push-state")[0],Z=document.querySelector(".navbar .content .nav-btn-bar"),Q=function(t){var e=document.getElementById("_animation-template"),r=document.importNode(e.content,!0);return t.parentNode.insertBefore(r,t),t.previousElementSibling}(J),tt=function(t){var e=document.getElementById("_loading-template"),r=document.importNode(e.content,!0);return t.appendChild(r),t.lastElementChild}(document.querySelector(".navbar .content"));K&&function(t,e,r){var n=document.getElementById(e),i=document.importNode(n.content,!0);i.querySelector(".nav-btn").addEventListener("click",r),t.appendChild(i),t.lastElementChild}(Z,"_back-template",function(){return window.history.back()});var et=document.getElementById("_main");(G=et.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]"),$).call(G,i),et.classList.remove("fade-in");var rt=(G=(G=d.fromEvent.call(p.Observable,J,"hy-push-state-start"),x.map).call(G,function(t){var e=t.detail;return Y(e,{flipType:c(e.anchor)})}),A.share).call(G),nt=(G=(G=d.fromEvent.call(p.Observable,J,"hy-push-state-ready"),x.map).call(G,function(t){return t.detail}),A.share).call(G),it=(G=(G=d.fromEvent.call(p.Observable,J,"hy-push-state-after"),x.map).call(G,function(t){return t.detail}),A.share).call(G),ot=(G=(G=d.fromEvent.call(p.Observable,J,"hy-push-state-progress"),x.map).call(G,function(t){return t.detail}),A.share).call(G),st=(G=(G=d.fromEvent.call(p.Observable,J,"hy-push-state-networkerror"),x.map).call(G,function(t){return t.detail}),A.share).call(G),ct=(G=(G=(G=(G=x.map.call(rt,function(t){return Y(t,{main:document.getElementById("_main")})}),g._do).call(G,function(t){var e=t.type,r=t.main;!window._isDesktop&&window._drawer.opened&&window._drawer.close(),u(e)&&(r.style.pointerEvents="none",r.style.opacity=0)}),M.exhaustMap).call(G,function(t){var e,r=t.type,n=t.main;return u(r)?(e=(0,R.animate)(n,B,X),O.mapTo).call(e,{main:n}):v.of.call(p.Observable,{main:n})}),g._do).call(G,function(t){var e=t.main;R.empty.call(e),window.scroll(window.pageXOffset,0)}),A.share).call(G);o.call(ot,function(){tt.style.display="block"}),o.call(nt,function(t){var e,r=l(t.replaceEls,1)[0];tt.style.display="none",r.classList.remove("fade-in"),(e=r.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]"),$).call(e,i),r.style.pointerEvents="none"});var ut=(G=(G=P.switchMap.call(it,function(t){var e,r=t.type,n=l(t.replaceEls,1)[0],i=t.flipType;return u(r)?(e=(0,R.animate)(n,H,X),O.mapTo).call(e,{main:n,flipType:i}):v.of.call(p.Observable,{main:n,flipType:i})}),g._do).call(G,function(t){t.main.style.pointerEvents=""}),A.share).call(G),at=(G=(0,L.default)(rt,nt,y.merge.call(p.Observable,ut,st),{animationMain:Q,settings:X}),A.share).call(G);(G=(G=x.map.call(rt,function(t){var e=(0,R.getResolvablePromise)();return t.waitUntil(e),e}),P.switchMap).call(G,function(t){var e;return(e=m.timer.call(p.Observable,W),N.zipProto).call(e,ct,at,function(){return t})}),o).call(G,function(t){return t.resolve()}),o.call(ct),o.call(at);var lt=new I.default(600);if((G=(G=(G=(G=P.switchMap.call(it,function(t){var e,r=l(t.replaceEls,1)[0];return(e=(e=lt.fetchImage(r),N.zipProto).call(e,ut,function(t){return t}),C.takeUntil).call(e,rt)}),k.startWith).call(G,[document.querySelector(".sidebar-bg")]),E.pairwise).call(G),j.mergeMap).call(G,function(t){var e=l(t,2),r=e[0],n=e[1];return lt.fade(r,n)}),o).call(G),(G=(G=g._do.call(ut,F.default),_.debounceTime).call(G,1e3),o).call(G,function(){window.ga&&window.ga("send","pageview",window.location.pathname)}),o.call(st,function(t){var e,r=t.url;tt.style.display="none",(e=Q.querySelector(".page"),R.empty).call(e);var n=document.getElementById("_main");R.empty.call(n),n.style.pointerEvents="",n.style.opacity="",s(n,r)}),R.isSafari&&!navigator.standalone){var ht;(ht=(ht=d.fromEvent.call(p.Observable,window,"popstate"),S.filter).call(ht,function(){return window.history.state&&window.history.state["hy-push-state"]&&!window.history.state["hy-push-state"].hash}),o).call(ht,function(){var t=window.history.state["hy-push-state"].scrollHeight;document.body.style.minHeight=t+"px"}),(ht=(ht=y.merge.call(p.Observable,it,ot,st),T.observeOn).call(ht,b.animationFrame),o).call(ht,function(){document.body.style.minHeight=""})}window._pushState="customElements"in window?function(t){return t.setAttribute("replace-ids",z),t.setAttribute("link-selector",U),t.setAttribute("duration",W),a()&&t.setAttribute("scroll-restoration",""),t.setAttribute("_href-regex",q),t.setAttribute("_script-selector",V),customElements.define("hy-push-state",f.HTMLPushStateElement),t}(J):function(t){return new h.PushState(t,{replaceIds:z.split(","),linkSelector:U,duration:W,scrollRestoration:a(),_hrefRegex:q,_scriptSelector:V})}(J)}},{"./common":3,"./cross-fader":4,"./flip":6,"./katex":10,"core-js/fn/array/for-each":20,"core-js/fn/function/bind":24,"core-js/fn/object/assign":26,"core-js/fn/string/includes":31,"hy-push-state/src/vanilla":136,"hy-push-state/src/webcomponent":137,"rxjs/Observable":144,"rxjs/observable/fromEvent":172,"rxjs/observable/merge":173,"rxjs/observable/of":175,"rxjs/observable/timer":177,"rxjs/operator/catch":178,"rxjs/operator/debounceTime":180,"rxjs/operator/do":182,"rxjs/operator/exhaustMap":183,"rxjs/operator/filter":184,"rxjs/operator/map":186,"rxjs/operator/mapTo":187,"rxjs/operator/mergeMap":189,"rxjs/operator/observeOn":190,"rxjs/operator/pairwise":191,"rxjs/operator/share":195,"rxjs/operator/startWith":197,"rxjs/operator/switchMap":198,"rxjs/operator/takeUntil":200,"rxjs/operator/zip":204,"rxjs/scheduler/animationFrame":313}],12:[function(t,e,r){"use strict";var n=[],i=function(t,e){var r=document.head||document.getElementsByTagName("head")[0],i=n[n.length-1];if(e=e||{},e.insertAt=e.insertAt||"bottom","top"===e.insertAt)i?i.nextSibling?r.insertBefore(t,i.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),n.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}};e.exports={createLink:function(t,e){var r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("link");n.href=t,n.rel="stylesheet";for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];n.setAttribute("data-"+i,o)}r.appendChild(n)},createStyle:function(t,e,r){r=r||{};var n=document.createElement("style");n.type="text/css";for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];n.setAttribute("data-"+o,s)}n.sheet?(n.innerHTML=t,n.sheet.cssText=t,i(n,{insertAt:r.insertAt})):n.styleSheet?(i(n,{insertAt:r.insertAt}),n.styleSheet.cssText=t):(n.appendChild(document.createTextNode(t)),i(n,{insertAt:r.insertAt}))}}},{}],13:[function(t,e,r){function n(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}var i=t("color-name"),o={};for(var s in i)i.hasOwnProperty(s)&&(o[i[s]]=s);var c=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var u in c)if(c.hasOwnProperty(u)){if(!("channels"in c[u]))throw new Error("missing channels property: "+u);if(!("labels"in c[u]))throw new Error("missing channel labels property: "+u);if(c[u].labels.length!==c[u].channels)throw new Error("channel and label counts mismatch: "+u);var a=c[u].channels,l=c[u].labels;delete c[u].channels,delete c[u].labels,Object.defineProperty(c[u],"channels",{value:a}),Object.defineProperty(c[u],"labels",{value:l})}c.rgb.hsl=function(t){var e,r,n,i=t[0]/255,o=t[1]/255,s=t[2]/255,c=Math.min(i,o,s),u=Math.max(i,o,s),a=u-c;return u===c?e=0:i===u?e=(o-s)/a:o===u?e=2+(s-i)/a:s===u&&(e=4+(i-o)/a),(e=Math.min(60*e,360))<0&&(e+=360),n=(c+u)/2,r=u===c?0:n<=.5?a/(u+c):a/(2-u-c),[e,100*r,100*n]},c.rgb.hsv=function(t){var e,r,n,i=t[0],o=t[1],s=t[2],c=Math.min(i,o,s),u=Math.max(i,o,s),a=u-c;return r=0===u?0:a/u*1e3/10,u===c?e=0:i===u?e=(o-s)/a:o===u?e=2+(s-i)/a:s===u&&(e=4+(i-o)/a),(e=Math.min(60*e,360))<0&&(e+=360),n=u/255*1e3/10,[e,r,n]},c.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=c.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,100*o,100*n]},c.rgb.cmyk=function(t){var e,r,n,i,o=t[0]/255,s=t[1]/255,c=t[2]/255;return i=Math.min(1-o,1-s,1-c),e=(1-o-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,n=(1-c-i)/(1-i)||0,[100*e,100*r,100*n,100*i]},c.rgb.keyword=function(t){var e=o[t];if(e)return e;var r,s=1/0;for(var c in i)if(i.hasOwnProperty(c)){var u=n(t,i[c]);u<s&&(s=u,r=c)}return r},c.keyword.rgb=function(t){return i[t]},c.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},c.rgb.lab=function(t){var e,r,n,i=c.rgb.xyz(t),o=i[0],s=i[1],u=i[2];return o/=95.047,s/=100,u/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,e=116*s-16,r=500*(o-s),n=200*(s-u),[e,r,n]},c.hsl.rgb=function(t){var e,r,n,i,o,s=t[0]/360,c=t[1]/100,u=t[2]/100;if(0===c)return o=255*u,[o,o,o];e=2*u-(r=u<.5?u*(1+c):u+c-u*c),i=[0,0,0];for(var a=0;a<3;a++)(n=s+1/3*-(a-1))<0&&n++,n>1&&n--,o=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[a]=255*o;return i},c.hsl.hsv=function(t){var e,r,n=t[0],i=t[1]/100,o=t[2]/100,s=i,c=Math.max(o,.01);return o*=2,i*=o<=1?o:2-o,s*=c<=1?c:2-c,r=(o+i)/2,e=0===o?2*s/(c+s):2*i/(o+i),[n,100*e,100*r]},c.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),c=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[c,n,s];case 2:return[s,n,u];case 3:return[s,c,n];case 4:return[u,s,n];case 5:return[n,s,c]}},c.hsv.hsl=function(t){var e,r,n,i=t[0],o=t[1]/100,s=t[2]/100,c=Math.max(s,.01);return n=(2-o)*s,e=(2-o)*c,r=o*c,r/=e<=1?e:2-e,r=r||0,n/=2,[i,100*r,100*n]},c.hwb.rgb=function(t){var e,r,n,i,o=t[0]/360,s=t[1]/100,c=t[2]/100,u=s+c;u>1&&(s/=u,c/=u),r=1-c,n=6*o-(e=Math.floor(6*o)),0!=(1&e)&&(n=1-n),i=s+n*(r-s);var a,l,h;switch(e){default:case 6:case 0:a=r,l=i,h=s;break;case 1:a=i,l=r,h=s;break;case 2:a=s,l=r,h=i;break;case 3:a=s,l=i,h=r;break;case 4:a=i,l=s,h=r;break;case 5:a=r,l=s,h=i}return[255*a,255*l,255*h]},c.cmyk.rgb=function(t){var e,r,n,i=t[0]/100,o=t[1]/100,s=t[2]/100,c=t[3]/100;return e=1-Math.min(1,i*(1-c)+c),r=1-Math.min(1,o*(1-c)+c),n=1-Math.min(1,s*(1-c)+c),[255*e,255*r,255*n]},c.xyz.rgb=function(t){var e,r,n,i=t[0]/100,o=t[1]/100,s=t[2]/100;return e=3.2406*i+-1.5372*o+-.4986*s,r=-.9689*i+1.8758*o+.0415*s,n=.0557*i+-.204*o+1.057*s,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,e=Math.min(Math.max(0,e),1),r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),[255*e,255*r,255*n]},c.xyz.lab=function(t){var e,r,n,i=t[0],o=t[1],s=t[2];return i/=95.047,o/=100,s/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*o-16,r=500*(i-o),n=200*(o-s),[e,r,n]},c.lab.xyz=function(t){var e,r,n,i=t[0];e=t[1]/500+(r=(i+16)/116),n=r-t[2]/200;var o=Math.pow(r,3),s=Math.pow(e,3),c=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,n=c>.008856?c:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},c.lab.lch=function(t){var e,r,n,i=t[0],o=t[1],s=t[2];return e=Math.atan2(s,o),(r=360*e/2/Math.PI)<0&&(r+=360),n=Math.sqrt(o*o+s*s),[i,n,r]},c.lch.lab=function(t){var e,r,n,i=t[0],o=t[1];return n=t[2]/360*2*Math.PI,e=o*Math.cos(n),r=o*Math.sin(n),[i,e,r]},c.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:c.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},c.hsv.ansi16=function(t){return c.rgb.ansi16(c.hsv.rgb(t),t[2])},c.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},c.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},c.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}t-=16;var r;return[Math.floor(t/36)/5*255,Math.floor((r=t%36)/6)/5*255,r%6/5*255]},c.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},c.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];3===e[0].length&&(r=r.split("").map(function(t){return t+t}).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},c.rgb.hcg=function(t){var e,r,n=t[0]/255,i=t[1]/255,o=t[2]/255,s=Math.max(Math.max(n,i),o),c=Math.min(Math.min(n,i),o),u=s-c;return e=u<1?c/(1-u):0,r=u<=0?0:s===n?(i-o)/u%6:s===i?2+(o-n)/u:4+(n-i)/u+4,r/=6,r%=1,[360*r,100*u,100*e]},c.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return(n=r<.5?2*e*r:2*e*(1-r))<1&&(i=(r-.5*n)/(1-n)),[t[0],100*n,100*i]},c.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},c.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];var i=[0,0,0],o=e%1*6,s=o%1,c=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return u=(1-r)*n,[255*(r*i[0]+u),255*(r*i[1]+u),255*(r*i[2]+u)]},c.hcg.hsv=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e),n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},c.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100*(1-e)+.5*e,n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},c.hcg.hwb=function(t){var e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},c.hwb.hcg=function(t){var e=t[1]/100,r=1-t[2]/100,n=r-e,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},c.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},c.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},c.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},c.gray.hsl=c.gray.hsv=function(t){return[0,0,t[0]]},c.gray.hwb=function(t){return[0,100,t[0]]},c.gray.cmyk=function(t){return[0,0,0,t[0]]},c.gray.lab=function(t){return[t[0],0,0]},c.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},c.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},{"color-name":16}],14:[function(t,e,r){function n(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function i(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var r=t(e);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}var o=t("./conversions"),s=t("./route"),c={};Object.keys(o).forEach(function(t){c[t]={},Object.defineProperty(c[t],"channels",{value:o[t].channels}),Object.defineProperty(c[t],"labels",{value:o[t].labels});var e=s(t);Object.keys(e).forEach(function(r){var o=e[r];c[t][r]=i(o),c[t][r].raw=n(o)})}),e.exports=c},{"./conversions":13,"./route":15}],15:[function(t,e,r){function n(){for(var t={},e=u.length,r=0;r<e;r++)t[u[r]]={distance:-1,parent:null};return t}function i(t){var e=n(),r=[t];for(e[t].distance=0;r.length;)for(var i=r.pop(),o=Object.keys(c[i]),s=o.length,u=0;u<s;u++){var a=o[u],l=e[a];-1===l.distance&&(l.distance=e[i].distance+1,l.parent=i,r.unshift(a))}return e}function o(t,e){return function(r){return e(t(r))}}function s(t,e){for(var r=[e[t].parent,t],n=c[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=o(c[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}var c=t("./conversions"),u=Object.keys(c);e.exports=function(t){for(var e=i(t),r={},n=Object.keys(e),o=n.length,c=0;c<o;c++){var u=n[c];null!==e[u].parent&&(r[u]=s(u,e))}return r}},{"./conversions":13}],16:[function(t,e,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],17:[function(t,e,r){function n(t,e,r){return Math.min(Math.max(e,t),r)}function i(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var o=t("color-name"),s=t("simple-swizzle"),c={};for(var u in o)o.hasOwnProperty(u)&&(c[o[u]]=u);var a=e.exports={to:{}};a.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),r="hsl";break;case"hwb":e=a.get.hwb(t),r="hwb";break;default:e=a.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},a.get.rgb=function(t){if(!t)return null;var e,r,i,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],r=0;r<3;r++){var c=2*r;s[r]=parseInt(e.slice(c,c+2),16)}i&&(s[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],r=0;r<3;r++)s[r]=parseInt(e[r]+e[r],16);i&&(s[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<3;r++)s[r]=parseInt(e[r+1],0);e[4]&&(s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(s=o[e[1]])?(s[3]=1,s):null:null;for(r=0;r<3;r++)s[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(s[3]=parseFloat(e[4]))}for(r=0;r<3;r++)s[r]=n(s[r],0,255);return s[3]=n(s[3],0,1),s},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,n(parseFloat(e[2]),0,100),n(parseFloat(e[3]),0,100),n(isNaN(r)?1:r,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,n(parseFloat(e[2]),0,100),n(parseFloat(e[3]),0,100),n(isNaN(r)?1:r,0,1)]}return null},a.to.hex=function(){var t=s(arguments);return"#"+i(t[0])+i(t[1])+i(t[2])+(t[3]<1?i(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=s(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=s(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},a.to.hsl=function(){var t=s(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=s(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return c[t.slice(0,3)]}},{"color-name":16,"simple-swizzle":346}],18:[function(t,e,r){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(e&&e in p&&(e=null),e&&!(e in h))throw new Error("Unknown model: "+e);var r,i;if(t)if(t instanceof n)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var o=l.get(t);if(null===o)throw new Error("Unable to parse color from string: "+t);this.model=o.model,i=h[this.model].channels,this.color=o.value.slice(0,i),this.valpha="number"==typeof o.value[i]?o.value[i]:1}else if(t.length){this.model=e||"rgb",i=h[this.model].channels;var s=f.call(t,0,i);this.color=a(s,i),this.valpha="number"==typeof t[i]?t[i]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var c=Object.keys(t);"alpha"in t&&(c.splice(c.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var u=c.sort().join("");if(!(u in b))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=b[u];var y=h[this.model].labels,v=[];for(r=0;r<y.length;r++)v.push(t[y[r]]);this.color=a(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(d[this.model])for(i=h[this.model].channels,r=0;r<i;r++){var m=d[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function i(t,e){return Number(t.toFixed(e))}function o(t){return function(e){return i(e,t)}}function s(t,e,r){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(d[t]||(d[t]=[]))[e]=r}),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function c(t){return function(e){return Math.max(0,Math.min(t,e))}}function u(t){return Array.isArray(t)?t:[t]}function a(t,e){for(var r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}var l=t("color-string"),h=t("color-convert"),f=[].slice,p=["keyword","gray","hex"],b={};Object.keys(h).forEach(function(t){b[f.call(h[t].labels).sort().join("")]=t});var d={};n.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in l.to?this:this.rgb(),r=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return l.to[e.model](r)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:e.color.concat(this.valpha);return l.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=h[this.model].channels,r=h[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new n(this.color.map(o(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new n(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:s("rgb",0,c(255)),green:s("rgb",1,c(255)),blue:s("rgb",2,c(255)),hue:s(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:s("hsl",1,c(100)),lightness:s("hsl",2,c(100)),saturationv:s("hsv",1,c(100)),value:s("hsv",2,c(100)),chroma:s("hcg",1,c(100)),gray:s("hcg",2,c(100)),white:s("hwb",1,c(100)),wblack:s("hwb",2,c(100)),cyan:s("cmyk",0,c(100)),magenta:s("cmyk",1,c(100)),yellow:s("cmyk",2,c(100)),black:s("cmyk",3,c(100)),x:s("xyz",0,c(100)),y:s("xyz",1,c(100)),z:s("xyz",2,c(100)),l:s("lab",0,c(100)),a:s("lab",1),b:s("lab",2),keyword:function(t){return arguments.length?new n(t):h[this.model].keyword(this.color)},hex:function(t){return arguments.length?new n(t):l.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return n.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){var r=t.rgb(),i=this.rgb(),o=void 0===e?.5:e,s=2*o-1,c=r.alpha()-i.alpha(),u=((s*c==-1?s:(s+c)/(1+s*c))+1)/2,a=1-u;return n.rgb(u*r.red()+a*i.red(),u*r.green()+a*i.green(),u*r.blue()+a*i.blue(),r.alpha()*o+i.alpha()*(1-o))}},Object.keys(h).forEach(function(t){if(-1===p.indexOf(t)){var e=h[t].channels;n.prototype[t]=function(){if(this.model===t)return new n(this);if(arguments.length)return new n(arguments,t);var r="number"==typeof arguments[e]?e:this.valpha;return new n(u(h[this.model][t].raw(this.color)).concat(r),t)},n[t]=function(r){return"number"==typeof r&&(r=a(f.call(arguments),e)),new n(r,t)}}}),e.exports=n},{"color-convert":14,"color-string":17}],19:[function(t,e,r){t("../../modules/es6.array.find"),e.exports=t("../../modules/_core").Array.find},{"../../modules/_core":43,"../../modules/es6.array.find":103}],20:[function(t,e,r){t("../../modules/es6.array.for-each"),e.exports=t("../../modules/_core").Array.forEach},{"../../modules/_core":43,"../../modules/es6.array.for-each":104}],21:[function(t,e,r){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/_core").Array.from},{"../../modules/_core":43,"../../modules/es6.array.from":105,"../../modules/es6.string.iterator":115}],22:[function(t,e,r){t("../../modules/es7.array.includes"),e.exports=t("../../modules/_core").Array.includes},{"../../modules/_core":43,"../../modules/es7.array.includes":117}],23:[function(t,e,r){t("../../modules/es6.array.map"),e.exports=t("../../modules/_core").Array.map},{"../../modules/_core":43,"../../modules/es6.array.map":106}],24:[function(t,e,r){t("../../modules/es6.function.bind"),e.exports=t("../../modules/_core").Function.bind},{"../../modules/_core":43,"../../modules/es6.function.bind":107}],25:[function(t,e,r){t("../../modules/es6.number.constructor"),e.exports=Number},{"../../modules/es6.number.constructor":108}],26:[function(t,e,r){t("../../modules/es6.object.assign"),e.exports=t("../../modules/_core").Object.assign},{"../../modules/_core":43,"../../modules/es6.object.assign":109}],27:[function(t,e,r){t("../../modules/es6.object.define-property");var n=t("../../modules/_core").Object;e.exports=function(t,e,r){return n.defineProperty(t,e,r)}},{"../../modules/_core":43,"../../modules/es6.object.define-property":110}],28:[function(t,e,r){t("../../modules/es6.object.keys"),e.exports=t("../../modules/_core").Object.keys},{"../../modules/_core":43,"../../modules/es6.object.keys":111}],29:[function(t,e,r){t("../../modules/es6.object.set-prototype-of"),e.exports=t("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":43,"../../modules/es6.object.set-prototype-of":112}],30:[function(t,e,r){t("../../modules/es6.reflect.construct"),e.exports=t("../../modules/_core").Reflect.construct},{"../../modules/_core":43,"../../modules/es6.reflect.construct":113}],31:[function(t,e,r){t("../../modules/es6.string.includes"),e.exports=t("../../modules/_core").String.includes},{"../../modules/_core":43,"../../modules/es6.string.includes":114}],32:[function(t,e,r){t("../../modules/es6.string.trim"),e.exports=t("../../modules/_core").String.trim},{"../../modules/_core":43,"../../modules/es6.string.trim":116}],33:[function(t,e,r){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],34:[function(t,e,r){var n=t("./_wks")("unscopables"),i=Array.prototype;void 0==i[n]&&t("./_hide")(i,n,{}),e.exports=function(t){i[n][t]=!0}},{"./_hide":55,"./_wks":101}],35:[function(t,e,r){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":63}],36:[function(t,e,r){var n=t("./_to-iobject"),i=t("./_to-length"),o=t("./_to-absolute-index");e.exports=function(t){return function(e,r,s){var c,u=n(e),a=i(u.length),l=o(s,a);if(t&&r!=r){for(;a>l;)if((c=u[l++])!=c)return!0}else for(;a>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}}},{"./_to-absolute-index":94,"./_to-iobject":96,"./_to-length":97}],37:[function(t,e,r){var n=t("./_ctx"),i=t("./_iobject"),o=t("./_to-object"),s=t("./_to-length"),c=t("./_array-species-create");e.exports=function(t,e){var r=1==t,u=2==t,a=3==t,l=4==t,h=6==t,f=5==t||h,p=e||c;return function(e,c,b){for(var d,y,v=o(e),m=i(v),w=n(c,b,3),g=s(m.length),_=0,S=r?p(e,g):u?p(e,0):void 0;g>_;_++)if((f||_ in m)&&(d=m[_],y=w(d,_,v),t))if(r)S[_]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return _;case 2:S.push(d)}else if(l)return!1;return h?-1:a||l?l:S}}},{"./_array-species-create":39,"./_ctx":45,"./_iobject":60,"./_to-length":97,"./_to-object":98}],38:[function(t,e,r){var n=t("./_is-object"),i=t("./_is-array"),o=t("./_wks")("species");e.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{"./_is-array":62,"./_is-object":63,"./_wks":101}],39:[function(t,e,r){var n=t("./_array-species-constructor");e.exports=function(t,e){return new(n(t))(e)}},{"./_array-species-constructor":38}],40:[function(t,e,r){"use strict";var n=t("./_a-function"),i=t("./_is-object"),o=t("./_invoke"),s=[].slice,c={},u=function(t,e,r){if(!(e in c)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";c[e]=Function("F,a","return new F("+n.join(",")+")")}return c[e](t,r)};e.exports=Function.bind||function(t){var e=n(this),r=s.call(arguments,1),c=function(){var n=r.concat(s.call(arguments));return this instanceof c?u(e,n.length,n):o(e,n,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},{"./_a-function":33,"./_invoke":59,"./_is-object":63}],41:[function(t,e,r){var n=t("./_cof"),i=t("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};e.exports=function(t){var e,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=s(e=Object(t),i))?r:o?n(e):"Object"==(c=n(e))&&"function"==typeof e.callee?"Arguments":c}},{"./_cof":42,"./_wks":101}],42:[function(t,e,r){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],43:[function(t,e,r){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],44:[function(t,e,r){"use strict";var n=t("./_object-dp"),i=t("./_property-desc");e.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},{"./_object-dp":73,"./_property-desc":83}],45:[function(t,e,r){var n=t("./_a-function");e.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":33}],46:[function(t,e,r){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],47:[function(t,e,r){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":52}],48:[function(t,e,r){var n=t("./_is-object"),i=t("./_global").document,o=n(i)&&n(i.createElement);e.exports=function(t){return o?i.createElement(t):{}}},{"./_global":53,"./_is-object":63}],49:[function(t,e,r){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],50:[function(t,e,r){var n=t("./_global"),i=t("./_core"),o=t("./_hide"),s=t("./_redefine"),c=t("./_ctx"),u=function(t,e,r){var a,l,h,f,p=t&u.F,b=t&u.G,d=t&u.S,y=t&u.P,v=t&u.B,m=b?n:d?n[e]||(n[e]={}):(n[e]||{}).prototype,w=b?i:i[e]||(i[e]={}),g=w.prototype||(w.prototype={});b&&(r=e);for(a in r)h=((l=!p&&m&&void 0!==m[a])?m:r)[a],f=v&&l?c(h,n):y&&"function"==typeof h?c(Function.call,h):h,m&&s(m,a,h,t&u.U),w[a]!=h&&o(w,a,f),y&&g[a]!=h&&(g[a]=h)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},{"./_core":43,"./_ctx":45,"./_global":53,"./_hide":55,"./_redefine":84}],51:[function(t,e,r){var n=t("./_wks")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},{"./_wks":101}],52:[function(t,e,r){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],53:[function(t,e,r){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],54:[function(t,e,r){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],55:[function(t,e,r){var n=t("./_object-dp"),i=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},{"./_descriptors":47,"./_object-dp":73,"./_property-desc":83}],56:[function(t,e,r){var n=t("./_global").document;e.exports=n&&n.documentElement},{"./_global":53}],57:[function(t,e,r){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":47,"./_dom-create":48,"./_fails":52}],58:[function(t,e,r){var n=t("./_is-object"),i=t("./_set-proto").set;e.exports=function(t,e,r){var o,s=e.constructor;return s!==r&&"function"==typeof s&&(o=s.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},{"./_is-object":63,"./_set-proto":85}],59:[function(t,e,r){e.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},{}],60:[function(t,e,r){var n=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./_cof":42}],61:[function(t,e,r){var n=t("./_iterators"),i=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},{"./_iterators":69,"./_wks":101}],62:[function(t,e,r){var n=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==n(t)}},{"./_cof":42}],63:[function(t,e,r){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],64:[function(t,e,r){var n=t("./_is-object"),i=t("./_cof"),o=t("./_wks")("match");e.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},{"./_cof":42,"./_is-object":63,"./_wks":101}],65:[function(t,e,r){var n=t("./_an-object");e.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},{"./_an-object":35}],66:[function(t,e,r){"use strict";var n=t("./_object-create"),i=t("./_property-desc"),o=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},{"./_hide":55,"./_object-create":72,"./_property-desc":83,"./_set-to-string-tag":86,"./_wks":101}],67:[function(t,e,r){"use strict";var n=t("./_library"),i=t("./_export"),o=t("./_redefine"),s=t("./_hide"),c=t("./_has"),u=t("./_iterators"),a=t("./_iter-create"),l=t("./_set-to-string-tag"),h=t("./_object-gpo"),f=t("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),b=function(){return this};e.exports=function(t,e,r,d,y,v,m){a(r,e,d);var w,g,_,S=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=e+" Iterator",O="values"==y,j=!1,T=t.prototype,E=T[f]||T["@@iterator"]||y&&T[y],A=E||S(y),k=y?O?S("entries"):A:void 0,M="Array"==e?T.entries||E:E;if(M&&(_=h(M.call(new t)))!==Object.prototype&&_.next&&(l(_,x,!0),n||c(_,f)||s(_,f,b)),O&&E&&"values"!==E.name&&(j=!0,A=function(){return E.call(this)}),n&&!m||!p&&!j&&T[f]||s(T,f,A),u[e]=A,u[x]=b,y)if(w={values:O?A:S("values"),keys:v?A:S("keys"),entries:k},m)for(g in w)g in T||o(T,g,w[g]);else i(i.P+i.F*(p||j),e,w);return w}},{"./_export":50,"./_has":54,"./_hide":55,"./_iter-create":66,"./_iterators":69,"./_library":70,"./_object-gpo":78,"./_redefine":84,"./_set-to-string-tag":86,"./_wks":101}],68:[function(t,e,r){var n=t("./_wks")("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},t(o)}catch(t){}return r}},{"./_wks":101}],69:[function(t,e,r){e.exports={}},{}],70:[function(t,e,r){e.exports=!1},{}],71:[function(t,e,r){"use strict";var n=t("./_object-keys"),i=t("./_object-gops"),o=t("./_object-pie"),s=t("./_to-object"),c=t("./_iobject"),u=Object.assign;e.exports=!u||t("./_fails")(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=s(t),u=arguments.length,a=1,l=i.f,h=o.f;u>a;)for(var f,p=c(arguments[a++]),b=l?n(p).concat(l(p)):n(p),d=b.length,y=0;d>y;)h.call(p,f=b[y++])&&(r[f]=p[f]);return r}:u},{"./_fails":52,"./_iobject":60,"./_object-gops":77,"./_object-keys":80,"./_object-pie":81,"./_to-object":98}],72:[function(t,e,r){var n=t("./_an-object"),i=t("./_object-dps"),o=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),c=function(){},u=function(){var e,r=t("./_dom-create")("iframe"),n=o.length;for(r.style.display="none",t("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(t,e){var r;return null!==t?(c.prototype=n(t),r=new c,c.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},{"./_an-object":35,"./_dom-create":48,"./_enum-bug-keys":49,"./_html":56,"./_object-dps":74,"./_shared-key":87}],73:[function(t,e,r){var n=t("./_an-object"),i=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;r.f=t("./_descriptors")?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},{"./_an-object":35,"./_descriptors":47,"./_ie8-dom-define":57,"./_to-primitive":99}],74:[function(t,e,r){var n=t("./_object-dp"),i=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),c=s.length,u=0;c>u;)n.f(t,r=s[u++],e[r]);return t}},{"./_an-object":35,"./_descriptors":47,"./_object-dp":73,"./_object-keys":80}],75:[function(t,e,r){var n=t("./_object-pie"),i=t("./_property-desc"),o=t("./_to-iobject"),s=t("./_to-primitive"),c=t("./_has"),u=t("./_ie8-dom-define"),a=Object.getOwnPropertyDescriptor;r.f=t("./_descriptors")?a:function(t,e){if(t=o(t),e=s(e,!0),u)try{return a(t,e)}catch(t){}if(c(t,e))return i(!n.f.call(t,e),t[e])}},{"./_descriptors":47,"./_has":54,"./_ie8-dom-define":57,"./_object-pie":81,"./_property-desc":83,"./_to-iobject":96,"./_to-primitive":99}],76:[function(t,e,r){var n=t("./_object-keys-internal"),i=t("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},{"./_enum-bug-keys":49,"./_object-keys-internal":79}],77:[function(t,e,r){r.f=Object.getOwnPropertySymbols},{}],78:[function(t,e,r){var n=t("./_has"),i=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":54,"./_shared-key":87,"./_to-object":98}],79:[function(t,e,r){var n=t("./_has"),i=t("./_to-iobject"),o=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var r,c=i(t),u=0,a=[];for(r in c)r!=s&&n(c,r)&&a.push(r);for(;e.length>u;)n(c,r=e[u++])&&(~o(a,r)||a.push(r));return a}},{"./_array-includes":36,"./_has":54,"./_shared-key":87,"./_to-iobject":96}],80:[function(t,e,r){var n=t("./_object-keys-internal"),i=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return n(t,i)}},{"./_enum-bug-keys":49,"./_object-keys-internal":79}],81:[function(t,e,r){r.f={}.propertyIsEnumerable},{}],82:[function(t,e,r){var n=t("./_export"),i=t("./_core"),o=t("./_fails");e.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},{"./_core":43,"./_export":50,"./_fails":52}],83:[function(t,e,r){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],84:[function(t,e,r){var n=t("./_global"),i=t("./_hide"),o=t("./_has"),s=t("./_uid")("src"),c=Function.toString,u=(""+c).split("toString");t("./_core").inspectSource=function(t){return c.call(t)},(e.exports=function(t,e,r,c){var a="function"==typeof r;a&&(o(r,"name")||i(r,"name",e)),t[e]!==r&&(a&&(o(r,s)||i(r,s,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=r:c?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||c.call(this)})},{"./_core":43,"./_global":53,"./_has":54,"./_hide":55,"./_uid":100}],85:[function(t,e,r){var n=t("./_is-object"),i=t("./_an-object"),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function(t,e){return o(t,e),r?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:o}},{"./_an-object":35,"./_ctx":45,"./_is-object":63,"./_object-gopd":75}],86:[function(t,e,r){var n=t("./_object-dp").f,i=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},{"./_has":54,"./_object-dp":73,"./_wks":101}],87:[function(t,e,r){var n=t("./_shared")("keys"),i=t("./_uid");e.exports=function(t){return n[t]||(n[t]=i(t))}},{"./_shared":88,"./_uid":100}],88:[function(t,e,r){var n=t("./_global"),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(t){return i[t]||(i[t]={})}},{"./_global":53}],89:[function(t,e,r){"use strict";var n=t("./_fails");e.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":52}],90:[function(t,e,r){var n=t("./_to-integer"),i=t("./_defined");e.exports=function(t){return function(e,r){var o,s,c=String(i(e)),u=n(r),a=c.length;return u<0||u>=a?t?"":void 0:(o=c.charCodeAt(u))<55296||o>56319||u+1===a||(s=c.charCodeAt(u+1))<56320||s>57343?t?c.charAt(u):o:t?c.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},{"./_defined":46,"./_to-integer":95}],91:[function(t,e,r){var n=t("./_is-regexp"),i=t("./_defined");e.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},{"./_defined":46,"./_is-regexp":64}],92:[function(t,e,r){var n=t("./_export"),i=t("./_defined"),o=t("./_fails"),s=t("./_string-ws"),c="["+s+"]",u=RegExp("^"+c+c+"*"),a=RegExp(c+c+"*$"),l=function(t,e,r){var i={},c=o(function(){return!!s[t]()||"​"!="​"[t]()}),u=i[t]=c?e(h):s[t];r&&(i[r]=u),n(n.P+n.F*c,"String",i)},h=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(a,"")),t};e.exports=l},{"./_defined":46,"./_export":50,"./_fails":52,"./_string-ws":93}],93:[function(t,e,r){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],94:[function(t,e,r){var n=t("./_to-integer"),i=Math.max,o=Math.min;e.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},{"./_to-integer":95}],95:[function(t,e,r){var n=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},{}],96:[function(t,e,r){var n=t("./_iobject"),i=t("./_defined");e.exports=function(t){return n(i(t))}},{"./_defined":46,"./_iobject":60}],97:[function(t,e,r){var n=t("./_to-integer"),i=Math.min;e.exports=function(t){return t>0?i(n(t),9007199254740991):0}},{"./_to-integer":95}],98:[function(t,e,r){var n=t("./_defined");e.exports=function(t){return Object(n(t))}},{"./_defined":46}],99:[function(t,e,r){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":63}],100:[function(t,e,r){var n=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},{}],101:[function(t,e,r){var n=t("./_shared")("wks"),i=t("./_uid"),o=t("./_global").Symbol,s="function"==typeof o;(e.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},{"./_global":53,"./_shared":88,"./_uid":100}],102:[function(t,e,r){var n=t("./_classof"),i=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},{"./_classof":41,"./_core":43,"./_iterators":69,"./_wks":101}],103:[function(t,e,r){"use strict";var n=t("./_export"),i=t("./_array-methods")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("find")},{"./_add-to-unscopables":34,"./_array-methods":37,"./_export":50}],104:[function(t,e,r){"use strict";var n=t("./_export"),i=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":37,"./_export":50,"./_strict-method":89}],105:[function(t,e,r){"use strict";var n=t("./_ctx"),i=t("./_export"),o=t("./_to-object"),s=t("./_iter-call"),c=t("./_is-array-iter"),u=t("./_to-length"),a=t("./_create-property"),l=t("./core.get-iterator-method");i(i.S+i.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,h,f=o(t),p="function"==typeof this?this:Array,b=arguments.length,d=b>1?arguments[1]:void 0,y=void 0!==d,v=0,m=l(f);if(y&&(d=n(d,b>2?arguments[2]:void 0,2)),void 0==m||p==Array&&c(m))for(r=new p(e=u(f.length));e>v;v++)a(r,v,y?d(f[v],v):f[v]);else for(h=m.call(f),r=new p;!(i=h.next()).done;v++)a(r,v,y?s(h,d,[i.value,v],!0):i.value);return r.length=v,r}})},{"./_create-property":44,"./_ctx":45,"./_export":50,"./_is-array-iter":61,"./_iter-call":65,"./_iter-detect":68,"./_to-length":97,"./_to-object":98,"./core.get-iterator-method":102}],106:[function(t,e,r){"use strict";var n=t("./_export"),i=t("./_array-methods")(1);n(n.P+n.F*!t("./_strict-method")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},{"./_array-methods":37,"./_export":50,"./_strict-method":89}],107:[function(t,e,r){var n=t("./_export");n(n.P,"Function",{bind:t("./_bind")})},{"./_bind":40,"./_export":50}],108:[function(t,e,r){"use strict";var n=t("./_global"),i=t("./_has"),o=t("./_cof"),s=t("./_inherit-if-required"),c=t("./_to-primitive"),u=t("./_fails"),a=t("./_object-gopn").f,l=t("./_object-gopd").f,h=t("./_object-dp").f,f=t("./_string-trim").trim,p=n.Number,b=p,d=p.prototype,y="Number"==o(t("./_object-create")(d)),v="trim"in String.prototype,m=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,o=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var s,u=e.slice(2),a=0,l=u.length;a<l;a++)if((s=u.charCodeAt(a))<48||s>i)return NaN;return parseInt(u,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof p&&(y?u(function(){d.valueOf.call(r)}):"Number"!=o(r))?s(new b(m(e)),r,p):m(e)};for(var w,g=t("./_descriptors")?a(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;g.length>_;_++)i(b,w=g[_])&&!i(p,w)&&h(p,w,l(b,w));p.prototype=d,d.constructor=p,t("./_redefine")(n,"Number",p)}},{"./_cof":42,"./_descriptors":47,"./_fails":52,"./_global":53,"./_has":54,"./_inherit-if-required":58,"./_object-create":72,"./_object-dp":73,"./_object-gopd":75,"./_object-gopn":76,"./_redefine":84,"./_string-trim":92,"./_to-primitive":99}],109:[function(t,e,r){var n=t("./_export");n(n.S+n.F,"Object",{assign:t("./_object-assign")})},{"./_export":50,"./_object-assign":71}],110:[function(t,e,r){var n=t("./_export");n(n.S+n.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":47,"./_export":50,"./_object-dp":73}],111:[function(t,e,r){var n=t("./_to-object"),i=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return i(n(t))}})},{"./_object-keys":80,"./_object-sap":82,"./_to-object":98}],112:[function(t,e,r){var n=t("./_export");n(n.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":50,"./_set-proto":85}],113:[function(t,e,r){var n=t("./_export"),i=t("./_object-create"),o=t("./_a-function"),s=t("./_an-object"),c=t("./_is-object"),u=t("./_fails"),a=t("./_bind"),l=(t("./_global").Reflect||{}).construct,h=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!u(function(){l(function(){})});n(n.S+n.F*(h||f),"Reflect",{construct:function(t,e){o(t),s(e);var r=arguments.length<3?t:o(arguments[2]);if(f&&!h)return l(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(a.apply(t,n))}var u=r.prototype,p=i(c(u)?u:Object.prototype),b=Function.apply.call(t,p,e);return c(b)?b:p}})},{"./_a-function":33,"./_an-object":35,"./_bind":40,"./_export":50,"./_fails":52,"./_global":53,"./_is-object":63,"./_object-create":72}],114:[function(t,e,r){"use strict";var n=t("./_export"),i=t("./_string-context");n(n.P+n.F*t("./_fails-is-regexp")("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"./_export":50,"./_fails-is-regexp":51,"./_string-context":91}],115:[function(t,e,r){"use strict";var n=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":67,"./_string-at":90}],116:[function(t,e,r){"use strict";t("./_string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./_string-trim":92}],117:[function(t,e,r){"use strict";var n=t("./_export"),i=t("./_array-includes")(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":34,"./_array-includes":36,"./_export":50}],118:[function(t,e,r){"use strict";e.exports=function(t,e){if("string"!=typeof t)throw new TypeError("Expected a string");return e=void 0===e?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}},{}],119:[function(t,e,r){"use strict";e.exports=function(){var t=document.createElement("div");return t.setAttribute("data-a-b","c"),Boolean(t.dataset&&"c"===t.dataset.aB)}()?function(t){return t.dataset}:function(t){for(var e={},r=t.attributes,n=0,i=r.length;n<i;n++){var o=r[n];if(o){var s=o.name;if(0===s.indexOf("data-")){var c=s.slice(5).replace(/-./g,function(t){return t.charAt(1).toUpperCase()}),u=o.value;Object.defineProperty(e,c,{enumerable:!0,get:function(){return this.value}.bind({value:u||""}),set:function(t,e){void 0===e?this.removeAttribute(t):this.setAttribute(t,e)}.bind(t,s)})}}}return e}},{}],120:[function(t,e,r){"use strict";function n(t){for(var e=!1,r=!1,n=!1,i=0;i<t.length;i++){var o=t[i];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.substr(0,i)+"-"+t.substr(i),e=!1,n=r,r=!0,i++):r&&n&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.substr(0,i-1)+"-"+t.substr(i-1),n=r,r=!1,e=!0):(e=o.toLowerCase()===o,n=r,r=o.toUpperCase()===o)}return t}e.exports=function(t){return 0===(t=arguments.length>1?Array.from(arguments).map(function(t){return t.trim()}).filter(function(t){return t.length}).join("-"):t.trim()).length?"":1===t.length?t.toLowerCase():/^[a-z0-9]+$/.test(t)?t:(t!==t.toLowerCase()&&(t=n(t)),t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(t,e){return e.toUpperCase()}))}},{}],121:[function(t,e,r){(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.Set=r.string=r.regex=r.number=r.bool=r.arrayOf=r.array=void 0;var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":n(t)};r.simpleType=function(t,e,r){return t&&t===o.bool?t(r):t?r?t(r):e:"boolean"==typeof e?(0,o.bool)(r):"number"==typeof e?r?(0,o.number)(r):e:"object"===(void 0===e?"undefined":i(e))&&e?r?(0,o.array)(r):e:"string"==typeof e?r?(0,o.string)(r):e:void 0};var o=t("./types");r.array=o.array,r.arrayOf=o.arrayOf,r.bool=o.bool,r.number=o.number,r.regex=o.regex,r.string=o.string;r.Set=e.Set||function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=t.filter(function(e,r){return r===t.indexOf(e)}),t.size=t.length,t.has=function(e){return t.indexOf(e)>-1},t.add=function(e){return t.has(e)||(t.size++,t.push(e)),t},t.delete=function(e){var r=void 0;return(r=t.has(e))&&(t.size--,delete t[t.indexOf(e)]),r},t.keys=t.values=function(){return t[Symbol.iterator]()},t.clear=function(){for(;t.pop(););t.size=0},t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./types":125}],122:[function(t,e,r){(function(e){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":u(e))&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":u(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){var r=this;Object.defineProperty(this,t,{get:function(){return r[b][t]},set:function(n){var i=r[b][t];r[h.sSetState](t,n),e&&e.call(r,n,i)},enumerable:!0,configurable:!0})}function c(){var t=this,e=this.constructor.sideEffects;Object.keys(this[b]).forEach(function(r){var n=e[r];s.call(t,r,n)})}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.COMPONENT_FEATURE_TESTS=void 0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r.componentMixin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return function(e){function r(){return o(this,r),n(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return i(r,t),a(r,[{key:h.sSetup,value:function(t,e){var r=this.constructor.defaults;return this[b]=Object.assign({},r,e),c.call(this),this[p]=this[h.sSetupDOM](t),this}},{key:h.sSetupDOM,value:function(t){return t}},{key:h.sGetRoot,value:function(){return this[p]}},{key:h.sGetEl,value:function(){return this[p]}},{key:h.sFire,value:function(t,e){var r=this.constructor.componentName,n=new CustomEvent(r+"-"+t,e);this.el.dispatchEvent(n)}},{key:h.sSetState,value:function(t,e){this[b][t]=e}},{key:"root",get:function(){return this[h.sGetRoot]()}},{key:"el",get:function(){return this[h.sGetEl]()}}]),r}()},t("core-js/fn/array/for-each"),t("core-js/fn/object/assign"),t("core-js/fn/object/define-property"),t("core-js/fn/object/keys");var l=t("./common"),h=t("./symbols"),f=(r.COMPONENT_FEATURE_TESTS=new l.Set(["customevent"]),e.Symbol||function(t){return"_"+t}),p=f("root"),b=f("state"),d=function t(){o(this,t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./common":121,"./symbols":124,"core-js/fn/array/for-each":20,"core-js/fn/object/assign":26,"core-js/fn/object/define-property":27,"core-js/fn/object/keys":28}],123:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":h(e))&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":h(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,y.default)(t,"-");r&&(g=n),!0===e?this.setAttribute(n,""):!1===e||null===e||void 0===e||"object"===(void 0===e?"undefined":b(e))&&0===e.length?this.removeAttribute(n):e&&"object"===(void 0===e?"undefined":b(e))&&e.length>0&&e.join?this.setAttribute(n,e.join(",")):"string"!=typeof e&&"number"!=typeof e||this.setAttribute(n,e)}function u(){var t=this,e=this.constructor,r=e.defaults,n=e.types,i={};return Object.keys(r).forEach(function(e){var o=(0,y.default)(e,"-"),s=t.getAttribute(o),c=(0,v.simpleType)(n[e],r[e],s);null!=c&&(i[e]=c)}),i}function a(){var t=this,e=this.constructor.defaults;Object.keys(e).forEach(function(e){return c.call(t,e,t[e])})}function l(){var t="function"==typeof window.HTMLElement?window.HTMLElement:function(){};return Reflect.construct(t,[],this.__proto__.constructor)}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.CUSTOM_ELEMENT_FEATURE_TESTS=void 0;var f=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),p=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},b="function"==typeof Symbol&&"symbol"===h(Symbol.iterator)?function(t){return void 0===t?"undefined":h(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":h(t)};r.customElementMixin=function(t){return function(e){function r(){return i(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,t),f(r,[{key:"connectedCallback",value:function(){this[m.sSetup]()}},{key:"attributeChangedCallback",value:function(t,e,r){if(g!==t){if(e!==r){var n=this.constructor,i=n.defaults,o=n.types,s=(0,d.default)(t),c=(0,v.simpleType)(o[s],i[s],r);null!=c&&(this[s]=c)}}else g=void 0}},{key:m.sSetup,value:function(){return p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),m.sSetup,this).call(this,this,u.call(this)),a.call(this),this}},{key:m.sSetState,value:function(t,e){p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),m.sSetState,this).call(this,t,e),c.call(this,t,e,!0)}},{key:m.sSetupDOM,value:function(t){var e=this[m.sGetTemplate]();if(e){if("attachShadow"in Element.prototype)return t.attachShadow({mode:"open"}),t.shadowRoot.appendChild(e),t.shadowRoot;throw Error("ShadowDOM API not supported")}return t}},{key:m.sGetEl,value:function(){return this}},{key:m.sGetTemplate,value:function(){var t=this.constructor.componentName;return document.querySelector('link[href$="'+t+'.html"]').import.querySelector("#"+t+"-template").content.cloneNode(!0)}}],[{key:"getObservedAttributes",value:function(){var t=this.defaults;return Object.keys(t).map(function(t){return(0,y.default)(t,"-")})}}]),r}()},r.CustomElement=l,r.fragmentFromString=function(t){return document.createRange().createContextualFragment(t)},t("core-js/fn/array/for-each"),t("core-js/fn/array/map"),t("core-js/fn/number/constructor"),t("core-js/fn/object/keys"),t("core-js/fn/object/set-prototype-of"),t("core-js/fn/reflect/construct"),t("core-js/fn/string/trim");var d=n(t("camelcase")),y=n(t("decamelize")),v=t("./common"),m=t("./symbols"),w=t("./component"),g=(r.CUSTOM_ELEMENT_FEATURE_TESTS=new v.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(w.COMPONENT_FEATURE_TESTS),["template","customelements"])),void 0);Object.setPrototypeOf&&(Object.setPrototypeOf(l.prototype,HTMLElement.prototype),Object.setPrototypeOf(l,HTMLElement))},{"./common":121,"./component":122,"./symbols":124,camelcase:120,"core-js/fn/array/for-each":20,"core-js/fn/array/map":23,"core-js/fn/number/constructor":25,"core-js/fn/object/keys":28,"core-js/fn/object/set-prototype-of":29,"core-js/fn/reflect/construct":30,"core-js/fn/string/trim":32,decamelize:118}],124:[function(t,e,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=t.Symbol||function(t){return"_"+t};r.sSetup=e("setup"),r.sSetupDOM=e("setupDOM"),r.sGetRoot=e("getRoot"),r.sGetEl=e("getElement"),r.sFire=e("fire"),r.sSetState=e("setState"),r.sGetTemplate=e("getTemplate")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],125:[function(t,e,r){"use strict";function n(t){return t.trim().replace(/^\[?(.*?)\]?$/,"$1").split(",").map(function(t){return t.trim()})}Object.defineProperty(r,"__esModule",{value:!0}),r.array=n,r.arrayOf=function(t){return function(e){return n(e).map(t)}},r.string=function(t){return t},r.bool=function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&null!=t},r.number=function(t){return Number(t)},r.regex=function(t){var e=t.match(/^\/?(.*?)(\/([gimy]*))?$/);return new RegExp(e[1],e[3])},r.oneOf=function(t){return function(e){var r=t.indexOf(e);return r>-1?t[r]:null}}},{}],126:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.sSetupDOM=r.sSetup=r.VanillaComponent=void 0;var i=t("./symbols");r.VanillaComponent=function t(e,r){n(this,t),this[i.sSetup](e,r)};r.sSetup=i.sSetup,r.sSetupDOM=i.sSetupDOM},{"./symbols":124}],127:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Set=void 0,r.createTween=function(t,e,r,i,o){return n.Observable.create(function(n){var s=void 0,c=requestAnimationFrame(function u(a){var l=a-(s=s||a);l<i?(n.next(t(l,e,r,i,o)),c=requestAnimationFrame(u)):(n.next(t(i,e,r,i,o)),c=requestAnimationFrame(function(){return n.complete()}))});return function(){c&&cancelAnimationFrame(c)}})},r.linearTween=function(t,e,r,n){return r*t/n+e};var n=t("rxjs/Observable"),i=t("hy-component/src/common");r.Set=i.Set},{"hy-component/src/common":121,"rxjs/Observable":144}],128:[function(t,e,r){(function(e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":x(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":x(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){return Array.isArray(t)?t:Array.from(t)}function u(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(0===r.length){var i;return(i=(i=Z.withLatestFrom.call(this,t),z.filter).call(i,function(t){return T(t,2)[1]}),U.map).call(i,function(t){return T(t,1)[0]})}var o;return(o=(o=Z.withLatestFrom.call.apply(Z.withLatestFrom,[this,t].concat(r)),z.filter).call(o,function(t){return c(t).slice(1).every(function(t){return t})}),U.map).call(o,function(t){return T(t,1)[0]})}function a(t){var e=this;return Y.switchMap.call(t,function(t){return t?e:F.never.call(M.Observable)})}function l(t,e){switch(this.align){case"left":return t>this.range[0]&&(e||t<this.range[1]);case"right":return t<window.innerWidth-this.range[0]&&(e||t>window.innerWidth-this.range[1]);default:throw Error()}}function h(t,e){switch(this.align){case"left":return t>et||!(t<-et)&&e>=this[lt]/2;case"right":return-t>et||!(-t<-et)&&e<=-this[lt]/2;default:throw Error()}}function f(t,e,r){switch(this.align){case"left":var n=r+(t-e);return vt(0,yt(this[lt],n));case"right":var i=r+(t-e);return yt(0,vt(-this[lt],i));default:throw Error()}}function p(){return-parseFloat(getComputedStyle(this[ft])[this.align])}function b(){this[ft].style.willChange="transform",this[ht].style.willChange="opacity",this[ft].classList.remove("hy-drawer-opened")}function d(){return this.el.id||this.constructor.componentName}function y(t){if(this[ht].style.willChange="",this[ft].style.willChange="",t?(this[ht].style.pointerEvents="all",this[ft].classList.add("hy-drawer-opened")):(this[ht].style.pointerEvents="",this[ft].classList.remove("hy-drawer-opened")),this._backButton){var e=d.call(this),r="#"+e+"--opened";t&&window.location.hash!==r&&window.history.pushState(s({},e,!0),document.title,r),!t&&window.history.state&&window.history.state[d.call(this)]&&""!==window.location.hash&&window.history.back()}this[A.sFire]("transitioned",{detail:t})}function v(t){var e="left"===this.align?1:-1;this[ft].style.transform="translateX("+t+"px)",this[ht].style.opacity=t/this[lt]*e}function m(){var t;return(t=this[ct],Y.switchMap).call(t,function(t){var e,r=(e=(e=R.fromEvent.call(M.Observable,document,"touchstart",{passive:!0}),z.filter).call(e,function(t){return 1===t.touches.length}),U.map).call(e,function(t){return t.touches[0]});if(!t)return r;var n=R.fromEvent.call(M.Observable,document,"mousedown",{passive:!0});return I.merge.call(M.Observable,r,n)})}function w(t,e){var r;return(r=C.combineLatest.call(M.Observable,this[ct],this[st]),Y.switchMap).call(r,function(r){var n,i=T(r,2),o=i[0],s=i[1],c=(n=R.fromEvent.call(M.Observable,document,"touchmove",{passive:!s}),U.map).call(n,function(t){return bt(t.touches[0],{event:t})});if(!o)return c;var u=(n=(n=R.fromEvent.call(M.Observable,document,"mousemove",{passive:!s}),a).call(n,I.merge.call(M.Observable,V.mapTo.call(t,!0),V.mapTo.call(e,!1))),U.map).call(n,function(t){return bt(t,{event:t})});return I.merge.call(M.Observable,c,u)})}function g(){var t;return(t=this[ct],Y.switchMap).call(t,function(t){var e,r=(e=R.fromEvent.call(M.Observable,document,"touchend",{passive:!0}),z.filter).call(e,function(t){return 0===t.touches.length});if(!t)return r;var n=R.fromEvent.call(M.Observable,document,"mouseup",{passive:!0});return I.merge.call(M.Observable,r,n)})}function _(t,e){var r=this;if(this.threshold){var n;return(n=(n=Z.withLatestFrom.call(t,e),X.skipWhile).call(n,function(t){var e=T(t,2),n=e[0],i=n.clientX,o=n.clientY,s=e[1],c=s.clientX,u=s.clientY;return dt(u-o)<r.threshold&&dt(c-i)<r.threshold}),U.map).call(n,function(t){var e=T(t,2),r=e[0],n=r.clientX,i=r.clientY,o=e[1],s=o.clientX,c=o.clientY;return dt(s-n)>=dt(c-i)})}var i;return(i=Z.withLatestFrom.call(t,e),U.map).call(i,function(t){var e=T(t,2),n=e[0],i=n.clientX,o=n.clientY,s=n.event,c=e[1],u=c.clientX,a=c.clientY,l=dt(u-i)>=dt(a-o);return r.preventDefault&&l&&s.preventDefault(),l})}function S(){var t,e=this;this[nt]=new P.Subject,this[it]=new P.Subject,this[ot]=new P.Subject,this[st]=new P.Subject,this[ct]=new P.Subject,this[ut]=new P.Subject,this[at]=new P.Subject;var r=(t=(t=this[ot],U.map).call(t,function(t){return!t}),H.share).call(t),n={},i=(t=(t=m.call(this),u).call(t,r),H.share).call(t),o=N.defer.call(M.Observable,function(){var t;return(t=n.translateX$,U.map).call(t,function(t){return"left"===e.align?t>0:t<e[lt]})}),s=(t=(t=(t=Z.withLatestFrom.call(i,o),U.map).call(t,function(t){var r=T(t,2),n=r[0].clientX,i=r[1];return l.call(e,n,i)}),L._do).call(t,function(t){t&&b.call(e)}),H.share).call(t),c=(t=(t=g.call(this),u).call(t,r,s),H.share).call(t),p=(t=(t=w.call(this,i,c),u).call(t,r,s),H.share).call(t),S=(t=(t=(t=(t=_.call(this,p,i),G.take).call(t,1),$.startWith).call(t,void 0),W.repeatWhen).call(t,function(){return c}),L._do).call(t,function(t){t&&(e[pt]&&(e[pt].style.overflow="hidden"),e[A.sFire]("slidestart",{detail:e.opened}))});n.translateX$=(t=N.defer.call(M.Observable,function(){var t;return I.merge.call(M.Observable,(t=(t=(t=u.call(p,S),L._do).call(t,function(t){var r=t.event;e.preventDefault&&r.preventDefault()}),Z.withLatestFrom).call(t,i,n.startTranslateX$),U.map).call(t,function(t){var r=T(t,3),n=r[0].clientX,i=r[1].clientX,o=r[2];return f.call(e,n,i,o)}),n.tween$,(t=(t=C.combineLatest.call(M.Observable,e[nt],e[it]),L._do).call(t,function(t){var r=T(t,1)[0];return y.call(e,r)}),U.map).call(t,function(t){var r=T(t,2),n=r[0],i=r[1];return n?e[lt]*("left"===i?1:-1):0}))}),H.share).call(t),n.startTranslateX$=(t=n.translateX$,B.sample).call(t,i);var x=(t=(t=(t=(t=(t=n.translateX$,J.timestamp).call(t),q.pairwise).call(t),z.filter).call(t,function(t){var e=T(t,2),r=e[0].timestamp;return e[1].timestamp-r>0}),U.map).call(t,function(t){var e=T(t,2),r=e[0],n=r.value,i=r.timestamp,o=e[1];return(o.value-n)/(o.timestamp-i)}),$.startWith).call(t,0),O=I.merge.call(M.Observable,(t=(t=Z.withLatestFrom.call(c,n.translateX$,x),U.map).call(t,function(t){var r=T(t,3),n=r[1],i=r[2];return h.call(e,i,n)}),L._do).call(t,function(t){return e[A.sFire]("slideend",{detail:t})}),(t=this[at],L._do).call(t,b.bind(this)));if(n.tween$=(t=(t=L._do.call(O,function(t){e[A.sSetState]("opened",t),e[pt]&&!t&&(e[pt].style.overflow="")}),Z.withLatestFrom).call(t,n.translateX$),Y.switchMap).call(t,function(t){var r,n=T(t,2),o=n[0],s=n[1],c="left"===e.align?1:-1,u=(o?e[lt]*c:0)-s;return(r=(r=(r=(0,Q.createTween)(Q.linearTween,s,u,tt),L._do).call(r,{complete:function(){return e[nt].next(o)}}),K.takeUntil).call(r,i),K.takeUntil).call(r,e[it])}),n.translateX$.subscribe(v.bind(this)),R.fromEvent.call(M.Observable,this[ht],"click").subscribe(function(){return e.close()}),r.subscribe(function(t){e[ht].style.display=t?"block":"none"}),this[it].subscribe(function(t){var r="left"===t?"right":"left";e[ft].classList.remove("hy-drawer-"+r),e[ft].classList.add("hy-drawer-"+t)}),(t=R.fromEvent.call(M.Observable,window,"popstate"),a).call(t,this[ut]).subscribe(function(){var t="#"+d.call(e)+"--opened",r=window.location.hash===t;r!==e.opened&&e[at].next(r)}),this._backButton){var j="#"+d.call(this)+"--opened";window.location.hash===j&&this[A.sSetState]("opened",!0)}this[nt].next(this.opened),this[it].next(this.align),this[ot].next(this.persistent),this[st].next(this.preventDefault),this[ct].next(this.mouseEvents),this[ut].next(this._backButton)}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.sSetupDOM=r.sSetup=r.MIXIN_FEATURE_TESTS=void 0;var O=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),j=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},T=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.drawerMixin=function(t){return function(e){function r(){return n(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return o(r,(0,E.componentMixin)(t)),O(r,[{key:A.sSetup,value:function(t,e){var n,i=this;return j(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),A.sSetup,this).call(this,t,e),this[ht]=this.root.querySelector(".hy-drawer-scrim"),this[ft]=this.root.querySelector(".hy-drawer-content"),this._hideOverflow&&(this[pt]=document.querySelector(this._hideOverflow)),this[ft].classList.add("hy-drawer-"+this.align),this[lt]=p.call(this),(n=R.fromEvent.call(M.Observable,window,"resize",{passive:!0}),D.debounceTime).call(n,100).subscribe(function(){i.opened&&i[ft].classList.remove("hy-drawer-opened"),i[lt]=p.call(i),i.opened&&i[ft].classList.add("hy-drawer-opened")}),S.call(this),this[A.sFire]("init",{detail:this.opened}),this}},{key:"open",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.opened=!0:this[at].next(!0),this}},{key:"close",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.opened=!1:this[at].next(!1),this}},{key:"toggle",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.opened=!this.opened:this[at].next(!this.opened),this}}],[{key:"componentName",get:function(){return"hy-drawer"}},{key:"defaults",get:function(){return{opened:!1,align:"left",persistent:!1,range:[0,100],threshold:10,preventDefault:!1,mouseEvents:!1,_backButton:!1,_hideOverflow:null}}},{key:"types",get:function(){return{opened:k.bool,align:(0,k.oneOf)(["left","right"]),persistent:k.bool,range:(0,k.arrayOf)(k.number),threshold:k.number,preventDefault:k.bool,mouseEvents:k.bool,_backButton:k.bool,_hideOverflow:k.string}}},{key:"sideEffects",get:function(){return{opened:function(t){this[nt].next(t)},align:function(t){this[it].next(t)},persistent:function(t){this[ot].next(t)},preventDefault:function(t){this[st].next(t)},mouseEvents:function(t){this[ct].next(t)},_backButton:function(t){this[ut].next(t)},_hideOverflow:function(t){this[pt]&&(this[pt].style.overflow=""),this[pt]=document.querySelector(t)}}}}]),r}()},t("core-js/fn/array/from"),t("core-js/fn/function/bind"),t("core-js/fn/object/assign");var E=t("hy-component/src/component"),A=t("hy-component/src/symbols"),k=t("hy-component/src/types"),M=t("rxjs/Observable"),P=t("rxjs/Subject"),C=t("rxjs/observable/combineLatest"),N=t("rxjs/observable/defer"),R=t("rxjs/observable/fromEvent"),I=t("rxjs/observable/merge"),F=t("rxjs/observable/never"),L=t("rxjs/operator/do"),D=t("rxjs/operator/debounceTime"),z=t("rxjs/operator/filter"),U=t("rxjs/operator/map"),V=t("rxjs/operator/mapTo"),q=t("rxjs/operator/pairwise"),W=t("rxjs/operator/repeatWhen"),B=t("rxjs/operator/sample"),H=t("rxjs/operator/share"),X=t("rxjs/operator/skipWhile"),$=t("rxjs/operator/startWith"),Y=t("rxjs/operator/switchMap"),G=t("rxjs/operator/take"),K=t("rxjs/operator/takeUntil"),J=t("rxjs/operator/timestamp"),Z=t("rxjs/operator/withLatestFrom"),Q=t("../common");r.MIXIN_FEATURE_TESTS=new Q.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(E.COMPONENT_FEATURE_TESTS),["eventlistener","queryselector","requestanimationframe","classlist","opacity","csstransforms","csspointerevents"]));r.sSetup=A.sSetup,r.sSetupDOM=A.sSetupDOM;var tt=200,et=.15,rt=e.Symbol||function(t){return"_"+t},nt=rt("openedObservable"),it=rt("alignObservable"),ot=rt("persistentObservable"),st=rt("preventDefaultObservable"),ct=rt("mouseEventsObservable"),ut=rt("backButtonObservable"),at=rt("animateToObservable"),lt=rt("drawerWidth"),ht=rt("scrimElement"),ft=rt("contentElement"),pt=rt("scrollElement"),bt=Object.assign.bind(Object),dt=Math.abs.bind(Math),yt=Math.min.bind(Math),vt=Math.max.bind(Math)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common":127,"core-js/fn/array/from":21,"core-js/fn/function/bind":24,"core-js/fn/object/assign":26,"hy-component/src/component":122,"hy-component/src/symbols":124,"hy-component/src/types":125,"rxjs/Observable":144,"rxjs/Subject":149,"rxjs/observable/combineLatest":165,"rxjs/observable/defer":167,"rxjs/observable/fromEvent":172,"rxjs/observable/merge":173,"rxjs/observable/never":174,"rxjs/operator/debounceTime":180,"rxjs/operator/do":182,"rxjs/operator/filter":184,"rxjs/operator/map":186,"rxjs/operator/mapTo":187,"rxjs/operator/pairwise":191,"rxjs/operator/repeatWhen":193,"rxjs/operator/sample":194,"rxjs/operator/share":195,"rxjs/operator/skipWhile":196,"rxjs/operator/startWith":197,"rxjs/operator/switchMap":198,"rxjs/operator/take":199,"rxjs/operator/takeUntil":200,"rxjs/operator/timestamp":201,"rxjs/operator/withLatestFrom":203}],129:[function(t,e,r){var n="@media screen {\n  .hy-drawer-scrim {\n    display: block;\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    z-index: 2;\n    pointer-events: none;\n    background: rgba(0, 0, 0, 0.5);\n    transform: translateX(0);\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  .hy-drawer-content {\n    position: fixed;\n    bottom: 0;\n    top: 0;\n    z-index: 3;\n    overflow-x: hidden;\n    overflow-y: auto;\n    contain: strict;\n    width: 300px;\n    background: #e8e8e8;\n    box-shadow: 0 0 15px rgba(0, 0, 0, 0.25);\n    transform: translateX(0);\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .hy-drawer-content.hy-drawer-left {\n    left: -300px;\n  }\n\n  .hy-drawer-content.hy-drawer-right {\n    right: -300px;\n  }\n\n  .hy-drawer-content.hy-drawer-left.hy-drawer-opened {\n    left: 0!important;\n    transform: translateX(0)!important;\n  }\n\n  .hy-drawer-content.hy-drawer-right.hy-drawer-opened {\n    right: 0!important;\n    transform: translateX(0)!important;\n  }\n}\n@media print {\n  .hy-drawer-scrim {\n    display: none!important;\n  }\n\n  .hy-drawer-content {\n    transform: none!important;\n  }\n}\n";t("browserify-css").createStyle(n,{href:"node_modules/hy-drawer/src/style.css"},{insertAt:"bottom"}),e.exports=n},{"browserify-css":12}],130:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.Drawer=r.VANILLA_FEATURE_TESTS=void 0;var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/from");var u=t("hy-component/src/vanilla"),a=t("hy-component/src/symbols"),l=t("../common"),h=t("../mixin");t("../style.css");r.VANILLA_FEATURE_TESTS=new l.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(h.MIXIN_FEATURE_TESTS),["classlist"])),r.Drawer=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,(0,h.drawerMixin)(u.VanillaComponent)),c(e,[{key:a.sSetupDOM,value:function(t){if(!t)throw Error("No element provided");var e=document.createElement("div"),r=document.createElement("div");for(e.classList.add("hy-drawer-scrim"),r.classList.add("hy-drawer-content");t.children.length>0;)r.appendChild(t.children[0]);return t.appendChild(e),t.appendChild(r),t}}]),e}()},{"../common":127,"../mixin":128,"../style.css":129,"core-js/fn/array/from":21,"hy-component/src/symbols":124,"hy-component/src/vanilla":126}],131:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":c(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.HTMLDrawerElement=r.WEBCOMPONENT_FEATURE_TESTS=void 0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/from");var a=t("hy-component/src/custom-element"),l=t("hy-component/src/symbols"),h=t("../common"),f=t("../mixin"),p=function(t){return t&&t.__esModule?t:{default:t}}(t("./template.html"));r.WEBCOMPONENT_FEATURE_TESTS=new h.Set([].concat(s(a.CUSTOM_ELEMENT_FEATURE_TESTS),s(f.MIXIN_FEATURE_TESTS))),r.HTMLDrawerElement=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,(0,a.customElementMixin)((0,f.drawerMixin)(a.CustomElement))),u(e,[{key:l.sGetTemplate,value:function(){return(0,a.fragmentFromString)(p.default)}}],[{key:"observedAttributes",get:function(){return this.getObservedAttributes()}}]),e}()},{"../common":127,"../mixin":128,"./template.html":132,"core-js/fn/array/from":21,"hy-component/src/custom-element":123,"hy-component/src/symbols":124}],132:[function(t,e,r){e.exports='<div class="hy-drawer-scrim"></div>\n<div class="hy-drawer-content">\n  <slot></slot>\n</div>\n\n<style>\n  /* HACK: Hard-coded: ../style.css */\n  @media screen {\n    .hy-drawer-scrim {\n      display: block;\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      opacity: 0;\n      z-index: 2;\n      pointer-events: none;\n      background: rgba(0, 0, 0, 0.5);\n      transform: translateX(0);\n      -webkit-tap-highlight-color: transparent;\n    }\n\n    .hy-drawer-content {\n      position: fixed;\n      bottom: 0;\n      top: 0;\n      z-index: 3;\n      overflow-x: hidden;\n      overflow-y: auto;\n      transform: translateX(0);\n      contain: strict;\n      width: 300px;\n      background: #e8e8e8;\n      box-shadow: 0 0 15px rgba(0, 0, 0, 0.25);\n      -webkit-overflow-scrolling: touch;\n    }\n\n    .hy-drawer-content.hy-drawer-left {\n      left: -300px;\n    }\n\n    .hy-drawer-content.hy-drawer-right {\n      right: -300px;\n    }\n\n    .hy-drawer-content.hy-drawer-left.hy-drawer-opened {\n      left: 0!important;\n      transform: translateX(0)!important;\n    }\n\n    .hy-drawer-content.hy-drawer-right.hy-drawer-opened {\n      right: 0!important;\n      transform: translateX(0)!important;\n    }\n  }\n\n  @media print {\n    .hy-drawer-scrim {\n      display: none!important;\n    }\n\n    .hy-drawer-content {\n      transform: none!important;\n    }\n  }\n\n  /* HACK: Hard-coded ./style.css */\n  @media screen {\n    :host {\n\n    }\n\n    .hy-drawer-content {\n      @apply --hy-drawer-content-container;\n      width: var(--hy-drawer-width, 300px);\n      background: var(--hy-drawer-background, #e8e8e8);\n      box-shadow: var(--hy-drawer-box-shadow, 0 0 15px rgba(0, 0, 0, 0.25));\n      z-index: var(--hy-drawer-z-index, 3);\n    }\n\n    .hy-drawer-content.hy-drawer-left {\n      left: calc(-1 * var(--hy-drawer-slide-width, var(--hy-drawer-width, 300px)));\n    }\n\n    .hy-drawer-content.hy-drawer-right {\n      right: calc(-1 * var(--hy-drawer-slide-width, var(--hy-drawer-width, 300px)));\n    }\n\n    .hy-drawer-scrim {\n      @apply --hy-drawer-scrim-container;\n      background: var(--hy-drawer-scrim-background, rgba(0, 0, 0, 0.5));\n      z-index: var(--hy-drawer-scrim-z-index, 2);\n    }\n  }\n</style>\n'},{}],133:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.matches=r.Set=void 0,r.matchesAncestors=function(t){for(var e=this;e!==document&&e!==document.documentElement;){var r;if((r=e,i).call(r,t))return e;e=e.parentNode}return null},r.isExternal=function(t){var e=t.protocol,r=t.host;return e!==window.location.protocol||r!==window.location.host},r.isHash=function(t){var e=t.hash,r=t.origin,n=t.pathname;return""!==e&&r===window.location.origin&&n===window.location.pathname},r.getScrollHeight=function(){var t=document.documentElement,e=document.body,r="scrollHeight";return t[r]||e[r]},r.getScrollLeft=function(){return window.pageXOffset||document.body.scrollLeft},r.getScrollTop=function(){return window.pageYOffset||document.body.scrollTop},r.fragmentFromString=function(t){return document.createRange().createContextualFragment(t)};var n=t("hy-component/src/common");r.Set=n.Set;var i=r.matches=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector},{"hy-component/src/common":121}],134:[function(t,e,r){(function(e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":X(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":X(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=this;return St.switchMap.call(t,function(t){return t?st.never.call(Q.Observable):e})}function u(t,e,r){var n,i=this;return(n=i,lt._catch).call(n,function(t,e){return e}).subscribe(t,e,r)}function a(t,e){return t&&""===t.target&&(!e||-1!==t.href.search(e))}function l(t){var e=t.metaKey,r=t.ctrlKey,n=t.currentTarget;return!e&&!r&&a(n,this._hrefRegex)&&!(0,At.isExternal)(n)}function h(t){var e=t.currentTarget;return a(e,this._hrefRegex)&&!(0,At.isExternal)(e)&&!(0,At.isHash)(e)}function f(){return this.el.id||this.constructor.componentName}function p(t){if(t){var e=document.getElementById(t.substr(1));e&&e.scrollIntoView()}else window.scroll(window.pageXOffset,0)}function b(){var t=f.call(this),e=window.history.state&&window.history.state[t]||{};null!=e.scrollTop?(document.body.style.minHeight=e.scrollHeight,window.scroll(window.pageXOffset,e.scrollTop)):e.hash&&p(window.location.hash)}function d(t){var e=t.type,r=t.url.hash;e===Pt&&p(r),e===Ct&&this.scrollRestoration&&b.call(this)}function y(t){var e=f.call(this);return zt(t,s({},e,zt(t[e]||{},{scrollTop:(0,At.getScrollTop)(),scrollHeight:(0,At.getScrollHeight)()})))}function v(t){var e=t.type,r=t.replace,n=t.url,i=n.href,o=n.hash;if(e===Pt||e===kt){var c=f.call(this),u=r?"replaceState":"pushState";window.history[u](s({},c,{hash:!!o}),"",i)}}function m(t){var e=t.type,r=t.url,n=r.hash,i=r.href;if(e===Pt){var o=f.call(this),c=zt(window.history.state,s({},o,zt(window.history.state[o],{hash:!0}))),u=s({},o,{hash:!0});window.history.replaceState(c,document.title,window.location.href),window.history.pushState(u,document.title,i)}p(n)}function w(){var t=y.call(this,window.history.state||{});window.history.replaceState(t,document.title,window.location)}function g(t){return{method:"GET",responseType:"text",url:t.url}}function _(t,e){var r=e.status,n=e.xhr;return n&&n.response&&r>400?ct.of.call(Q.Observable,zt(t,{response:n.response})):ct.of.call(Q.Observable,zt(t,{error:e}))}function S(t){var e,r=this;return(e=(e=at.ajax.call(Q.Observable,g(t)),dt.map).call(e,function(e){var r=e.response;return zt(t,{response:r})}),lt._catch).call(e,function(e){return _.call(r,t,e)})}function x(t,e,r){return t.url.href===e.url.href&&null==e.error?ct.of.call(Q.Observable,e):xt.take.call(r,1)}function O(t,e){var r,n=G(e,2),i=n[0],o=n[1];return(r=(r=x(i,o,t),dt.map).call(r,function(t){return zt(t,i)}),Et.zipProto).call(r,this[Rt],function(t){return t})}function j(t){var e=this,r=[];return t.forEach(function(t){var n;return(n=t.querySelectorAll(e._scriptSelector),Lt).call(n,function(t){var e=[t,t.previousElementSibling];t.parentNode.removeChild(t),r.push(e)})}),r}function T(t){var e,r=G(t,2),n=r[0],i=r[1],o=document.write;return document.write=function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=document.createElement("noscript");o.innerHTML=r.join(),(t=o.childNodes,Lt).call(t,function(t){i.parentNode.insertBefore(t,i)})},""!==n.src?Q.Observable.create(function(t){n.addEventListener("load",function(e){document.write=o,t.complete(e)}),n.addEventListener("error",function(e){document.write=o,t.error(e)}),i.parentNode.insertBefore(n,i.nextElementSibling)}):(e=ct.of.call(Q.Observable,{}),pt._do).call(e,function(){i.parentNode.insertBefore(n,i.nextElementSibling),document.write=o})}function E(t){var e,r=t.scripts;return(e=(e=(e=nt.from.call(Q.Observable,r),ht.concatMap).call(e,T),lt._catch).call(e,function(e){throw zt(t,{error:e})}),jt.toPromise).call(e).then(function(){return t})}function A(t){return(t.querySelector("title")||{}).textContent}function k(t){if(this.replaceIds.length>0)return this.replaceIds.map(function(e){return t.getElementById(e)});var e=void 0;if(this.el.id)e=t.getElementById(this.el.id);else{var r,n=(r=document.getElementsByTagName(this.el.tagName),Dt).call(r,this.el);e=t.querySelectorAll(this.el.tagName)[n]}return[e]}function M(t){var e=t.response,r=(0,At.fragmentFromString)(e),n=A.call(this,r),i=k.call(this,r);if(i.some(function(t){return null==t}))throw zt(t,{relaceElMissing:!0});var o=this._scriptSelector?j.call(this,i):[];return zt(t,{title:n,replaceEls:i,scripts:o})}function P(t){this.replaceIds.map(function(t){return document.getElementById(t)}).forEach(function(e,r){e.parentNode.replaceChild(t[r],e)})}function C(t){var e=G(t,1)[0];this.el.innerHTML=e.innerHTML}function N(t){this.replaceIds.length>0?P.call(this,t):C.call(this,t)}function R(t){try{var e=t.title,r=t.replaceEls,n=t.type;document.title=e,n===Pt&&window.history.replaceState(window.history.state,e,window.location),N.call(this,r)}catch(e){throw zt(t,{error:e})}}function I(t){var e=this;this[Rt]=ut.timer.call(Q.Observable,this.duration);this[J.sFire]("start",{detail:zt(t,{waitUntil:function(t){e[Rt]=t}})})}function F(t){var e=t.relaceElMissing,r=t.url;if(e){window.history.back(),setTimeout(function(){document.location.href=r},100)}else this[J.sFire]("error",{detail:t})}function L(t){this[J.sFire]("networkerror",{detail:t})}function D(t){this[J.sFire]("error",{detail:t})}function z(t){this[J.sFire]("ready",{detail:t})}function U(t){this[J.sFire]("after",{detail:t})}function V(t){this[J.sFire]("progress",{detail:t})}function q(t){this[J.sFire]("load",{detail:t})}function W(t,e){return t.url.href===e.url.href&&t.error===e.error&&t.cacheNr===e.cacheNr}function B(t){var e=G(t,2),r=e[0].url.pathname,n=e[1],i=n.url,o=i.pathname,s=i.hash,c=n.type;return o===r&&(c===Ct||c===Pt&&""!==s)}function H(){var t,e=this,r=new tt.Subject,n=new tt.Subject;this[It]=new tt.Subject;var i={},o=(t=(t=bt.filter.call(r,l.bind(this)),dt.map).call(t,function(t){return{type:Pt,url:new URL(t.currentTarget.href),anchor:t.currentTarget,event:t,cacheNr:Ut}}),pt._do).call(t,function(t){t.event.preventDefault(),w.call(e)}),s=(t=(t=it.fromEvent.call(Q.Observable,window,"popstate"),bt.filter).call(t,function(){return window.history.state&&window.history.state[f.call(e)]}),dt.map).call(t,function(t){return{type:Ct,url:new URL(window.location),event:t,cacheNr:Ut}}),a=(t=(t=(t=(t=ot.merge.call(Q.Observable,o,s,this[It]),_t.startWith).call(t,{url:new URL(window.location)}),wt.pairwise).call(t),gt.share).call(t),mt.partition).call(t,B).map(function(t){var e;return(e=dt.map.call(t,function(t){return G(t,2)[1]}),gt.share).call(e)}),p=G(a,2),b=p[0],y=p[1],g=(t=(t=rt.defer.call(Q.Observable,function(){var t;return ot.merge.call(Q.Observable,yt.mapTo.call(y,!0),(t=i.fetch$,yt.mapTo).call(t,!1))}),_t.startWith).call(t,!1),gt.share).call(t),_=(t=(t=c.call(n,g),bt.filter).call(t,h.bind(this)),dt.map).call(t,function(t){return{type:Mt,url:new URL(t.currentTarget.href),anchor:t.currentTarget,event:t,cacheNr:Ut}}),x=(t=(t=(t=(t=ot.merge.call(Q.Observable,_,y),ft.distinctUntilChanged).call(t,W),St.switchMap).call(t,S.bind(this)),_t.startWith).call(t,{url:{}}),gt.share).call(t);i.fetch$=(t=(t=(t=(t=pt._do.call(y,v.bind(this)),pt._do).call(t,I.bind(this)),Tt.withLatestFrom).call(t,x),St.switchMap).call(t,O.bind(this,x)),gt.share).call(t);var j=(t=i.fetch$,mt.partition).call(t,function(t){return!t.error}),T=G(j,2),A=T[0],k=T[1],P=(t=(t=(t=(t=(t=(t=(t=dt.map.call(A,M.bind(this)),vt.observeOn).call(t,et.animationFrame),pt._do).call(t,z.bind(this)),pt._do).call(t,R.bind(this)),pt._do).call(t,U.bind(this)),pt._do).call(t,d.bind(this)),pt._do).call(t,{error:F.bind(this)}),lt._catch).call(t,function(t,e){return e});if(this._scriptSelector){var C;P=(C=(C=(C=P,St.switchMap).call(C,E.bind(this)),pt._do).call(C,{error:D.bind(this)}),lt._catch).call(C,function(t,e){return e})}if((t=P,u).call(t,q.bind(this)),u.call(b,m.bind(this)),u.call(k,L.bind(this)),(t=St.switchMap.call(y,function(t){var r;return(r=(r=rt.defer.call(Q.Observable,function(){return e[Rt]}),Ot.takeUntil).call(r,i.fetch$),yt.mapTo).call(r,t)}),u).call(t,V.bind(this)),"MutationObserver"in window&&"Set"in window){var N,H=new tt.Subject,X=new At.Set,$=H.next.bind(H),Y=r.next.bind(r),K=n.next.bind(n),J=function(t){if(t instanceof Element){var r;(r=t.querySelectorAll(e.linkSelector),Lt).call(r,function(t){X.has(t)||(X.add(t),t.addEventListener("click",Y),t.addEventListener("mouseenter",K,{passive:!0}),t.addEventListener("touchstart",K,{passive:!0}),t.addEventListener("focus",K,{passive:!0}))})}},Z=function(t){if(t instanceof Element){var r;(r=t.querySelectorAll(e.linkSelector),Lt).call(r,function(t){X.delete(t),t.removeEventListener("click",Y),t.removeEventListener("mouseenter",K,{passive:!0}),t.removeEventListener("touchstart",K,{passive:!0}),t.removeEventListener("focus",K,{passive:!0})})}},nt=new MutationObserver(function(t){return Lt.call(t,$)});(N=c.call(H,g),u).call(N,function(t){var r=t.addedNodes,n=t.removedNodes;Lt.call(n,Z.bind(e)),Lt.call(r,J.bind(e))}),nt.observe(this.el,{childList:!0,subtree:!0}),J.call(this,this.el)}else this.el.addEventListener("click",function(t){var n,i=(n=t.target,At.matchesAncestors).call(n,e.linkSelector);i&&i.href&&(t.currentTarget=i,r.next(t))})}var X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.POP=r.PUSH=r.HINT=r.INIT=r.sSetupDOM=r.sSetup=r.MIXIN_FEATURE_TESTS=void 0;var $=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Y=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},G=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.pushStateMixin=function(t){return function(e){function r(){return n(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return o(r,(0,K.componentMixin)(t)),$(r,[{key:J.sSetup,value:function(t,e){Y(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),J.sSetup,this).call(this,t,e),"scrollRestoration"in window.history&&this.scrollRestoration&&(window.history.scrollRestoration="manual"),b.call(this),window.addEventListener("beforeunload",w.bind(this)),H.call(this);var n=new URL(window.location);return v.call(this,{type:kt,replace:!0,url:n}),this[J.sFire]("init"),q.call(this,{type:kt,title:A.call(this,document),replaceEls:k.call(this,document),url:n,cacheNr:Ut}),this}},{key:J.sSetupDOM,value:function(t){return t}},{key:"assign",value:function(t){this[It].next({type:Pt,url:new URL(t,window.location),cacheNr:++Ut})}},{key:"reload",value:function(){this[It].next({type:Pt,url:new URL(window.location.href),cacheNr:++Ut})}},{key:"replace",value:function(t){this[It].next({type:Pt,url:new URL(t,window.location),cacheNr:++Ut,replace:!0})}}],[{key:"componentName",get:function(){return"hy-push-state"}},{key:"defaults",get:function(){return{replaceIds:[],linkSelector:"a[href]:not(.no-push-state)",scrollRestoration:!1,duration:0,_hrefRegex:null,_scriptSelector:null}}},{key:"types",get:function(){return{replaceIds:Z.array,linkSelector:Z.string,scrollRestoration:Z.bool,duration:Z.number,_hrefRegex:Z.regex,_scriptSelector:Z.string}}},{key:"sideEffects",get:function(){return{}}}]),r}()},t("core-js/fn/array/for-each"),t("core-js/fn/array/from"),t("core-js/fn/function/bind"),t("core-js/fn/object/assign");var K=t("hy-component/src/component"),J=t("hy-component/src/symbols"),Z=t("hy-component/src/types"),Q=t("rxjs/Observable"),tt=t("rxjs/Subject"),et=t("rxjs/scheduler/animationFrame"),rt=t("rxjs/observable/defer"),nt=t("rxjs/observable/from"),it=t("rxjs/observable/fromEvent"),ot=t("rxjs/observable/merge"),st=t("rxjs/observable/never"),ct=t("rxjs/observable/of"),ut=t("rxjs/observable/timer"),at=t("rxjs/observable/dom/ajax"),lt=t("rxjs/operator/catch"),ht=t("rxjs/operator/concatMap"),ft=t("rxjs/operator/distinctUntilChanged"),pt=t("rxjs/operator/do"),bt=t("rxjs/operator/filter"),dt=t("rxjs/operator/map"),yt=t("rxjs/operator/mapTo"),vt=t("rxjs/operator/observeOn"),mt=t("rxjs/operator/partition"),wt=t("rxjs/operator/pairwise"),gt=t("rxjs/operator/share"),_t=t("rxjs/operator/startWith"),St=t("rxjs/operator/switchMap"),xt=t("rxjs/operator/take"),Ot=t("rxjs/operator/takeUntil"),jt=t("rxjs/operator/toPromise"),Tt=t("rxjs/operator/withLatestFrom"),Et=t("rxjs/operator/zip");t("../url");var At=t("../common");r.MIXIN_FEATURE_TESTS=new At.Set([].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(K.COMPONENT_FEATURE_TESTS),["documentfragment","eventlistener","history","promises","queryselector","requestanimationframe"]));r.sSetup=J.sSetup,r.sSetupDOM=J.sSetupDOM;var kt=r.INIT="init",Mt=r.HINT="hint",Pt=r.PUSH="push",Ct=r.POP="pop",Nt=e.Symbol||function(t){return"_"+t},Rt=Nt("animPromise"),It=Nt("reloadObservable"),Ft=Array.prototype,Lt=Ft.forEach,Dt=Ft.indexOf,zt=Object.assign.bind(Object);DocumentFragment.prototype.getElementById=DocumentFragment.prototype.getElementById||function(t){return this.querySelector("#"+t)};var Ut=1}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common":133,"../url":135,"core-js/fn/array/for-each":20,"core-js/fn/array/from":21,"core-js/fn/function/bind":24,"core-js/fn/object/assign":26,"hy-component/src/component":122,"hy-component/src/symbols":124,"hy-component/src/types":125,"rxjs/Observable":144,"rxjs/Subject":149,"rxjs/observable/defer":167,"rxjs/observable/dom/ajax":169,"rxjs/observable/from":171,"rxjs/observable/fromEvent":172,"rxjs/observable/merge":173,"rxjs/observable/never":174,"rxjs/observable/of":175,"rxjs/observable/timer":177,"rxjs/operator/catch":178,"rxjs/operator/concatMap":179,"rxjs/operator/distinctUntilChanged":181,"rxjs/operator/do":182,"rxjs/operator/filter":184,"rxjs/operator/map":186,"rxjs/operator/mapTo":187,"rxjs/operator/observeOn":190,"rxjs/operator/pairwise":191,"rxjs/operator/partition":192,"rxjs/operator/share":195,"rxjs/operator/startWith":197,"rxjs/operator/switchMap":198,"rxjs/operator/take":199,"rxjs/operator/takeUntil":200,"rxjs/operator/toPromise":202,"rxjs/operator/withLatestFrom":203,"rxjs/operator/zip":204,"rxjs/scheduler/animationFrame":313}],135:[function(t,e,r){"use strict";!function(){function t(t,e){if(!t)throw new TypeError("Invalid argument");var r=document.implementation.createHTMLDocument("");if(e){var n=r.createElement("base");n.href=e,r.head.appendChild(n)}var i=r.createElement("a");if(i.href=t,r.body.appendChild(i),":"===i.protocol||!/:/.test(i.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i})}if(!(window.URL&&window.URL.prototype&&"href"in window.URL.prototype)){t.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(t){this._anchorElement.href=t},get protocol(){return this._anchorElement.protocol},set protocol(t){this._anchorElement.protocol=t},get host(){return this._anchorElement.host},set host(t){this._anchorElement.host=t},get hostname(){return this._anchorElement.hostname},set hostname(t){this._anchorElement.hostname=t},get port(){return this._anchorElement.port},set port(t){this._anchorElement.port=t},get pathname(){return this._anchorElement.pathname},set pathname(t){this._anchorElement.pathname=t},get search(){return this._anchorElement.search},set search(t){this._anchorElement.search=t},get hash(){return this._anchorElement.hash},set hash(t){this._anchorElement.hash=t}};var e=window.URL||window.webkitURL||window.mozURL;t.createObjectURL=function(t){return e.createObjectURL.apply(e,arguments)},t.revokeObjectURL=function(t){return e.revokeObjectURL.apply(e,arguments)},Object.defineProperty(t.prototype,"toString",{enumerable:!1}),window.URL=t}}()},{}],136:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.PushState=r.VANILLA_FEATURE_TESTS=void 0,t("core-js/fn/array/from");var c=t("hy-component/src/vanilla"),u=t("../mixin");r.VANILLA_FEATURE_TESTS=u.MIXIN_FEATURE_TESTS,r.PushState=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,(0,u.pushStateMixin)(c.VanillaComponent)),e}()},{"../mixin":134,"core-js/fn/array/from":21,"hy-component/src/vanilla":126}],137:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":c(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":c(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(r,"__esModule",{value:!0}),r.HTMLPushStateElement=r.WEBCOMPONENT_FEATURE_TESTS=void 0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();t("core-js/fn/array/from");var a=t("hy-component/src/custom-element"),l=t("hy-component/src/symbols"),h=t("../common"),f=t("../mixin");r.WEBCOMPONENT_FEATURE_TESTS=new h.Set([].concat(s(a.CUSTOM_ELEMENT_FEATURE_TESTS),s(f.MIXIN_FEATURE_TESTS))),r.HTMLPushStateElement=function(t){function e(){return n(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,(0,a.customElementMixin)((0,f.pushStateMixin)(a.CustomElement))),u(e,[{key:l.sGetTemplate,value:function(){return null}}],[{key:"observedAttributes",get:function(){return this.getObservedAttributes()}}]),e}()},{"../common":133,"../mixin":134,"core-js/fn/array/from":21,"hy-component/src/custom-element":123,"hy-component/src/symbols":124}],138:[function(t,e,r){"use strict";e.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},{}],139:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function c(){y&&b&&(y=!1,b.length?d=b.concat(d):v=-1,d.length&&u())}function u(){if(!y){var t=o(c);y=!0;for(var e=d.length;e;){for(b=d,d=[];++v<e;)b&&b[v].run();v=-1,e=d.length}b=null,y=!1,s(t)}}function a(t,e){this.fun=t,this.array=e}function l(){}var h,f,p=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var b,d=[],y=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new a(t,e)),1!==d.length||y||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],140:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./Subject"),o=t("./Subscription"),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);r.AsyncSubject=s},{"./Subject":149,"./Subscription":152}],141:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./Subject"),o=t("./util/ObjectUnsubscribedError"),s=function(t){function e(e){t.call(this),this._value=e}return n(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);r.BehaviorSubject=s},{"./Subject":149,"./util/ObjectUnsubscribedError":325}],142:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return n(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(t("./Subscriber").Subscriber);r.InnerSubscriber=i},{"./Subscriber":151}],143:[function(t,e,r){"use strict";var n=t("./Observable"),i=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();r.Notification=i},{"./Observable":144}],144:[function(t,e,r){"use strict";var n=t("./util/root"),i=t("./util/toSubscriber"),o=t("./symbol/observable"),s=t("./util/pipe"),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=i.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this.source?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var i;i=r.subscribe(function(e){if(i)try{t(e)}catch(t){n(t),i.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();r.Observable=c},{"./symbol/observable":317,"./util/pipe":341,"./util/root":342,"./util/toSubscriber":344}],145:[function(t,e,r){"use strict";r.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},{}],146:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(t("./Subscriber").Subscriber);r.OuterSubscriber=i},{"./Subscriber":151}],147:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./Subject"),o=t("./scheduler/queue"),s=t("./Subscription"),c=t("./operators/observeOn"),u=t("./util/ObjectUnsubscribedError"),a=t("./SubjectSubscription"),l=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=n,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return n(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new h(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?e=s.Subscription.EMPTY:this.isStopped?e=s.Subscription.EMPTY:(this.observers.push(t),e=new a.SubjectSubscription(this,t)),n&&t.add(t=new c.ObserveOnSubscriber(t,n));for(var i=r.length,o=0;o<i&&!t.closed;o++)t.next(r[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(i.Subject);r.ReplaySubject=l;var h=function(){return function(t,e){this.time=t,this.value=e}}()},{"./Subject":149,"./SubjectSubscription":150,"./Subscription":152,"./operators/observeOn":255,"./scheduler/queue":315,"./util/ObjectUnsubscribedError":325}],148:[function(t,e,r){"use strict";var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();r.Scheduler=n},{}],149:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./Observable"),o=t("./Subscriber"),s=t("./Subscription"),c=t("./util/ObjectUnsubscribedError"),u=t("./SubjectSubscription"),a=t("./symbol/rxSubscriber"),l=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);r.SubjectSubscriber=l;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[a.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.Observable);r.Subject=h;var f=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);r.AnonymousSubject=f},{"./Observable":144,"./SubjectSubscription":150,"./Subscriber":151,"./Subscription":152,"./symbol/rxSubscriber":318,"./util/ObjectUnsubscribedError":325}],150:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(t("./Subscription").Subscription);r.SubjectSubscription=i},{"./Subscription":152}],151:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("./util/isFunction"),s=t("./Subscription"),c=t("./Observer"),u=t("./symbol/rxSubscriber"),a=function(t){function e(r,i,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.empty;break;case 1:if(!r){this.destination=c.empty;break}if("object"===(void 0===r?"undefined":n(r))){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,r,i,o)}}return i(e,t),e.prototype[u.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,r=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=r,this},e}(s.Subscription);r.Subscriber=a;var l=function(t){function e(e,r,n,i){t.call(this),this._parentSubscriber=e;var s,u=this;o.isFunction(r)?s=r:r&&(s=r.next,n=r.error,i=r.complete,r!==c.empty&&(u=Object.create(r),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=i}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(a)},{"./Observer":145,"./Subscription":152,"./symbol/rxSubscriber":318,"./util/isFunction":334}],152:[function(t,e,r){"use strict";function n(t){return t.reduce(function(t,e){return t.concat(e instanceof l.UnsubscriptionError?e.errors:e)},[])}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./util/isArray"),s=t("./util/isObject"),c=t("./util/isFunction"),u=t("./util/tryCatch"),a=t("./util/errorObject"),l=t("./util/UnsubscriptionError"),h=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this,i=r._parent,h=r._parents,f=r._unsubscribe,p=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var b=-1,d=h?h.length:0;i;)i.remove(this),i=++b<d&&h[b]||null;if(c.isFunction(f)&&(v=u.tryCatch(f).call(this))===a.errorObject&&(e=!0,t=t||(a.errorObject.e instanceof l.UnsubscriptionError?n(a.errorObject.e.errors):[a.errorObject.e])),o.isArray(p))for(b=-1,d=p.length;++b<d;){var y=p[b];if(s.isObject(y)){var v=u.tryCatch(y.unsubscribe).call(y);if(v===a.errorObject){e=!0,t=t||[];var m=a.errorObject.e;m instanceof l.UnsubscriptionError?t=t.concat(n(m.errors)):t.push(m)}}}if(e)throw new l.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(void 0===e?"undefined":i(e)){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this,r=e._parent,n=e._parents;r&&r!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();r.Subscription=h},{"./util/UnsubscriptionError":328,"./util/errorObject":329,"./util/isArray":331,"./util/isFunction":334,"./util/isObject":336,"./util/tryCatch":345}],153:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Observable"),o=t("./ScalarObservable"),s=t("./EmptyObservable"),c=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){var n=t.length;return 0===n?new s.EmptyObservable:1===n?new o.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,n=t.length,i=t.subscriber;i.closed||(r>=n?i.complete():(i.next(e[r]),t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this,n=r.arrayLike,i=r.scheduler,o=n.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:n,index:0,length:o,subscriber:t});for(var s=0;s<o&&!t.closed;s++)t.next(n[s]);t.complete()},e}(i.Observable);r.ArrayLikeObservable=c},{"../Observable":144,"./EmptyObservable":157,"./ScalarObservable":163}],154:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Observable"),o=t("./ScalarObservable"),s=t("./EmptyObservable"),c=t("../util/isScheduler"),u=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return n(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=t[t.length-1];c.isScheduler(n)?t.pop():n=null;var i=t.length;return i>1?new e(t,n):1===i?new o.ScalarObservable(t[0],n):new s.EmptyObservable(n)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e[r]),i.closed||(t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:r,index:0,count:n,subscriber:t});for(var o=0;o<n&&!t.closed;o++)t.next(r[o]);t.complete()},e}(i.Observable);r.ArrayObservable=u},{"../Observable":144,"../util/isScheduler":338,"./EmptyObservable":157,"./ScalarObservable":163}],155:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subject"),o=t("../Observable"),s=t("../Subscriber"),c=t("../Subscription"),u=t("../operators/refCount"),a=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new c.Subscription).add(this.source.subscribe(new h(this.getSubject(),this))),t.closed?(this._connection=null,t=c.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u.refCount()(this)},e}(o.Observable);r.ConnectableObservable=a;var l=a.prototype;r.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var h=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),f=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new f(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i}}(),function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(s.Subscriber))},{"../Observable":144,"../Subject":149,"../Subscriber":151,"../Subscription":152,"../operators/refCount":266}],156:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Observable"),o=t("../util/subscribeToResult"),s=t("../OuterSubscriber"),c=function(t){function e(e){t.call(this),this.observableFactory=e}return n(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new u(t,this.observableFactory)},e}(i.Observable);r.DeferObservable=c;var u=function(t){function e(e,r){t.call(this,e),this.factory=r,this.tryDefer()}return n(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},{"../Observable":144,"../OuterSubscriber":146,"../util/subscribeToResult":343}],157:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e){t.call(this),this.scheduler=e}return n(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(t("../Observable").Observable);r.EmptyObservable=i},{"../Observable":144}],158:[function(t,e,r){"use strict";function n(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===b.call(t)}function s(t){return!!t&&"[object HTMLCollection]"===b.call(t)}function c(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},a=t("../Observable"),l=t("../util/tryCatch"),h=t("../util/isFunction"),f=t("../util/errorObject"),p=t("../Subscription"),b=Object.prototype.toString,d=function(t){function e(e,r,n,i){t.call(this),this.sourceObj=e,this.eventName=r,this.selector=n,this.options=i}return u(e,t),e.create=function(t,r,n,i){return h.isFunction(n)&&(i=n,n=void 0),new e(t,r,i,n)},e.setupSubscription=function(t,r,u,a,l){var h;if(o(t)||s(t))for(var f=0,b=t.length;f<b;f++)e.setupSubscription(t[f],r,u,a,l);else if(c(t)){var d=t;t.addEventListener(r,u,l),h=function(){return d.removeEventListener(r,u)}}else if(i(t)){var y=t;t.on(r,u),h=function(){return y.off(r,u)}}else{if(!n(t))throw new TypeError("Invalid event target");var v=t;t.addListener(r,u),h=function(){return v.removeListener(r,u)}}a.add(new p.Subscription(h))},e.prototype._subscribe=function(t){var r=this.sourceObj,n=this.eventName,i=this.options,o=this.selector;e.setupSubscription(r,n,o?function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=l.tryCatch(o).apply(void 0,e);n===f.errorObject?t.error(f.errorObject.e):t.next(n)}:function(e){return t.next(e)},t,i)},e}(a.Observable);r.FromEventObservable=d},{"../Observable":144,"../Subscription":152,"../util/errorObject":329,"../util/isFunction":334,"../util/tryCatch":345}],159:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../util/isArray"),s=t("../util/isArrayLike"),c=t("../util/isPromise"),u=t("./PromiseObservable"),a=t("./IteratorObservable"),l=t("./ArrayObservable"),h=t("./ArrayLikeObservable"),f=t("../symbol/iterator"),p=t("../Observable"),b=t("../operators/observeOn"),d=t("../symbol/observable"),y=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return i(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[d.observable])return t instanceof p.Observable&&!r?t:new e(t,r);if(o.isArray(t))return new l.ArrayObservable(t,r);if(c.isPromise(t))return new u.PromiseObservable(t,r);if("function"==typeof t[f.iterator]||"string"==typeof t)return new a.IteratorObservable(t,r);if(s.isArrayLike(t))return new h.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&(void 0===t?"undefined":n(t))||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[d.observable]().subscribe(t):e[d.observable]().subscribe(new b.ObserveOnSubscriber(t,r,0))},e}(p.Observable);r.FromObservable=y},{"../Observable":144,"../operators/observeOn":255,"../symbol/iterator":316,"../symbol/observable":317,"../util/isArray":331,"../util/isArrayLike":332,"../util/isPromise":337,"./ArrayLikeObservable":153,"./ArrayObservable":154,"./IteratorObservable":160,"./PromiseObservable":162}],160:[function(t,e,r){"use strict";function n(t){var e=t[l.iterator];if(!e&&"string"==typeof t)return new f(t);if(!e&&void 0!==t.length)return new p(t);if(!e)throw new TypeError("object is not iterable");return t[l.iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)))<=0?0:e>b?b:e:e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var c=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},u=t("../util/root"),a=t("../Observable"),l=t("../symbol/iterator"),h=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=n(e)}return c(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,n=t.iterator,i=t.subscriber;if(r)i.error(t.error);else{var o=n.next();o.done?i.complete():(i.next(o.value),t.index=e+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(t))}},e.prototype._subscribe=function(t){var r=this,n=r.iterator,i=r.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var o=n.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof n.return&&n.return();break}}},e}(a.Observable);r.IteratorObservable=h;var f=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),p=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=i(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),b=Math.pow(2,53)-1},{"../Observable":144,"../symbol/iterator":316,"../util/root":342}],161:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Observable"),o=t("../util/noop"),s=function(t){function e(){t.call(this)}return n(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);r.NeverObservable=s},{"../Observable":144,"../util/noop":339}],162:[function(t,e,r){"use strict";function n(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function i(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var o=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=t("../util/root"),c=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return o(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(n,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(o.schedule(n,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(t("../Observable").Observable);r.PromiseObservable=c},{"../Observable":144,"../util/root":342}],163:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;e?n.complete():(n.next(r),n.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t});t.next(r),t.closed||t.complete()},e}(t("../Observable").Observable);r.ScalarObservable=i},{"../Observable":144}],164:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/isNumeric"),o=t("../Observable"),s=t("../scheduler/async"),c=t("../util/isScheduler"),u=t("../util/isDate"),a=function(t){function e(e,r,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1&&1||Number(r):c.isScheduler(r)&&(n=r),c.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=u.isDate(e)?+e-this.scheduler.now():e}return n(e,t),e.create=function(t,r,n){return void 0===t&&(t=0),new e(t,r,n)},e.dispatch=function(t){var e=t.index,r=t.period,n=t.subscriber,i=this;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,i.schedule(t,r)}},e.prototype._subscribe=function(t){var r=this,n=r.period,i=r.dueTime;return r.scheduler.schedule(e.dispatch,i,{index:0,period:n,subscriber:t})},e}(o.Observable);r.TimerObservable=a},{"../Observable":144,"../scheduler/async":314,"../util/isDate":333,"../util/isNumeric":335,"../util/isScheduler":338}],165:[function(t,e,r){"use strict";var n=t("../util/isScheduler"),i=t("../util/isArray"),o=t("./ArrayObservable"),s=t("../operators/combineLatest");r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null,c=null;return n.isScheduler(t[t.length-1])&&(c=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&i.isArray(t[0])&&(t=t[0]),new o.ArrayObservable(t,c).lift(new s.CombineLatestOperator(r))}},{"../operators/combineLatest":214,"../util/isArray":331,"../util/isScheduler":338,"./ArrayObservable":154}],166:[function(t,e,r){"use strict";var n=t("../util/isScheduler"),i=t("./of"),o=t("./from"),s=t("../operators/concatAll");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length||2===t.length&&n.isScheduler(t[1])?o.from(t[0]):s.concatAll()(i.of.apply(void 0,t))}},{"../operators/concatAll":216,"../util/isScheduler":338,"./from":171,"./of":175}],167:[function(t,e,r){"use strict";var n=t("./DeferObservable");r.defer=n.DeferObservable.create},{"./DeferObservable":156}],168:[function(t,e,r){"use strict";function n(){if(p.root.XMLHttpRequest)return new p.root.XMLHttpRequest;if(p.root.XDomainRequest)return new p.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(p.root.XMLHttpRequest)return new p.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new p.root.ActiveXObject(t))break}catch(t){}return new p.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new g({method:"GET",url:t,headers:e})}function s(t,e,r){return new g({method:"POST",url:t,body:e,headers:r})}function c(t,e){return new g({method:"DELETE",url:t,headers:e})}function u(t,e,r){return new g({method:"PUT",url:t,body:e,headers:r})}function a(t,e,r){return new g({method:"PATCH",url:t,body:e,headers:r})}function l(t,e){return w(new g({method:"GET",url:t,responseType:"json",headers:e}))}function h(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var f=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},p=t("../../util/root"),b=t("../../util/tryCatch"),d=t("../../util/errorObject"),y=t("../../Observable"),v=t("../../Subscriber"),m=t("../../operators");r.ajaxGet=o,r.ajaxPost=s,r.ajaxDelete=c,r.ajaxPut=u,r.ajaxPatch=a;var w=m.map(function(t,e){return t.response});r.ajaxGetJSON=l;var g=function(t){function e(e){t.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?n.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)r.url=e;else for(var o in e)e.hasOwnProperty(o)&&(r[o]=e[o]);this.request=r}return f(e,t),e.prototype._subscribe=function(t){return new _(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=s,t.delete=c,t.put=u,t.patch=a,t.getJSON=l,t}(),e}(y.Observable);r.AjaxObservable=g;var _=function(t){function e(e,r){t.call(this,e),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||p.root.FormData&&r.body instanceof p.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return f(e,t),e.prototype.next=function(t){this.done=!0;var e=this,r=e.xhr,n=e.request,i=e.destination,o=new S(t,r,n);i.next(o)},e.prototype.send=function(){var t=this,e=t.request,r=t.request,n=r.user,i=r.method,o=r.url,s=r.async,c=r.password,u=r.headers,a=r.body,l=e.createXHR,h=b.tryCatch(l).call(e);if(h===d.errorObject)this.error(d.errorObject.e);else{this.xhr=h,this.setupEvents(h,e);if((n?b.tryCatch(h.open).call(h,i,o,s,n,c):b.tryCatch(h.open).call(h,i,o,s))===d.errorObject)return this.error(d.errorObject.e),null;if(s&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,u),(a?b.tryCatch(h.send).call(h,a):b.tryCatch(h.send).call(h))===d.errorObject)return this.error(d.errorObject.e),null}return h},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(p.root.FormData&&t instanceof p.root.FormData)return t;if(e){var r=e.indexOf(";");-1!==r&&(e=e.substring(0,r))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setRequestHeader(r,e[r])},e.prototype.setupEvents=function(t,e){function r(t){var e=r,n=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),n.error(new O(this,o))}function n(t){var e=n,r=e.subscriber,i=e.progressSubscriber,o=e.request;if(4===this.readyState){var s=1223===this.status?204:this.status,c="text"===this.responseType?this.response||this.responseText:this.response;0===s&&(s=c?200:0),200<=s&&s<300?(i&&i.complete(),r.next(t),r.complete()):(i&&i.error(t),r.error(new x("ajax error "+s,this,o)))}}var i=e.progressSubscriber;if(t.ontimeout=r,r.request=e,r.subscriber=this,r.progressSubscriber=i,t.upload&&"withCredentials"in t){if(i){var o;o=function(t){o.progressSubscriber.next(t)},p.root.XDomainRequest?t.onprogress=o:t.upload.onprogress=o,o.progressSubscriber=i}var s;s=function(t){var e=s,r=e.progressSubscriber,n=e.subscriber,i=e.request;r&&r.error(t),n.error(new x("ajax error",this,i))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=i}t.onreadystatechange=n,n.subscriber=this,n.progressSubscriber=i,n.request=e},e.prototype.unsubscribe=function(){var e=this,r=e.done,n=e.xhr;!r&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),t.prototype.unsubscribe.call(this)},e}(v.Subscriber);r.AjaxSubscriber=_;var S=function(){return function(t,e,r){this.originalEvent=t,this.xhr=e,this.request=r,this.status=e.status,this.responseType=e.responseType||r.responseType,this.response=h(this.responseType,e)}}();r.AjaxResponse=S;var x=function(t){function e(e,r,n){t.call(this,e),this.message=e,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=h(this.responseType,r)}return f(e,t),e}(Error);r.AjaxError=x;var O=function(t){function e(e,r){t.call(this,"ajax timeout",e,r)}return f(e,t),e}(x);r.AjaxTimeoutError=O},{"../../Observable":144,"../../Subscriber":151,"../../operators":241,"../../util/errorObject":329,"../../util/root":342,"../../util/tryCatch":345}],169:[function(t,e,r){"use strict";var n=t("./AjaxObservable");r.ajax=n.AjaxObservable.create},{"./AjaxObservable":168}],170:[function(t,e,r){"use strict";var n=t("./EmptyObservable");r.empty=n.EmptyObservable.create},{"./EmptyObservable":157}],171:[function(t,e,r){"use strict";var n=t("./FromObservable");r.from=n.FromObservable.create},{"./FromObservable":159}],172:[function(t,e,r){"use strict";var n=t("./FromEventObservable");r.fromEvent=n.FromEventObservable.create},{"./FromEventObservable":158}],173:[function(t,e,r){"use strict";var n=t("../operator/merge");r.merge=n.mergeStatic},{"../operator/merge":188}],174:[function(t,e,r){"use strict";var n=t("./NeverObservable");r.never=n.NeverObservable.create},{"./NeverObservable":161}],175:[function(t,e,r){"use strict";var n=t("./ArrayObservable");r.of=n.ArrayObservable.of},{"./ArrayObservable":154}],176:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/isArray"),o=t("../observable/ArrayObservable"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return new o.ArrayObservable(t).lift(new u)};var u=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}();r.RaceOperator=u;var a=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=c.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.OuterSubscriber);r.RaceSubscriber=a},{"../OuterSubscriber":146,"../observable/ArrayObservable":154,"../util/isArray":331,"../util/subscribeToResult":343}],177:[function(t,e,r){"use strict";var n=t("./TimerObservable");r.timer=n.TimerObservable.create},{"./TimerObservable":164}],178:[function(t,e,r){"use strict";var n=t("../operators/catchError");r._catch=function(t){return n.catchError(t)(this)}},{"../operators/catchError":212}],179:[function(t,e,r){"use strict";var n=t("../operators/concatMap");r.concatMap=function(t,e){return n.concatMap(t,e)(this)}},{"../operators/concatMap":217}],180:[function(t,e,r){"use strict";var n=t("../scheduler/async"),i=t("../operators/debounceTime");r.debounceTime=function(t,e){return void 0===e&&(e=n.async),i.debounceTime(t,e)(this)}},{"../operators/debounceTime":221,"../scheduler/async":314}],181:[function(t,e,r){"use strict";var n=t("../operators/distinctUntilChanged");r.distinctUntilChanged=function(t,e){return n.distinctUntilChanged(t,e)(this)}},{"../operators/distinctUntilChanged":227}],182:[function(t,e,r){"use strict";var n=t("../operators/tap");r._do=function(t,e,r){return n.tap(t,e,r)(this)}},{"../operators/tap":290}],183:[function(t,e,r){"use strict";var n=t("../operators/exhaustMap");r.exhaustMap=function(t,e){return n.exhaustMap(t,e)(this)}},{"../operators/exhaustMap":232}],184:[function(t,e,r){"use strict";var n=t("../operators/filter");r.filter=function(t,e){return n.filter(t,e)(this)}},{"../operators/filter":234}],185:[function(t,e,r){"use strict";var n=t("../operators/finalize");r._finally=function(t){return n.finalize(t)(this)}},{"../operators/finalize":235}],186:[function(t,e,r){"use strict";var n=t("../operators/map");r.map=function(t,e){return n.map(t,e)(this)}},{"../operators/map":244}],187:[function(t,e,r){"use strict";var n=t("../operators/mapTo");r.mapTo=function(t){return n.mapTo(t)(this)}},{"../operators/mapTo":245}],188:[function(t,e,r){"use strict";var n=t("../operators/merge"),i=t("../operators/merge");r.mergeStatic=i.mergeStatic,r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.merge.apply(void 0,t)(this)}},{"../operators/merge":248}],189:[function(t,e,r){"use strict";var n=t("../operators/mergeMap");r.mergeMap=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(t,e,r)(this)}},{"../operators/mergeMap":250}],190:[function(t,e,r){"use strict";var n=t("../operators/observeOn");r.observeOn=function(t,e){return void 0===e&&(e=0),n.observeOn(t,e)(this)}},{"../operators/observeOn":255}],191:[function(t,e,r){"use strict";var n=t("../operators/pairwise");r.pairwise=function(){return n.pairwise()(this)}},{"../operators/pairwise":257}],192:[function(t,e,r){"use strict";var n=t("../operators/partition");r.partition=function(t,e){return n.partition(t,e)(this)}},{"../operators/partition":258}],193:[function(t,e,r){"use strict";var n=t("../operators/repeatWhen");r.repeatWhen=function(t){return n.repeatWhen(t)(this)}},{"../operators/repeatWhen":268}],194:[function(t,e,r){"use strict";var n=t("../operators/sample");r.sample=function(t){return n.sample(t)(this)}},{"../operators/sample":271}],195:[function(t,e,r){"use strict";var n=t("../operators/share");r.share=function(){return n.share()(this)}},{"../operators/share":275}],196:[function(t,e,r){"use strict";var n=t("../operators/skipWhile");r.skipWhile=function(t){return n.skipWhile(t)(this)}},{"../operators/skipWhile":281}],197:[function(t,e,r){"use strict";var n=t("../operators/startWith");r.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.startWith.apply(void 0,t)(this)}},{"../operators/startWith":282}],198:[function(t,e,r){"use strict";var n=t("../operators/switchMap");r.switchMap=function(t,e){return n.switchMap(t,e)(this)}},{"../operators/switchMap":284}],199:[function(t,e,r){"use strict";var n=t("../operators/take");r.take=function(t){return n.take(t)(this)}},{"../operators/take":286}],200:[function(t,e,r){"use strict";var n=t("../operators/takeUntil");r.takeUntil=function(t){return n.takeUntil(t)(this)}},{"../operators/takeUntil":288}],201:[function(t,e,r){"use strict";var n=t("../scheduler/async"),i=t("../operators/timestamp");r.timestamp=function(t){return void 0===t&&(t=n.async),i.timestamp(t)(this)}},{"../operators/timestamp":296,"../scheduler/async":314}],202:[function(t,e,r){"use strict";var n=t("../Observable");r.toPromise=n.Observable.prototype.toPromise},{"../Observable":144}],203:[function(t,e,r){"use strict";var n=t("../operators/withLatestFrom");r.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.withLatestFrom.apply(void 0,t)(this)}},{"../operators/withLatestFrom":303}],204:[function(t,e,r){"use strict";var n=t("../operators/zip");r.zipProto=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.zip.apply(void 0,t)(this)}},{"../operators/zip":304}],205:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/tryCatch"),o=t("../util/errorObject"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.audit=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return n(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=i.tryCatch(this.durationSelector)(t);if(e===o.errorObject)this.destination.error(o.errorObject.e);else{var r=c.subscribeToResult(this,e);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},e.prototype.clearThrottle=function(){var t=this,e=t.value,r=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,r,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(s.OuterSubscriber)},{"../OuterSubscriber":146,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],206:[function(t,e,r){"use strict";var n=t("../scheduler/async"),i=t("./audit"),o=t("../observable/timer");r.auditTime=function(t,e){return void 0===e&&(e=n.async),i.audit(function(){return o.timer(t,e)})}},{"../observable/timer":177,"../scheduler/async":314,"./audit":205}],207:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.buffer=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingNotifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],208:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.bufferCount=function(t,e){return void 0===e&&(e=null),function(r){return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?c:s}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),s=function(t){function e(e,r){t.call(this,e),this.bufferSize=r,this.buffer=[]}return n(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.Subscriber),c=function(t){function e(e,r,n){t.call(this,e),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(e,t),e.prototype._next=function(t){var e=this,r=e.bufferSize,n=e.startBufferEvery,i=e.buffers,o=e.count;this.count++,o%n==0&&i.push([]);for(var s=i.length;s--;){var c=i[s];c.push(t),c.length===r&&(i.splice(s,1),this.destination.next(c))}},e.prototype._complete=function(){for(var e=this,r=e.buffers,n=e.destination;r.length>0;){var i=r.shift();i.length>0&&n.next(i)}t.prototype._complete.call(this)},e}(i.Subscriber)},{"../Subscriber":151}],209:[function(t,e,r){"use strict";function n(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function i(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),c=this;n.closed||(n.add(s.closeAction=i.schedule(o,r,{subscriber:n,context:s})),c.schedule(t,e))}function o(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var s=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=t("../scheduler/async"),u=t("../Subscriber"),a=t("../util/isScheduler");r.bufferTime=function(t){var e=arguments.length,r=c.async;a.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new l(t,n,i,r))}};var l=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),h=function(){return function(){this.buffer=[]}}(),f=function(t){function e(e,r,s,c,u){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=s,this.maxBufferSize=c,this.scheduler=u,this.contexts=[];var a=this.openContext();if(this.timespanOnly=null==s||s<0,this.timespanOnly){var l={subscriber:this,context:a,bufferTimeSpan:r};this.add(a.closeAction=u.schedule(n,r,l))}else{var h={subscriber:this,context:a},f={bufferTimeSpan:r,bufferCreationInterval:s,subscriber:this,scheduler:u};this.add(a.closeAction=u.schedule(o,r,h)),this.add(u.schedule(i,s,f))}}return s(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,r=e.contexts,n=e.destination;r.length>0;){var i=r.shift();n.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,i={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(n,r,i))}},e.prototype.openContext=function(){var t=new h;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(u.Subscriber)},{"../Subscriber":151,"../scheduler/async":314,"../util/isScheduler":338}],210:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscription"),o=t("../util/subscribeToResult"),s=t("../OuterSubscriber");r.bufferToggle=function(t,e){return function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.openings,this.closingSelector))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new i.Subscription,n={buffer:[],subscription:r};e.push(n);var s=o.subscribeToResult(this,t,n);!s||s.closed?this.closeBuffer(n):(s.context=n,this.add(s),r.add(s))},e}(s.OuterSubscriber)},{"../OuterSubscriber":146,"../Subscription":152,"../util/subscribeToResult":343}],211:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscription"),o=t("../util/tryCatch"),s=t("../util/errorObject"),c=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.bufferWhen=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,n,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=o.tryCatch(this.closingSelector)();r===s.errorObject?this.error(s.errorObject.e):(t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(u.subscribeToResult(this,r)),this.subscribing=!1)},e}(c.OuterSubscriber)},{"../OuterSubscriber":146,"../Subscription":152,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],212:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.catchError=function(t){return function(e){var r=new s(t),n=e.lift(r);return r.caught=n}};var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.selector=r,this.caught=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,r))}},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],213:[function(t,e,r){"use strict";var n=t("../operators/combineLatest");r.combineAll=function(t){return function(e){return e.lift(new n.CombineLatestOperator(t))}}},{"../operators/combineLatest":214}],214:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../observable/ArrayObservable"),o=t("../util/isArray"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult"),u={};r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(new i.ArrayObservable([e].concat(t)),new a(r))}};var a=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}();r.CombineLatestOperator=a;var l=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(c.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.values,s=o[r],c=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[r]=e,0===c&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.OuterSubscriber);r.CombineLatestSubscriber=l},{"../OuterSubscriber":146,"../observable/ArrayObservable":154,"../util/isArray":331,"../util/subscribeToResult":343}],215:[function(t,e,r){"use strict";var n=t("../observable/concat");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.concat.apply(void 0,[e].concat(t)))}}},{"../observable/concat":166}],216:[function(t,e,r){"use strict";var n=t("./mergeAll");r.concatAll=function(){return n.mergeAll(1)}},{"./mergeAll":249}],217:[function(t,e,r){"use strict";var n=t("./mergeMap");r.concatMap=function(t,e){return n.mergeMap(t,e,1)}},{"./mergeMap":250}],218:[function(t,e,r){"use strict";var n=t("./concatMap");r.concatMapTo=function(t,e){return n.concatMap(function(){return t},e)}},{"./concatMap":217}],219:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.count=function(t){return function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.count=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)},{"../Subscriber":151}],220:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.debounce=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector))},t}(),c=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],221:[function(t,e,r){"use strict";function n(t){t.debouncedNext()}var i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../scheduler/async");r.debounceTime=function(t,e){return void 0===e&&(e=s.async),function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(n,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(o.Subscriber)},{"../Subscriber":151,"../scheduler/async":314}],222:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return n(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},{"../Subscriber":151}],223:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../scheduler/async"),o=t("../util/isDate"),s=t("../Subscriber"),c=t("../Notification");r.delay=function(t,e){void 0===e&&(e=i.async);var r=o.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new u(r,e))}};var u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.delay,this.scheduler))},t}(),a=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new l(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(c.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(c.Notification.createComplete())},e}(s.Subscriber),l=function(){return function(t,e){this.time=t,this.notification=e}}()},{"../Notification":143,"../Subscriber":151,"../scheduler/async":314,"../util/isDate":333}],224:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../Observable"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.delayWhen=function(t,e){return e?function(r){return new l(r,e).lift(new u(t))}:function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.delayDurationSelector))},t}(),a=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=c.subscribeToResult(this,t,e);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(s.OuterSubscriber),l=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return n(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new h(t,this.source))},e}(o.Observable),h=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return n(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)},{"../Observable":144,"../OuterSubscriber":146,"../Subscriber":151,"../util/subscribeToResult":343}],225:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.dematerialize=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)},{"../Subscriber":151}],226:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult"),s=t("../util/Set");r.distinct=function(t,e){return function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.keySelector,this.flushes))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.keySelector=r,this.values=new s.Set,n&&this.add(o.subscribeToResult(this,n))}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(i.OuterSubscriber);r.DistinctSubscriber=u},{"../OuterSubscriber":146,"../util/Set":326,"../util/subscribeToResult":343}],227:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/tryCatch"),s=t("../util/errorObject");r.distinctUntilChanged=function(t,e){return function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.compare,this.keySelector))},t}(),u=function(t){function e(e,r,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=o.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=o.tryCatch(this.compare)(this.key,e))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=e,this.destination.next(t))},e}(i.Subscriber)},{"../Subscriber":151,"../util/errorObject":329,"../util/tryCatch":345}],228:[function(t,e,r){"use strict";var n=t("./distinctUntilChanged");r.distinctUntilKeyChanged=function(t,e){return n.distinctUntilChanged(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}},{"./distinctUntilChanged":227}],229:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/ArgumentOutOfRangeError");r.elementAt=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.index,this.defaultValue))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.index=r,this.defaultValue=n}return n(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new o.ArgumentOutOfRangeError)),t.complete()},e}(i.Subscriber)},{"../Subscriber":151,"../util/ArgumentOutOfRangeError":320}],230:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.every=function(t,e){return function(r){return r.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg,this.source))},t}(),s=function(t){function e(e,r,n,i){t.call(this,e),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return n(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},{"../Subscriber":151}],231:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.exhaust=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return n(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],232:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.exhaustMap=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(o.subscribeToResult(this,n,t,e))}catch(t){r.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,c=o.destination;s?this.trySelectResult(t,e,r,n):c.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i=this,o=i.resultSelector,s=i.destination;try{var c=o(t,e,r,n);s.next(c)}catch(t){s.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],233:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/tryCatch"),o=t("../util/errorObject"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.expand=function(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new u(t,e,r))}};var u=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.concurrent,this.scheduler))},t}();r.ExpandOperator=u;var a=function(t){function e(e,r,n,i){t.call(this,e),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(t);var s=i.tryCatch(this.project)(t,n);if(s===o.errorObject)r.error(o.errorObject.e);else if(this.scheduler){var c={subscriber:this,result:s,value:t,index:n};this.add(this.scheduler.schedule(e.dispatch,0,c))}else this.subscribeToProjection(s,t,n)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(c.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(s.OuterSubscriber);r.ExpandSubscriber=a},{"../OuterSubscriber":146,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],234:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.filter=function(t,e){return function(r){return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.thisArg=n,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},{"../Subscriber":151}],235:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../Subscription");r.finalize=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.callback))},t}(),c=function(t){function e(e,r){t.call(this,e),this.add(new o.Subscription(r))}return n(e,t),e}(i.Subscriber)},{"../Subscriber":151,"../Subscription":152}],236:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.find=function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new o(t,r,!1,e))}};var o=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();r.FindValueOperator=o;var s=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return n(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,r=e.predicate,n=e.thisArg,i=this.index++;try{r.call(n||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber);r.FindValueSubscriber=s},{"../Subscriber":151}],237:[function(t,e,r){"use strict";var n=t("../operators/find");r.findIndex=function(t,e){return function(r){return r.lift(new n.FindValueOperator(t,r,!0,e))}}},{"../operators/find":236}],238:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/EmptyError");r.first=function(t,e,r){return function(n){return n.lift(new s(t,e,r,n))}};var s=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new o.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},{"../Subscriber":151,"../util/EmptyError":321}],239:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../Subscription"),s=t("../Observable"),c=t("../Subject"),u=t("../util/Map"),a=t("../util/FastMap");r.groupBy=function(t,e,r,n){return function(i){return i.lift(new l(t,e,r,n))}};var l=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),h=function(t){function e(e,r,n,i,o){t.call(this,e),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new a.FastMap:new u.Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new c.Subject,r.set(e,i);var o=new p(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new p(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),f=function(t){function e(e,r,n){t.call(this,r),this.key=e,this.group=r,this.parent=n}return n(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,e=t.parent,r=t.key;this.key=this.parent=null,e&&e.removeGroup(r)},e}(i.Subscriber),p=function(t){function e(e,r,n){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=n}return n(e,t),e.prototype._subscribe=function(t){var e=new o.Subscription,r=this,n=r.refCountSubscription,i=r.groupSubject;return n&&!n.closed&&e.add(new b(n)),e.add(i.subscribe(t)),e},e}(s.Observable);r.GroupedObservable=p;var b=function(t){function e(e){t.call(this),this.parent=e,e.count++}return n(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.Subscription)},{"../Observable":144,"../Subject":149,"../Subscriber":151,"../Subscription":152,"../util/FastMap":322,"../util/Map":323}],240:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/noop");r.ignoreElements=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype._next=function(t){o.noop()},e}(i.Subscriber)},{"../Subscriber":151,"../util/noop":339}],241:[function(t,e,r){"use strict";var n=t("./audit");r.audit=n.audit;var i=t("./auditTime");r.auditTime=i.auditTime;var o=t("./buffer");r.buffer=o.buffer;var s=t("./bufferCount");r.bufferCount=s.bufferCount;var c=t("./bufferTime");r.bufferTime=c.bufferTime;var u=t("./bufferToggle");r.bufferToggle=u.bufferToggle;var a=t("./bufferWhen");r.bufferWhen=a.bufferWhen;var l=t("./catchError");r.catchError=l.catchError;var h=t("./combineAll");r.combineAll=h.combineAll;var f=t("./combineLatest");r.combineLatest=f.combineLatest;var p=t("./concat");r.concat=p.concat;var b=t("./concatAll");r.concatAll=b.concatAll;var d=t("./concatMap");r.concatMap=d.concatMap;var y=t("./concatMapTo");r.concatMapTo=y.concatMapTo;var v=t("./count");r.count=v.count;var m=t("./debounce");r.debounce=m.debounce;var w=t("./debounceTime");r.debounceTime=w.debounceTime;var g=t("./defaultIfEmpty");r.defaultIfEmpty=g.defaultIfEmpty;var _=t("./delay");r.delay=_.delay;var S=t("./delayWhen");r.delayWhen=S.delayWhen;var x=t("./dematerialize");r.dematerialize=x.dematerialize;var O=t("./distinct");r.distinct=O.distinct;var j=t("./distinctUntilChanged");r.distinctUntilChanged=j.distinctUntilChanged;var T=t("./distinctUntilKeyChanged");r.distinctUntilKeyChanged=T.distinctUntilKeyChanged;var E=t("./elementAt");r.elementAt=E.elementAt;var A=t("./every");r.every=A.every;var k=t("./exhaust");r.exhaust=k.exhaust;var M=t("./exhaustMap");r.exhaustMap=M.exhaustMap;var P=t("./expand");r.expand=P.expand;var C=t("./filter");r.filter=C.filter;var N=t("./finalize");r.finalize=N.finalize;var R=t("./find");r.find=R.find;var I=t("./findIndex");r.findIndex=I.findIndex;var F=t("./first");r.first=F.first;var L=t("./groupBy");r.groupBy=L.groupBy;var D=t("./ignoreElements");r.ignoreElements=D.ignoreElements;var z=t("./isEmpty");r.isEmpty=z.isEmpty;var U=t("./last");r.last=U.last;var V=t("./map");r.map=V.map;var q=t("./mapTo");r.mapTo=q.mapTo;var W=t("./materialize");r.materialize=W.materialize;var B=t("./max");r.max=B.max;var H=t("./merge");r.merge=H.merge;var X=t("./mergeAll");r.mergeAll=X.mergeAll;var $=t("./mergeMap");r.mergeMap=$.mergeMap;var Y=t("./mergeMap");r.flatMap=Y.mergeMap;var G=t("./mergeMapTo");r.mergeMapTo=G.mergeMapTo;var K=t("./mergeScan");r.mergeScan=K.mergeScan;var J=t("./min");r.min=J.min;var Z=t("./multicast");r.multicast=Z.multicast;var Q=t("./observeOn");r.observeOn=Q.observeOn;var tt=t("./onErrorResumeNext");r.onErrorResumeNext=tt.onErrorResumeNext;var et=t("./pairwise");r.pairwise=et.pairwise;var rt=t("./partition");r.partition=rt.partition;var nt=t("./pluck");r.pluck=nt.pluck;var it=t("./publish");r.publish=it.publish;var ot=t("./publishBehavior");r.publishBehavior=ot.publishBehavior;var st=t("./publishLast");r.publishLast=st.publishLast;var ct=t("./publishReplay");r.publishReplay=ct.publishReplay;var ut=t("./race");r.race=ut.race;var at=t("./reduce");r.reduce=at.reduce;var lt=t("./repeat");r.repeat=lt.repeat;var ht=t("./repeatWhen");r.repeatWhen=ht.repeatWhen;var ft=t("./retry");r.retry=ft.retry;var pt=t("./retryWhen");r.retryWhen=pt.retryWhen;var bt=t("./refCount");r.refCount=bt.refCount;var dt=t("./sample");r.sample=dt.sample;var yt=t("./sampleTime");r.sampleTime=yt.sampleTime;var vt=t("./scan");r.scan=vt.scan;var mt=t("./sequenceEqual");r.sequenceEqual=mt.sequenceEqual;var wt=t("./share");r.share=wt.share;var gt=t("./shareReplay");r.shareReplay=gt.shareReplay;var _t=t("./single");r.single=_t.single;var St=t("./skip");r.skip=St.skip;var xt=t("./skipLast");r.skipLast=xt.skipLast;var Ot=t("./skipUntil");r.skipUntil=Ot.skipUntil;var jt=t("./skipWhile");r.skipWhile=jt.skipWhile;var Tt=t("./startWith");r.startWith=Tt.startWith;var Et=t("./switchAll");r.switchAll=Et.switchAll;var At=t("./switchMap");r.switchMap=At.switchMap;var kt=t("./switchMapTo");r.switchMapTo=kt.switchMapTo;var Mt=t("./take");r.take=Mt.take;var Pt=t("./takeLast");r.takeLast=Pt.takeLast;var Ct=t("./takeUntil");r.takeUntil=Ct.takeUntil;var Nt=t("./takeWhile");r.takeWhile=Nt.takeWhile;var Rt=t("./tap");r.tap=Rt.tap;var It=t("./throttle");r.throttle=It.throttle;var Ft=t("./throttleTime");r.throttleTime=Ft.throttleTime;var Lt=t("./timeInterval");r.timeInterval=Lt.timeInterval;var Dt=t("./timeout");r.timeout=Dt.timeout;var zt=t("./timeoutWith");r.timeoutWith=zt.timeoutWith;var Ut=t("./timestamp");r.timestamp=Ut.timestamp;var Vt=t("./toArray");r.toArray=Vt.toArray;var qt=t("./window");r.window=qt.window;var Wt=t("./windowCount");r.windowCount=Wt.windowCount;var Bt=t("./windowTime");r.windowTime=Bt.windowTime;var Ht=t("./windowToggle");r.windowToggle=Ht.windowToggle;var Xt=t("./windowWhen");r.windowWhen=Xt.windowWhen;var $t=t("./withLatestFrom");r.withLatestFrom=$t.withLatestFrom;var Yt=t("./zip");r.zip=Yt.zip;var Gt=t("./zipAll");r.zipAll=Gt.zipAll},{"./audit":205,"./auditTime":206,"./buffer":207,"./bufferCount":208,"./bufferTime":209,"./bufferToggle":210,"./bufferWhen":211,"./catchError":212,"./combineAll":213,"./combineLatest":214,"./concat":215,"./concatAll":216,"./concatMap":217,"./concatMapTo":218,"./count":219,"./debounce":220,"./debounceTime":221,"./defaultIfEmpty":222,"./delay":223,"./delayWhen":224,"./dematerialize":225,"./distinct":226,"./distinctUntilChanged":227,"./distinctUntilKeyChanged":228,"./elementAt":229,"./every":230,"./exhaust":231,"./exhaustMap":232,"./expand":233,"./filter":234,"./finalize":235,"./find":236,"./findIndex":237,"./first":238,"./groupBy":239,"./ignoreElements":240,"./isEmpty":242,"./last":243,"./map":244,"./mapTo":245,"./materialize":246,"./max":247,"./merge":248,"./mergeAll":249,"./mergeMap":250,"./mergeMapTo":251,"./mergeScan":252,"./min":253,"./multicast":254,"./observeOn":255,"./onErrorResumeNext":256,"./pairwise":257,"./partition":258,"./pluck":259,"./publish":260,"./publishBehavior":261,"./publishLast":262,"./publishReplay":263,"./race":264,"./reduce":265,"./refCount":266,"./repeat":267,"./repeatWhen":268,"./retry":269,"./retryWhen":270,"./sample":271,"./sampleTime":272,"./scan":273,"./sequenceEqual":274,"./share":275,"./shareReplay":276,"./single":277,"./skip":278,"./skipLast":279,"./skipUntil":280,"./skipWhile":281,"./startWith":282,"./switchAll":283,"./switchMap":284,"./switchMapTo":285,"./take":286,"./takeLast":287,"./takeUntil":288,"./takeWhile":289,"./tap":290,"./throttle":291,"./throttleTime":292,"./timeInterval":293,"./timeout":294,"./timeoutWith":295,"./timestamp":296,"./toArray":297,"./window":298,"./windowCount":299,"./windowTime":300,"./windowToggle":301,"./windowWhen":302,"./withLatestFrom":303,"./zip":304,"./zipAll":305}],242:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.isEmpty=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},{"../Subscriber":151}],243:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/EmptyError");r.last=function(t,e,r){return function(n){return n.lift(new s(t,e,r,n))}};var s=function(){function t(t,e,r,n){this.predicate=t,this.resultSelector=e,this.defaultValue=r,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),c=function(t){function e(e,r,n,i,o){t.call(this,e),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return n(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},{"../Subscriber":151,"../util/EmptyError":321}],244:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();r.MapOperator=o;var s=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.count=0,this.thisArg=n||this}return n(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},{"../Subscriber":151}],245:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.mapTo=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,r){t.call(this,e),this.value=r}return n(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)},{"../Subscriber":151}],246:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../Notification");r.materialize=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new c(t))},t}(),c=function(t){function e(e){t.call(this,e)}return n(e,t),e.prototype._next=function(t){this.destination.next(o.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(o.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(o.Notification.createComplete()),t.complete()},e}(i.Subscriber)},{"../Notification":143,"../Subscriber":151}],247:[function(t,e,r){"use strict";var n=t("./reduce");r.max=function(t){var e="function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e};return n.reduce(e)}},{"./reduce":265}],248:[function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return c.isScheduler(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof u&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof i.Observable?t[0]:s.mergeAll(r)(new o.ArrayObservable(t,n))}var i=t("../Observable"),o=t("../observable/ArrayObservable"),s=t("./mergeAll"),c=t("../util/isScheduler");r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.apply(void 0,[e].concat(t)))}},r.mergeStatic=n},{"../Observable":144,"../observable/ArrayObservable":154,"../util/isScheduler":338,"./mergeAll":249}],249:[function(t,e,r){"use strict";var n=t("./mergeMap"),i=t("../util/identity");r.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,t)}},{"../util/identity":330,"./mergeMap":250}],250:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/subscribeToResult"),o=t("../OuterSubscriber");r.mergeMap=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof e&&(r=e,e=null),n.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.resultSelector,this.concurrent))},t}();r.MergeMapOperator=s;var c=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(i.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);r.MergeMapSubscriber=c},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],251:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.mergeMapTo=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),function(n){return n.lift(new s(t,e,r))}};var s=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.ish,this.resultSelector,this.concurrent))},t}();r.MergeMapToOperator=s;var c=function(t){function e(e,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,n,i){this.add(o.subscribeToResult(this,t,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,c=o.destination;s?this.trySelectResult(t,e,r,n):c.next(e)},e.prototype.trySelectResult=function(t,e,r,n){var i,o=this,s=o.resultSelector,c=o.destination;try{i=s(t,e,r,n)}catch(t){return void c.error(t)}c.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);r.MergeMapToSubscriber=c},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],252:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/tryCatch"),o=t("../util/errorObject"),s=t("../util/subscribeToResult"),c=t("../OuterSubscriber");r.mergeScan=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new u(t,e,r))}};var u=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.concurrent))},t}();r.MergeScanOperator=u;var a=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=i.tryCatch(this.accumulator)(this.acc,t),n=this.destination;r===o.errorObject?n.error(o.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(s.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(c.OuterSubscriber);r.MergeScanSubscriber=a},{"../OuterSubscriber":146,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],253:[function(t,e,r){"use strict";var n=t("./reduce");r.min=function(t){var e="function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e};return n.reduce(e)}},{"./reduce":265}],254:[function(t,e,r){"use strict";var n=t("../observable/ConnectableObservable");r.multicast=function(t,e){return function(r){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new i(o,e));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=o,s}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}();r.MulticastOperator=i},{"../observable/ConnectableObservable":155}],255:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../Notification");r.observeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}();r.ObserveOnOperator=s;var c=function(t){function e(e,r,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=r,this.delay=n}return n(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new u(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},e}(i.Subscriber);r.ObserveOnSubscriber=c;var u=function(){return function(t,e){this.notification=t,this.destination=e}}();r.ObserveOnMessage=u},{"../Notification":143,"../Subscriber":151}],256:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../observable/FromObservable"),o=t("../util/isArray"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&o.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new u(t))}},r.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return 1===t.length&&o.isArray(t[0])&&(t=t[0]),r=t.shift(),new i.FromObservable(r,null).lift(new u(t))};var u=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.nextSources))},t}(),a=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return n(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(c.subscribeToResult(this,t)):this.destination.complete()},e}(s.OuterSubscriber)},{"../OuterSubscriber":146,"../observable/FromObservable":159,"../util/isArray":331,"../util/subscribeToResult":343}],257:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.pairwise=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return n(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(i.Subscriber)},{"../Subscriber":151}],258:[function(t,e,r){"use strict";var n=t("../util/not"),i=t("./filter");r.partition=function(t,e){return function(r){return[i.filter(t,e)(r),i.filter(n.not(t,e))(r)]}}},{"../util/not":340,"./filter":234}],259:[function(t,e,r){"use strict";function n(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=n[t[i]];if(void 0===o)return;n=o}return n}}var i=t("./map");r.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return i.map(n(t,r))(e)}}},{"./map":244}],260:[function(t,e,r){"use strict";var n=t("../Subject"),i=t("./multicast");r.publish=function(t){return t?i.multicast(function(){return new n.Subject},t):i.multicast(new n.Subject)}},{"../Subject":149,"./multicast":254}],261:[function(t,e,r){"use strict";var n=t("../BehaviorSubject"),i=t("./multicast");r.publishBehavior=function(t){return function(e){return i.multicast(new n.BehaviorSubject(t))(e)}}},{"../BehaviorSubject":141,"./multicast":254}],262:[function(t,e,r){"use strict";var n=t("../AsyncSubject"),i=t("./multicast");r.publishLast=function(){return function(t){return i.multicast(new n.AsyncSubject)(t)}}},{"../AsyncSubject":140,"./multicast":254}],263:[function(t,e,r){"use strict";var n=t("../ReplaySubject"),i=t("./multicast");r.publishReplay=function(t,e,r,o){r&&"function"!=typeof r&&(o=r);var s="function"==typeof r?r:void 0,c=new n.ReplaySubject(t,e,o);return function(t){return i.multicast(function(){return c},s)(t)}}},{"../ReplaySubject":147,"./multicast":254}],264:[function(t,e,r){"use strict";var n=t("../util/isArray"),i=t("../observable/race");r.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return 1===t.length&&n.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},{"../observable/race":176,"../util/isArray":331}],265:[function(t,e,r){"use strict";var n=t("./scan"),i=t("./takeLast"),o=t("./defaultIfEmpty"),s=t("../util/pipe");r.reduce=function(t,e){return arguments.length>=2?function(r){return s.pipe(n.scan(t,e),i.takeLast(1),o.defaultIfEmpty(e))(r)}:function(e){return s.pipe(n.scan(function(e,r,n){return t(e,r,n+1)}),i.takeLast(1))(e)}}},{"../util/pipe":341,"./defaultIfEmpty":222,"./scan":273,"./takeLast":287}],266:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.refCount=function(){return function(t){return t.lift(new o(t))}};var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new s(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),s=function(t){function e(e,r){t.call(this,e),this.connectable=r}return n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},{"../Subscriber":151}],267:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../observable/EmptyObservable");r.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?new o.EmptyObservable:t<0?e.lift(new s(-1,e)):e.lift(new s(t-1,e))}};var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.count,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return n(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,r=e.source,n=e.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},{"../Subscriber":151,"../observable/EmptyObservable":157}],268:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subject"),o=t("../util/tryCatch"),s=t("../util/errorObject"),c=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.repeatWhen=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,e))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this,e=t.notifications,r=t.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this,r=e.notifications,n=e.retries,i=e.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=r,this.retries=n,this.retriesSubscription=i,this},e.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var e=o.tryCatch(this.notifier)(this.notifications);if(e===s.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=u.subscribeToResult(this,e)},e}(c.OuterSubscriber)},{"../OuterSubscriber":146,"../Subject":149,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],269:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,r,n){t.call(this,e),this.count=r,this.source=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},{"../Subscriber":151}],270:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subject"),o=t("../util/tryCatch"),s=t("../util/errorObject"),c=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.retryWhen=function(t){return function(e){return e.lift(new a(t,e))}};var a=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,this.source))},t}(),l=function(t){function e(e,r,n){t.call(this,e),this.notifier=r,this.source=n}return n(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,c=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new i.Subject,(n=o.tryCatch(this.notifier)(r))===s.errorObject)return t.prototype.error.call(this,s.errorObject.e);c=u.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=c,r.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,r=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),r&&(r.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.errors,c=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=c,this.retriesSubscription=u,this.source.subscribe(this)},e}(c.OuterSubscriber)},{"../OuterSubscriber":146,"../Subject":149,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],271:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.sample=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new c(t),n=e.subscribe(r);return n.add(o.subscribeToResult(r,this.notifier)),n},t}(),c=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return n(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],272:[function(t,e,r){"use strict";function n(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}var i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../scheduler/async");r.sampleTime=function(t,e){return void 0===e&&(e=s.async),function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.period,this.scheduler))},t}(),u=function(t){function e(e,r,i){t.call(this,e),this.period=r,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(n,r,{subscriber:this,period:r}))}return i(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(o.Subscriber)},{"../Subscriber":151,"../scheduler/async":314}],273:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.scan=function(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,r,n,i){t.call(this,e),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return n(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},{"../Subscriber":151}],274:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/tryCatch"),s=t("../util/errorObject");r.sequenceEqual=function(t,e){return function(r){return r.lift(new c(t,e))}};var c=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.compareTo,this.comparor))},t}();r.SequenceEqualOperator=c;var u=function(t){function e(e,r,n){t.call(this,e),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new a(e,this)))}return n(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,r=t._b,n=t.comparor;e.length>0&&r.length>0;){var i=e.shift(),c=r.shift(),u=!1;n?(u=o.tryCatch(n)(i,c))===s.errorObject&&this.destination.error(s.errorObject.e):u=i===c,u||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(i.Subscriber);r.SequenceEqualSubscriber=u;var a=function(t){function e(e,r){t.call(this,e),this.parent=r}return n(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(i.Subscriber)},{"../Subscriber":151,"../util/errorObject":329,"../util/tryCatch":345}],275:[function(t,e,r){"use strict";function n(){return new s.Subject}var i=t("./multicast"),o=t("./refCount"),s=t("../Subject");r.share=function(){return function(t){return o.refCount()(i.multicast(n)(t))}}},{"../Subject":149,"./multicast":254,"./refCount":266}],276:[function(t,e,r){"use strict";function n(t,e,r){var n,o,s=0,c=!1,u=!1;return function(a){s++,n&&!c||(c=!1,n=new i.ReplaySubject(t,e,r),o=a.subscribe({next:function(t){n.next(t)},error:function(t){c=!0,n.error(t)},complete:function(){u=!0,n.complete()}}));var l=n.subscribe(this);return function(){s--,l.unsubscribe(),o&&0===s&&u&&o.unsubscribe()}}}var i=t("../ReplaySubject");r.shareReplay=function(t,e,r){return function(i){return i.lift(n(t,e,r))}}},{"../ReplaySubject":147}],277:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/EmptyError");r.single=function(t){return function(e){return e.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.predicate,this.source))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return n(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},{"../Subscriber":151,"../util/EmptyError":321}],278:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.skip=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.total))},t}(),s=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)},{"../Subscriber":151}],279:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/ArgumentOutOfRangeError");r.skipLast=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.Subscriber(t)):e.subscribe(new c(t,this._skipCount))},t}(),c=function(t){function e(e,r){t.call(this,e),this._skipCount=r,this._count=0,this._ring=new Array(r)}return n(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,o=i[n];i[n]=t,this.destination.next(o)}},e}(i.Subscriber)},{"../Subscriber":151,"../util/ArgumentOutOfRangeError":320}],280:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.skipUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],281:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.skipWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(i.Subscriber)},{"../Subscriber":151}],282:[function(t,e,r){"use strict";var n=t("../observable/ArrayObservable"),i=t("../observable/ScalarObservable"),o=t("../observable/EmptyObservable"),s=t("../observable/concat"),c=t("../util/isScheduler");r.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var r=t[t.length-1];c.isScheduler(r)?t.pop():r=null;var u=t.length;return 1===u?s.concat(new i.ScalarObservable(t[0],r),e):u>1?s.concat(new n.ArrayObservable(t,r),e):s.concat(new o.EmptyObservable(r),e)}}},{"../observable/ArrayObservable":154,"../observable/EmptyObservable":157,"../observable/ScalarObservable":163,"../observable/concat":166,"../util/isScheduler":338}],283:[function(t,e,r){"use strict";var n=t("./switchMap"),i=t("../util/identity");r.switchAll=function(){return n.switchMap(i.identity)}},{"../util/identity":330,"./switchMap":284}],284:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.switchMap=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.project=r,this.resultSelector=n,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.resultSelector?this._tryNotifyNext(t,e,r,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,n){var i;try{i=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],285:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.switchMapTo=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.observable,this.resultSelector))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.inner=r,this.resultSelector=n,this.index=0}return n(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this,s=o.resultSelector,c=o.destination;s?this.tryResultSelector(t,e,r,n):c.next(e)},e.prototype.tryResultSelector=function(t,e,r,n){var i,o=this,s=o.resultSelector,c=o.destination;try{i=s(t,e,r,n)}catch(t){return void c.error(t)}c.next(i)},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],286:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/ArgumentOutOfRangeError"),s=t("../observable/EmptyObservable");r.take=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new c(t))}};var c=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},{"../Subscriber":151,"../observable/EmptyObservable":157,"../util/ArgumentOutOfRangeError":320}],287:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../util/ArgumentOutOfRangeError"),s=t("../observable/EmptyObservable");r.takeLast=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new c(t))}};var c=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return n(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(i.Subscriber)},{"../Subscriber":151,"../observable/EmptyObservable":157,"../util/ArgumentOutOfRangeError":320}],288:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.takeUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(o.subscribeToResult(this,r))}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],289:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.takeWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return n(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(i.Subscriber)},{"../Subscriber":151}],290:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber");r.tap=function(t,e,r){return function(n){return n.lift(new o(t,e,r))}};var o=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,r,n,o){t.call(this,e);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(i.Subscriber)},{"../Subscriber":151}],291:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.defaultThrottleConfig={leading:!0,trailing:!1},r.throttle=function(t,e){return void 0===e&&(e=r.defaultThrottleConfig),function(r){return r.lift(new s(t,e.leading,e.trailing))}};var s=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector,this.leading,this.trailing))},t}(),c=function(t){function e(e,r,n,i){t.call(this,e),this.destination=e,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return n(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=o.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype._unsubscribe=function(){var t=this,e=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,r=t.throttled,n=t._trailing,i=t._trailingValue,o=t._hasTrailingValue;r&&n&&o&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,r,n,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],292:[function(t,e,r){"use strict";function n(t){t.subscriber.clearThrottle()}var i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../Subscriber"),s=t("../scheduler/async"),c=t("./throttle");r.throttleTime=function(t,e,r){return void 0===e&&(e=s.async),void 0===r&&(r=c.defaultThrottleConfig),function(n){return n.lift(new u(t,e,r.leading,r.trailing))}};var u=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),a=function(t){function e(e,r,n,i,o){t.call(this,e),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return i(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(n,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(o.Subscriber)},{"../Subscriber":151,"../scheduler/async":314,"./throttle":291}],293:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../scheduler/async");r.timeInterval=function(t){return void 0===t&&(t=o.async),function(e){return e.lift(new c(t))}};var s=function(){return function(t,e){this.value=t,this.interval=e}}();r.TimeInterval=s;var c=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler))},t}(),u=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new s(t,r))},e}(i.Subscriber)},{"../Subscriber":151,"../scheduler/async":314}],294:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../scheduler/async"),o=t("../util/isDate"),s=t("../Subscriber"),c=t("../util/TimeoutError");r.timeout=function(t,e){void 0===e&&(e=i.async);var r=o.isDate(t),n=r?+t-e.now():Math.abs(t);return function(t){return t.lift(new u(n,r,e,new c.TimeoutError))}};var u=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=r,this.errorInstance=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),a=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return n(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(s.Subscriber)},{"../Subscriber":151,"../scheduler/async":314,"../util/TimeoutError":327,"../util/isDate":333}],295:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../scheduler/async"),o=t("../util/isDate"),s=t("../OuterSubscriber"),c=t("../util/subscribeToResult");r.timeoutWith=function(t,e,r){return void 0===r&&(r=i.async),function(n){var i=o.isDate(t),s=i?+t-r.now():Math.abs(t);return n.lift(new u(s,i,e,r))}};var u=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),a=function(t){function e(e,r,n,i,o){t.call(this,e),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return n(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(c.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(s.OuterSubscriber)},{"../OuterSubscriber":146,"../scheduler/async":314,"../util/isDate":333,"../util/subscribeToResult":343}],296:[function(t,e,r){"use strict";var n=t("../scheduler/async"),i=t("./map");r.timestamp=function(t){return void 0===t&&(t=n.async),i.map(function(e){return new o(e,t.now())})};var o=function(){return function(t,e){this.value=t,this.timestamp=e}}();r.Timestamp=o},{"../scheduler/async":314,"./map":244}],297:[function(t,e,r){"use strict";function n(t,e,r){return t.push(e),t}var i=t("./reduce");r.toArray=function(){return i.reduce(n,[])}},{"./reduce":265}],298:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subject"),o=t("../OuterSubscriber"),s=t("../util/subscribeToResult");r.window=function(t){return function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new u(t),n=e.subscribe(r);return n.closed||r.add(s.subscribeToResult(r,this.windowBoundaries)),n},t}(),u=function(t){function e(e){t.call(this,e),this.window=new i.Subject,e.next(this.window)}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new i.Subject;e.next(r)},e}(o.OuterSubscriber)},{"../OuterSubscriber":146,"../Subject":149,"../util/subscribeToResult":343}],299:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subscriber"),o=t("../Subject");r.windowCount=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.windowSize,this.startWindowEvery))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=n,this.windows=[new o.Subject],this.count=0,e.next(this.windows[0])}return n(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,s=i.length,c=0;c<s&&!this.closed;c++)i[c].next(t);var u=this.count-n+1;if(u>=0&&u%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var a=new o.Subject;i.push(a),r.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)},{"../Subject":149,"../Subscriber":151}],300:[function(t,e,r){"use strict";function n(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function i(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=this,c={action:s,subscription:null},u={subscriber:r,window:r.openWindow(),context:c};c.subscription=n.schedule(o,e,u),s.add(c.subscription),s.schedule(t,i)}function o(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}var s=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},c=t("../Subject"),u=t("../scheduler/async"),a=t("../Subscriber"),l=t("../util/isNumeric"),h=t("../util/isScheduler");r.windowTime=function(t){var e=u.async,r=null,n=Number.POSITIVE_INFINITY;return h.isScheduler(arguments[3])&&(e=arguments[3]),h.isScheduler(arguments[2])?e=arguments[2]:l.isNumeric(arguments[2])&&(n=arguments[2]),h.isScheduler(arguments[1])?e=arguments[1]:l.isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new f(t,r,n,e))}};var f=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),p=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return s(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(c.Subject),b=function(t){function e(e,r,s,c,u){t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=s,this.maxWindowSize=c,this.scheduler=u,this.windows=[];var a=this.openWindow();if(null!==s&&s>=0){var l={subscriber:this,window:a,context:null},h={windowTimeSpan:r,windowCreationInterval:s,subscriber:this,scheduler:u};this.add(u.schedule(o,r,l)),this.add(u.schedule(i,s,h))}else{var f={subscriber:this,window:a,windowTimeSpan:r};this.add(u.schedule(n,r,f))}}return s(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new p;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(a.Subscriber)},{"../Subject":149,"../Subscriber":151,"../scheduler/async":314,"../util/isNumeric":335,"../util/isScheduler":338}],301:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subject"),o=t("../Subscription"),s=t("../util/tryCatch"),c=t("../util/errorObject"),u=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.windowToggle=function(t,e){return function(r){return r.lift(new l(t,e))}};var l=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.openings,this.closingSelector))},t}(),h=function(t){function e(e,r,n){t.call(this,e),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=a.subscribeToResult(this,r,r))}return n(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,u){if(t===this.openings){var l=this.closingSelector,h=s.tryCatch(l)(e);if(h===c.errorObject)return this.error(c.errorObject.e);var f=new i.Subject,p=new o.Subscription,b={window:f,subscription:p};this.contexts.push(b);var d=a.subscribeToResult(this,h,b);d.closed?this.closeWindow(this.contexts.length-1):(d.context=b,p.add(d)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(u.OuterSubscriber)},{"../OuterSubscriber":146,"../Subject":149,"../Subscription":152,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],302:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../Subject"),o=t("../util/tryCatch"),s=t("../util/errorObject"),c=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.windowWhen=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new i.Subject;this.destination.next(r);var n=o.tryCatch(this.closingSelector)();if(n===s.errorObject){var c=s.errorObject.e;this.destination.error(c),this.window.error(c)}else this.add(this.closingNotification=u.subscribeToResult(this,n))},e}(c.OuterSubscriber)},{"../OuterSubscriber":146,"../Subject":149,"../util/errorObject":329,"../util/subscribeToResult":343,"../util/tryCatch":345}],303:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../OuterSubscriber"),o=t("../util/subscribeToResult");r.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new s(n,r))}};var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.observables,this.project))},t}(),c=function(t){function e(e,r,n){t.call(this,e),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(s=0;s<i;s++)this.toRespond.push(s);for(var s=0;s<i;s++){var c=r[s];this.add(o.subscribeToResult(this,c,c,s))}}return n(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.OuterSubscriber)},{"../OuterSubscriber":146,"../util/subscribeToResult":343}],304:[function(t,e,r){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),new o.ArrayObservable(t).lift(new h(r))}var i=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},o=t("../observable/ArrayObservable"),s=t("../util/isArray"),c=t("../Subscriber"),u=t("../OuterSubscriber"),a=t("../util/subscribeToResult"),l=t("../symbol/iterator");r.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(n.apply(void 0,[e].concat(t)))}},r.zipStatic=n;var h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();r.ZipOperator=h;var f=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return i(e,t),e.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new b(t)):"function"==typeof t[l.iterator]?e.push(new p(t[l.iterator]())):e.push(new d(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++)if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return;for(var i=!1,o=[],n=0;n<e;n++){var s=t[n],c=s.next();if(s.hasCompleted()&&(i=!0),c.done)return void r.complete();o.push(c.value)}this.project?this._tryProject(o):r.next(o),i&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(c.Subscriber);r.ZipSubscriber=f;var p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),b=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),d=function(t){function e(e,r,n){t.call(this,e),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return i(e,t),e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return a.subscribeToResult(this,this.observable,this,e)},e}(u.OuterSubscriber)},{"../OuterSubscriber":146,"../Subscriber":151,"../observable/ArrayObservable":154,"../symbol/iterator":316,"../util/isArray":331,"../util/subscribeToResult":343}],305:[function(t,e,r){"use strict";var n=t("./zip");r.zipAll=function(t){return function(e){return e.lift(new n.ZipOperator(t))}}},{"./zip":304}],306:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this)}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(t("../Subscription").Subscription);r.Action=i},{"../Subscription":152}],307:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("./AsyncAction"),o=t("../util/AnimationFrame"),s=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),e.scheduled=void 0)},e}(i.AsyncAction);r.AnimationFrameAction=s},{"../util/AnimationFrame":319,"./AsyncAction":309}],308:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(t("./AsyncScheduler").AsyncScheduler);r.AnimationFrameScheduler=i},{"./AsyncScheduler":310}],309:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=t("../util/root"),o=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),i.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(t("./Action").Action);r.AsyncAction=o},{"../util/root":342,"./Action":306}],310:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(t("../Scheduler").Scheduler);r.AsyncScheduler=i},{"../Scheduler":148}],311:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return n(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(t("./AsyncAction").AsyncAction);r.QueueAction=i},{"./AsyncAction":309}],312:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(t("./AsyncScheduler").AsyncScheduler);r.QueueScheduler=i},{"./AsyncScheduler":310}],313:[function(t,e,r){"use strict";var n=t("./AnimationFrameAction"),i=t("./AnimationFrameScheduler");r.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},{"./AnimationFrameAction":307,"./AnimationFrameScheduler":308}],314:[function(t,e,r){"use strict";var n=t("./AsyncAction"),i=t("./AsyncScheduler");r.async=new i.AsyncScheduler(n.AsyncAction)},{"./AsyncAction":309,"./AsyncScheduler":310}],315:[function(t,e,r){"use strict";var n=t("./QueueAction"),i=t("./QueueScheduler");r.queue=new i.QueueScheduler(n.QueueAction)},{"./QueueAction":311,"./QueueScheduler":312}],316:[function(t,e,r){"use strict";function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}var i=t("../util/root");r.symbolIteratorPonyfill=n,r.iterator=n(i.root),r.$$iterator=r.iterator},{"../util/root":342}],317:[function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}var i=t("../util/root");r.getSymbolObservable=n,r.observable=n(i.root),r.$$observable=r.observable},{"../util/root":342}],318:[function(t,e,r){"use strict";var n=t("../util/root").root.Symbol;r.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber},{"../util/root":342}],319:[function(t,e,r){"use strict";var n=t("./root"),i=function(){return function(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}}();r.RequestAnimationFrameDefinition=i,r.AnimationFrame=new i(n.root)},{"./root":342}],320:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.ArgumentOutOfRangeError=i},{}],321:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.EmptyError=i},{}],322:[function(t,e,r){"use strict";var n=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&t.call(e,r[n],n)},t.prototype.clear=function(){this.values={}},t}();r.FastMap=n},{}],323:[function(t,e,r){"use strict";var n=t("./root"),i=t("./MapPolyfill");r.Map=n.root.Map||i.MapPolyfill},{"./MapPolyfill":324,"./root":342}],324:[function(t,e,r){"use strict";var n=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}();r.MapPolyfill=n},{}],325:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.ObjectUnsubscribedError=i},{}],326:[function(t,e,r){"use strict";function n(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var i=t("./root");r.minimalSetImpl=n,r.Set=i.root.Set||n()},{"./root":342}],327:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);r.TimeoutError=i},{}],328:[function(t,e,r){"use strict";var n=function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(e,t),e}(Error);r.UnsubscriptionError=i},{}],329:[function(t,e,r){"use strict";r.errorObject={e:{}}},{}],330:[function(t,e,r){"use strict";r.identity=function(t){return t}},{}],331:[function(t,e,r){"use strict";r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],332:[function(t,e,r){"use strict";r.isArrayLike=function(t){return t&&"number"==typeof t.length}},{}],333:[function(t,e,r){"use strict";r.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},{}],334:[function(t,e,r){"use strict";r.isFunction=function(t){return"function"==typeof t}},{}],335:[function(t,e,r){"use strict";var n=t("../util/isArray");r.isNumeric=function(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}},{"../util/isArray":331}],336:[function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.isObject=function(t){return null!=t&&"object"===(void 0===t?"undefined":n(t))}},{}],337:[function(t,e,r){"use strict";r.isPromise=function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},{}],338:[function(t,e,r){"use strict";r.isScheduler=function(t){return t&&"function"==typeof t.schedule}},{}],339:[function(t,e,r){"use strict";r.noop=function(){}},{}],340:[function(t,e,r){"use strict";r.not=function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}},{}],341:[function(t,e,r){"use strict";function n(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.noop}var i=t("./noop");r.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n(t)},r.pipeFromArray=n},{"./noop":339}],342:[function(t,e,r){(function(t){"use strict";var e="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=e||void 0!==t&&t||n;r.root=i,function(){if(!i)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],343:[function(t,e,r){"use strict";var n=t("./root"),i=t("./isArrayLike"),o=t("./isPromise"),s=t("./isObject"),c=t("../Observable"),u=t("../symbol/iterator"),a=t("../InnerSubscriber"),l=t("../symbol/observable");r.subscribeToResult=function(t,e,r,h){var f=new a.InnerSubscriber(t,r,h);if(f.closed)return null;if(e instanceof c.Observable)return e._isScalar?(f.next(e.value),f.complete(),null):(f.syncErrorThrowable=!0,e.subscribe(f));if(i.isArrayLike(e)){for(var p=0,b=e.length;p<b&&!f.closed;p++)f.next(e[p]);f.closed||f.complete()}else{if(o.isPromise(e))return e.then(function(t){f.closed||(f.next(t),f.complete())},function(t){return f.error(t)}).then(null,function(t){n.root.setTimeout(function(){throw t})}),f;if(e&&"function"==typeof e[u.iterator])for(var d=e[u.iterator]();;){var y=d.next();if(y.done){f.complete();break}if(f.next(y.value),f.closed)break}else if(e&&"function"==typeof e[l.observable]){var v=e[l.observable]();if("function"==typeof v.subscribe)return v.subscribe(new a.InnerSubscriber(t,r,h));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var m="You provided "+(s.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(m))}}return null}},{"../InnerSubscriber":142,"../Observable":144,"../symbol/iterator":316,"../symbol/observable":317,"./isArrayLike":332,"./isObject":336,"./isPromise":337,"./root":342}],344:[function(t,e,r){"use strict";var n=t("../Subscriber"),i=t("../symbol/rxSubscriber"),o=t("../Observer");r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(o.empty)}},{"../Observer":145,"../Subscriber":151,"../symbol/rxSubscriber":318}],345:[function(t,e,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(t){return o.errorObject.e=t,o.errorObject}}var i,o=t("./errorObject");r.tryCatch=function(t){return i=t,n}},{"./errorObject":329}],346:[function(t,e,r){"use strict";var n=t("is-arrayish"),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(t){for(var e=[],r=0,s=t.length;r<s;r++){var c=t[r];n(c)?e=i.call(e,o.call(c)):e.push(c)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},{"is-arrayish":138}],347:[function(t,e,r){!function(t,e){var r={},n={};!function(t,e){function r(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=m}function n(){return t.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function i(e,n,i){var o=new r;return n&&(o.fill="both",o.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(r){if("auto"!=e[r]){if(("number"==typeof o[r]||"duration"==r)&&("number"!=typeof e[r]||isNaN(e[r])))return;if("fill"==r&&-1==y.indexOf(e[r]))return;if("direction"==r&&-1==v.indexOf(e[r]))return;if("playbackRate"==r&&1!==e[r]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[r]=e[r]}}):o.duration=e,o}function o(t,e,r,n){return t<0||t>1||r<0||r>1?m:function(i){function o(t,e,r){return 3*t*(1-r)*(1-r)*r+3*e*(1-r)*r*r+r*r*r}if(i<=0){var s=0;return t>0?s=e/t:!e&&r>0&&(s=n/r),s*i}if(i>=1){var c=0;return r<1?c=(n-1)/(r-1):1==r&&t<1&&(c=(e-1)/(t-1)),1+c*(i-1)}for(var u=0,a=1;u<a;){var l=(u+a)/2,h=o(t,r,l);if(Math.abs(i-h)<1e-5)return o(e,n,l);h<i?u=l:a=l}return o(e,n,l)}}function s(t,e){return function(r){if(r>=1)return 1;var n=1/t;return(r+=e*n)-r%n}}function c(t){x||(x=document.createElement("div").style),x.animationTimingFunction="",x.animationTimingFunction=t;var e=x.animationTimingFunction;if(""==e&&n())throw new TypeError(t+" is not a valid value for easing");return e}function u(t){if("linear"==t)return m;var e=j.exec(t);if(e)return o.apply(this,e.slice(1).map(Number));var r=T.exec(t);return r?s(Number(r[1]),{start:w,middle:g,end:_}[r[2]]):S[t]||m}function a(t){return 0===t.duration||0===t.iterations?0:t.duration*t.iterations}function l(t,e,r){if(null==e)return E;var n=r.delay+t+r.endDelay;return e<Math.min(r.delay,n)?A:e>=Math.min(r.delay+t,n)?k:M}function h(t,e,r,n,i){switch(n){case A:return"backwards"==e||"both"==e?0:null;case M:return r-i;case k:return"forwards"==e||"both"==e?t:null;case E:return null}}function f(t,e,r,n,i){var o=i;return 0===t?e!==A&&(o+=r):o+=n/t,o}function p(t,e,r,n,i,o){var s=t===1/0?e%1:t%1;return 0!==s||r!==k||0===n||0===i&&0!==o||(s=1),s}function b(t,e,r,n){return t===k&&e===1/0?1/0:1===r?Math.floor(n)-1:Math.floor(n)}function d(t,e,r){var n=t;if("normal"!==t&&"reverse"!==t){var i=e;"alternate-reverse"===t&&(i+=1),n="normal",i!==1/0&&i%2!=0&&(n="reverse")}return"normal"===n?r:1-r}var y="backwards|forwards|both|none".split("|"),v="reverse|alternate|alternate-reverse".split("|"),m=function(t){return t};r.prototype={_setMember:function(e,r){this["_"+e]=r,this._effect&&(this._effect._timingInput[e]=r,this._effect._timing=t.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&n())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&n())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=u(c(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&n())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var w=1,g=.5,_=0,S={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":s(1,w),"step-middle":s(1,g),"step-end":s(1,_)},x=null,O="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",j=new RegExp("cubic-bezier\\("+O+","+O+","+O+","+O+"\\)"),T=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,E=0,A=1,k=2,M=3;t.cloneTimingInput=function(t){if("number"==typeof t)return t;var e={};for(var r in t)e[r]=t[r];return e},t.makeTiming=i,t.numericTimingToObject=function(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t},t.normalizeTimingInput=function(e,r){return e=t.numericTimingToObject(e),i(e,r)},t.calculateActiveDuration=function(t){return Math.abs(a(t)/t.playbackRate)},t.calculateIterationProgress=function(t,e,r){var n=l(t,e,r),i=h(t,r.fill,e,n,r.delay);if(null===i)return null;var o=f(r.duration,n,r.iterations,i,r.iterationStart),s=p(o,r.iterationStart,n,r.iterations,i,r.duration),c=b(n,r.iterations,s,o),u=d(r.direction,c,s);return r._easingFunction(u)},t.calculatePhase=l,t.normalizeEasing=c,t.parseEasingFunction=u}(r),function(t,e){function r(t,e){return t in a?a[t][e]||e:e}function n(t){return"display"===t||0===t.lastIndexOf("animation",0)||0===t.lastIndexOf("transition",0)}function i(t,e,i){if(!n(t)){var o=s[t];if(o){c.style[t]=e;for(var u in o){var a=o[u],l=c.style[a];i[a]=r(a,l)}}else i[t]=r(t,e)}}function o(t){var e=[];for(var r in t)if(!(r in["easing","offset","composite"])){var n=t[r];Array.isArray(n)||(n=[n]);for(var i,o=n.length,s=0;s<o;s++)i={},i.offset="offset"in t?t.offset:1==o?1:s/(o-1),"easing"in t&&(i.easing=t.easing),"composite"in t&&(i.composite=t.composite),i[r]=n[s],e.push(i)}return e.sort(function(t,e){return t.offset-e.offset}),e}var s={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},c=document.createElementNS("http://www.w3.org/1999/xhtml","div"),u={thin:"1px",medium:"3px",thick:"5px"},a={borderBottomWidth:u,borderLeftWidth:u,borderRightWidth:u,borderTopWidth:u,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:u,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};t.convertToArrayForm=o,t.normalizeKeyframes=function(e){if(null==e)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&e[Symbol.iterator]&&(e=Array.from(e)),Array.isArray(e)||(e=o(e));for(var r=e.map(function(e){var r={};for(var n in e){var o=e[n];if("offset"==n){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==n){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==n?t.normalizeEasing(o):""+o;i(n,o,r)}return void 0==r.offset&&(r.offset=null),void 0==r.easing&&(r.easing="linear"),r}),n=!0,s=-1/0,c=0;c<r.length;c++){var u=r[c].offset;if(null!=u){if(u<s)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");s=u}else n=!1}return r=r.filter(function(t){return t.offset>=0&&t.offset<=1}),n||function(){var t=r.length;null==r[t-1].offset&&(r[t-1].offset=1),t>1&&null==r[0].offset&&(r[0].offset=0);for(var e=0,n=r[0].offset,i=1;i<t;i++){var o=r[i].offset;if(null!=o){for(var s=1;s<i-e;s++)r[e+s].offset=n+(o-n)*s/(i-e);e=i,n=o}}}(),r}}(r),function(t){var e={};t.isDeprecated=function(t,r,n,i){var o=i?"are":"is",s=new Date,c=new Date(r);return c.setMonth(c.getMonth()+3),!(s<c&&(t in e||console.warn("Web Animations: "+t+" "+o+" deprecated and will stop working on "+c.toDateString()+". "+n),e[t]=!0,1))},t.deprecated=function(e,r,n,i){var o=i?"are":"is";if(t.isDeprecated(e,r,n,i))throw new Error(e+" "+o+" no longer supported. "+n)}}(r),function(){if(document.documentElement.animate){var t=document.documentElement.animate([],0),e=!0;if(t&&(e=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(r){void 0===t[r]&&(e=!0)})),!e)return}!function(t,e,r){function n(t){for(var e={},r=0;r<t.length;r++)for(var n in t[r])if("offset"!=n&&"easing"!=n&&"composite"!=n){var i={offset:t[r].offset,easing:t[r].easing,value:t[r][n]};e[n]=e[n]||[],e[n].push(i)}for(var o in e){var s=e[o];if(0!=s[0].offset||1!=s[s.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return e}function i(r){var n=[];for(var i in r)for(var o=r[i],s=0;s<o.length-1;s++){var c=s,u=s+1,a=o[c].offset,l=o[u].offset,h=a,f=l;0==s&&(h=-1/0,0==l&&(u=c)),s==o.length-2&&(f=1/0,1==a&&(c=u)),n.push({applyFrom:h,applyTo:f,startOffset:o[c].offset,endOffset:o[u].offset,easingFunction:t.parseEasingFunction(o[c].easing),property:i,interpolation:e.propertyInterpolation(i,o[c].value,o[u].value)})}return n.sort(function(t,e){return t.startOffset-e.startOffset}),n}e.convertEffectInput=function(r){var o=n(t.normalizeKeyframes(r)),s=i(o);return function(t,r){if(null!=r)s.filter(function(t){return r>=t.applyFrom&&r<t.applyTo}).forEach(function(n){var i=r-n.startOffset,o=n.endOffset-n.startOffset,s=0==o?0:n.easingFunction(i/o);e.apply(t,n.property,n.interpolation(s))});else for(var n in o)"offset"!=n&&"easing"!=n&&"composite"!=n&&e.clear(t,n)}}}(r,n),function(t,e,r){function n(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function i(t,e,r){o[r]=o[r]||[],o[r].push([t,e])}var o={};e.addPropertiesHandler=function(t,e,r){for(var o=0;o<r.length;o++)i(t,e,n(r[o]))};var s={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};e.propertyInterpolation=function(r,i,c){var u=r;/-/.test(r)&&!t.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(u=n(r)),"initial"!=i&&"initial"!=c||("initial"==i&&(i=s[u]),"initial"==c&&(c=s[u]));for(var a=i==c?[]:o[u],l=0;a&&l<a.length;l++){var h=a[l][0](i),f=a[l][0](c);if(void 0!==h&&void 0!==f){var p=a[l][1](h,f);if(p){var b=e.Interpolation.apply(null,p);return function(t){return 0==t?i:1==t?c:b(t)}}}}return e.Interpolation(!1,!0,function(t){return t?c:i})}}(r,n),function(t,e,r){function n(e){var r=t.calculateActiveDuration(e),n=function(n){return t.calculateIterationProgress(r,n,e)};return n._totalDuration=e.delay+r+e.endDelay,n}e.KeyframeEffect=function(r,i,o,s){var c,u=n(t.normalizeTimingInput(o)),a=e.convertEffectInput(i),l=function(){a(r,c)};return l._update=function(t){return null!==(c=u(t))},l._clear=function(){a(r,null)},l._hasSameTarget=function(t){return r===t},l._target=r,l._totalDuration=u._totalDuration,l._id=s,l}}(r,n),function(t,e){function r(t,e){return!(!e.namespaceURI||-1==e.namespaceURI.indexOf("/svg"))&&(s in t||(t[s]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(t.navigator.userAgent)),t[s])}function n(t,e,r){r.enumerable=!0,r.configurable=!0,Object.defineProperty(t,e,r)}function i(t){this._element=t,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=t.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=r(window,t),this._savedTransformAttr=null;for(var e=0;e<this._style.length;e++){var n=this._style[e];this._surrogateStyle[n]=this._style[n]}this._updateIndices()}function o(t){if(!t._webAnimationsPatchedStyle){var e=new i(t);try{n(t,"style",{get:function(){return e}})}catch(e){t.style._set=function(e,r){t.style[e]=r},t.style._clear=function(e){t.style[e]=""}}t._webAnimationsPatchedStyle=t.style}}var s="_webAnimationsUpdateSvgTransformAttr",c={cssText:1,length:1,parentRule:1},u={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},a={removeProperty:1,setProperty:1};i.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(t){for(var e={},r=0;r<this._surrogateStyle.length;r++)e[this._surrogateStyle[r]]=!0;this._surrogateStyle.cssText=t,this._updateIndices();for(r=0;r<this._surrogateStyle.length;r++)e[this._surrogateStyle[r]]=!0;for(var n in e)this._isAnimatedProperty[n]||this._style.setProperty(n,this._surrogateStyle.getPropertyValue(n))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(t){return function(){return this._surrogateStyle[t]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(e,r){this._style[e]=r,this._isAnimatedProperty[e]=!0,this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(e)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",t.transformToSvgMatrix(r)))},_clear:function(e){this._style[e]=this._surrogateStyle[e],this._updateSvgTransformAttr&&"transform"==t.unprefixedPropertyName(e)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[e]}};for(var l in u)i.prototype[l]=function(t,e){return function(){var r=this._surrogateStyle[t].apply(this._surrogateStyle,arguments);return e&&(this._isAnimatedProperty[arguments[0]]||this._style[t].apply(this._style,arguments),this._updateIndices()),r}}(l,l in a);for(var h in document.documentElement.style)h in c||h in u||function(t){n(i.prototype,t,{get:function(){return this._surrogateStyle[t]},set:function(e){this._surrogateStyle[t]=e,this._updateIndices(),this._isAnimatedProperty[t]||(this._style[t]=e)}})}(h);t.apply=function(e,r,n){o(e),e.style._set(t.propertyName(r),n)},t.clear=function(e,r){e._webAnimationsPatchedStyle&&e.style._clear(t.propertyName(r))}}(n),function(t){window.Element.prototype.animate=function(e,r){var n="";return r&&r.id&&(n=r.id),t.timeline._play(t.KeyframeEffect(this,e,r,n))}}(n),function(t,e){function r(t,e,n){if("number"==typeof t&&"number"==typeof e)return t*(1-n)+e*n;if("boolean"==typeof t&&"boolean"==typeof e)return n<.5?t:e;if(t.length==e.length){for(var i=[],o=0;o<t.length;o++)i.push(r(t[o],e[o],n));return i}throw"Mismatched interpolation arguments "+t+":"+e}n.Interpolation=function(t,e,n){return function(i){return n(r(t,e,i))}}}(),function(t,e){function r(t,e,r){return Math.max(Math.min(t,r),e)}var n=function(){function t(t,e){for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],n=0;n<4;n++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)r[n][i]+=e[n][o]*t[o][i];return r}function e(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}return function(r,n,i,o,s){for(var c=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)c[u][3]=s[u];for(u=0;u<3;u++)for(d=0;d<3;d++)c[3][u]+=r[d]*c[d][u];var a=o[0],l=o[1],h=o[2],f=o[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(l*l+h*h),p[0][1]=2*(a*l-h*f),p[0][2]=2*(a*h+l*f),p[1][0]=2*(a*l+h*f),p[1][1]=1-2*(a*a+h*h),p[1][2]=2*(l*h-a*f),p[2][0]=2*(a*h-l*f),p[2][1]=2*(l*h+a*f),p[2][2]=1-2*(a*a+l*l),c=t(c,p);var b=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(i[2]&&(b[2][1]=i[2],c=t(c,b)),i[1]&&(b[2][1]=0,b[2][0]=i[0],c=t(c,b)),i[0]&&(b[2][0]=0,b[1][0]=i[0],c=t(c,b)),u=0;u<3;u++)for(var d=0;d<3;d++)c[u][d]*=n[u];return e(c)?[c[0][0],c[0][1],c[1][0],c[1][1],c[3][0],c[3][1]]:c[0].concat(c[1],c[2],c[3])}}();t.composeMatrix=n,t.quat=function(e,n,i){var o=t.dot(e,n),s=[];if(1===(o=r(o,-1,1)))s=e;else for(var c=Math.acos(o),u=1*Math.sin(i*c)/Math.sqrt(1-o*o),a=0;a<4;a++)s.push(e[a]*(Math.cos(i*c)-o*u)+n[a]*u);return s}}(n),function(t,e,r){t.sequenceNumber=0;var n=function(t,e,r){this.target=t,this.currentTime=e,this.timelineTime=r,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};e.Animation=function(e){this.id="",e&&e._id&&(this.id=e._id),this._sequenceNumber=t.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=e,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},e.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,e.timeline._animations.push(this))},_tickCurrentTime:function(t,e){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(e.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),e.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),e.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var r=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)),null!=r&&(this.currentTime=r)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,e.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),e.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,e){"function"==typeof e&&"finish"==t&&this._finishHandlers.push(e)},removeEventListener:function(t,e){if("finish"==t){var r=this._finishHandlers.indexOf(e);r>=0&&this._finishHandlers.splice(r,1)}},_fireEvents:function(t){if(this._isFinished){if(!this._finishedFlag){var e=new n(this,this._currentTime,t),r=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){r.forEach(function(t){t.call(e.target,e)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(t,e){this._idle||this._paused||(null==this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)}}}(r,n),function(t,e,r){function n(t){var e=a;a=[],t<y.currentTime&&(t=y.currentTime),y._animations.sort(i),y._animations=c(t,!0,y._animations)[0],e.forEach(function(e){e[1](t)}),s(),h=void 0}function i(t,e){return t._sequenceNumber-e._sequenceNumber}function o(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function s(){b.forEach(function(t){t()}),b.length=0}function c(t,r,n){d=!0,p=!1,e.timeline.currentTime=t,f=!1;var i=[],o=[],s=[],c=[];return n.forEach(function(e){e._tick(t,r),e._inEffect?(o.push(e._effect),e._markTarget()):(i.push(e._effect),e._unmarkTarget()),e._needsTick&&(f=!0);var n=e._inEffect||e._needsTick;e._inTimeline=n,n?s.push(e):c.push(e)}),b.push.apply(b,i),b.push.apply(b,o),f&&requestAnimationFrame(function(){}),d=!1,[s,c]}var u=window.requestAnimationFrame,a=[],l=0;window.requestAnimationFrame=function(t){var e=l++;return 0==a.length&&u(n),a.push([e,t]),e},window.cancelAnimationFrame=function(t){a.forEach(function(e){e[0]==t&&(e[1]=function(){})})},o.prototype={_play:function(r){r._timing=t.normalizeTimingInput(r.timing);var n=new e.Animation(r);return n._idle=!1,n._timeline=this,this._animations.push(n),e.restart(),e.applyDirtiedAnimation(n),n}};var h=void 0,f=!1,p=!1;e.restart=function(){return f||(f=!0,requestAnimationFrame(function(){}),p=!0),p},e.applyDirtiedAnimation=function(t){if(!d){t._markTarget();var r=t._targetAnimations();r.sort(i),c(e.timeline.currentTime,!1,r.slice())[1].forEach(function(t){var e=y._animations.indexOf(t);-1!==e&&y._animations.splice(e,1)}),s()}};var b=[],d=!1,y=new o;e.timeline=y}(r,n),function(t,e){function r(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return r}function n(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function i(t){var e=t.rad||0;return((t.deg||0)/360+(t.grad||0)/400+(t.turn||0))*(2*Math.PI)+e}function o(t){switch(t.t){case"rotatex":o=i(t.d[0]);return[1,0,0,0,0,Math.cos(o),Math.sin(o),0,0,-Math.sin(o),Math.cos(o),0,0,0,0,1];case"rotatey":o=i(t.d[0]);return[Math.cos(o),0,-Math.sin(o),0,0,1,0,0,Math.sin(o),0,Math.cos(o),0,0,0,0,1];case"rotate":case"rotatez":o=i(t.d[0]);return[Math.cos(o),Math.sin(o),0,0,-Math.sin(o),Math.cos(o),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var e=t.d[0],r=t.d[1],n=t.d[2],o=i(t.d[3]),s=e*e+r*r+n*n;if(0===s)e=1,r=0,n=0;else if(1!==s){var c=Math.sqrt(s);e/=c,r/=c,n/=c}var u=Math.sin(o/2),a=u*Math.cos(o/2),l=u*u;return[1-2*(r*r+n*n)*l,2*(e*r*l+n*a),2*(e*n*l-r*a),0,2*(e*r*l-n*a),1-2*(e*e+n*n)*l,2*(r*n*l+e*a),0,2*(e*n*l+r*a),2*(r*n*l-e*a),1-2*(e*e+r*r)*l,0,0,0,0,1];case"scale":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0],0,0,0,0,1];case"scale3d":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,t.d[2],0,0,0,0,1];case"skew":var h=i(t.d[0]),f=i(t.d[1]);return[1,Math.tan(f),0,0,Math.tan(h),1,0,0,0,0,1,0,0,0,0,1];case"skewx":o=i(t.d[0]);return[1,0,0,0,Math.tan(o),1,0,0,0,0,1,0,0,0,0,1];case"skewy":o=i(t.d[0]);return[1,Math.tan(o),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,r=t.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,r=t.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,n=t.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=t.d[0].px||0,r=t.d[1].px||0,n=t.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,t.d[0].px?-1/t.d[0].px:0,0,0,0,1];case"matrix":return[t.d[0],t.d[1],0,0,t.d[2],t.d[3],0,0,0,0,1,0,t.d[4],t.d[5],0,1];case"matrix3d":return t.d}}function s(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(o).reduce(n)}var c=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function e(e){for(var r=1/t(e),n=e[0][0],i=e[0][1],o=e[0][2],s=e[1][0],c=e[1][1],u=e[1][2],a=e[2][0],l=e[2][1],h=e[2][2],f=[[(c*h-u*l)*r,(o*l-i*h)*r,(i*u-o*c)*r,0],[(u*a-s*h)*r,(n*h-o*a)*r,(o*s-n*u)*r,0],[(s*l-c*a)*r,(a*i-n*l)*r,(n*c-i*s)*r,0]],p=[],b=0;b<3;b++){for(var d=0,y=0;y<3;y++)d+=e[3][y]*f[y][b];p.push(d)}return p.push(1),f.push(p),f}function n(t){return[[t[0][0],t[1][0],t[2][0],t[3][0]],[t[0][1],t[1][1],t[2][1],t[3][1]],[t[0][2],t[1][2],t[2][2],t[3][2]],[t[0][3],t[1][3],t[2][3],t[3][3]]]}function i(t,e){for(var r=[],n=0;n<4;n++){for(var i=0,o=0;o<4;o++)i+=t[o]*e[o][n];r.push(i)}return r}function o(t){var e=s(t);return[t[0]/e,t[1]/e,t[2]/e]}function s(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function c(t,e,r,n){return[r*t[0]+n*e[0],r*t[1]+n*e[1],r*t[2]+n*e[2]]}function u(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}return function(a){var l=[a.slice(0,4),a.slice(4,8),a.slice(8,12),a.slice(12,16)];if(1!==l[3][3])return null;for(var h=[],f=0;f<4;f++)h.push(l[f].slice());for(f=0;f<3;f++)h[f][3]=0;if(0===t(h))return null;var p,b=[];l[0][3]||l[1][3]||l[2][3]?(b.push(l[0][3]),b.push(l[1][3]),b.push(l[2][3]),b.push(l[3][3]),p=i(b,n(e(h)))):p=[0,0,0,1];var d=l[3].slice(0,3),y=[];y.push(l[0].slice(0,3));var v=[];v.push(s(y[0])),y[0]=o(y[0]);var m=[];y.push(l[1].slice(0,3)),m.push(r(y[0],y[1])),y[1]=c(y[1],y[0],1,-m[0]),v.push(s(y[1])),y[1]=o(y[1]),m[0]/=v[1],y.push(l[2].slice(0,3)),m.push(r(y[0],y[2])),y[2]=c(y[2],y[0],1,-m[1]),m.push(r(y[1],y[2])),y[2]=c(y[2],y[1],1,-m[2]),v.push(s(y[2])),y[2]=o(y[2]),m[1]/=v[2],m[2]/=v[2];var w=u(y[1],y[2]);if(r(y[0],w)<0)for(f=0;f<3;f++)v[f]*=-1,y[f][0]*=-1,y[f][1]*=-1,y[f][2]*=-1;var g,_,S=y[0][0]+y[1][1]+y[2][2]+1;return S>1e-4?(g=.5/Math.sqrt(S),_=[(y[2][1]-y[1][2])*g,(y[0][2]-y[2][0])*g,(y[1][0]-y[0][1])*g,.25/g]):y[0][0]>y[1][1]&&y[0][0]>y[2][2]?(g=2*Math.sqrt(1+y[0][0]-y[1][1]-y[2][2]),_=[.25*g,(y[0][1]+y[1][0])/g,(y[0][2]+y[2][0])/g,(y[2][1]-y[1][2])/g]):y[1][1]>y[2][2]?(g=2*Math.sqrt(1+y[1][1]-y[0][0]-y[2][2]),_=[(y[0][1]+y[1][0])/g,.25*g,(y[1][2]+y[2][1])/g,(y[0][2]-y[2][0])/g]):(g=2*Math.sqrt(1+y[2][2]-y[0][0]-y[1][1]),_=[(y[0][2]+y[2][0])/g,(y[1][2]+y[2][1])/g,.25*g,(y[1][0]-y[0][1])/g]),[d,v,m,_,p]}}();t.dot=r,t.makeMatrixDecomposition=function(t){return[c(s(t))]},t.transformListToMatrix=s}(n),function(t){function e(t,e){var r=t.exec(e);if(r)return r=t.ignoreCase?r[0].toLowerCase():r[0],[r,e.substr(r.length)]}function r(t,e){var r=t(e=e.replace(/^\s*/,""));if(r)return[r[0],r[1].replace(/^\s*/,"")]}function n(t,e){for(var r=t,n=e;r&&n;)r>n?r%=n:n%=r;return r=t*e/(r+n)}function i(t,e,r,i,o){for(var s=[],c=[],u=[],a=n(i.length,o.length),l=0;l<a;l++){var h=e(i[l%i.length],o[l%o.length]);if(!h)return;s.push(h[0]),c.push(h[1]),u.push(h[2])}return[s,c,function(e){var n=e.map(function(t,e){return u[e](t)}).join(r);return t?t(n):n}]}t.consumeToken=e,t.consumeTrimmed=r,t.consumeRepeated=function(t,n,i){t=r.bind(null,t);for(var o=[];;){var s=t(i);if(!s)return[o,i];if(o.push(s[0]),i=s[1],!(s=e(n,i))||""==s[1])return[o,i];i=s[1]}},t.consumeParenthesised=function(t,e){for(var r=0,n=0;n<e.length&&(!/\s|,/.test(e[n])||0!=r);n++)if("("==e[n])r++;else if(")"==e[n]&&(0==--r&&n++,r<=0))break;var i=t(e.substr(0,n));return void 0==i?void 0:[i,e.substr(n)]},t.ignore=function(t){return function(e){var r=t(e);return r&&(r[0]=void 0),r}},t.optional=function(t,e){return function(r){return t(r)||[e,r]}},t.consumeList=function(e,r){for(var n=[],i=0;i<e.length;i++){var o=t.consumeTrimmed(e[i],r);if(!o||""==o[0])return;void 0!==o[0]&&n.push(o[0]),r=o[1]}if(""==r)return n},t.mergeNestedRepeated=i.bind(null,null),t.mergeWrappedNestedRepeated=i,t.mergeList=function(t,e,r){for(var n=[],i=[],o=[],s=0,c=0;c<r.length;c++)if("function"==typeof r[c]){var u=r[c](t[s],e[s++]);n.push(u[0]),i.push(u[1]),o.push(u[2])}else!function(t){n.push(!1),i.push(!1),o.push(function(){return r[t]})}(c);return[n,i,function(t){for(var e="",r=0;r<t.length;r++)e+=o[r](t[r]);return e}]}}(n),function(t){function e(e){var r={inset:!1,lengths:[],color:null},n=t.consumeRepeated(function(e){var n=t.consumeToken(/^inset/i,e);return n?(r.inset=!0,n):(n=t.consumeLengthOrPercent(e))?(r.lengths.push(n[0]),n):(n=t.consumeColor(e))?(r.color=n[0],n):void 0},/^/,e);if(n&&n[0].length)return[r,n[1]]}var r=function(e,r,n,i){function o(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var s=[],c=[],u=0;u<n.length||u<i.length;u++){var a=n[u]||o(i[u].inset),l=i[u]||o(n[u].inset);s.push(a),c.push(l)}return t.mergeNestedRepeated(e,r,s,c)}.bind(null,function(e,r){for(;e.lengths.length<Math.max(e.lengths.length,r.lengths.length);)e.lengths.push({px:0});for(;r.lengths.length<Math.max(e.lengths.length,r.lengths.length);)r.lengths.push({px:0});if(e.inset==r.inset&&!!e.color==!!r.color){for(var n,i=[],o=[[],0],s=[[],0],c=0;c<e.lengths.length;c++){var u=t.mergeDimensions(e.lengths[c],r.lengths[c],2==c);o[0].push(u[0]),s[0].push(u[1]),i.push(u[2])}if(e.color&&r.color){var a=t.mergeColors(e.color,r.color);o[1]=a[0],s[1]=a[1],n=a[2]}return[o,s,function(t){for(var r=e.inset?"inset ":" ",o=0;o<i.length;o++)r+=i[o](t[0][o])+" ";return n&&(r+=n(t[1])),r}]}},", ");t.addPropertiesHandler(function(r){var n=t.consumeRepeated(e,/^,/,r);if(n&&""==n[1])return n[0]},r,["box-shadow","text-shadow"])}(n),function(t,e){function r(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function n(t,e,r){return Math.min(e,Math.max(t,r))}function i(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return Number(t)}function o(t,e){return function(i,o){return[i,o,function(i){return r(n(t,e,i))}]}}function s(t){var e=t.trim().split(/\s*[\s,]\s*/);if(0!==e.length){for(var r=[],n=0;n<e.length;n++){var o=i(e[n]);if(void 0===o)return;r.push(o)}return r}}t.clamp=n,t.addPropertiesHandler(s,function(t,e){if(t.length==e.length)return[t,e,function(t){return t.map(r).join(" ")}]},["stroke-dasharray"]),t.addPropertiesHandler(i,o(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(i,o(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(i,function(t,e){if(0!=t)return o(0,1/0)(t,e)},["flex-grow","flex-shrink"]),t.addPropertiesHandler(i,function(t,e){return[t,e,function(t){return Math.round(n(1,1/0,t))}]},["orphans","widows"]),t.addPropertiesHandler(i,function(t,e){return[t,e,Math.round]},["z-index"]),t.parseNumber=i,t.parseNumberList=s,t.mergeNumbers=function(t,e){return[t,e,r]},t.numberToString=r}(n),function(t,e){n.addPropertiesHandler(String,function(t,e){if("visible"==t||"visible"==e)return[0,1,function(r){return r<=0?t:r>=1?e:"visible"}]},["visibility"])}(),function(t,e){function r(t){t=t.trim(),o.fillStyle="#000",o.fillStyle=t;var e=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=t,e==o.fillStyle){o.fillRect(0,0,1,1);var r=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var n=r[3]/255;return[r[0]*n,r[1]*n,r[2]*n,n]}}function n(e,r){return[e,r,function(e){if(e[3])for(var r=0;r<3;r++)e[r]=Math.round(function(t){return Math.max(0,Math.min(255,t))}(e[r]/e[3]));return e[3]=t.numberToString(t.clamp(0,1,e[3])),"rgba("+e.join(",")+")"}]}var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=i.height=1;var o=i.getContext("2d");t.addPropertiesHandler(r,n,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),t.consumeColor=t.consumeParenthesised.bind(null,r),t.mergeColors=n}(n),function(t,e){function r(t){function e(){var e=c.exec(t);s=e?e[0]:void 0}function r(){var t=Number(s);return e(),t}function n(){if("("!==s)return r();e();var t=o();return")"!==s?NaN:(e(),t)}function i(){for(var t=n();"*"===s||"/"===s;){var r=s;e();var i=n();"*"===r?t*=i:t/=i}return t}function o(){for(var t=i();"+"===s||"-"===s;){var r=s;e();var n=i();"+"===r?t+=n:t-=n}return t}var s,c=/([\+\-\w\.]+|[\(\)\*\/])/g;return e(),o()}function n(t,e){if("0"==(e=e.trim().toLowerCase())&&"px".search(t)>=0)return{px:0};if(/^[^(]*$|^calc/.test(e)){var n={};e=(e=e.replace(/calc\(/g,"(")).replace(t,function(t){return n[t]=null,"U"+t});for(var i="U("+t.source+")",o=e.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+i,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),s=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],c=0;c<s.length;)s[c].test(o)?(o=o.replace(s[c],"$1"),c=0):c++;if("D"==o){for(var u in n){var a=r(e.replace(new RegExp("U"+u,"g"),"").replace(new RegExp(i,"g"),"*0"));if(!isFinite(a))return;n[u]=a}return n}}}function i(t,e){return o(t,e,!0)}function o(e,r,n){var i,o=[];for(i in e)o.push(i);for(i in r)o.indexOf(i)<0&&o.push(i);return e=o.map(function(t){return e[t]||0}),r=o.map(function(t){return r[t]||0}),[e,r,function(e){var r=e.map(function(r,i){return 1==e.length&&n&&(r=Math.max(r,0)),t.numberToString(r)+o[i]}).join(" + ");return e.length>1?"calc("+r+")":r}]}var s="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",c=n.bind(null,new RegExp(s,"g")),u=n.bind(null,new RegExp(s+"|%","g")),a=n.bind(null,/deg|rad|grad|turn/g);t.parseLength=c,t.parseLengthOrPercent=u,t.consumeLengthOrPercent=t.consumeParenthesised.bind(null,u),t.parseAngle=a,t.mergeDimensions=o;var l=t.consumeParenthesised.bind(null,c),h=t.consumeRepeated.bind(void 0,l,/^/),f=t.consumeRepeated.bind(void 0,h,/^,/);t.consumeSizePairList=f;var p=t.mergeNestedRepeated.bind(void 0,i," "),b=t.mergeNestedRepeated.bind(void 0,p,",");t.mergeNonNegativeSizePair=p,t.addPropertiesHandler(function(t){var e=f(t);if(e&&""==e[1])return e[0]},b,["background-size"]),t.addPropertiesHandler(u,i,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),t.addPropertiesHandler(u,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(n),function(t,e){function r(e){return t.consumeLengthOrPercent(e)||t.consumeToken(/^auto/,e)}function n(e){var n=t.consumeList([t.ignore(t.consumeToken.bind(null,/^rect/)),t.ignore(t.consumeToken.bind(null,/^\(/)),t.consumeRepeated.bind(null,r,/^,/),t.ignore(t.consumeToken.bind(null,/^\)/))],e);if(n&&4==n[0].length)return n[0]}var i=t.mergeWrappedNestedRepeated.bind(null,function(t){return"rect("+t+")"},function(e,r){return"auto"==e||"auto"==r?[!0,!1,function(n){var i=n?e:r;if("auto"==i)return"auto";var o=t.mergeDimensions(i,i);return o[2](o[0])}]:t.mergeDimensions(e,r)},", ");t.parseBox=n,t.mergeBoxes=i,t.addPropertiesHandler(n,i,["clip"])}(n),function(t,e){function r(t){return function(e){var r=0;return t.map(function(t){return t===a?e[r++]:t})}}function n(t){return t}function i(e){if("none"==(e=e.toLowerCase().trim()))return[];for(var r,n=/\s*(\w+)\(([^)]*)\)/g,i=[],o=0;r=n.exec(e);){if(r.index!=o)return;o=r.index+r[0].length;var s=r[1],c=f[s];if(!c)return;var u=r[2].split(","),a=c[0];if(a.length<u.length)return;for(var p=[],b=0;b<a.length;b++){var d,y=u[b],v=a[b];if(void 0===(d=y?{A:function(e){return"0"==e.trim()?h:t.parseAngle(e)},N:t.parseNumber,T:t.parseLengthOrPercent,L:t.parseLength}[v.toUpperCase()](y):{a:h,n:p[0],t:l}[v]))return;p.push(d)}if(i.push({t:s,d:p}),n.lastIndex==e.length)return i}}function o(t){return t.toFixed(6).replace(".000000","")}function s(e,r){if(e.decompositionPair!==r){e.decompositionPair=r;var n=t.makeMatrixDecomposition(e)}if(r.decompositionPair!==e){r.decompositionPair=e;var i=t.makeMatrixDecomposition(r)}return null==n[0]||null==i[0]?[[!1],[!0],function(t){return t?r[0].d:e[0].d}]:(n[0].push(0),i[0].push(1),[n,i,function(e){var r=t.quat(n[0][3],i[0][3],e[5]);return t.composeMatrix(e[0],e[1],e[2],r,e[4]).map(o).join(",")}])}function c(t){return t.replace(/[xy]/,"")}function u(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var a=null,l={px:0},h={deg:0},f={matrix:["NNNNNN",[a,a,0,0,a,a,0,0,0,0,1,0,a,a,0,1],n],matrix3d:["NNNNNNNNNNNNNNNN",n],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",r([a,a,1]),n],scalex:["N",r([a,1,1]),r([a,1])],scaley:["N",r([1,a,1]),r([1,a])],scalez:["N",r([1,1,a])],scale3d:["NNN",n],skew:["Aa",null,n],skewx:["A",null,r([a,h])],skewy:["A",null,r([h,a])],translate:["Tt",r([a,a,l]),n],translatex:["T",r([a,l,l]),r([a,l])],translatey:["T",r([l,a,l]),r([l,a])],translatez:["L",r([l,l,a])],translate3d:["TTL",n]};t.addPropertiesHandler(i,function(e,r){var n=t.makeMatrixDecomposition&&!0,i=!1;if(!e.length||!r.length)for(e.length||(i=!0,e=r,r=[]),d=0;d<e.length;d++){var o=e[d].t,a=e[d].d,l="scale"==o.substr(0,5)?1:0;r.push({t:o,d:a.map(function(t){if("number"==typeof t)return l;var e={};for(var r in t)e[r]=l;return e})})}var h=[],p=[],b=[];if(e.length!=r.length){if(!n)return;h=[(T=s(e,r))[0]],p=[T[1]],b=[["matrix",[T[2]]]]}else for(var d=0;d<e.length;d++){var y=e[d].t,v=r[d].t,m=e[d].d,w=r[d].d,g=f[y],_=f[v];if(function(t,e){return"perspective"==t&&"perspective"==e||("matrix"==t||"matrix3d"==t)&&("matrix"==e||"matrix3d"==e)}(y,v)){if(!n)return;T=s([e[d]],[r[d]]),h.push(T[0]),p.push(T[1]),b.push(["matrix",[T[2]]])}else{if(y==v)o=y;else if(g[2]&&_[2]&&c(y)==c(v))o=c(y),m=g[2](m),w=_[2](w);else{if(!g[1]||!_[1]||u(y)!=u(v)){if(!n)return;h=[(T=s(e,r))[0]],p=[T[1]],b=[["matrix",[T[2]]]];break}o=u(y),m=g[1](m),w=_[1](w)}for(var S=[],x=[],O=[],j=0;j<m.length;j++){var T=("number"==typeof m[j]?t.mergeNumbers:t.mergeDimensions)(m[j],w[j]);S[j]=T[0],x[j]=T[1],O.push(T[2])}h.push(S),p.push(x),b.push([o,O])}}if(i){var E=h;h=p,p=E}return[h,p,function(t){return t.map(function(t,e){var r=t.map(function(t,r){return b[e][1][r](t)}).join(",");return"matrix"==b[e][0]&&16==r.split(",").length&&(b[e][0]="matrix3d"),b[e][0]+"("+r+")"}).join(" ")}]},["transform"]),t.transformToSvgMatrix=function(e){var r=t.transformListToMatrix(i(e));return"matrix("+o(r[0])+" "+o(r[1])+" "+o(r[4])+" "+o(r[5])+" "+o(r[12])+" "+o(r[13])+")"}}(n),function(t){function e(e){return e=100*Math.round(e/100),400===(e=t.clamp(100,900,e))?"normal":700===e?"bold":String(e)}t.addPropertiesHandler(function(t){var e=Number(t);if(!(isNaN(e)||e<100||e>900||e%100!=0))return e},function(t,r){return[t,r,e]},["font-weight"])}(n),function(t){function e(t){var e={};for(var r in t)e[r]=-t[r];return e}function r(e){return t.consumeToken(/^(left|center|right|top|bottom)\b/i,e)||t.consumeLengthOrPercent(e)}function n(e,n){var i=t.consumeRepeated(r,/^/,n);if(i&&""==i[1]){var s=i[0];if(s[0]=s[0]||"center",s[1]=s[1]||"center",3==e&&(s[2]=s[2]||{px:0}),s.length==e){if(/top|bottom/.test(s[0])||/left|right/.test(s[1])){var c=s[0];s[0]=s[1],s[1]=c}if(/left|right|center|Object/.test(s[0])&&/top|bottom|center|Object/.test(s[1]))return s.map(function(t){return"object"==typeof t?t:o[t]})}}}function i(n){var i=t.consumeRepeated(r,/^/,n);if(i){for(var s=i[0],c=[{"%":50},{"%":50}],u=0,a=!1,l=0;l<s.length;l++){var h=s[l];"string"==typeof h?(a=/bottom|right/.test(h),u={left:0,right:0,center:u,top:1,bottom:1}[h],c[u]=o[h],"center"==h&&u++):(a&&(h=e(h),h["%"]=(h["%"]||0)+100),c[u]=h,u++,a=!1)}return[c,i[1]]}}var o={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},s=t.mergeNestedRepeated.bind(null,t.mergeDimensions," ");t.addPropertiesHandler(n.bind(null,3),s,["transform-origin"]),t.addPropertiesHandler(n.bind(null,2),s,["perspective-origin"]),t.consumePosition=i,t.mergeOffsetList=s;var c=t.mergeNestedRepeated.bind(null,s,", ");t.addPropertiesHandler(function(e){var r=t.consumeRepeated(i,/^,/,e);if(r&&""==r[1])return r[0]},c,["background-position","object-position"])}(n),function(t){var e=t.consumeParenthesised.bind(null,t.parseLengthOrPercent),r=t.consumeRepeated.bind(void 0,e,/^/),n=t.mergeNestedRepeated.bind(void 0,t.mergeDimensions," "),i=t.mergeNestedRepeated.bind(void 0,n,",");t.addPropertiesHandler(function(n){var i=t.consumeToken(/^circle/,n);if(i&&i[0])return["circle"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),e,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],i[1]));var o=t.consumeToken(/^ellipse/,n);if(o&&o[0])return["ellipse"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),r,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],o[1]));var s=t.consumeToken(/^polygon/,n);return s&&s[0]?["polygon"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),t.optional(t.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),t.consumeSizePairList,t.ignore(t.consumeToken.bind(void 0,/^\)/))],s[1])):void 0},function(e,r){if(e[0]===r[0])return"circle"==e[0]?t.mergeList(e.slice(1),r.slice(1),["circle(",t.mergeDimensions," at ",t.mergeOffsetList,")"]):"ellipse"==e[0]?t.mergeList(e.slice(1),r.slice(1),["ellipse(",t.mergeNonNegativeSizePair," at ",t.mergeOffsetList,")"]):"polygon"==e[0]&&e[1]==r[1]?t.mergeList(e.slice(2),r.slice(2),["polygon(",e[1],i,")"]):void 0},["shape-outside"])}(n),function(t,e){function r(t,e){e.concat([t]).forEach(function(e){e in document.documentElement.style&&(n[t]=e),i[e]=t})}var n={},i={};r("transform",["webkitTransform","msTransform"]),r("transformOrigin",["webkitTransformOrigin"]),r("perspective",["webkitPerspective"]),r("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return n[t]||t},t.unprefixedPropertyName=function(t){return i[t]||t}}(n)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)t=function(){return performance.now()};else var t=function(){return Date.now()};var e=function(t,e,r){this.target=t,this.currentTime=e,this.timelineTime=r,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},r=window.Element.prototype.animate;window.Element.prototype.animate=function(n,i){var o=r.call(this,n,i);o._cancelHandlers=[],o.oncancel=null;var s=o.cancel;o.cancel=function(){s.call(this);var r=new e(this,null,t()),n=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){n.forEach(function(t){t.call(r.target,r)})},0)};var c=o.addEventListener;o.addEventListener=function(t,e){"function"==typeof e&&"cancel"==t?this._cancelHandlers.push(e):c.call(this,t,e)};var u=o.removeEventListener;return o.removeEventListener=function(t,e){if("cancel"==t){var r=this._cancelHandlers.indexOf(e);r>=0&&this._cancelHandlers.splice(r,1)}else u.call(this,t,e)},o}}}(),function(t){var e=document.documentElement,r=null,n=!1;try{var i="0"==getComputedStyle(e).getPropertyValue("opacity")?"1":"0";(r=e.animate({opacity:[i,i]},{duration:1})).currentTime=0,n=getComputedStyle(e).getPropertyValue("opacity")==i}catch(t){}finally{r&&r.cancel()}if(!n){var o=window.Element.prototype.animate;window.Element.prototype.animate=function(e,r){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&e[Symbol.iterator]&&(e=Array.from(e)),Array.isArray(e)||null===e||(e=t.convertToArrayForm(e)),o.call(this,e,r)}}}(r),e.true={}}(0,function(){return this}())},{}]},{},[9]);
diff --git a/assets/version.json b/assets/version.json
index 306a0a4b..712c1fd0 100644
--- a/assets/version.json
+++ b/assets/version.json
@@ -1,3 +1,3 @@
 {
-  "version": "7.0.0"
+  "version": "7.3.0"
 }
diff --git a/blog.md b/blog.md
index 07dd6c46..c6f98994 100644
--- a/blog.md
+++ b/blog.md
@@ -1,6 +1,8 @@
 ---
-layout: blog
 title: Blog
+description: >
+  The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll.
+image: /assets/img/projects/default.jpg
 menu: true
 order: 1
 ---
diff --git a/docs/7.0.0/config.md b/docs/7.0.0/config.md
deleted file mode 100644
index ee40437d..00000000
--- a/docs/7.0.0/config.md
+++ /dev/null
@@ -1,314 +0,0 @@
----
-layout: page
-title: Config
-description: >
-  Once Jekyll is running, you can start with basic configuration by adding various entries to `_config.yml`.
----
-
-Once Jekyll is running, you can start with basic configuration by adding various entries to `_config.yml`.
-Besides the documentation here, the [default `_config.yml`](https://github.com/qwtel/hydejack/blob/master/_config.yml)
-is also documented extensively.
-
-**NOTE**: When making changes to `_config.yml`, it is necessary to restart the Jekyll process for the changes to take effect.
-{:.message}
-
-## Table of Contents
-{:.no_toc}
-0. this unordered seed list will be replaced by toc as unordered list
-{:toc}
-
-## Setting `url` and `baseurl`
-The first order of business should be to set the correct `url` and `baseurl` values in `_config.yml`.
-
-The `url` is the domain of your site, including the protocol (`http` or `https`). For this site, it is
-
-~~~yml
-url: https://qwtel.com
-~~~
-
-If your entire Jekyll blog is hosted in a subdirectory of your page, provide the path in `baseurl` with a leading `/`, but no trailing `/`,
-e.g.
-
-~~~yml
-baseurl: /hydejack
-~~~
-
-Otherwise, provide the empty string `''`
-
-### GitHub Pages
-When hosting on [GitHub Pages](https://pages.github.com/) (unless you are using a custom domain), the `url` is
-
-~~~yml
-url: https://<username>.github.io
-~~~
-
-The `baseurl` depends on the kind of page you are hosting.
-
-* When hosting a *user or organization page*, use the empty string.
-* When hosting *project page*, use `/<reponame>`.
-
-For for information on the types of pages you can host on GitHub, see the
-[GitHub Help article](https://help.github.com/articles/user-organization-and-project-pages/).
-
-## Changing accent colors and sidebar images
-Hydejack allows you to choose the background image of the sidebar, as well as the accent color
-(color of the links, selection and focus outline, etc...) on a per-page, per-category, per-tag, per-author and global basis.
-
-Set the fallback values in `_config.yml`, which are used should no other rule (page, category, tag, author) apply:
-
-~~~yml
-accent_image: {{ site.baseurl }}/assets/img/sidebar-bg.jpg
-accent_color: '#A85641'
-~~~
-
-**NOTE**: I recommend using a blurred image in order for the text to remain readable.
-If you save a blurred image as JPG, it will also drastically reduce its file size.
-{:.message}
-
-
-The `accent_image` is optional. If you leave it out, Hydejack will use the `accent_color` as background (slightly darkened).
-You can also provide a single color instead of an image like this:
-
-~~~yml
-accent_image:
-  background: '#202020' # provide a valid CSS background value
-~~~
-
-## Changing fonts
-Hydejack lets you configure the font of regular text and headlines and it has built-in support for Google Fonts.
-There are three keys in `_config.yml` associated with it: `font`, `font_heading` and `google_fonts`.
-The defaults are:
-
-~~~yml
-font:         "'Noto Sans', Helvetica, Arial, sans-serif"
-font_heading: "'Roboto Slab', Helvetica, Arial, sans-serif"
-google_fonts: "Roboto+Slab:700|Noto+Sans:400,400i,700,700i"
-~~~
-
-`font` and `font_heading` must be valid CSS `font-family` values. When using Google Fonts make sure they consist of at least two fonts
-(everything except the first entry will be used as a fallback until the fonts have completed loading).
-
-The `google_fonts` key is the string necessary to fetch the fonts from Google.
-You can get it from the download page at [Google Fonts](https://fonts.google.com) after you've selected one or more fonts:
-
-![Where to get the google_fonts string]({{ site.baseurl }}/assets/img/docs/google-fonts.png)
-
-### Using safe web fonts
-If you prefer not to use Google Fonts and use [safe web fonts](http://www.cssfontstack.com/) instead,
-set `no_google_fonts` to `true`:
-
-```yml
-hydejack:
-  no_google_fonts: true
-```
-
-In this case, `font` and `font_heading` do not have to contain more than one font.
-You may also remove the `google_fonts` key in this case.
-
-## Choosing a blog layout
-Hydejack features two layouts for showing your blog posts.
-
-* The [`list` layout][posts] only shows the title and groups the posts by year of publication.
-* The [`blog` layout][blog] is a traditional paginated layout and shows the title and an excerpt of each post.
-
-In order to use the `list` layout add the following front-matter to a new markdown file:
-
-~~~yml
----
-layout: list
-title:  Home
----
-~~~
-
-If you want to use the `blog` layout, you need to add the `paginate` and `paginate_path` keys to your config file, e.g.
-
-~~~yml
-paginate:      5
-paginate_path: '/page-:num/'
-~~~
-
-The `blog` layout needs to be applied to a file with the `.html` file extension
-and the `paginate_path` needs to match the path to the `index.html` file,
-i.e. if you want the blog to appear at `/blog/`, put a `index.html` in the `blog` dir and set `paginate_path` to be `/blog/page-:num/`.
-
-For more information see [Pagination](https://jekyllrb.com/docs/pagination/).
-
-## Adding an author
-As a bare minimum, you should add an `author` key with a `name` and `email` sub-key
-(used by the [feed plugin](https://github.com/jekyll/jekyll-feed)) to to your config file:
-
-~~~yml
-author:
-  name:  Florian Klampfer
-  email: mail@qwtel.com
-~~~
-
-If you would like the author to be displayed in the about section below a post or project\*,
-as well as the top of about and welcome\* pages, add an `about` key and provide some markdown content.
-I recommend using the YAML pipe `|` syntax, so you can include multiple paragraphs:
-
-~~~yml
-author:
-  name:  Florian Klampfer
-  email: mail@qwtel.com
-  about: |
-    Hi, I'm Florian or @qwtel...
-
-    This is another paragraph.
-~~~
-
-### Adding an author's picture
-If you'd like for the author's picture to appear in addition the the about text (see above),
-you have to provide an URL to the `picture` key:
-
-~~~yml
-author:
-  picture:  {{ site.baseurl }}/assets/img/me.jpg
-~~~
-
-If you'd like to provide multiple versions of the picture for screens with different pixel densities,
-you can provide `path` and `srcset` keys instead.
-
-~~~yml
-author:
-  picture:
-    path:   {{ site.baseurl }}/assets/img/me.jpg
-    srcset:
-      1x:   {{ site.baseurl }}/assets/img/me.jpg
-      2x:   {{ site.baseurl }}/assets/img/me@2x.jpg
-~~~
-
-The `path` key is a fallback image for browsers that don't support the `srcset` attribute.
-
-The keys of the `srcset` hash will be used as image descriptors.
-For more information on `srcset`, see the
-[documentation at MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-srcset), or
-[this article from CSS-Tricks](https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-srcset/).
-
-### Adding social media icons
-Hydejack supports a variety of social media icons out of the box.
-These are defined on a per-author basis, so make sure you've followed the steps in [Adding an author](#adding-an-author).
-
-**NOTE**: If you are using the gem-based version of Hydejack,
-download [`social.yml`](https://github.com/qwtel/hydejack/blob/master/_data/social.yml)
-and put it into `_data` in the root directory.
-This is necessary because gem-based themes do not support including `_data`.
-{:.message}
-
-You can add a link to a social network by adding an entry to the `social` key in to an author.
-It consists of the name of the social network as key and your username within that network as value, e.g.
-
-~~~yml
-author:
-  social:
-    twitter: qwtel
-    github:  qwtel
-~~~
-
-Check out [`authors.yml`](https://github.com/qwtel/hydejack/blob/master/_data/authors.yml) to see which networks are available.
-You can also follow the steps [here](advanced.md) to add your own social media icons.
-
-You can change the order in which the icons appear by moving lines up or down, e.g.
-
-~~~yml
-author:
-  social:
-    github:  qwtel # now github appears first
-    twitter: qwtel
-~~~
-
-To get an overview of which networks are available and how a typical username in that network looks like,
-see the included [`authors.yml`](https://github.com/qwtel/hydejack/blob/master/_data/authors.yml).
-
-Should providing a username not produce a correct link for some reason, you can provide a complete URL instead, e.g.
-
-~~~yml
-social:
-  youtube: https://www.youtube.com/channel/UCu0PYX_kVANdmgIZ4bw6_kA
-~~~
-
-**NOTE**: You can add any platform, even if it's not defined in [`social.yml`](https://github.com/qwtel/hydejack/blob/master/_data/social.yml),
-by providing a complete URL. However, a fallback icon <span class="icon-link"></span> will be used when no icon is available.
-Supplying your own icons is an [advanced topic](advanced.md).
-{:.message}
-
-
-### Adding an email or RSS icon
-If you'd like to add email <span class="icon-mail"></span> or RSS <span class="icon-rss2"></span> to the list, add the `email` and `rss` keys, e.g.:
-
-~~~yml
-social:
-  email: mailto:mail@qwtel.com
-  rss:   {{ site.url }}{{ site.baseurl }}/feed.xml # make sure you provide an absolute URL
-~~~
-
-## Enabling comments
-Hydejack supports comments via [Disqus](https://disqus.com/).
-Before you can add comments to a page you need to register and add your site to Disqus' admin console.
-Once you have obtained your "Disqus shortname", you include it in your config file:
-
-~~~yml
-disqus: <Disqus shortname>
-~~~
-
-Now comments can be enabled by adding `comments: true` to the front matter.
-
-~~~yml
----
-layout:   post
-title:    Hello World
-comments: true
----
-~~~
-
-You can enable comments for entire classes of pages by using
-[front matter defaults](https://jekyllrb.com/docs/configuration/#front-matter-defaults).
-E.g. to enable comments on all posts, add to your config file:
-
-~~~yml
-defaults:
-  - scope:
-      type: posts
-    values:
-      comments: true
-~~~
-
-
-## Enabling Google Analytics
-Enabling Google Analytics is as simple as setting the `google_analytics` key.
-
-~~~yml
-google_analytics: UA-XXXXXXXX-X
-~~~
-
-Conversely, if you want to disable it, you only have to remove the key and no GA code will be part of the generated pages.
-
-## Changing built-in strings
-You can change the wording of built-in strings like "Related Posts" or "Read more" in `_data/strings.yml`.
-If you are using the gem-based version, you can get the default file
-[here](https://github.com/qwtel/hydejack/blob/master/_data/strings.yml).
-
-You will frequently find markers like `<!--post_title-->`.
-You can place them freely within your string and they will be replaced with the content they refer to.
-
-You may also use this feature to translate the theme into different languages.
-In this case you should also set the `lang` key to your config file, e.g.
-
-```yml
-lang: cc-ll
-```
-
-where `cc` is the 2-letter country code and `ll` specifies a 2-letter location code, e.g.: `de-at`.
-
-You may also change the strings used for formatting dates and times (look out for the `date_formats` key),
-but be aware that the values you provide need to be valid
-Ruby [format directives](http://ruby-doc.org/core-2.4.1/Time.html#method-i-strftime).
-
-Continue with [Basics](basics.md){:.heading.flip-title}
-{:.read-more}
-
-[blog]: https://qwtel.com/hydejack/blog/
-[posts]: https://qwtel.com/hydejack/posts/
-
-*[FOIT]: Flash of Invisible Text
-*[GA]: Google Analytics
diff --git a/docs/7.0.0/advanced.md b/docs/7.3.0/advanced.md
similarity index 100%
rename from docs/7.0.0/advanced.md
rename to docs/7.3.0/advanced.md
diff --git a/docs/7.0.0/basics.md b/docs/7.3.0/basics.md
similarity index 85%
rename from docs/7.0.0/basics.md
rename to docs/7.3.0/basics.md
index d4dd4169..48f74965 100644
--- a/docs/7.0.0/basics.md
+++ b/docs/7.3.0/basics.md
@@ -11,12 +11,79 @@ description: >
 0. this unordered seed list will be replaced by toc as unordered list
 {:toc}
 
+## Adding a page
+You can add generic pages that support markdown content but aren't blog posts.
+For example, this documentation is written in markdown, consisting of several generic pages.
+
+To add a page, create a new markdown file and put `layout: page` in a front matter
+
+~~~yml
+---
+layout: page
+title:  Documentation
+---
+~~~
+
+Now you can add content as you would in a blog post.
+
+## Adding an entry to the sidebar
+Hydejack's sidebar can add links to any page within the site. In order for a page to appear in the sidebar, it needs to have a truthy `menu` value defined in its front matter. The page also needs to have a `title`, otherwise the entry in the sidebar will be blank.
+
+If you want the link to appear at a particular position, you can set a numeric value to the `order` key.
+However, the page is not guaranteed to appear in the 5th position when you set a value of `5`,
+since it will only use that number to sort the pages.
+The position of a page also depends on the `order` of all other pages in the sidebar.
+
+If you don't want to spread the sidebar definitions across multiple markdown files,
+you can manage them centrally in your config file using front matter defaults, e.g.:
+
+```yml
+# file: _config.yml
+defaults:
+  - scope:
+      path: blog.md
+    values:
+      menu: true
+      order: 1
+  - scope:
+      path: projects.md
+    values:
+      menu: true
+      order: 2
+  - scope:
+      path: resume.md
+    values:
+      menu: true
+      order: 3
+  - scope:
+      path: about.md
+    values:
+      menu: true
+      order: 4
+```
+
+### Adding a link to an external page to the sidebar
+You can add links to external pages to the sidebar by creating a new markdown file for each entry and adding to the front matter:
+
+```yml
+---
+title: External
+redirect_to: https://example.com/
+menu: true
+order: 5
+---
+```
+
+You may combine this with the [`jekyll-redirect-from`](https://github.com/jekyll/jekyll-redirect-from) plugin
+to generate a redirect page at the `permalink` of the file, but this is optional.
+
 ## Adding a category or tag
 Hydejack allows you to use the `list` layout to show all posts of a particular tag or category.
 
 Before you start, make sure your config files contains the `featured_tags` and `features_categories` collections:
 
 ~~~yml
+# file: _config.yml
 collections:
   featured_categories:
     permalink:         /category/:name/
@@ -50,6 +117,8 @@ Posts can also be assigned to a category based on their position within the fold
 would place "Welcome to Jekyll" in the categories `jekyll` and `update`.
 Whether you use this method or not, categories will always be part of a posts URL, while tags will not.
 
+Type       | URL
+-----------|----
 Categories | `/jekyll/update/2017/04/07/welcome-to-jekyll/`
 Tags       | `/2017/04/07/welcome-to-jekyll/`
 {:.scroll-table-small}
@@ -59,12 +128,14 @@ As far as Jekyll is concerned, these are the only differences.
 ### Tags and categories in Hydejack
 Categories and tags are displayed by Hydejack below the title, after the date. Categories are displayed with the preposition "in", while tags are displayed with the preposition "on", e.g.
 
+Type       | Title
+-----------|------
 Categories | Welcome to Jekyll¬ 07 Apr 2017 **in** Jekyll / Update
 Tags       | Welcome to Jekyll¬ 07 Apr 2017 **on** Jekyll, Update
 Both       | Welcome to Jekyll¬ 07 Apr 2017 **in** Jekyll / Update **on** Jekyll, Update
 {:.scroll-table-small}
 
-### Adding a new category or tag
+### Creating a new category or tag
 Be default, categories and tags are rendered as plain text. Further steps are necessary if you want them to link to a page that contains a list of all posts that belong to that category or tag.
 
 For each "featured" category or tag, a file called `<categoryname>.md` or `<tagname>.md` has to be created in `_featured_tags` or `_featured_categories`, respectively.
@@ -73,6 +144,7 @@ Each file in these folders is part of a [Jekyll Collection](https://jekyllrb.com
 The the data of a category or tag is set in the files front matter, e.g.
 
 ~~~yml
+# file: _featured_tags/hyde.md
 ---
 layout: list
 title:  Hyde
@@ -110,26 +182,6 @@ description: >
 
 Once the file is created, the page can be found at `/category/<categoryname>/` or `/tag/<tagname>/`.
 
-## Adding a page
-You can add generic pages that support markdown content but aren't blog posts.
-For example, this documentation is written in markdown, consisting of several generic pages.
-
-To add a page, create a new markdown file and put `layout: page` in a front matter
-
-~~~yml
----
-layout: page
-title:  Documentation
----
-~~~
-
-Now you can add content as you would in a blog post.
-
-## Adding an entry to the sidebar
-Hydejack's sidebar can add links to any page within the site. In order for a page to appear in the sidebar, it needs to have a truthy `menu` value defined in its front matter. The page also needs to have a `title`, otherwise the entry in the sidebar will be blank.
-
-If you want the link to appear at a particular position, you can set a numeric value to the `order` key. However, the page is not guaranteed to appear in the 5th position when you set a value of `5`, since it will only use that number to sort the pages, i.e. the position of a page also depends on the `order` of all other pages in the sidebar.
-
 ## Adding an about page
 About pages are a frequent use case, so Hydejack has a special layout for it, which is a slight modification of the `page` layout.
 [Demo][about].
@@ -138,6 +190,7 @@ The main difference is that it will display an author's `about` text and `pictur
 To create an about page, make sure `layout` is set to `about`, and that the `author` key is set to an author defined in `_data/authors.yml`. For more on authors, see [Adding an author](config.md#adding-an-author).
 
 ~~~yml
+# file: about.md
 ---
 layout: about
 title:  About
@@ -162,6 +215,7 @@ For reference, the layout/order of content on the welcome page looks like:
 You can create a welcome page by creating a new markdown file and setting the layout to `welcome` in the front matter.
 
 ~~~yml
+# file: index.md
 ---
 layout: welcome
 title:  Welcome
@@ -173,6 +227,7 @@ Without further configuration, the welcome page will show the two most recent pr
 However, the welcome layout supports selecting specific projects and posts, by adding to the front matter, e.g.:
 
 ~~~yml
+# file: index.md
 ---
 layout:            welcome
 title:             Welcome
@@ -185,7 +240,7 @@ selected_posts:
 more_projects:     projects.md
 more_posts:        posts.md
 big_project:       false
-content_separator: <!-- more -->
+content_separator: <!--more-->
 ---
 ~~~
 
@@ -225,6 +280,7 @@ The projects page will show all projects in a particular collection.
 First, you need to make sure that you have the `projects` collection defined in `_config.yml`:
 
 ~~~yml
+# file: _config.yml
 collections:
   projects:
     permalink: /projects/:path/
@@ -237,6 +293,7 @@ This file has the `projects` layout (mind the "s" at the end) and should have a
 with the name of the collection as a value, e.g.:
 
 ~~~yml
+# file: projects.md
 ---
 layout:          projects
 title:           Projects*
@@ -265,19 +322,21 @@ Projects are organized using [Jekyll Collections](https://jekyllrb.com/docs/coll
 Each project generates an entry on the projects layout ([Demo][projects]) as well as its own detail page ([Demo][project]).
 
 Each project is defined by a file in the `_projects` directory.
-The project's meta information is defined in the file's front matter. You can also add markdown content. A project's front matter may look like:
+The project's meta information is defined in the file's front matter. You can also add markdown content.
+A project's front matter may look like:
 
 ~~~yml
+# file: _projects/hyde-v2.md
 ---
 layout:      project
 title:       Hyde v2*
 date:        2 Jan 2014
 screenshot:
-  src:       /hydejack/assets/img/projects/hyde-v2@0,25x.jpg
+  src:       /assets/img/projects/hyde-v2@0,25x.jpg
   srcset:
-    1920w:   /hydejack/assets/img/projects/hyde-v2.jpg
-    960w:    /hydejack/assets/img/projects/hyde-v2@0,5x.jpg
-    480w:    /hydejack/assets/img/projects/hyde-v2@0,25x.jpg
+    1920w:   /assets/img/projects/hyde-v2.jpg
+    960w:    /assets/img/projects/hyde-v2@0,5x.jpg
+    480w:    /assets/img/projects/hyde-v2@0,25x.jpg
 caption:     Hyde is a brazen two-column Jekyll theme.
 description: >
   Hyde is a brazen two-column [Jekyll](http://jekyllrb.com) theme that pairs a prominent sidebar with uncomplicated content.
@@ -312,7 +371,7 @@ For more information on `srcset`, see the [documentation at MDN](https://develop
 : A list of `title`-`url` pairs that link to external resources related to this project.
 
 `author`
-: Shown below the project, similar to posts.
+: Optional. Shown below the project, similar to posts.
 
 `big_project`
 : Optional. When `true`, the project preview will span the full content width. You can use this for projects that you want to direct additional attention to. You can set/override this for an entire page, by setting `big_project` in the front matter (applies to the `projects` and `welcome` layout).
@@ -325,19 +384,22 @@ It generates the resume page from a valid [JSON Resume](https://jsonresume.org/)
 
 * You can use the visual [JSON Resume Editor](http://registry.jsonresume.org/).
 * If you have a LinkedIn profile, you can try [LinkedIn to Json Résumé](https://jmperezperez.com/linkedin-to-json-resume/).
-* You can edit the [example `resume.json`](https://github.com/qwtel/hydejack/blob/v6/_data/resume.json) in the `_data` directly. It contains example entries for each type of entry.
+* You can edit the [example `resume.json`](https://github.com/qwtel/hydejack/blob/master/_data/resume.json) in the `_data` directly. It contains example entries for each type of entry.
 
 Once you have a JSON Resume, place it into `_data`.
 
-If you prefer editing YAML files, there is an [example `_resume.yml`](https://github.com/qwtel/hydejack/blob/v6/_data/_resume.yml) file in `_data`.
+If you prefer editing YAML files, there is an [example `_resume.yml`](https://github.com/qwtel/hydejack/blob/master/_data/_resume.yml) file in `_data`.
 In order to use it, rename it to `resume.yml` and delete `resume.json`.
 
 To render the resume page, create a new markdown file and set the layout to `resume` in the front matter:
 
 ~~~yml
+# file: resume.md
 ---
 layout: resume
 title:  Resume
+description: >
+  A short description of the page for search engines (~150 characters long).
 ---
 ~~~
 
diff --git a/docs/7.0.0/build.md b/docs/7.3.0/build.md
similarity index 98%
rename from docs/7.0.0/build.md
rename to docs/7.3.0/build.md
index 9bd51474..30b8beff 100644
--- a/docs/7.0.0/build.md
+++ b/docs/7.3.0/build.md
@@ -15,12 +15,11 @@ description: >
 Before building, make sure the following is part of your config file:
 
 ```yml
+# file: _config.yml
 compress_html:
   comments:  ["<!-- ", " -->"]
   clippings: all
   endings:   all
-  ignore:
-    envs:    [development]
 
 sass:
   style:     compressed
@@ -52,6 +51,7 @@ To use the LSI, you first have to disable Hydejack's default behavior,
 by setting `use_lsi: true` under the `hydejack` key in your config file.
 
 ~~~yml
+# file: _config.yml
 hydejack:
   use_lsi: true
 ~~~
diff --git a/docs/7.3.0/config.md b/docs/7.3.0/config.md
new file mode 100644
index 00000000..e5212435
--- /dev/null
+++ b/docs/7.3.0/config.md
@@ -0,0 +1,684 @@
+---
+layout: page
+title: Config
+description: >
+  Once Jekyll is running, you can start with basic configuration by adding various entries to `_config.yml`.
+---
+
+Once Jekyll is running, you can start with basic configuration by adding various entries to `_config.yml`.
+Besides these descriptions, you can also read the [annotated config file](#annotated-config-file) below.
+
+**NOTE**: When making changes to `_config.yml`, it is necessary to restart the Jekyll process for the changes to take effect.
+{:.message}
+
+## Table of Contents
+{:.no_toc}
+0. this unordered seed list will be replaced by toc as unordered list
+{:toc}
+
+## Setting `url` and `baseurl`
+The first order of business should be to set the correct `url` and `baseurl` values in `_config.yml`.
+
+The `url` is the domain of your site, including the protocol (`http` or `https`). For this site, it is
+
+~~~yml
+# file: _config.yml
+url: https://qwtel.com
+~~~
+
+If your entire Jekyll blog is hosted in a subdirectory of your page, provide the path in `baseurl` with a leading `/`, but no trailing `/`,
+e.g.
+
+~~~yml
+# file: _config.yml
+baseurl: /hydejack
+~~~
+
+Otherwise, provide the empty string `''`
+
+### GitHub Pages
+When hosting on [GitHub Pages](https://pages.github.com/) the `url` is `https://<username>.github.io`
+(unless you are using a custom domain).
+
+The `baseurl` depends on the kind of page you are hosting.
+
+* When hosting a *user or organization page*, use the empty string `''`.
+* When hosting *project page*, use `/<reponame>`.
+
+For for information on the types of pages you can host on GitHub, see the
+[GitHub Help article](https://help.github.com/articles/user-organization-and-project-pages/).
+
+## Changing accent colors and sidebar images
+Hydejack allows you to choose the background image of the sidebar, as well as the accent color
+(color of the links, selection and focus outline, etc...) on a per-page, per-category, per-tag, per-author and global basis.
+
+Set the fallback values in `_config.yml`, which are used should no other rule (page, category, tag, author) apply:
+
+~~~yml
+# file: _config.yml
+accent_image: /assets/img/sidebar-bg.jpg
+accent_color: '#A85641'
+~~~
+
+**NOTE**: I recommend using a blurred image in order for the text to remain readable.
+If you save a blurred image as JPG, it will also drastically reduce its file size.
+{:.message}
+
+
+The `accent_image` property also accepts the special value `none` which will remove the default image.
+
+You can also provide a single color instead of an image like this:
+
+~~~yml
+# file: _config.yml
+accent_image:
+  background: '#202020' # provide a valid CSS background value
+  overlay:    false     # set to true if you want a dark overlay
+~~~
+
+## Changing fonts
+Hydejack lets you configure the font of regular text and headlines, and it has built-in support for Google Fonts.
+There are three keys in `_config.yml` associated with this: `font`, `font_heading` and `google_fonts`.
+The defaults are:
+
+~~~yml
+# file: _config.yml
+font:         "'Noto Sans', Helvetica, Arial, sans-serif"
+font_heading: "'Roboto Slab', Helvetica, Arial, sans-serif"
+google_fonts: "Roboto+Slab:700|Noto+Sans:400,400i,700,700i"
+~~~
+
+`font` and `font_heading` must be valid CSS `font-family` values. When using Google Fonts make sure they consist of at least two fonts
+(everything except the first entry will be used as a fallback until the fonts have completed loading).
+
+The `google_fonts` key is the string necessary to fetch the fonts from Google.
+You can get it from the download page at [Google Fonts](https://fonts.google.com) after you've selected one or more fonts:
+
+![Where to get the google_fonts string]({{ site.baseurl }}/assets/img/docs/google-fonts.png)
+
+### Using safe web fonts
+If you prefer not to use Google Fonts and use [safe web fonts](http://www.cssfontstack.com/) instead,
+set `no_google_fonts` to `true`:
+
+```yml
+# file: _config.yml
+hydejack:
+  no_google_fonts: true
+```
+
+In this case, `font` and `font_heading` do not have to contain more than one font.
+You may also remove the `google_fonts` key in this case.
+
+## Choosing a blog layout
+Hydejack features two layouts for showing your blog posts.
+
+* The [`list` layout][posts] only shows the title and groups the posts by year of publication.
+* The [`blog` layout][blog] is a traditional paginated layout and shows the title and an excerpt of each post.
+
+In order to use the `list` layout add the following front-matter to a new markdown file:
+
+~~~yml
+---
+layout: list
+title:  Home
+---
+~~~
+
+If you want to use the `blog` layout, you need to add `jekyll-paginate` to your `Gemfile` and to the `plugins` list in your config file:
+
+```ruby
+# file: Gemfile
+gem "jekyll-paginate"
+```
+
+```yml
+# file: _config.yml
+plugins:
+  - jekyll-paginate
+```
+
+You also need to add the `paginate` and `paginate_path` keys to your config file, e.g.
+
+~~~yml
+# file: _config.yml
+paginate:      5
+paginate_path: '/page-:num/'
+~~~
+
+The `blog` layout needs to be applied to a file with the `.html` file extension
+and the `paginate_path` needs to match the path to the `index.html` file.
+To match the `paginate_path` above, put a `index.html` with the following front matter in the root directory:
+
+~~~yml
+# file: index.html
+---
+layout: blog
+title: Blog
+---
+~~~
+
+For more information see [Pagination](https://jekyllrb.com/docs/pagination/).
+
+### Using the `blog` layout in a subdirectory
+If you want to use the blog layout at a URL like `/my-blog/`, create the following folder structure:
+
+~~~
+├── my-blog
+│   └── index.html
+├── my-blog.md
+└── _config.yml
+~~~
+
+You can use the same `index.html` as before:
+
+~~~yml
+# file: my-blog/index.html
+---
+layout: blog
+title: Blog
+---
+~~~
+
+(Optional) If you want to add a link to the blog in the sidebar, DO NOT add the `menu` key to the front matter of `my-blog/index.html`.
+Instead, create a new markdown file called `my-blog.md` and add it there:
+
+~~~yml
+# file: my-blog.md
+---
+title: Blog
+menu: true
+---
+~~~
+
+Finally, in your cofnig file, make sue the `pageinate_path` matches the location of the index file:
+
+~~~yml
+# file: _config.yml
+paginate:      5
+paginate_path: /my-blog/page-:num/
+~~~
+
+## Adding an author
+As a bare minimum, you should add an `author` key with a `name` and `email` sub-key
+(used by the [feed plugin](https://github.com/jekyll/jekyll-feed)) to to your config file:
+
+~~~yml
+# file: _config.yml
+author:
+  name:  Florian Klampfer
+  email: mail@qwtel.com
+~~~
+
+If you would like the author to be displayed in the about section below a post or project\*,
+as well as the top of about and welcome\* pages, add an `about` key and provide some markdown content.
+I recommend using the YAML pipe `|` syntax, so you can include multiple paragraphs:
+
+~~~yml
+# file: _config.yml
+author:
+  name:  Florian Klampfer
+  email: mail@qwtel.com
+  about: |
+    Hi, I'm Florian or @qwtel...
+
+    This is another paragraph.
+~~~
+
+### Adding an author's picture
+If you'd like for the author's picture to appear in addition the the about text (see above),
+you can either use the [`jekyll-avatar`](https://github.com/benbalter/jekyll-avatar) plugin or provide URLs to images manually.
+
+To use the plugin, add it to your `Gemfile` and the list of `plugins` in your config file:
+
+```ruby
+# file: Gemfile
+gem "jekyll-avatar"
+```
+
+```yml
+# file: _config.yml
+plugins:
+  - jekyll-avatar
+```
+
+Run `bundle install` for the changes to take effect.
+
+Make sure you have provided a GitHub username in your config file (`github_username`),
+or to the author key (`author.social.github`, `author.github.username`, or `author.github`).
+See [Adding social media icons](#adding-social-media-icons) for more.
+
+To set an image manually, you have to provide an URL to the author's `picture` key:
+
+~~~yml
+# file: _config.yml
+author:
+  picture:  /assets/img/me.jpg
+~~~
+
+If you'd like to provide multiple versions for screens with different pixel densities,
+you can provide `path` and `srcset` keys instead:
+
+~~~yml
+# file: _config.yml
+author:
+  picture:
+    path:   /assets/img/me.jpg
+    srcset:
+      1x:   /assets/img/me.jpg
+      2x:   /assets/img/me@2x.jpg
+~~~
+
+The `path` key is a fallback image for browsers that don't support the `srcset` attribute.
+
+The keys of the `srcset` hash will be used as image descriptors.
+For more information on `srcset`, see the
+[documentation at MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-srcset), or
+[this article from CSS-Tricks](https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-srcset/).
+
+### Adding social media icons
+Hydejack supports a variety of social media icons out of the box.
+These are defined on a per-author basis, so make sure you've followed the steps in [Adding an author](#adding-an-author).
+
+**NOTE**: If you are using the gem-based version of Hydejack,
+download [`social.yml`](https://github.com/qwtel/hydejack/blob/master/_data/social.yml)
+and put it into `_data` in the root directory.
+This is necessary because gem-based themes do not support including `_data`.
+{:.message}
+
+You can add a link to a social network by adding an entry to the `social` key in to an author.
+It consists of the name of the social network as key and your username within that network as value, e.g.
+
+~~~yml
+# file: _config.yml
+author:
+  social:
+    twitter: qwtel
+    github:  qwtel
+~~~
+
+Check out [`authors.yml`](https://github.com/qwtel/hydejack/blob/master/_data/authors.yml) to see which networks are available.
+You can also follow the steps [here](advanced.md) to add your own social media icons.
+
+You can change the order in which the icons appear by moving lines up or down, e.g.
+
+~~~yml
+# file: _config.yml
+author:
+  social:
+    github:  qwtel # now github appears first
+    twitter: qwtel
+~~~
+
+To get an overview of which networks are available and how a typical username in that network looks like,
+see the included [`authors.yml`](https://github.com/qwtel/hydejack/blob/master/_data/authors.yml).
+
+Should providing a username not produce a correct link for some reason, you can provide a complete URL instead, e.g.
+
+~~~yml
+# file: _config.yml
+author:
+  social:
+    youtube: https://www.youtube.com/channel/UCu0PYX_kVANdmgIZ4bw6_kA
+~~~
+
+**NOTE**: You can add any platform, even if it's not defined in [`social.yml`](https://github.com/qwtel/hydejack/blob/master/_data/social.yml),
+by providing a complete URL. However, a fallback icon <span class="icon-link"></span> will be used when no icon is available.
+Supplying your own icons is an [advanced topic](advanced.md).
+{:.message}
+
+
+### Adding an email, RSS icon or download icon
+If you'd like to add an email <span class="icon-mail"></span>, RSS <span class="icon-rss2"></span>, or download <span class="icon-box-add"></span> icon to the list,
+add the `email`, `rss`, or `download` key, e.g.:
+
+~~~yml
+# file: _config.yml
+author:
+  social:
+    email:    mailto:mail@qwtel.com
+    rss:      {{ site.url }}{{ site.baseurl }}/feed.xml # make sure you provide an absolute URL
+    download: https://github.com/qwtel/hydejack/archive/v7.3.0.zip
+~~~
+
+## Enabling comments
+Hydejack supports comments via [Disqus](https://disqus.com/).
+Before you can add comments to a page you need to register and add your site to Disqus' admin console.
+Once you have obtained your "Disqus shortname", you include it in your config file:
+
+~~~yml
+# file: _config.yml
+disqus: <disqus shortname>
+~~~
+
+Now comments can be enabled by adding `comments: true` to the front matter.
+
+~~~yml
+---
+layout:   post
+title:    Hello World
+comments: true
+---
+~~~
+
+You can enable comments for entire classes of pages by using
+[front matter defaults](https://jekyllrb.com/docs/configuration/#front-matter-defaults).
+E.g. to enable comments on all posts, add to your config file:
+
+~~~yml
+# file: _config.yml
+defaults:
+  - scope:
+      type: posts
+    values:
+      comments: true
+~~~
+
+## Enabling Google Analytics
+Enabling Google Analytics is as simple as setting the `google_analytics` key.
+
+~~~yml
+# file: _config.yml
+google_analytics: UA-XXXXXXXX-X
+~~~
+
+Conversely, if you want to disable it, you only have to remove the key and no GA code will be part of the generated pages.
+
+## Changing built-in strings
+You can change the wording of built-in strings like "Related Posts" or "Read more" in `_data/strings.yml`.
+If you are using the gem-based version, you can get the default file
+[here](https://github.com/qwtel/hydejack/blob/master/_data/strings.yml).
+
+You will frequently find markers like `<!--post_title-->`.
+You can place them freely within your string and they will be replaced with the content they refer to.
+
+You may also use this feature to translate the theme into different languages.
+In this case you should also set the `lang` key to your config file, e.g.
+
+```yml
+# file: _config.yml
+lang: cc-ll
+```
+
+where `cc` is the 2-letter country code and `ll` specifies a 2-letter location code, e.g.: `de-at`.
+
+You may also change the strings used for formatting dates and times (look out for the `date_formats` key),
+but be aware that the values you provide need to be valid
+Ruby [format directives](http://ruby-doc.org/core-2.4.1/Time.html#method-i-strftime).
+
+## Enabling newsletter boxes*
+To enable showing newsletter subscription boxes below each post and project,
+provide your [Tinyletter] username to the `tinyletter` key in the config file.
+
+```yml
+# file: _config.yml
+tinyletter:  <tinyletter username>
+```
+
+To edit the content of the newsletter box, open `_data/strings.yml`, and change the entries under the `tinyletter` key.
+
+If want to use a different mailing provider, like MailChimp, you can build your own form,
+and insert it into `_includes/my-newsletter.html`.
+There you will also find an example form for MailChimp, where you need to fill in `site.mailchimp.action` and `site.mailchimp.hidden_input`
+(you can get these from MailChimp).
+
+To build a completely new from, you can use [the same CSS classes as Bootstrap](https://getbootstrap.com/docs/4.0/components/forms/).
+Note that only form, grid and utility classes are available.
+Check out [Forms by Example](forms-by-example.md){:.heading.flip-title} for some examples.
+
+## Annotated config file
+Below you find the the complete default `_config.yml` file. You may want to copy it when using the gem-based version of the theme.
+
+```yml
+# Config
+# ========================================================================================
+
+title:                 Hydejack
+
+# Language of your content in 2-letter code, eg: en, de.
+# You may also provide a location, eg: en-us, de_AT.
+lang:                  en
+
+# The unique resource location of your page.
+# Set to `https://<username>.github.io` when hosting on GitHub Pages.
+url:                   https://domain.tld
+
+# Set to '' when hosting on GitHub Pages, like `//<username>.github.io`.
+# Set to '/<reponame>' when using the `gh-pages` branch of a repository.
+baseurl:               /hydejack
+
+# A short description of the page used for the meta description tag.
+description:           >
+  A Jekyll theme with JavaScript powers. "Best Theme by a Mile".
+  Combines the best of static sites and modern web apps.
+  Open `_config.yml` to edit this text.
+
+# A shorter description for the sidebar.
+tagline:               >
+  A Jekyll theme with JavaScript powers.
+  Open `_config.yml` to edit this text.
+
+# A list of keywords for your blog, will be used as fallback
+# for pages that don't have `keywords` in their front matter.
+keywords:              []
+
+# Used by jekyll-seo-tag...
+logo:                  /assets/icons/icon.png
+
+# This should be the same author as first entry in `_data/authors.yml`.
+# Duplication is necessary due to the jekyll-feed plugin.
+author:
+  # name:                <firstname> <lastname>
+  # email:               <mail@domain.tld>
+
+# This text will appear in a `<small>` tag in the footer of every page.
+copyright:             © 20XX. Open _config.yml to edit this text.
+
+# Format of the permalinks
+permalink:             pretty
+
+# Pagination configuration (used by the `blog` layout)
+paginate:              5
+paginate_path:         /blog/page-:num/
+
+# Customizaton
+# ========================================================================================
+
+# The string encoding which fonts to fetch from Google Fonts.
+# See: <https://qwtel.com/hydejack/docs/configuration/>
+google_fonts:          Roboto+Slab:700|Noto+Sans:400,400i,700,700i
+
+# The text font. Expects a string that is a valid CSS font-family value.
+font:                  "'Noto Sans', Helvetica, Arial, sans-serif"
+
+# The font used for headings. Expects a string that is a valid CSS font-family value.
+font_heading:          "'Roboto Slab', Helvetica, Arial, sans-serif"
+
+# Fallback image and color
+accent_image:          /assets/img/sidebar-bg.jpg
+accent_color:          '#4fb1ba'
+
+# 3rd Party Integrations
+# ----------------------------------------------------------------------------------------
+
+# Setting a disqus shortname will enable the comment section on
+# pages with `comments: true` in the front matter.
+# disqus:                <disqus_shortname>
+
+# Setting a tinyletter username will enable the newsletter subscription box.
+# tinyletter:            <tinyletter_username>
+
+# Set your Google Analytics id to receive `pageview` events.
+# To remove Google Anaylics from your page, remove the line below.
+# google_analytics:      UA-XXXXXXXX-X
+
+
+# Hydejack Flags
+# ----------------------------------------------------------------------------------------
+
+hydejack:
+  # Configure the order of complementary content on blog posts
+  post_addons:         [about, newsletter, related, random]
+
+  # Configure the order of complementary content on project pages
+  project_addons:      [about, newsletter, other]
+
+  # If you do not use Google Fonts, set to `true`.
+  no_google_fonts:     false
+
+  # Set to `true` if you don't want to show an icon indicating external links
+  no_mark_external:    false
+
+  # Set to `true` if third party plugins fail to work with dynamically loaded pages
+  no_push_state:       false
+
+  # Set to `true` if you want to disable the drawer
+  no_drawer:           false
+
+  # Set to `true` if you do not want parts of the css inlined in <head/>
+  # This *may* be benefitial when serving the site over HTTP/2.
+  no_inline_css:       false
+
+  # Code blocks and tables "break" the layout by spanning the full available width.
+  # Set this to true if you want them to be the same width as other content.
+  no_break_layout:     false
+
+  # Set to `true` if you do not want to expose your resume and projects
+  # in machine-readable formats.
+  no_structured_data:  false
+
+  # You can set this to `true` if you don't want to set the `theme-color` meta tag,
+  # This only affects the meta tag, not the color specified in the app manifest.
+  no_theme_color:      false
+
+  # Set to `true` when building with the `--lsi` option
+  use_lsi:             false
+
+
+# Collections
+# ========================================================================================
+
+collections:
+  featured_categories:
+    permalink:         /category/:name/
+    output:            true
+
+  featured_tags:
+    permalink:         /tag/:name/
+    output:            true
+
+  projects:
+    permalink:         /projects/:path/
+    output:            true
+
+
+# File inclusion/exclusion
+# ========================================================================================
+
+exclude:
+  - README.md
+  - node_modules
+  - vendor
+  - package.json
+  - package-lock.json
+  - Gemfile
+  - Gemfile.lock
+include:
+  - LICENSE.md
+
+
+# Plugins and Plugin Configuration
+# ========================================================================================
+
+plugins:
+  # - jekyll-avatar
+  # - jekyll-default-layout
+  - jekyll-feed
+  # - jekyll-gist
+  # - jekyll-optional-front-matter
+  - jekyll-paginate
+  # - jekyll-readme-index
+  # - jekyll-redirect-from
+  - jekyll-relative-links
+  - jekyll-seo-tag
+  - jekyll-sitemap
+  # - jekyll-titles-from-headings
+
+
+# SEO Tag
+# ---------------------------------------------------------------------------------------
+
+# Where you proof that you own this site (used by jekyll-seo-tag)
+# google_site_verification: <verification-id>
+# -- or --
+# webmaster_verifications:
+#   google:              <verification-id>
+#   bing:                <verification-id>
+#   alexa:               <verification-id>
+#   yandex:              <verification-id>
+
+# Used for Twitter cards
+# twitter:
+#   username:            <shortname>
+
+# Used for Facebook open graph
+# facebook:
+#   app_id:              <id>
+#   publisher:           <id>
+#   admins:              <id>
+
+# Used on index and about sites
+# social:
+#   name:                <firstname> <lastname>
+#   links:
+#     - https://twitter.com/<username>
+#     - https://github.com/<username>
+
+
+# Other Plugins
+# ---------------------------------------------------------------------------------------
+
+optional_front_matter:
+  remove_originals:    true
+
+readme_index:
+  remove_originals:    true
+
+relative_links:
+  collections:         true
+
+titles_from_headings:
+  strip_title:         true
+  collections:         true
+
+kramdown:
+  footnote_backlink:   '&#x21a9;&#xfe0e;'
+  math_engine:         mathjax
+  math_engine_opts:
+    preview:           true
+    preview_as_code:   true
+
+compress_html:
+  comments:            ["<!-- ", " -->"]
+  clippings:           all
+  endings:             all
+  ignore:
+    envs:              [development]
+
+sass:
+  style:               compressed
+
+# If you are upgrading form v5 (or earlier), uncomment the lines below,
+# so that the location of the feed XML stays the same.
+# feed:
+#   path:                atom.xml
+```
+
+Continue with [Basics](basics.md){:.heading.flip-title}
+{:.read-more}
+
+[blog]: https://qwtel.com/hydejack/blog/
+[posts]: https://qwtel.com/hydejack/posts/
+[tinyletter]: https://tinyletter.com/
+
+*[FOIT]: Flash of Invisible Text
+*[GA]: Google Analytics
diff --git a/docs/7.3.0/forms-by-example.md b/docs/7.3.0/forms-by-example.md
new file mode 100644
index 00000000..120e3b62
--- /dev/null
+++ b/docs/7.3.0/forms-by-example.md
@@ -0,0 +1,799 @@
+---
+layout: page
+title: Forms by Example
+description: >
+  Hydejack PRO allows you to build your own forms, using [the same CSS classes as Bootstrap](https://getbootstrap.com/docs/4.0/components/forms/).
+  Below you can find examples to help you get started.
+---
+
+## Example 1
+<form>
+  <div class="form-group">
+    <label for="exampleInputEmail1">Email address</label>
+    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
+    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
+  </div>
+  <div class="form-group">
+    <label for="exampleInputPassword1">Password</label>
+    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
+  </div>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input type="checkbox" class="form-check-input">
+      Check me out
+    </label>
+  </div>
+  <button type="submit" class="btn btn-primary">Submit</button>
+</form>
+
+```html
+<form>
+  <div class="form-group">
+    <label for="exampleInputEmail1">Email address</label>
+    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
+    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
+  </div>
+  <div class="form-group">
+    <label for="exampleInputPassword1">Password</label>
+    <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
+  </div>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input type="checkbox" class="form-check-input">
+      Check me out
+    </label>
+  </div>
+  <button type="submit" class="btn btn-primary">Submit</button>
+</form>
+```
+
+## Example 2
+<form>
+  <div class="form-group">
+    <label for="exampleFormControlInput1">Email address</label>
+    <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
+  </div>
+  <div class="form-group">
+    <label for="exampleFormControlSelect1">Example select</label>
+    <select class="form-control" id="exampleFormControlSelect1">
+      <option>1</option>
+      <option>2</option>
+      <option>3</option>
+      <option>4</option>
+      <option>5</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <label for="exampleFormControlSelect2">Example multiple select</label>
+    <select multiple class="form-control" id="exampleFormControlSelect2">
+      <option>1</option>
+      <option>2</option>
+      <option>3</option>
+      <option>4</option>
+      <option>5</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <label for="exampleFormControlTextarea1">Example textarea</label>
+    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-group">
+    <label for="exampleFormControlInput1">Email address</label>
+    <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
+  </div>
+  <div class="form-group">
+    <label for="exampleFormControlSelect1">Example select</label>
+    <select class="form-control" id="exampleFormControlSelect1">
+      <option>1</option>
+      <option>2</option>
+      <option>3</option>
+      <option>4</option>
+      <option>5</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <label for="exampleFormControlSelect2">Example multiple select</label>
+    <select multiple class="form-control" id="exampleFormControlSelect2">
+      <option>1</option>
+      <option>2</option>
+      <option>3</option>
+      <option>4</option>
+      <option>5</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <label for="exampleFormControlTextarea1">Example textarea</label>
+    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
+  </div>
+</form>
+```
+
+## Example 3
+<form>
+  <div class="form-group">
+    <label for="exampleFormControlFile1">Example file input</label>
+    <input type="file" class="form-control-file" id="exampleFormControlFile1">
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-group">
+    <label for="exampleFormControlFile1">Example file input</label>
+    <input type="file" class="form-control-file" id="exampleFormControlFile1">
+  </div>
+</form>
+```
+
+## Example 4
+<form>
+  <div class="form-group">
+    <input class="form-control form-control-lg" type="text" placeholder=".form-control-lg">
+  </div>
+  <div class="form-group">
+    <input class="form-control" type="text" placeholder="Default input">
+  </div>
+  <div class="form-group">
+    <input class="form-control form-control-sm" type="text" placeholder=".form-control-sm">
+  </div>
+  <div class="form-group">
+    <select class="form-control form-control-lg">
+      <option>Large select</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <select class="form-control">
+      <option>Default select</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <select class="form-control form-control-sm">
+      <option>Small select</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <input class="form-control" type="text" placeholder="Readonly input here…" readonly>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-group">
+    <input class="form-control form-control-lg" type="text" placeholder=".form-control-lg">
+  </div>
+  <div class="form-group">
+    <input class="form-control" type="text" placeholder="Default input">
+  </div>
+  <div class="form-group">
+    <input class="form-control form-control-sm" type="text" placeholder=".form-control-sm">
+  </div>
+  <div class="form-group">
+    <select class="form-control form-control-lg">
+      <option>Large select</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <select class="form-control">
+      <option>Default select</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <select class="form-control form-control-sm">
+      <option>Small select</option>
+    </select>
+  </div>
+  <div class="form-group">
+    <input class="form-control" type="text" placeholder="Readonly input here…" readonly>
+  </div>
+</form>
+```
+
+## Example 5
+<form>
+  <div class="form-group row">
+    <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
+    <div class="col-sm-10">
+      <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="email@example.com">
+    </div>
+  </div>
+  <div class="form-group row">
+    <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
+    <div class="col-sm-10">
+      <input type="password" class="form-control" id="inputPassword" placeholder="Password">
+    </div>
+  </div>
+</form>
+
+
+```html
+<form>
+  <div class="form-group row">
+    <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
+    <div class="col-sm-10">
+      <input type="text" readonly class="form-control-plaintext" id="staticEmail" value="email@example.com">
+    </div>
+  </div>
+  <div class="form-group row">
+    <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
+    <div class="col-sm-10">
+      <input type="password" class="form-control" id="inputPassword" placeholder="Password">
+    </div>
+  </div>
+</form>
+```
+
+## Example 6
+<form class="form-inline">
+  <div class="form-group">
+    <label for="staticEmail2" class="sr-only">Email</label>
+    <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="email@example.com">
+  </div>
+  <div class="form-group mx-sm-3">
+    <label for="inputPassword2" class="sr-only">Password</label>
+    <input type="password" class="form-control" id="inputPassword2" placeholder="Password">
+  </div>
+  <button type="submit" class="btn btn-primary">Confirm identity</button>
+</form>
+
+```html
+<form class="form-inline">
+  <div class="form-group">
+    <label for="staticEmail2" class="sr-only">Email</label>
+    <input type="text" readonly class="form-control-plaintext" id="staticEmail2" value="email@example.com">
+  </div>
+  <div class="form-group mx-sm-3">
+    <label for="inputPassword2" class="sr-only">Password</label>
+    <input type="password" class="form-control" id="inputPassword2" placeholder="Password">
+  </div>
+  <button type="submit" class="btn btn-primary">Confirm identity</button>
+</form>
+```
+
+## Example 7
+<form>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" value="">
+      Option one is this and that&mdash;be sure to include why it's great
+    </label>
+  </div>
+  <div class="form-check disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" value="" disabled>
+      Option two is disabled
+    </label>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" value="">
+      Option one is this and that&mdash;be sure to include why it's great
+    </label>
+  </div>
+  <div class="form-check disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" value="" disabled>
+      Option two is disabled
+    </label>
+  </div>
+</form>
+```
+
+## Example 8
+<form>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
+      Option one is this and that&mdash;be sure to include why it's great
+    </label>
+  </div>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
+      Option two can be something else and selecting it will deselect option one
+    </label>
+  </div>
+  <div class="form-check disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
+      Option three is disabled
+    </label>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
+      Option one is this and that&mdash;be sure to include why it's great
+    </label>
+  </div>
+  <div class="form-check">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
+      Option two can be something else and selecting it will deselect option one
+    </label>
+  </div>
+  <div class="form-check disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
+      Option three is disabled
+    </label>
+  </div>
+</form>
+```
+
+## Example 9
+<form>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1"> 1
+    </label>
+  </div>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2"> 2
+    </label>
+  </div>
+  <div class="form-check form-check-inline disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3" disabled> 3
+    </label>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1"> 1
+    </label>
+  </div>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2"> 2
+    </label>
+  </div>
+  <div class="form-check form-check-inline disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3" disabled> 3
+    </label>
+  </div>
+</form>
+```
+
+## Example 10
+<form>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"> 1
+    </label>
+  </div>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> 2
+    </label>
+  </div>
+  <div class="form-check form-check-inline disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3" disabled> 3
+    </label>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"> 1
+    </label>
+  </div>
+  <div class="form-check form-check-inline">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> 2
+    </label>
+  </div>
+  <div class="form-check form-check-inline disabled">
+    <label class="form-check-label">
+      <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3" disabled> 3
+    </label>
+  </div>
+</form>
+```
+
+## Example 11
+<form>
+  <div class="form-group">
+    <label class="form-control-label" for="formGroupExampleInput">Example label</label>
+    <input type="text" class="form-control" id="formGroupExampleInput" placeholder="Example input">
+  </div>
+  <div class="form-group">
+    <label class="form-control-label" for="formGroupExampleInput2">Another label</label>
+    <input type="text" class="form-control" id="formGroupExampleInput2" placeholder="Another input">
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-group">
+    <label class="form-control-label" for="formGroupExampleInput">Example label</label>
+    <input type="text" class="form-control" id="formGroupExampleInput" placeholder="Example input">
+  </div>
+  <div class="form-group">
+    <label class="form-control-label" for="formGroupExampleInput2">Another label</label>
+    <input type="text" class="form-control" id="formGroupExampleInput2" placeholder="Another input">
+  </div>
+</form>
+```
+
+## Example 12
+<form>
+  <div class="form-row">
+    <div class="col">
+      <input type="text" class="form-control" placeholder="First name">
+    </div>
+    <div class="col">
+      <input type="text" class="form-control" placeholder="Last name">
+    </div>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-row">
+    <div class="col">
+      <input type="text" class="form-control" placeholder="First name">
+    </div>
+    <div class="col">
+      <input type="text" class="form-control" placeholder="Last name">
+    </div>
+  </div>
+</form>
+```
+
+## Example 13
+<form>
+  <div class="form-row">
+    <div class="form-group col-md-6">
+      <label for="inputEmail4" class="col-form-label">Email</label>
+      <input type="email" class="form-control" id="inputEmail4" placeholder="Email">
+    </div>
+    <div class="form-group col-md-6">
+      <label for="inputPassword4" class="col-form-label">Password</label>
+      <input type="password" class="form-control" id="inputPassword4" placeholder="Password">
+    </div>
+  </div>
+  <div class="form-group">
+    <label for="inputAddress" class="col-form-label">Address</label>
+    <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
+  </div>
+  <div class="form-group">
+    <label for="inputAddress2" class="col-form-label">Address 2</label>
+    <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
+  </div>
+  <div class="form-row">
+    <div class="form-group col-md-6">
+      <label for="inputCity" class="col-form-label">City</label>
+      <input type="text" class="form-control" id="inputCity">
+    </div>
+    <div class="form-group col-md-4">
+      <label for="inputState" class="col-form-label">State</label>
+      <select id="inputState" class="form-control">Choose</select>
+    </div>
+    <div class="form-group col-md-2">
+      <label for="inputZip" class="col-form-label">Zip</label>
+      <input type="text" class="form-control" id="inputZip">
+    </div>
+  </div>
+  <div class="form-group">
+    <div class="form-check">
+      <label class="form-check-label">
+        <input class="form-check-input" type="checkbox"> Check me out
+      </label>
+    </div>
+  </div>
+  <button type="submit" class="btn btn-primary">Sign in</button>
+</form>
+
+```html
+<form>
+  <div class="form-row">
+    <div class="form-group col-md-6">
+      <label for="inputEmail4" class="col-form-label">Email</label>
+      <input type="email" class="form-control" id="inputEmail4" placeholder="Email">
+    </div>
+    <div class="form-group col-md-6">
+      <label for="inputPassword4" class="col-form-label">Password</label>
+      <input type="password" class="form-control" id="inputPassword4" placeholder="Password">
+    </div>
+  </div>
+  <div class="form-group">
+    <label for="inputAddress" class="col-form-label">Address</label>
+    <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
+  </div>
+  <div class="form-group">
+    <label for="inputAddress2" class="col-form-label">Address 2</label>
+    <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
+  </div>
+  <div class="form-row">
+    <div class="form-group col-md-6">
+      <label for="inputCity" class="col-form-label">City</label>
+      <input type="text" class="form-control" id="inputCity">
+    </div>
+    <div class="form-group col-md-4">
+      <label for="inputState" class="col-form-label">State</label>
+      <select id="inputState" class="form-control">Choose</select>
+    </div>
+    <div class="form-group col-md-2">
+      <label for="inputZip" class="col-form-label">Zip</label>
+      <input type="text" class="form-control" id="inputZip">
+    </div>
+  </div>
+  <div class="form-group">
+    <div class="form-check">
+      <label class="form-check-label">
+        <input class="form-check-input" type="checkbox"> Check me out
+      </label>
+    </div>
+  </div>
+  <button type="submit" class="btn btn-primary">Sign in</button>
+</form>
+```
+
+## Example 14
+<form>
+  <div class="form-row">
+    <div class="col-7">
+      <input type="text" class="form-control" placeholder="City">
+    </div>
+    <div class="col">
+      <input type="text" class="form-control" placeholder="State">
+    </div>
+    <div class="col">
+      <input type="text" class="form-control" placeholder="Zip">
+    </div>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-row">
+    <div class="col-7">
+      <input type="text" class="form-control" placeholder="City">
+    </div>
+    <div class="col">
+      <input type="text" class="form-control" placeholder="State">
+    </div>
+    <div class="col">
+      <input type="text" class="form-control" placeholder="Zip">
+    </div>
+  </div>
+</form>
+```
+
+## Example 15
+<form>
+  <div class="form-row align-items-center">
+    <div class="col-auto">
+      <label class="sr-only" for="inlineFormInput">Name</label>
+      <input type="text" class="form-control mb-2 mb-sm-0" id="inlineFormInput" placeholder="Jane Doe">
+    </div>
+    <div class="col-auto">
+      <label class="sr-only" for="inlineFormInputGroup">Username</label>
+      <div class="input-group mb-2 mb-sm-0">
+        <div class="input-group-addon">@</div>
+        <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Username">
+      </div>
+    </div>
+    <div class="col-auto">
+      <div class="form-check mb-2 mb-sm-0">
+        <label class="form-check-label">
+          <input class="form-check-input" type="checkbox"> Remember me
+        </label>
+      </div>
+    </div>
+    <div class="col-auto">
+      <button type="submit" class="btn btn-primary">Submit</button>
+    </div>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-row align-items-center">
+    <div class="col-auto">
+      <label class="sr-only" for="inlineFormInput">Name</label>
+      <input type="text" class="form-control mb-2 mb-sm-0" id="inlineFormInput" placeholder="Jane Doe">
+    </div>
+    <div class="col-auto">
+      <label class="sr-only" for="inlineFormInputGroup">Username</label>
+      <div class="input-group mb-2 mb-sm-0">
+        <div class="input-group-addon">@</div>
+        <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="Username">
+      </div>
+    </div>
+    <div class="col-auto">
+      <div class="form-check mb-2 mb-sm-0">
+        <label class="form-check-label">
+          <input class="form-check-input" type="checkbox"> Remember me
+        </label>
+      </div>
+    </div>
+    <div class="col-auto">
+      <button type="submit" class="btn btn-primary">Submit</button>
+    </div>
+  </div>
+</form>
+```
+
+## Example 16
+<form>
+  <div class="form-row align-items-center">
+    <div class="col-sm-3">
+      <label class="sr-only" for="inlineFormInputName">Name</label>
+      <input type="text" class="form-control mb-2 mb-sm-0" id="inlineFormInputName" placeholder="Jane Doe">
+    </div>
+    <div class="col-sm-3">
+      <label class="sr-only" for="inlineFormInputGroupUsername">Username</label>
+      <div class="input-group mb-2 mb-sm-0">
+        <div class="input-group-addon">@</div>
+        <input type="text" class="form-control" id="inlineFormInputGroupUsername" placeholder="Username">
+      </div>
+    </div>
+    <div class="col-auto">
+      <div class="form-check mb-2 mb-sm-0">
+        <label class="form-check-label">
+          <input class="form-check-input" type="checkbox"> Remember me
+        </label>
+      </div>
+    </div>
+    <div class="col-auto">
+      <button type="submit" class="btn btn-primary">Submit</button>
+    </div>
+  </div>
+</form>
+
+```html
+<form>
+  <div class="form-row align-items-center">
+    <div class="col-sm-3">
+      <label class="sr-only" for="inlineFormInputName">Name</label>
+      <input type="text" class="form-control mb-2 mb-sm-0" id="inlineFormInputName" placeholder="Jane Doe">
+    </div>
+    <div class="col-sm-3">
+      <label class="sr-only" for="inlineFormInputGroupUsername">Username</label>
+      <div class="input-group mb-2 mb-sm-0">
+        <div class="input-group-addon">@</div>
+        <input type="text" class="form-control" id="inlineFormInputGroupUsername" placeholder="Username">
+      </div>
+    </div>
+    <div class="col-auto">
+      <div class="form-check mb-2 mb-sm-0">
+        <label class="form-check-label">
+          <input class="form-check-input" type="checkbox"> Remember me
+        </label>
+      </div>
+    </div>
+    <div class="col-auto">
+      <button type="submit" class="btn btn-primary">Submit</button>
+    </div>
+  </div>
+</form>
+```
+
+## Example 17
+<form class="form-inline">
+  <label class="sr-only" for="inlineFormInputName2">Name</label>
+  <input type="text" class="form-control mb-2 mr-sm-2 mb-sm-0" id="inlineFormInputName2" placeholder="Jane Doe">
+
+  <label class="sr-only" for="inlineFormInputGroupUsername2">Username</label>
+  <div class="input-group mb-2 mr-sm-2 mb-sm-0">
+    <div class="input-group-addon">@</div>
+    <input type="text" class="form-control" id="inlineFormInputGroupUsername2" placeholder="Username">
+  </div>
+
+  <div class="form-check mb-2 mr-sm-2 mb-sm-0">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox"> Remember me
+    </label>
+  </div>
+
+  <button type="submit" class="btn btn-primary">Submit</button>
+</form>
+
+```html
+<form class="form-inline">
+  <label class="sr-only" for="inlineFormInputName2">Name</label>
+  <input type="text" class="form-control mb-2 mr-sm-2 mb-sm-0" id="inlineFormInputName2" placeholder="Jane Doe">
+
+  <label class="sr-only" for="inlineFormInputGroupUsername2">Username</label>
+  <div class="input-group mb-2 mr-sm-2 mb-sm-0">
+    <div class="input-group-addon">@</div>
+    <input type="text" class="form-control" id="inlineFormInputGroupUsername2" placeholder="Username">
+  </div>
+
+  <div class="form-check mb-2 mr-sm-2 mb-sm-0">
+    <label class="form-check-label">
+      <input class="form-check-input" type="checkbox"> Remember me
+    </label>
+  </div>
+
+  <button type="submit" class="btn btn-primary">Submit</button>
+</form>
+```
+
+## Example 18
+<form class="form-inline">
+  <div class="form-group">
+    <label for="inputPassword6">Password</label>
+    <input type="password" id="inputPassword6" class="form-control mx-sm-3" aria-describedby="passwordHelpInline">
+    <small id="passwordHelpInline" class="text-muted">
+      Must be 8-20 characters long.
+    </small>
+  </div>
+</form>
+
+```html
+<form class="form-inline">
+  <div class="form-group">
+    <label for="inputPassword6">Password</label>
+    <input type="password" id="inputPassword6" class="form-control mx-sm-3" aria-describedby="passwordHelpInline">
+    <small id="passwordHelpInline" class="text-muted">
+      Must be 8-20 characters long.
+    </small>
+  </div>
+</form>
+```
+
+## Example 19
+<form>
+  <fieldset disabled>
+    <div class="form-group">
+      <label for="disabledTextInput">Disabled input</label>
+      <input type="text" id="disabledTextInput" class="form-control" placeholder="Disabled input">
+    </div>
+    <div class="form-group">
+      <label for="disabledSelect">Disabled select menu</label>
+      <select id="disabledSelect" class="form-control">
+        <option>Disabled select</option>
+      </select>
+    </div>
+    <div class="checkbox">
+      <label>
+        <input type="checkbox"> Can't check this
+      </label>
+    </div>
+    <button type="submit" class="btn btn-primary">Submit</button>
+  </fieldset>
+</form>
+
+```html
+<form>
+  <fieldset disabled>
+    <div class="form-group">
+      <label for="disabledTextInput">Disabled input</label>
+      <input type="text" id="disabledTextInput" class="form-control" placeholder="Disabled input">
+    </div>
+    <div class="form-group">
+      <label for="disabledSelect">Disabled select menu</label>
+      <select id="disabledSelect" class="form-control">
+        <option>Disabled select</option>
+      </select>
+    </div>
+    <div class="checkbox">
+      <label>
+        <input type="checkbox"> Can't check this
+      </label>
+    </div>
+    <button type="submit" class="btn btn-primary">Submit</button>
+  </fieldset>
+</form>
+```
diff --git a/docs/7.0.0/index.md b/docs/7.3.0/index.md
similarity index 100%
rename from docs/7.0.0/index.md
rename to docs/7.3.0/index.md
diff --git a/docs/7.0.0/install.md b/docs/7.3.0/install.md
similarity index 62%
rename from docs/7.0.0/install.md
rename to docs/7.3.0/install.md
index d3a03723..6b15213b 100644
--- a/docs/7.0.0/install.md
+++ b/docs/7.3.0/install.md
@@ -41,7 +41,7 @@ Your site's root dir should look something like this
 ~~~
 
 **NOTE**: Hydejack works with Jekyll's default `config.yml`, but it is recommended that you replace it with
-[Hydejack's default config file](https://github.com/qwtel/hydejack/blob/master/_data/_config.yml).
+[Hydejack's default config file](https://github.com/qwtel/hydejack/blob/master/_config.yml).
 It contains the names of all config options known to Hydejack and provides sensible defaults (like minifying HTML and CSS in production builds).
 {:.message}
 
@@ -106,19 +106,20 @@ You can now continue with [running locally](#running-locally).
 If you bought the PRO version, you've received a zip archive with the following contents:
 
 ~~~
-├── hydejack-docs-7.0.0.pdf
 ├── install
 ├── upgrade
-├── favicons.psd
-└── sidebar-bg.psd
+├── CHANGELOG _ Hydejack.pdf
+├── Documentation _ Hydejack.pdf
+├── NOTICE _ Hydejack.pdf
+├── PRO License _ Hydejack.pdf
+├── PRO–hy-drawer License _ Hydejack.pdf
+├── PRO–hy-push-state License _ Hydejack.pdf
+├── icon.psd
+├── sidebar-bg.psd
+├── *-to-v7.3.0.diff
+└── .ssh
 ~~~
 
-The following list describes what each of those are
-
-
-`hydejack-docs-7.0.0.pdf`
-: This documentation in PDF form.
-
 `install`
 : Contains all files and folders needed to create a new blog.
 
@@ -126,24 +127,91 @@ The following list describes what each of those are
 : Contains only the files and folders needed for upgrading form an earlier version of Hydejack (6.0.0 or above).
   See the [Upgrade]{:.heading.flip-title} for more.
 
-`favicon.psd`
+`CHANGELOG _ Hydejack.pdf`
+: The [changelog](../../CHANGELOG.md) in PDF form.
+
+`Documentation _ Hydejack.pdf`
+: This documentation in PDF form.
+
+`NOTICE _ Hydejack.pdf`
+: The [notice](../../NOTICE.md) in PDF form.
+
+`PRO License _ Hydejack.pdf`
+: The license for use of Hydejack PRO in PDF form.
+
+`PRO–hy-drawer License _ Hydejack.pdf`
+: A license for use of [hy-drawer](https://qwtel.com/hy-drawer/) as part of Hydejack PRO.
+
+`PRO–hy-push-state License _ Hydejack.pdf`
+: A license for use of [hy-push-state](https://qwtel.com/hy-push-state/) as part of Hydejack PRO.
+
+`icon.psd`
 : A Photoshop template to help with generating the favicon, apple touch icon, etc.
 
 `sidebar-bg.psd`
 : A Photoshop template for blurred sidebar backgrounds.
 
-`*.patch`
-: These are git patches that you can apply to your repository via [git-apply](https://git-scm.com/docs/git-apply).
-  Use these if you are using git and you are worried about overwriting changes. This is for advanced users.
+`*-to-v7.3.0.diff`
+: There will be multiple fo these files, where `*` is a previous version.
+  They are git patches that you can apply to your repository via [git-apply](https://git-scm.com/docs/git-apply).
+  Use these if you are using git and you are worried about accidentally overwriting changes you've made to Hydejack PRO.
+  This is for advanced users.
+
+`.ssh`
+: A hidden folder containing a SSH key for read-only access to the Hydejack PRO GitHub repository.
+  You can use this to install Hydejack PRO as gem-based theme.
+  See the [installation instructions](#pro-via-github-advanced) below.
+  This is for advanced users.
 
 For new installations only the `install` folder is interesting.
 Unzip the archive somewhere on your machine, then `cd` *into* the `install` folder, e.g.
 
 ~~~bash
-$ cd ~/Downloads/hydejack-pro-7.0.0/install/
+$ cd ~/Downloads/hydejack-pro-7.3.0/install/
+~~~
+
+You can now continue with [Running locally](#running-locally).
+
+### PRO via GitHub (advanced)
+If you know how to handle SSH keys, you can also install the PRO version as a gem-based theme via GitHub.
+The advantage of this method is that you avoid cluttering your Jekyll repository with Hydejack's source files.
+
+The downloaded zip contains a read-only key for a private GitHub repository.
+It is located at `<dowloaded zip>/.ssh/hydejack_pro_customers`.
+You have to copy the key file to `~/.ssh` (or wherever your SSH keys are located), e.g.:
+
+~~~bash
+$ cp ~/Downloads/hydejack-pro-v7.3.0/.ssh/hydejack_pro_customers ~/.ssh/
+~~~
+
+It is required that your private key files are NOT accessible by others, e.g.:
+
+~~~bash
+$ chmod 600 ~/.ssh/hydejack_pro_customers
+~~~
+
+Then add the following to `.ssh/config`:
+
+~~~
+Host hydejack
+	HostName github.com
+	IdentitiesOnly yes
+	IdentityFile ~/.ssh/hydejack_pro_customers
+~~~
+
+Next, open `Gemfile` in your Jekyll repository and add:
+
+~~~ruby
+gem "jekyll-theme-hydejack-pro", git: 'git@hydejack:qwtel/hydejack-pro.git', branch: 'gem-pro'
+~~~
+
+In your `_config.yml`, add:
+
+~~~yml
+theme: jekyll-theme-hydejack-pro
 ~~~
 
-You can now continue with:
+You can now continue with [Running locally](#running-locally).
 
 ## Running locally
 Make sure you've `cd`ed into the directory where `_config.yml` is located.
diff --git a/docs/7.0.0/scripts.md b/docs/7.3.0/scripts.md
similarity index 98%
rename from docs/7.0.0/scripts.md
rename to docs/7.3.0/scripts.md
index 9dd4c017..41da4828 100644
--- a/docs/7.0.0/scripts.md
+++ b/docs/7.3.0/scripts.md
@@ -43,6 +43,7 @@ If you have scripts that should be included on every page you can add them globa
 opening (or creating) `_includes/my-scripts.html` and adding them like you normally would:
 
 ```html
+<!-- file: _includes/my-scripts.html -->
 <script
   src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
   integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="
@@ -97,6 +98,7 @@ If you have scripts that depend on other scripts, you can nest calls, e.g.
 When embedding scripts globally you might want to run some init code after each page load. However, the problem with push state-based page loads is that the `load` event won't fire again. Luckily, Hydejack's push state component exposes an event that you can listen to instead.
 
 ```html
+<!-- file: _includes/my-scripts.html -->
 <script>
   document.getElementsByTagName('hy-push-state')[0].addEventListener('hy-push-state-load', function() {
     // <your init code>
@@ -127,6 +129,7 @@ If you can't make an external script work with Hydejack's push state approach to
 you can disable push state by adding to your config file:
 
 ```yml
+# file: _config.yml
 hydejack:
   no_push_state: true
 ```
diff --git a/docs/7.0.0/upgrade.md b/docs/7.3.0/upgrade.md
similarity index 96%
rename from docs/7.0.0/upgrade.md
rename to docs/7.3.0/upgrade.md
index 834b7d61..3bab43b8 100644
--- a/docs/7.0.0/upgrade.md
+++ b/docs/7.3.0/upgrade.md
@@ -11,7 +11,7 @@ description: >
 {:toc}
 
 **NOTE**: Before upgrading from v6 to v7, make sure you've read the [CHANGELOG](../../CHANGELOG.md){:.heading.flip-title},
-especially the part about the [license change](../../CHANGELOG.md#license-v7).
+especially the part about the [license change](../../CHANGELOG.md#license-change).
 {:.message}
 
 ## Via gem
@@ -62,6 +62,12 @@ Make sure you've made a backup before overwriting any files.
 The archive also contains `.patch` files, that you can apply to your repository via [git-apply](https://git-scm.com/docs/git-apply).
 Using this method, git will generate merge conflicts when changes in the patch conflict with any of your changes.
 
+### PRO via git (advanced)
+If you've followed the steps [here](install.md#pro-via-github-advanced), all you need to upgrade is:
+
+~~~bash
+$ bundle update jekyll-theme-hydejack-pro
+~~~
 
 ## Legacy
 Unfortunately, upgrading form v5 and earlier is not straightforward. A lot of patterns and names have changed,
diff --git a/docs/7.0.0/writing.md b/docs/7.3.0/writing.md
similarity index 95%
rename from docs/7.0.0/writing.md
rename to docs/7.3.0/writing.md
index b1224d7f..77cb6d55 100644
--- a/docs/7.0.0/writing.md
+++ b/docs/7.3.0/writing.md
@@ -156,6 +156,9 @@ By adding the `scroll-table` class on a table, the behavior is changed to never
 | Footer row      |            |                 |                | Footer row      |            |                 |                | Footer row      |            |                 |                | Footer row      |            |                 |                |
 {:.scroll-table}
 
+You can add the `scroll-table` class to a markdown table by putting `{:.scroll-table}` in line directly below the table.
+To add the class to a HTML table, add the it to the `class` attribute of the `table` tag, e.g. `<table class="scroll-table">`.
+
 ### Flip table
 Alternatively, you can "flip" (transpose) the table.
 Unlike the other approach, this will keep the table head (now the first column) fixed in place.
@@ -182,6 +185,9 @@ Example:
 | 10th line       |quux        | baz             | bar            | 10th line       |quux        | baz             | bar            | 10th line       |quux        | baz             | bar            | 10th line       |quux        | baz             | bar            |
 {:.flip-table}
 
+You can add the `flip-table` class to a markdown table by putting `{:.flip-table}` in line directly below the table.
+To add the class to a HTML table, add the it to the `class` attribute of the `table` tag, e.g. `<table class="flip-table">`.
+
 ### Small tables
 If a table is small enough to fit the screen even on small screens, you can add the `stretch-table` class
 to force a table to use the entire available content width. Note that stretched tables can no longer be scrolled.
@@ -191,6 +197,9 @@ to force a table to use the entire available content width. Note that stretched
 | First body part |Second cell | Third cell      | fourth cell    |
 {:.stretch-table}
 
+You can add the `stretch-table` class to a markdown table by putting `{:.stretch-table}` in line directly below the table.
+To add the class to a HTML table, add the it to the `class` attribute of the `table` tag, e.g. `<table class="stretch-table">`.
+
 ## Adding code blocks
 To add a code block without syntax highlighting, simply indent 4 spaces (regular markdown).
 For code blocks with code highlighting, use `~~~<language>`. This syntax is also supported by GitHub.
diff --git a/index.md b/index.md
index 80502165..43c7fd8c 100644
--- a/index.md
+++ b/index.md
@@ -2,17 +2,19 @@
 layout: welcome
 title: Hydejack
 description: >
-  **Hydejack** is a cutting-edge Jekyll theme that combines the best of static sites and modern web apps.
-  It features a suite of JavaScript that makes the page feel like an app,
-  without sacrificing backwards-compatibility, page-load speed or SEO.
-  Open `index.md` to edit this text.
+  **Hydejack** is a Jekyll theme with JavaScript powers, combining the best of static sites and modern web apps.
+  It features a suite of JavaScript that makes the page feel like an app, without sacrificing backwards-compatibility,
+  page-load speed or SEO.
+image: /assets/img/projects/default.jpg
+hide_description: true
+image: /assets/img/default.jpg
 selected_projects:
   - _projects/default.md
   - _projects/pretentious.md
   - _projects/hyde.md
   - _projects/oldschool.md
-  - _projects/solid-red.md
-  - _projects/solid-orange.md
+  - _projects/solid-cyan.md
+  - _projects/solid-blue.md
 selected_posts:
   - _posts/2017-07-27-better-gem-support.md
   - _posts/2017-06-21-related-projects-and-data-tables.md
@@ -24,22 +26,22 @@ more_posts: posts.md
 content_separator: <!--more-->
 ---
 
-**Hydejack** aims to be the complete package for professionals on the web.
+**Hydejack** is the complete package for professionals on the web.
 It features a blog suitable for both prose and technical documentation,
-a showcase for projects and a resume that fits with the rest of the design.
+a showcase for your projects, and a resume that is well-integrated with the design.
 
 > Your presence on the web --- A [blog], a [portfolio] and a [resume].
 {:.lead}
 
 **Hydejack** is highly customizable and lets you achieve a variety of styles.
-Below you can find a selection of variations that are included.
+Below you can find a selection of variations.
 
 <!--more-->
 
-## [Download](download.md){:.flip-title}
-There are two versions of **Hydejack**: The Free Version includes basic blogging functionality,
+## Download
+There are two versions of **Hydejack**: The *free version* includes basic blogging functionality,
 as did previous versions of the theme.
-The new PRO Version includes additional features for professionals:
+The *PRO version* includes additional features for professionals:
 A [portfolio], a [resume] layout and a [welcome] page to feature your favorite projects and posts.
 
 This table details what is and isn't included in each respective version.
@@ -47,51 +49,143 @@ This table details what is and isn't included in each respective version.
 |                                     | Free               | PRO                |
 |:------------------------------------|:------------------:|:------------------:|
 | Blog                                | &#x2714;           | &#x2714;           |
-| Features (see below)                | &#x2714;           | &#x2714;           |
+| [Features][feat]                    | &#x2714;           | &#x2714;           |
 | [Portfolio] Layout                  |                    | &#x2714;           |
 | [Resume] Layout                     |                    | &#x2714;           |
 | [Welcome] Layout                    |                    | &#x2714;           |
-| Newsletter Subscription Box         |                    | &#x2714;           |
-| Form Element Styles                 |                    | &#x2714;           |
+| [Newsletter Box][news]              |                    | &#x2714;           |
+| [Custom Forms][forms]               |                    | &#x2714;           |
 | License                             | [GPL-3.0][license] | [PRO]              |
-| Price                               | Free               | $39                |
-|| [Download on GitHub][github]<br/> – or – <br/>[Use the RubyGem][gem] | [Buy Now – $39][buy]{:.btn.btn-primary} [^3] |
+| Price                               | Free               | $29                |
+|| [Download on GitHub][github]<br/> – or – <br/>[Use the RubyGem][gem] | [Buy Now][buy]{:.btn.btn-primary} [^3] |
 {:.stretch-table}
 
 ## Features
-All versions include *all* of these features:
-
-* Full in-app page loading --- no Flash of White, no Flash of Unstyled Content[^1]
-* Advanced animations, inspired by Material Design
-* A customizable sidebar that turns into a touch-enabled app drawer on mobile
-* Near-perfect [Google PageSpeed Score][gpss][^2]
-* Even higher *perceived speed* thanks to pre-fetching and latency-hiding
-* Support for categories and tags --- even when hosting on GitHub Pages
-* Built-in collection of social media icons
-* Author section below each article and multiple authors
-* Simple and semantic HTML --- can be viewed even with text-based browsers
-* Progressive enhancement --- sacrifice features, not content
+Both versions include *all* of these features:
+
+* Full in-app page loading, powered by [hy-push-state]{:.external}
+* A customizable sidebar that turns into a drawer menu on mobile, powered by [hy-drawer]{:.external}
+* Advanced FLIP animations, inspired by Material Design
+* Good [Google PageSpeed Score][gpss][^2]
+* Higher *perceived speed* thanks to content pre-fetching
+* [Syntax highlighting](#syntax-highlighting), powered by [Rouge]
+* [LaTeX math blocks](#latex-math-blocks), powered by [KaTeX]
+* Change the wording of built-in strings and possibly translate in other languages
+* Support for categories and tags
+* Built-in icons for many social networks
+* Simple and semantic HTML — can be viewed even with text-based browsers
+* Author section below each article and support for multiple authors
+* Progressive enhancement — sacrifice features, not content
 * Google Analytics and Google Fonts support
-* Blog layout with pagination
-* Syntax highlighting
-* Math formulas via LaTeX
 * Disqus comments
-* RSS feed
-* Print layout
-
-## Free Version
-The Free Version features the design and tech of **Hydejack**, but only supports basic blogging.
+* Print layout — Used to render Hydejack's [PDF documentation][pdf]
+* Blog layout via `jekyll-paginate` (optional)
+* SEO meta tags via `jekyll-seo-tag` (optional)
+* Github avatars via `jekyll-avatar` (optional)
+* Gist support via `jekyll-gist` (optional)
+
+### Syntax Highlighting
+Syntax highlighting powered by [Rouge].
+
+~~~js
+// Example can be run directly in your JavaScript console
+
+// Create a function that takes two arguments and returns the sum of those
+// arguments
+var adder = new Function("a", "b", "return a + b");
+
+// Call the function
+adder(2, 6);
+// > 8
+~~~
+
+### LaTeX Math Blocks
+Write formulas in familiar LaTeX syntax. Powered by [KaTeX].
+
+$$
+\begin{aligned}
+  \phi(x,y) &= \phi \left(\sum_{i=1}^n x_ie_i, \sum_{j=1}^n y_je_j \right) \\[2em]
+            &= \sum_{i=1}^n \sum_{j=1}^n x_i y_j \phi(e_i, e_j)            \\[2em]
+            &= (x_1, \ldots, x_n)
+               \left(\begin{array}{ccc}
+                 \phi(e_1, e_1)  & \cdots & \phi(e_1, e_n) \\
+                 \vdots          & \ddots & \vdots         \\
+                 \phi(e_n, e_1)  & \cdots & \phi(e_n, e_n)
+               \end{array}\right)
+               \left(\begin{array}{c}
+                 y_1    \\
+                 \vdots \\
+                 y_n
+               \end{array}\right)
+\end{aligned}
+$$
+
+### Customizable
+**Hydejack** can be customized in a variety of ways, using only the `_config.yml` file.
+
+```yml
+# The string encoding which fonts to fetch from Google Fonts.
+# See <https://qwtel.com/hydejack/docs/configuration/>
+google_fonts:          Roboto+Slab:700|Noto+Sans:400,400i,700,700i
+
+# The text font. Expects a string that is a valid CSS font-family value.
+font:                  "'Noto Sans', Helvetica, Arial, sans-serif"
+
+# The font used for headings. Expects a string that is a valid CSS font-family value.
+font_heading:          "'Roboto Slab', Helvetica, Arial, sans-serif"
+
+# Fallback image and color
+accent_image:          /hydejack/assets/img/sidebar-bg.jpg
+accent_color:          '#4fb1ba'
+```
+
+Check out the [full annotated `_config.yml` file](https://github.com/qwtel/hydejack/blob/master/_config.yml) for more.
+
+You can change the wording of all built-in strings and labels by editing `strings.yml`.
+
+```yml
+---
+  home:                Home
+  pages:               Pages
+  posts:               Posts
+  about:               About
+  related_posts:       Related Posts
+  other_projects:      Other Projects
+  comments:            Comments
+  jump_to:             Jump to
+  navigation:          Navigation
+  social:              Social
+  links:               Links
+  pagination:          Pagination
+  newer:               Newer
+  older:               Older
+  back:                Back
+```
+
+Check out the [full `strings.yml` file](https://github.com/qwtel/hydejack/blob/master/_data/strings.yml) for more.
+
+### Newsletter Subscription Box*
+The *PRO version* has built-in support for [Tinyletter] subscription boxes.
+
+If you are using a different newsletter service, like MailChimp,
+you can build a custom newsletter subscription box using [custom forms][forms].
+
+{% include pro/newsletter.html %}
+
+## Versions
+### Free Version
+The *free version* features the design and tech of **Hydejack**, but only supports basic blogging.
 
 [Download on GitHub][github] – or – [Use the RubyGem][gem]
 
-## PRO Version
-The PRO Version aims to be the complete package for professionals on the web.
-It includes layouts for your [portfolio], your [resume] (with support for [JSON Resume](https://jsonresume.org/)) and
-a [welcome] page to introduce yourself to visitors.
-
-[Buy Now - $59][buy]{:.btn.btn-primary} [^3]
+### PRO Version
+The *PRO version* aims to be the complete package for professionals on the web.
+It includes layouts for your [portfolio],
+your [resume] (with support for [JSON Resume](https://jsonresume.org/)),
+a [welcome] page to introduce yourself to visitors,
+built-in support for [Tinyletter], and from element styles so you can build arbitrary contact forms.
 
-{% include author.html author=site.data.authors.qwtel heading="Contact" heading_id="contact" %}
+[Buy Now - $29][buy]{:.btn.btn-primary} [^3]
 
 [^1]: Applies after the initial page load.  
 [^2]: Actual page load speed depends on your hosting provider, resolution of embedded images and usage of 3rd party plugins.  
@@ -102,13 +196,28 @@ a [welcome] page to introduce yourself to visitors.
 [resume]: resume.md
 [download]: download.md
 [welcome]: index.md
+[forms]: docs/7.3.0/forms-by-example.md
+
+[feat]: #features
+[news]: #newsletter-subscription-box
+[syntax]: #syntax-highlighting
+[latex]: #latex-math-blocks
+
 [license]: LICENSE.md
 [pro]: licenses/PRO.md
-[docs]: docs/7.0.0/index.md
+[docs]: docs/7.3.0/index.md
 
 [github]: https://github.com/qwtel/hydejack/releases
 [gem]: https://rubygems.org/gems/jekyll-theme-hydejack
 [buy]: https://app.simplegoods.co/i/AQTTVBOE
 
 [gpss]: https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fqwtel.com%2Fhydejack%2F
-[wiki]: https://github.com/qwtel/hydejack/wiki
+[wiki]: https://github.com/qwtel/hydejack/blob/master/docs/7.3.0/index.md
+[pdf]: https://github.com/qwtel/hydejack/releases/download/v7.3.0/Documentation._.Hydejack.pdf
+[hy-push-state]: https://qwtel.com/hy-push-state/
+[hy-drawer]: https://qwtel.com/hy-drawer/
+[rouge]: http://rouge.jneen.net
+[katex]: https://khan.github.io/KaTeX/
+[tinyletter]: https://tinyletter.com/
+
+*[FLIP]: First-Last-Invert-Play. A coding technique to achieve performant page transition animations.
diff --git a/licenses/PRO.md b/licenses/PRO.md
index ddc0ad1f..e6c3c446 100644
--- a/licenses/PRO.md
+++ b/licenses/PRO.md
@@ -121,7 +121,7 @@ Software’s source code.
     inspected the The Software.
 
 ### 9. No Refunds
-Licensee warrants that he inspected The Software according to clause 8.3 and that it is adequate to
+Licensee warrants that he inspected The Software according to clause 8.2 and that it is adequate to
 his needs. Accordingly, as The Software is intangible goods, Licensee shall not be, ever, entitled to any refund,
 rebate, compensation or restitution for any reason whatsoever, even if The Software contains material flaws.
 
diff --git a/package-lock.json b/package-lock.json
index 363a736b..519715e1 100644
--- a/package-lock.json
+++ b/package-lock.json
@@ -1,6 +1,6 @@
 {
   "name": "hydejack",
-  "version": "7.0.0",
+  "version": "7.3.0",
   "lockfileVersion": 1,
   "requires": true,
   "dependencies": {
@@ -38,32 +38,21 @@
       }
     },
     "ajv": {
-      "version": "5.2.4",
-      "resolved": "https://registry.npmjs.org/ajv/-/ajv-5.2.4.tgz",
-      "integrity": "sha1-Pa+ai2ciEpn9ro2C0RftjmyAJEs=",
+      "version": "5.3.0",
+      "resolved": "https://registry.npmjs.org/ajv/-/ajv-5.3.0.tgz",
+      "integrity": "sha1-RBT/dKUIecII7l/cgm4ywwNUnto=",
       "dev": true,
       "requires": {
         "co": "4.6.0",
         "fast-deep-equal": "1.0.0",
-        "json-schema-traverse": "0.3.1",
-        "json-stable-stringify": "1.0.1"
-      },
-      "dependencies": {
-        "json-stable-stringify": {
-          "version": "1.0.1",
-          "resolved": "https://registry.npmjs.org/json-stable-stringify/-/json-stable-stringify-1.0.1.tgz",
-          "integrity": "sha1-mnWdOcXy/1A/1TAGRu1EX4jE+a8=",
-          "dev": true,
-          "requires": {
-            "jsonify": "0.0.0"
-          }
-        }
+        "fast-json-stable-stringify": "2.0.0",
+        "json-schema-traverse": "0.3.1"
       }
     },
     "ajv-keywords": {
-      "version": "2.1.0",
-      "resolved": "https://registry.npmjs.org/ajv-keywords/-/ajv-keywords-2.1.0.tgz",
-      "integrity": "sha1-opbhf3v658HOT34N5T0pyzIWLfA=",
+      "version": "2.1.1",
+      "resolved": "https://registry.npmjs.org/ajv-keywords/-/ajv-keywords-2.1.1.tgz",
+      "integrity": "sha1-YXmX/F9gV2iUxDX5QNgZ4TW4B2I=",
       "dev": true
     },
     "align-text": {
@@ -279,21 +268,21 @@
       }
     },
     "babel-core": {
-      "version": "6.25.0",
-      "resolved": "https://registry.npmjs.org/babel-core/-/babel-core-6.25.0.tgz",
-      "integrity": "sha1-fdQrBGPHQunVKW3rPsZ6kyLa1yk=",
+      "version": "6.26.0",
+      "resolved": "https://registry.npmjs.org/babel-core/-/babel-core-6.26.0.tgz",
+      "integrity": "sha1-rzL3izGm/O8RnIew/Y2XU/A6C7g=",
       "dev": true,
       "requires": {
-        "babel-code-frame": "6.22.0",
-        "babel-generator": "6.25.0",
+        "babel-code-frame": "6.26.0",
+        "babel-generator": "6.26.0",
         "babel-helpers": "6.24.1",
         "babel-messages": "6.23.0",
-        "babel-register": "6.24.1",
-        "babel-runtime": "6.25.0",
-        "babel-template": "6.25.0",
-        "babel-traverse": "6.25.0",
-        "babel-types": "6.25.0",
-        "babylon": "6.17.4",
+        "babel-register": "6.26.0",
+        "babel-runtime": "6.26.0",
+        "babel-template": "6.26.0",
+        "babel-traverse": "6.26.0",
+        "babel-types": "6.26.0",
+        "babylon": "6.18.0",
         "convert-source-map": "1.5.0",
         "debug": "2.6.8",
         "json5": "0.5.1",
@@ -303,6 +292,83 @@
         "private": "0.1.7",
         "slash": "1.0.0",
         "source-map": "0.5.6"
+      },
+      "dependencies": {
+        "babel-code-frame": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-code-frame/-/babel-code-frame-6.26.0.tgz",
+          "integrity": "sha1-Y/1D99weO7fONZR9uP42mj9Yx0s=",
+          "dev": true,
+          "requires": {
+            "chalk": "1.1.3",
+            "esutils": "2.0.2",
+            "js-tokens": "3.0.2"
+          }
+        },
+        "babel-runtime": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-runtime/-/babel-runtime-6.26.0.tgz",
+          "integrity": "sha1-llxwWGaOgrVde/4E/yM3vItWR/4=",
+          "dev": true,
+          "requires": {
+            "core-js": "2.5.1",
+            "regenerator-runtime": "0.11.0"
+          }
+        },
+        "babel-template": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-template/-/babel-template-6.26.0.tgz",
+          "integrity": "sha1-3gPi0WOWsGn0bdn/+FIfsaDjXgI=",
+          "dev": true,
+          "requires": {
+            "babel-runtime": "6.26.0",
+            "babel-traverse": "6.26.0",
+            "babel-types": "6.26.0",
+            "babylon": "6.18.0",
+            "lodash": "4.17.4"
+          }
+        },
+        "babel-traverse": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-traverse/-/babel-traverse-6.26.0.tgz",
+          "integrity": "sha1-RqnL1+3MYsjlwGTi0tjQ9ANXZu4=",
+          "dev": true,
+          "requires": {
+            "babel-code-frame": "6.26.0",
+            "babel-messages": "6.23.0",
+            "babel-runtime": "6.26.0",
+            "babel-types": "6.26.0",
+            "babylon": "6.18.0",
+            "debug": "2.6.8",
+            "globals": "9.18.0",
+            "invariant": "2.2.2",
+            "lodash": "4.17.4"
+          }
+        },
+        "babel-types": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-types/-/babel-types-6.26.0.tgz",
+          "integrity": "sha1-o7Bz+Uq0nrb6Vc1lInozQ4BjJJc=",
+          "dev": true,
+          "requires": {
+            "babel-runtime": "6.26.0",
+            "esutils": "2.0.2",
+            "lodash": "4.17.4",
+            "to-fast-properties": "1.0.3"
+          }
+        },
+        "babylon": {
+          "version": "6.18.0",
+          "resolved": "https://registry.npmjs.org/babylon/-/babylon-6.18.0.tgz",
+          "integrity": "sha512-q/UEjfGJ2Cm3oKV71DJz9d25TPnq5rhBVL2Q4fA5wcC3jcrdn7+SssEybFIxwAvvP+YCsCYNKughoF33GxgycQ==",
+          "dev": true
+        },
+        "regenerator-runtime": {
+          "version": "0.11.0",
+          "resolved": "https://registry.npmjs.org/regenerator-runtime/-/regenerator-runtime-0.11.0.tgz",
+          "integrity": "sha512-/aA0kLeRb5N9K0d4fw7ooEbI+xDe+DKD499EQqygGqeS8N3xto15p09uY2xj7ixP81sNPXvRLnAQIqdVStgb1A==",
+          "dev": true
+        }
       }
     },
     "babel-eslint": {
@@ -454,14 +520,14 @@
       }
     },
     "babel-generator": {
-      "version": "6.25.0",
-      "resolved": "https://registry.npmjs.org/babel-generator/-/babel-generator-6.25.0.tgz",
-      "integrity": "sha1-M6GvcNXyiQrrRlpKd5PB32qeqfw=",
+      "version": "6.26.0",
+      "resolved": "https://registry.npmjs.org/babel-generator/-/babel-generator-6.26.0.tgz",
+      "integrity": "sha1-rBriAHC3n248odMmlhMFN3TyDcU=",
       "dev": true,
       "requires": {
         "babel-messages": "6.23.0",
-        "babel-runtime": "6.25.0",
-        "babel-types": "6.25.0",
+        "babel-runtime": "6.26.0",
+        "babel-types": "6.26.0",
         "detect-indent": "4.0.0",
         "jsesc": "1.3.0",
         "lodash": "4.17.4",
@@ -469,11 +535,39 @@
         "trim-right": "1.0.1"
       },
       "dependencies": {
+        "babel-runtime": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-runtime/-/babel-runtime-6.26.0.tgz",
+          "integrity": "sha1-llxwWGaOgrVde/4E/yM3vItWR/4=",
+          "dev": true,
+          "requires": {
+            "core-js": "2.5.1",
+            "regenerator-runtime": "0.11.0"
+          }
+        },
+        "babel-types": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-types/-/babel-types-6.26.0.tgz",
+          "integrity": "sha1-o7Bz+Uq0nrb6Vc1lInozQ4BjJJc=",
+          "dev": true,
+          "requires": {
+            "babel-runtime": "6.26.0",
+            "esutils": "2.0.2",
+            "lodash": "4.17.4",
+            "to-fast-properties": "1.0.3"
+          }
+        },
         "jsesc": {
           "version": "1.3.0",
           "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-1.3.0.tgz",
           "integrity": "sha1-RsP+yMGJKxKwgz25vHYiF226s0s=",
           "dev": true
+        },
+        "regenerator-runtime": {
+          "version": "0.11.0",
+          "resolved": "https://registry.npmjs.org/regenerator-runtime/-/regenerator-runtime-0.11.0.tgz",
+          "integrity": "sha512-/aA0kLeRb5N9K0d4fw7ooEbI+xDe+DKD499EQqygGqeS8N3xto15p09uY2xj7ixP81sNPXvRLnAQIqdVStgb1A==",
+          "dev": true
         }
       }
     },
@@ -947,18 +1041,36 @@
       }
     },
     "babel-register": {
-      "version": "6.24.1",
-      "resolved": "https://registry.npmjs.org/babel-register/-/babel-register-6.24.1.tgz",
-      "integrity": "sha1-fhDhOi9xBlvfrVoXh7pFvKbe118=",
+      "version": "6.26.0",
+      "resolved": "https://registry.npmjs.org/babel-register/-/babel-register-6.26.0.tgz",
+      "integrity": "sha1-btAhFz4vy0htestFxgCahW9kcHE=",
       "dev": true,
       "requires": {
-        "babel-core": "6.25.0",
-        "babel-runtime": "6.25.0",
+        "babel-core": "6.26.0",
+        "babel-runtime": "6.26.0",
         "core-js": "2.5.1",
         "home-or-tmp": "2.0.0",
         "lodash": "4.17.4",
         "mkdirp": "0.5.1",
-        "source-map-support": "0.4.15"
+        "source-map-support": "0.4.18"
+      },
+      "dependencies": {
+        "babel-runtime": {
+          "version": "6.26.0",
+          "resolved": "https://registry.npmjs.org/babel-runtime/-/babel-runtime-6.26.0.tgz",
+          "integrity": "sha1-llxwWGaOgrVde/4E/yM3vItWR/4=",
+          "dev": true,
+          "requires": {
+            "core-js": "2.5.1",
+            "regenerator-runtime": "0.11.0"
+          }
+        },
+        "regenerator-runtime": {
+          "version": "0.11.0",
+          "resolved": "https://registry.npmjs.org/regenerator-runtime/-/regenerator-runtime-0.11.0.tgz",
+          "integrity": "sha512-/aA0kLeRb5N9K0d4fw7ooEbI+xDe+DKD499EQqygGqeS8N3xto15p09uY2xj7ixP81sNPXvRLnAQIqdVStgb1A==",
+          "dev": true
+        }
       }
     },
     "babel-runtime": {
@@ -1014,14 +1126,10 @@
       }
     },
     "babelify": {
-      "version": "7.3.0",
-      "resolved": "https://registry.npmjs.org/babelify/-/babelify-7.3.0.tgz",
-      "integrity": "sha1-qlau3nBn/XvVSWZu4W3ChQh+iOU=",
-      "dev": true,
-      "requires": {
-        "babel-core": "6.25.0",
-        "object-assign": "4.1.1"
-      }
+      "version": "8.0.0",
+      "resolved": "https://registry.npmjs.org/babelify/-/babelify-8.0.0.tgz",
+      "integrity": "sha512-xVr63fKEvMWUrrIbqlHYsMcc5Zdw4FSVesAHgkgajyCE1W8gbm9rbMakqavhxKvikGYMhEcqxTwB/gQmQ6lBtw==",
+      "dev": true
     },
     "babylon": {
       "version": "6.17.4",
@@ -1191,9 +1299,9 @@
       }
     },
     "browserify-css": {
-      "version": "0.12.0",
-      "resolved": "https://registry.npmjs.org/browserify-css/-/browserify-css-0.12.0.tgz",
-      "integrity": "sha512-tF6cflGGE+Cu5dN+bp3MxcdWt04PESUWmZsA/KZGS5xDYuHFvEc+wsPqwmND9YpIQ9RAEMmErB8+Yaek0nfqfA==",
+      "version": "0.12.1",
+      "resolved": "https://registry.npmjs.org/browserify-css/-/browserify-css-0.12.1.tgz",
+      "integrity": "sha512-GIZnayhfpL3hDLCUlxic94hpflYnm/pP2RUCMNtca+Yj5RAhWAUe+E7RPC+lSVCwk3RMsZOrC/kAdbQdg3PhSA==",
       "dev": true,
       "requires": {
         "clean-css": "4.1.9",
@@ -1658,9 +1766,9 @@
       }
     },
     "cross-env": {
-      "version": "5.1.0",
-      "resolved": "https://registry.npmjs.org/cross-env/-/cross-env-5.1.0.tgz",
-      "integrity": "sha512-R+0paw9UZQc7odHjIxElqyYotgyMlhcUMTfRxiv4I22grgvS5WOSSfCpyfAZUDhP/c9ShSRv+Hzfxs6fY4JA7g==",
+      "version": "5.1.1",
+      "resolved": "https://registry.npmjs.org/cross-env/-/cross-env-5.1.1.tgz",
+      "integrity": "sha512-Wtvr+z0Z06KO1JxjfRRsPC+df7biIOiuV4iZ73cThjFGkH+ULBZq1MkBdywEcJC4cTDbO6c8IjgRjfswx3YTBA==",
       "dev": true,
       "requires": {
         "cross-spawn": "5.1.0",
@@ -1986,12 +2094,12 @@
       "dev": true
     },
     "eslint": {
-      "version": "4.9.0",
-      "resolved": "https://registry.npmjs.org/eslint/-/eslint-4.9.0.tgz",
-      "integrity": "sha1-doedJ0BoJhsZH+Dy9Wx0wvQgjos=",
+      "version": "4.10.0",
+      "resolved": "https://registry.npmjs.org/eslint/-/eslint-4.10.0.tgz",
+      "integrity": "sha512-MMVl8P/dYUFZEvolL8PYt7qc5LNdS2lwheq9BYa5Y07FblhcZqFyaUqlS8TW5QITGex21tV4Lk0a3fK8lsJIkA==",
       "dev": true,
       "requires": {
-        "ajv": "5.2.4",
+        "ajv": "5.3.0",
         "babel-code-frame": "6.22.0",
         "chalk": "2.3.0",
         "concat-stream": "1.6.0",
@@ -2007,7 +2115,7 @@
         "functional-red-black-tree": "1.0.1",
         "glob": "7.1.2",
         "globals": "9.18.0",
-        "ignore": "3.3.6",
+        "ignore": "3.3.7",
         "imurmurhash": "0.1.4",
         "inquirer": "3.3.0",
         "is-resolvable": "1.0.0",
@@ -2233,14 +2341,14 @@
       "integrity": "sha1-DJiLirRttTEAoZVK5LqZXd0n2H4=",
       "dev": true,
       "requires": {
-        "acorn": "5.1.2",
+        "acorn": "5.2.1",
         "acorn-jsx": "3.0.1"
       },
       "dependencies": {
         "acorn": {
-          "version": "5.1.2",
-          "resolved": "https://registry.npmjs.org/acorn/-/acorn-5.1.2.tgz",
-          "integrity": "sha512-o96FZLJBPY1lvTuJylGA9Bk3t/GKPPJG8H0ydQQl01crzwJgspa4AEIq/pVTXigmK0PHVQhiAtn8WMBLL9D2WA==",
+          "version": "5.2.1",
+          "resolved": "https://registry.npmjs.org/acorn/-/acorn-5.2.1.tgz",
+          "integrity": "sha512-jG0u7c4Ly+3QkkW18V+NRDN+4bWHdln30NL1ZL2AvFZZmQe/BfopYCtghCKKVBUSetZ4QKcyA0pY6/4Gw8Pv8w==",
           "dev": true
         }
       }
@@ -2338,7 +2446,7 @@
       "dev": true,
       "requires": {
         "iconv-lite": "0.4.19",
-        "jschardet": "1.5.1",
+        "jschardet": "1.6.0",
         "tmp": "0.0.33"
       }
     },
@@ -2383,6 +2491,12 @@
       "integrity": "sha1-liVqO8l1WV6zbYLpkp0GDYk0Of8=",
       "dev": true
     },
+    "fast-json-stable-stringify": {
+      "version": "2.0.0",
+      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.0.0.tgz",
+      "integrity": "sha1-1RQsDK7msRifh9OnYREGT4bIu/I=",
+      "dev": true
+    },
     "fast-levenshtein": {
       "version": "2.0.6",
       "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
@@ -3793,44 +3907,62 @@
       "integrity": "sha1-7AbBDgo0wPL68Zn3/X/Hj//QPHM=",
       "dev": true
     },
-    "hy-component": {
-      "version": "1.0.0-hydejack.6",
-      "resolved": "https://registry.npmjs.org/hy-component/-/hy-component-1.0.0-hydejack.6.tgz",
-      "integrity": "sha512-NOK5+rSYT87RVyp6ic1LWWbPg3P0GND/Z0pIqkSbrK9ou/DL8k8QtLyQQZ1/+diO5epVTO+3F6rH58rXwvPquA==",
+    "hy-drawer": {
+      "version": "1.0.0-hydejack.8",
+      "resolved": "https://registry.npmjs.org/hy-drawer/-/hy-drawer-1.0.0-hydejack.8.tgz",
+      "integrity": "sha512-kQ4tq1jA3A64hJ4ellFGxNOt6GwdApKFXVDuZAdiur88jEg+owVXBWef2hkhe3ts5d6tjm8OiA6uNT6CdmQ0xA==",
       "requires": {
-        "camelcase": "4.1.0",
         "core-js": "2.5.1",
-        "decamelize": "1.2.0",
-        "jquery": "3.2.1"
+        "hy-component": "1.0.0-hydejack.7",
+        "jquery": "3.2.1",
+        "rxjs": "5.5.2"
       },
       "dependencies": {
         "camelcase": {
           "version": "4.1.0",
           "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-4.1.0.tgz",
           "integrity": "sha1-1UVjW+HjPFQmScaRc+Xeas+uNN0="
+        },
+        "hy-component": {
+          "version": "1.0.0-hydejack.7",
+          "resolved": "https://registry.npmjs.org/hy-component/-/hy-component-1.0.0-hydejack.7.tgz",
+          "integrity": "sha512-ryXe2jM7FBeabv36yd2yrNgmbv23KaszBm0MmQKMRcWzPT7ZQ0XUGIFCkDoApf2jPD/y1jvUrsFpcHx3uxmvSg==",
+          "requires": {
+            "camelcase": "4.1.0",
+            "core-js": "2.5.1",
+            "decamelize": "1.2.0",
+            "jquery": "3.2.1"
+          }
         }
       }
     },
-    "hy-drawer": {
-      "version": "1.0.0-hydejack.6",
-      "resolved": "https://registry.npmjs.org/hy-drawer/-/hy-drawer-1.0.0-hydejack.6.tgz",
-      "integrity": "sha512-B7sHPFRXrB0Rg01hm2gHsCYoywbKONMVqfKxvVBsuE/8neQE/JePsULPcTZecV5YuQqN+f0WcYdRaIXVPNXsJg==",
-      "requires": {
-        "core-js": "2.5.1",
-        "hy-component": "1.0.0-hydejack.6",
-        "jquery": "3.2.1",
-        "rxjs": "5.5.0"
-      }
-    },
     "hy-push-state": {
-      "version": "1.0.0-hydejack.6",
-      "resolved": "https://registry.npmjs.org/hy-push-state/-/hy-push-state-1.0.0-hydejack.6.tgz",
-      "integrity": "sha512-p9IsjD83AuItopgcgaRwuPmL2BL9RHqbvjbWxPGkIQTfkjrqgYC32Yy3xw7lO//iX+v6tAQR8xunyQiz5i2WkQ==",
+      "version": "1.0.0-hydejack.9",
+      "resolved": "https://registry.npmjs.org/hy-push-state/-/hy-push-state-1.0.0-hydejack.9.tgz",
+      "integrity": "sha512-h/Z+uZa/HIWMRahEwujcGj0YhggBLfgaRpehjJm2TPaDAZcWq2jOCV1CybmxOAi/6m1kI/SER2lnbAicLwlBvg==",
       "requires": {
         "core-js": "2.5.1",
-        "hy-component": "1.0.0-hydejack.6",
+        "hy-component": "1.0.0-hydejack.7",
         "jquery": "3.2.1",
-        "rxjs": "5.5.0"
+        "rxjs": "5.5.2"
+      },
+      "dependencies": {
+        "camelcase": {
+          "version": "4.1.0",
+          "resolved": "https://registry.npmjs.org/camelcase/-/camelcase-4.1.0.tgz",
+          "integrity": "sha1-1UVjW+HjPFQmScaRc+Xeas+uNN0="
+        },
+        "hy-component": {
+          "version": "1.0.0-hydejack.7",
+          "resolved": "https://registry.npmjs.org/hy-component/-/hy-component-1.0.0-hydejack.7.tgz",
+          "integrity": "sha512-ryXe2jM7FBeabv36yd2yrNgmbv23KaszBm0MmQKMRcWzPT7ZQ0XUGIFCkDoApf2jPD/y1jvUrsFpcHx3uxmvSg==",
+          "requires": {
+            "camelcase": "4.1.0",
+            "core-js": "2.5.1",
+            "decamelize": "1.2.0",
+            "jquery": "3.2.1"
+          }
+        }
       }
     },
     "iconv-lite": {
@@ -3846,9 +3978,9 @@
       "dev": true
     },
     "ignore": {
-      "version": "3.3.6",
-      "resolved": "https://registry.npmjs.org/ignore/-/ignore-3.3.6.tgz",
-      "integrity": "sha512-HrxmNxKTGZ9a3uAl/FNG66Sdt0G9L4TtMbbUQjP1WhGmSj0FOyHvSgx7623aGJvXfPOur8MwmarlHT+37jmzlw==",
+      "version": "3.3.7",
+      "resolved": "https://registry.npmjs.org/ignore/-/ignore-3.3.7.tgz",
+      "integrity": "sha512-YGG3ejvBNHRqu0559EOxxNFihD0AjpvHlC/pdGKd3X3ofe+CoJkYazwNJYTNebqpPKN+VVQbh4ZFn1DivMNuHA==",
       "dev": true
     },
     "imurmurhash": {
@@ -4238,9 +4370,9 @@
       }
     },
     "jschardet": {
-      "version": "1.5.1",
-      "resolved": "https://registry.npmjs.org/jschardet/-/jschardet-1.5.1.tgz",
-      "integrity": "sha512-vE2hT1D0HLZCLLclfBSfkfTTedhVj0fubHpJBHKwwUWX0nSbhPAfk+SG9rTX95BYNmau8rGFfCeaT6T5OW1C2A==",
+      "version": "1.6.0",
+      "resolved": "https://registry.npmjs.org/jschardet/-/jschardet-1.6.0.tgz",
+      "integrity": "sha512-xYuhvQ7I9PDJIGBWev9xm0+SMSed3ZDBAmvVjbFR1ZRLAF+vlXcQu6cRI9uAlj81rzikElRVteehwV7DuX2ZmQ==",
       "dev": true
     },
     "jsesc": {
@@ -5373,9 +5505,9 @@
       }
     },
     "rxjs": {
-      "version": "5.5.0",
-      "resolved": "https://registry.npmjs.org/rxjs/-/rxjs-5.5.0.tgz",
-      "integrity": "sha512-vmvP5y/oJIJmXKHY36PIjVeI/46Sny6BMBa7/ou2zsNz1PiqU/Gtcz1GujnHz5Qlxncv+J9VlWmttnshqFj3Kg==",
+      "version": "5.5.2",
+      "resolved": "https://registry.npmjs.org/rxjs/-/rxjs-5.5.2.tgz",
+      "integrity": "sha512-oRYoIKWBU3Ic37fLA5VJu31VqQO4bWubRntcHSJ+cwaDQBwdnZ9x4zmhJfm/nFQ2E82/I4loSioHnACamrKGgA==",
       "requires": {
         "symbol-observable": "1.0.4"
       }
@@ -5517,9 +5649,9 @@
       }
     },
     "source-map-support": {
-      "version": "0.4.15",
-      "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.4.15.tgz",
-      "integrity": "sha1-AyAt9lwG0r2MfsI2KhkwVv7407E=",
+      "version": "0.4.18",
+      "resolved": "https://registry.npmjs.org/source-map-support/-/source-map-support-0.4.18.tgz",
+      "integrity": "sha512-try0/JqxPLF9nOjvSta7tVondkP5dwgyLDjVoyMDlmjugT2lRZ1OfsrYTkCd2hkDnJTKRbO/Rl3orm8vlsUzbA==",
       "dev": true,
       "requires": {
         "source-map": "0.5.6"
@@ -5721,8 +5853,8 @@
       "integrity": "sha512-UUkEAPdSGxtRpiV9ozJ5cMTtYiqz7Ni1OGqLXRCynrvzdtR1p+cfOWe2RJLwvUG8hNanaSRjecIqwOjqeatDsA==",
       "dev": true,
       "requires": {
-        "ajv": "5.2.4",
-        "ajv-keywords": "2.1.0",
+        "ajv": "5.3.0",
+        "ajv-keywords": "2.1.1",
         "chalk": "2.3.0",
         "lodash": "4.17.4",
         "slice-ansi": "1.0.0",
@@ -5868,9 +6000,9 @@
       "dev": true
     },
     "uglify-js": {
-      "version": "3.1.5",
-      "resolved": "https://registry.npmjs.org/uglify-js/-/uglify-js-3.1.5.tgz",
-      "integrity": "sha512-tSqlO7/GZHAVSw6mbtJt2kz0ZcUrKUH7Xg92o52aE+gL0r6cXiASZY4dpHqQ7RVGXmoQuPA2qAkG4TkP59f8XA==",
+      "version": "3.1.6",
+      "resolved": "https://registry.npmjs.org/uglify-js/-/uglify-js-3.1.6.tgz",
+      "integrity": "sha512-/rseyxEKEVMBo8279lqpoJgD6C/i/CIi+9TJDvWmb+Xo6mqMKwjA8Io3IMHlcXQzj99feR6zrN8m3wqqvm/nYA==",
       "dev": true,
       "requires": {
         "commander": "2.11.0",
diff --git a/package.json b/package.json
index c3e5e091..632f634e 100644
--- a/package.json
+++ b/package.json
@@ -1,22 +1,22 @@
 {
   "name": "hydejack",
-  "version": "7.0.0",
+  "version": "7.3.0",
   "description": "Hydejack is a pretentious two-column [Jekyll](http://jekyllrb.com) theme, stolen by [`@qwtel`](https://twitter.com/qwtel) from [Hyde](http://hyde.getpoole.com). You could say it was.. [hydejacked](http://media3.giphy.com/media/makedRIckZBW8/giphy.gif).",
   "scripts": {
-    "clean": "rm -f assets/js/hydejack.js & rm -f _sass/**/__*/* & wait",
+    "clean": "rm -f assets/js/hydejack-$npm_package_version.js & rm -f _sass/**/__*/* & wait",
     "test": "echo \"Warning: no test specified\" && exit 0",
     "build": "npm run build:js & npm run build:css & wait",
-    "build:js": "mkdir -p assets/js && cat _includes/header.txt > assets/js/hydejack.js; cross-env NODE_ENV=production browserify _js/src/index.js -g browserify-css -g stringify -g babelify | uglifyjs -c -m >> assets/js/hydejack.js",
+    "build:js": "mkdir -p assets/js && cat _includes/header.txt > assets/js/hydejack-$npm_package_version.js; cross-env NODE_ENV=production browserify _js/src/index.js -g browserify-css -g [ stringify --extensions [.html .svg] ] -g babelify | uglifyjs -c -m >> assets/js/hydejack-$npm_package_version.js",
     "build:css": ".scripts/build-css.sh",
     "watch": "npm run watch:js & npm run watch:css",
-    "watch:js": "mkdir -p assets/js && watchify -d _js/src/index.js -g browserify-css -g stringify -g babelify -o assets/js/hydejack.js",
+    "watch:js": "mkdir -p assets/js && watchify -d _js/src/index.js -g browserify-css -g [ stringify --extensions [.html .svg] ] -g babelify -o assets/js/hydejack-$npm_package_version.js",
     "watch:css": "npm run build:css && onchange '_sass/**/*.scss' -e '_sass/**/__*/*' -- npm run build:css '{{changed}}'",
     "serve": "bundle exec jekyll serve --port=$npm_package_config_port --host=0.0.0.0",
     "lint": "eslint _js/src",
     "dev": "npm run watch & npm run serve",
     "prepare": "npm run lint && npm run test && npm run clean && npm run build",
     "resume": "json2yaml _data/resume.json > _data/resume.yml",
-    "version": ".scripts/version.sh"
+    "version": ".scripts/version.sh && npm run build && git add ."
   },
   "config": {
     "port": 4000
@@ -25,16 +25,17 @@
   "license": "MIT",
   "private": true,
   "devDependencies": {
+    "babel-core": "^6.26.0",
     "babel-eslint": "^8.0.1",
     "babel-plugin-transform-function-bind": "^6.22.0",
     "babel-preset-es2015": "^6.24.1",
     "babel-preset-es2016": "^6.24.1",
-    "babelify": "^7.3.0",
+    "babelify": "^8.0.0",
     "browserify": "^14.5.0",
-    "browserify-css": "^0.12.0",
-    "cross-env": "^5.1.0",
+    "browserify-css": "^0.12.1",
+    "cross-env": "^5.1.1",
     "envify": "^4.1.0",
-    "eslint": "^4.9.0",
+    "eslint": "^4.10.0",
     "eslint-config-airbnb": "^16.1.0",
     "eslint-plugin-import": "^2.8.0",
     "eslint-plugin-jsx-a11y": "^6.0.2",
@@ -43,16 +44,16 @@
     "onchange": "^3.2.1",
     "re-template-tag": "^2.0.1",
     "stringify": "^5.1.0",
-    "uglify-js": "^3.1.5",
+    "uglify-js": "^3.1.6",
     "watchify": "^3.9.0"
   },
   "dependencies": {
     "color": "^2.0.0",
     "core-js": "^2.5.1",
     "elem-dataset": "^1.1.1",
-    "hy-drawer": "^1.0.0-hydejack.6",
-    "hy-push-state": "^1.0.0-hydejack.6",
-    "rxjs": "^5.5.0",
+    "hy-drawer": "^1.0.0-hydejack.8",
+    "hy-push-state": "^1.0.0-hydejack.9",
+    "rxjs": "^5.5.2",
     "web-animations-js": "^2.3.1"
   },
   "repository": {
diff --git a/posts.md b/posts.md
index 04ac5f6d..edd36c45 100644
--- a/posts.md
+++ b/posts.md
@@ -2,5 +2,7 @@
 layout: list
 title: Posts
 description: >
+  This is the `list` layout for showing blog posts, which shows just the title and groups them by year of publication.
+  Check out the `blog` layout for comparison.
   Open `posts.md` to edit this text.
 ---
diff --git a/projects.md b/projects.md
index 03233c68..cee5a417 100644
--- a/projects.md
+++ b/projects.md
@@ -4,8 +4,7 @@ title: Projects
 show_collection: projects
 description: >
   This is a demo of the `projects` layout, which is included in the PRO version of Hydejack.
-  It is intended to build your portfolio,
-  but here it is used to showcase different customizations of Hydejack.
+  Here it is used to showcase different customizations of Hydejack.
   Open `projects.md` to edit this text.
 menu: true
 order: 2
diff --git a/resume.md b/resume.md
index b88587e9..4579f43b 100644
--- a/resume.md
+++ b/resume.md
@@ -2,10 +2,10 @@
 layout: resume
 title: Résumé*
 description: >
-  This is the description of your resume page as it will be shown on search engines.
+  This is the `description` of your resume page, as it will be seen by search engines.
+  You can hide this box by setting `hide_description` to `true` in the front matter.
   Open `resume.md` to edit this text.
-  You can hide it (only visible to search engines) by setting `no_description` to `true`.
-no_description: false
+hide_description: false
 menu: true
 order: 3
 rel: me
